var K6=Object.defineProperty;var OO=n=>{throw TypeError(n)};var Q6=(n,e,t)=>e in n?K6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var X=(n,e,t)=>Q6(n,typeof e!="symbol"?e+"":e,t),Xx=(n,e,t)=>e.has(n)||OO("Cannot "+t);var z=(n,e,t)=>(Xx(n,e,"read from private field"),t?t.call(n):e.get(n)),Ee=(n,e,t)=>e.has(n)?OO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),be=(n,e,t,r)=>(Xx(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Ue=(n,e,t)=>(Xx(n,e,"access private method"),t);var cg=(n,e,t,r)=>({set _(i){be(n,e,i,t)},get _(){return z(n,e,r)}});function G6(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function kp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jx={exports:{}},Hf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function X6(){if(_O)return Hf;_O=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Hf.Fragment=e,Hf.jsx=t,Hf.jsxs=t,Hf}var AO;function J6(){return AO||(AO=1,Jx.exports=X6()),Jx.exports}var C=J6(),Zx={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function Z6(){if(RO)return Ve;RO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function w(j,Z,se){this.props=j,this.context=Z,this.refs=v,this.updater=se||y}w.prototype.isReactComponent={},w.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=w.prototype;function k(j,Z,se){this.props=j,this.context=Z,this.refs=v,this.updater=se||y}var E=k.prototype=new M;E.constructor=k,b(E,w.prototype),E.isPureReactComponent=!0;var _=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(j,Z,se,le,he,De){return se=De.ref,{$$typeof:n,type:j,key:Z,ref:se!==void 0?se:null,props:De}}function A(j,Z){return N(j.type,Z,void 0,void 0,void 0,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return Z[se]})}var V=/\/+/g;function q(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):Z.toString(36)}function ae(){}function de(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ae,ae):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function oe(j,Z,se,le,he){var De=typeof j;(De==="undefined"||De==="boolean")&&(j=null);var fe=!1;if(j===null)fe=!0;else switch(De){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(j.$$typeof){case n:case e:fe=!0;break;case f:return fe=j._init,oe(fe(j._payload),Z,se,le,he)}}if(fe)return he=he(j),fe=le===""?"."+q(j,0):le,_(he)?(se="",fe!=null&&(se=fe.replace(V,"$&/")+"/"),oe(he,Z,se,"",function(Qe){return Qe})):he!=null&&(L(he)&&(he=A(he,se+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+fe)),Z.push(he)),1;fe=0;var ft=le===""?".":le+":";if(_(j))for(var Te=0;Te<j.length;Te++)le=j[Te],De=ft+q(le,Te),fe+=oe(le,Z,se,De,he);else if(Te=m(j),typeof Te=="function")for(j=Te.call(j),Te=0;!(le=j.next()).done;)le=le.value,De=ft+q(le,Te++),fe+=oe(le,Z,se,De,he);else if(De==="object"){if(typeof j.then=="function")return oe(de(j),Z,se,le,he);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return fe}function F(j,Z,se){if(j==null)return j;var le=[],he=0;return oe(j,le,"","",function(De){return Z.call(se,De,he++)}),le}function U(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var J=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ce(){}return Ve.Children={map:F,forEach:function(j,Z,se){F(j,function(){Z.apply(this,arguments)},se)},count:function(j){var Z=0;return F(j,function(){Z++}),Z},toArray:function(j){return F(j,function(Z){return Z})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ve.Component=w,Ve.Fragment=t,Ve.Profiler=i,Ve.PureComponent=k,Ve.StrictMode=r,Ve.Suspense=c,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(j){return T.H.useMemoCache(j)}},Ve.cache=function(j){return function(){return j.apply(null,arguments)}},Ve.cloneElement=function(j,Z,se){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var le=b({},j.props),he=j.key,De=void 0;if(Z!=null)for(fe in Z.ref!==void 0&&(De=void 0),Z.key!==void 0&&(he=""+Z.key),Z)!P.call(Z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Z.ref===void 0||(le[fe]=Z[fe]);var fe=arguments.length-2;if(fe===1)le.children=se;else if(1<fe){for(var ft=Array(fe),Te=0;Te<fe;Te++)ft[Te]=arguments[Te+2];le.children=ft}return N(j.type,he,void 0,void 0,De,le)},Ve.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},Ve.createElement=function(j,Z,se){var le,he={},De=null;if(Z!=null)for(le in Z.key!==void 0&&(De=""+Z.key),Z)P.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=Z[le]);var fe=arguments.length-2;if(fe===1)he.children=se;else if(1<fe){for(var ft=Array(fe),Te=0;Te<fe;Te++)ft[Te]=arguments[Te+2];he.children=ft}if(j&&j.defaultProps)for(le in fe=j.defaultProps,fe)he[le]===void 0&&(he[le]=fe[le]);return N(j,De,void 0,void 0,null,he)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(j){return{$$typeof:a,render:j}},Ve.isValidElement=L,Ve.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:U}},Ve.memo=function(j,Z){return{$$typeof:d,type:j,compare:Z===void 0?null:Z}},Ve.startTransition=function(j){var Z=T.T,se={};T.T=se;try{var le=j(),he=T.S;he!==null&&he(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ce,J)}catch(De){J(De)}finally{T.T=Z}},Ve.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ve.use=function(j){return T.H.use(j)},Ve.useActionState=function(j,Z,se){return T.H.useActionState(j,Z,se)},Ve.useCallback=function(j,Z){return T.H.useCallback(j,Z)},Ve.useContext=function(j){return T.H.useContext(j)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(j,Z){return T.H.useDeferredValue(j,Z)},Ve.useEffect=function(j,Z,se){var le=T.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(j,Z)},Ve.useId=function(){return T.H.useId()},Ve.useImperativeHandle=function(j,Z,se){return T.H.useImperativeHandle(j,Z,se)},Ve.useInsertionEffect=function(j,Z){return T.H.useInsertionEffect(j,Z)},Ve.useLayoutEffect=function(j,Z){return T.H.useLayoutEffect(j,Z)},Ve.useMemo=function(j,Z){return T.H.useMemo(j,Z)},Ve.useOptimistic=function(j,Z){return T.H.useOptimistic(j,Z)},Ve.useReducer=function(j,Z,se){return T.H.useReducer(j,Z,se)},Ve.useRef=function(j){return T.H.useRef(j)},Ve.useState=function(j){return T.H.useState(j)},Ve.useSyncExternalStore=function(j,Z,se){return T.H.useSyncExternalStore(j,Z,se)},Ve.useTransition=function(){return T.H.useTransition()},Ve.version="19.1.0",Ve}var NO;function B0(){return NO||(NO=1,Zx.exports=Z6()),Zx.exports}var D=B0();const $=kp(D),rL=G6({__proto__:null,default:$},[D]);var e1={exports:{}},Uf={},t1={exports:{}},n1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
 */var NO;function Q6(){return NO||(NO=1,function(n){function e(F,U){var J=F.length;F.push(U);e:for(;0<J;){var ce=J-1>>>1,j=F[ce];if(0<i(j,U))F[ce]=U,F[J]=j,J=ce;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],J=F.pop();if(J!==U){F[0]=J;e:for(var ce=0,j=F.length,Z=j>>>1;ce<Z;){var se=2*(ce+1)-1,le=F[se],he=se+1,De=F[he];if(0>i(le,J))he<j&&0>i(De,le)?(F[ce]=De,F[he]=J,ce=he):(F[ce]=le,F[se]=J,ce=se);else if(he<j&&0>i(De,J))F[ce]=De,F[he]=J,ce=he;else break e}}return U}function i(F,U){var J=F.sortIndex-U.sortIndex;return J!==0?J:F.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,p=null,m=3,y=!1,b=!1,v=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(F){for(var U=t(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=F)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=t(d)}}function T(F){if(v=!1,A(F),!b)if(t(c)!==null)b=!0,P||(P=!0,q());else{var U=t(d);U!==null&&oe(T,U.startTime-F)}}var P=!1,N=-1,_=5,L=-1;function I(){return w?!0:!(n.unstable_now()-L<_)}function V(){if(w=!1,P){var F=n.unstable_now();L=F;var U=!0;try{e:{b=!1,v&&(v=!1,k(N),N=-1),y=!0;var J=m;try{t:{for(A(F),p=t(c);p!==null&&!(p.expirationTime>F&&I());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,m=p.priorityLevel;var j=ce(p.expirationTime<=F);if(F=n.unstable_now(),typeof j=="function"){p.callback=j,A(F),U=!0;break t}p===t(c)&&r(c),A(F)}else r(c);p=t(c)}if(p!==null)U=!0;else{var Z=t(d);Z!==null&&oe(T,Z.startTime-F),U=!1}}break e}finally{p=null,m=J,y=!1}U=void 0}}finally{U?q():P=!1}}}var q;if(typeof E=="function")q=function(){E(V)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,de=ae.port2;ae.port1.onmessage=V,q=function(){de.postMessage(null)}}else q=function(){M(V,0)};function oe(F,U){N=M(function(){F(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(F){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var J=m;m=U;try{return F()}finally{m=J}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=m;m=F;try{return U()}finally{m=J}},n.unstable_scheduleCallback=function(F,U,J){var ce=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=J+j,F={id:f++,callback:U,priorityLevel:F,startTime:J,expirationTime:j,sortIndex:-1},J>ce?(F.sortIndex=J,e(d,F),t(c)===null&&F===t(d)&&(v?(k(N),N=-1):v=!0,oe(T,J-ce))):(F.sortIndex=j,e(c,F),b||y||(b=!0,P||(P=!0,q()))),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var U=m;return function(){var J=m;m=U;try{return F.apply(this,arguments)}finally{m=J}}}}(n1)),n1}var PO;function G6(){return PO||(PO=1,t1.exports=Q6()),t1.exports}var r1={exports:{}},sr={};/**
========
 */var PO;function eV(){return PO||(PO=1,function(n){function e(F,U){var J=F.length;F.push(U);e:for(;0<J;){var ce=J-1>>>1,j=F[ce];if(0<i(j,U))F[ce]=U,F[J]=j,J=ce;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],J=F.pop();if(J!==U){F[0]=J;e:for(var ce=0,j=F.length,Z=j>>>1;ce<Z;){var se=2*(ce+1)-1,le=F[se],he=se+1,De=F[he];if(0>i(le,J))he<j&&0>i(De,le)?(F[ce]=De,F[he]=J,ce=he):(F[ce]=le,F[se]=J,ce=se);else if(he<j&&0>i(De,J))F[ce]=De,F[he]=J,ce=he;else break e}}return U}function i(F,U){var J=F.sortIndex-U.sortIndex;return J!==0?J:F.id-U.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,p=null,m=3,y=!1,b=!1,v=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function _(F){for(var U=t(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=F)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=t(d)}}function T(F){if(v=!1,_(F),!b)if(t(c)!==null)b=!0,P||(P=!0,q());else{var U=t(d);U!==null&&oe(T,U.startTime-F)}}var P=!1,N=-1,A=5,L=-1;function I(){return w?!0:!(n.unstable_now()-L<A)}function V(){if(w=!1,P){var F=n.unstable_now();L=F;var U=!0;try{e:{b=!1,v&&(v=!1,k(N),N=-1),y=!0;var J=m;try{t:{for(_(F),p=t(c);p!==null&&!(p.expirationTime>F&&I());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,m=p.priorityLevel;var j=ce(p.expirationTime<=F);if(F=n.unstable_now(),typeof j=="function"){p.callback=j,_(F),U=!0;break t}p===t(c)&&r(c),_(F)}else r(c);p=t(c)}if(p!==null)U=!0;else{var Z=t(d);Z!==null&&oe(T,Z.startTime-F),U=!1}}break e}finally{p=null,m=J,y=!1}U=void 0}}finally{U?q():P=!1}}}var q;if(typeof E=="function")q=function(){E(V)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,de=ae.port2;ae.port1.onmessage=V,q=function(){de.postMessage(null)}}else q=function(){M(V,0)};function oe(F,U){N=M(function(){F(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(F){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var J=m;m=U;try{return F()}finally{m=J}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=m;m=F;try{return U()}finally{m=J}},n.unstable_scheduleCallback=function(F,U,J){var ce=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ce+J:ce):J=ce,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=J+j,F={id:f++,callback:U,priorityLevel:F,startTime:J,expirationTime:j,sortIndex:-1},J>ce?(F.sortIndex=J,e(d,F),t(c)===null&&F===t(d)&&(v?(k(N),N=-1):v=!0,oe(T,J-ce))):(F.sortIndex=j,e(c,F),b||y||(b=!0,P||(P=!0,q()))),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var U=m;return function(){var J=m;m=U;try{return F.apply(this,arguments)}finally{m=J}}}}(n1)),n1}var LO;function tV(){return LO||(LO=1,t1.exports=eV()),t1.exports}var r1={exports:{}},rr={};/**
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
 */var LO;function X6(){if(LO)return sr;LO=1;var n=B0();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,f)},sr.flushSync=function(c){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=f,r.d.f()}},sr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},sr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},sr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=a(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},sr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=a(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},sr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=a(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},sr.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=a(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},sr.requestFormReset=function(c){r.d.r(c)},sr.unstable_batchedUpdates=function(c,d){return c(d)},sr.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},sr.useFormStatus=function(){return o.H.useHostTransitionStatus()},sr.version="19.1.0",sr}var IO;function nL(){if(IO)return r1.exports;IO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r1.exports=X6(),r1.exports}/**
========
 */var IO;function nV(){if(IO)return rr;IO=1;var n=B0();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:d,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rr.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(c,d,null,f)},rr.flushSync=function(c){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=f,r.d.f()}},rr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},rr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},rr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,p=a(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},rr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=a(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},rr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=a(f,d.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},rr.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=a(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},rr.requestFormReset=function(c){r.d.r(c)},rr.unstable_batchedUpdates=function(c,d){return c(d)},rr.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},rr.useFormStatus=function(){return o.H.useHostTransitionStatus()},rr.version="19.1.0",rr}var jO;function iL(){if(jO)return r1.exports;jO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r1.exports=nV(),r1.exports}/**
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
 */var jO;function J6(){if(jO)return $f;jO=1;var n=G6(),e=B0(),t=nL();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(s(l)!==l)throw Error(r(188))}function c(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,g=u;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return a(x),l;if(S===g)return a(x),u;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=S;else{for(var O=!1,R=x.child;R;){if(R===h){O=!0,h=x,g=S;break}if(R===g){O=!0,g=x,h=S;break}R=R.sibling}if(!O){for(R=S.child;R;){if(R===h){O=!0,h=S,g=x;break}if(R===g){O=!0,g=S,h=x;break}R=R.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var ae=Symbol.for("react.client.reference");function de(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ae?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case E:return(l.displayName||"Context")+".Provider";case k:return(l._context.displayName||"Context")+".Consumer";case A:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return u=l.displayName||null,u!==null?u:de(l.type)||"Memo";case _:u=l._payload,l=l._init;try{return de(l(u))}catch{}}return null}var oe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ce=[],j=-1;function Z(l){return{current:l}}function se(l){0>j||(l.current=ce[j],ce[j]=null,j--)}function le(l,u){j++,ce[j]=l.current,l.current=u}var he=Z(null),De=Z(null),fe=Z(null),ft=Z(null);function Te(l,u){switch(le(fe,u),le(De,l),le(he,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?nO(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=nO(u),l=rO(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}se(he),le(he,l)}function Ge(){se(he),se(De),se(fe)}function Ae(l){l.memoizedState!==null&&le(ft,l);var u=he.current,h=rO(u,l.type);u!==h&&(le(De,l),le(he,h))}function Kt(l){De.current===l&&(se(he),se(De)),ft.current===l&&(se(ft),Bf._currentValue=J)}var we=Object.prototype.hasOwnProperty,ne=n.unstable_scheduleCallback,pe=n.unstable_cancelCallback,me=n.unstable_shouldYield,Pe=n.unstable_requestPaint,Se=n.unstable_now,Ye=n.unstable_getCurrentPriorityLevel,rt=n.unstable_ImmediatePriority,Ze=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,Bt=n.unstable_LowPriority,st=n.unstable_IdlePriority,Ot=n.log,Qt=n.unstable_setDisableYieldValue,Rt=null,lt=null;function Le(l){if(typeof Ot=="function"&&Qt(l),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Rt,l)}catch{}}var Be=Math.clz32?Math.clz32:Gr,tn=Math.log,Nt=Math.LN2;function Gr(l){return l>>>=0,l===0?32:31-(tn(l)/Nt|0)|0}var Xr=256,ji=4194304;function Nr(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function vr(l,u,h){var g=l.pendingLanes;if(g===0)return 0;var x=0,S=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var R=g&134217727;return R!==0?(g=R&~S,g!==0?x=Nr(g):(O&=R,O!==0?x=Nr(O):h||(h=R&~l,h!==0&&(x=Nr(h))))):(R=g&~S,R!==0?x=Nr(R):O!==0?x=Nr(O):h||(h=g&~l,h!==0&&(x=Nr(h)))),x===0?0:u!==0&&u!==x&&(u&S)===0&&(S=x&-x,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:x}function er(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Uo(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var l=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),l}function Pr(){var l=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),l}function Hc(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Pt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function xr(l,u,h,g,x,S){var O=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var R=l.entanglements,B=l.expirationTimes,K=l.hiddenUpdates;for(h=O&~h;0<h;){var te=31-Be(h),ie=1<<te;R[te]=0,B[te]=-1;var Q=K[te];if(Q!==null)for(K[te]=null,te=0;te<Q.length;te++){var G=Q[te];G!==null&&(G.lane&=-536870913)}h&=~ie}g!==0&&tr(l,g,0),S!==0&&x===0&&l.tag!==0&&(l.suspendedLanes|=S&~(O&~u))}function tr(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var g=31-Be(u);l.entangledLanes|=u,l.entanglements[g]=l.entanglements[g]|1073741824|h&4194090}function Bi(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var g=31-Be(h),x=1<<g;x&u|l[g]&u&&(l[g]|=u),h&=~x}}function nr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Yn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Jr(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:SO(l.type))}function Yo(l,u){var h=U.p;try{return U.p=l,u()}finally{U.p=h}}var Lt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Lt,zt="__reactProps$"+Lt,rr="__reactContainer$"+Lt,Ys="__reactEvents$"+Lt,ml="__reactListeners$"+Lt,ss="__reactHandles$"+Lt,Wo="__reactResources$"+Lt,Ws="__reactMarker$"+Lt;function $b(l){delete l[Ft],delete l[zt],delete l[Ys],delete l[ml],delete l[ss]}function Uc(l){var u=l[Ft];if(u)return u;for(var h=l.parentNode;h;){if(u=h[rr]||h[Ft]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=aO(l);l!==null;){if(h=l[Ft])return h;l=aO(l)}return u}l=h,h=l.parentNode}return null}function $c(l){if(l=l[Ft]||l[rr]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Qd(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function Yc(l){var u=l[Wo];return u||(u=l[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function On(l){l[Ws]=!0}var YC=new Set,WC={};function gl(l,u){Wc(l,u),Wc(l+"Capture",u)}function Wc(l,u){for(WC[l]=u,l=0;l<u.length;l++)YC.add(u[l])}var L5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qC={},KC={};function I5(l){return we.call(KC,l)?!0:we.call(qC,l)?!1:L5.test(l)?KC[l]=!0:(qC[l]=!0,!1)}function em(l,u,h){if(I5(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function tm(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function qs(l,u,h,g){if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+g)}}var Yb,QC;function qc(l){if(Yb===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Yb=u&&u[1]||"",QC=-1<h.stack.indexOf(`
========
 */var BO;function rV(){if(BO)return Uf;BO=1;var n=tV(),e=B0(),t=iL();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function a(l){if(s(l)!==l)throw Error(r(188))}function c(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,g=u;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return a(x),l;if(S===g)return a(x),u;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=x,g=S;else{for(var O=!1,R=x.child;R;){if(R===h){O=!0,h=x,g=S;break}if(R===g){O=!0,g=x,h=S;break}R=R.sibling}if(!O){for(R=S.child;R;){if(R===h){O=!0,h=S,g=x;break}if(R===g){O=!0,g=S,h=x;break}R=R.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var ae=Symbol.for("react.client.reference");function de(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ae?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case E:return(l.displayName||"Context")+".Provider";case k:return(l._context.displayName||"Context")+".Consumer";case _:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return u=l.displayName||null,u!==null?u:de(l.type)||"Memo";case A:u=l._payload,l=l._init;try{return de(l(u))}catch{}}return null}var oe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ce=[],j=-1;function Z(l){return{current:l}}function se(l){0>j||(l.current=ce[j],ce[j]=null,j--)}function le(l,u){j++,ce[j]=l.current,l.current=u}var he=Z(null),De=Z(null),fe=Z(null),ft=Z(null);function Te(l,u){switch(le(fe,u),le(De,l),le(he,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?rO(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=rO(u),l=iO(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}se(he),le(he,l)}function Qe(){se(he),se(De),se(fe)}function Ae(l){l.memoizedState!==null&&le(ft,l);var u=he.current,h=iO(u,l.type);u!==h&&(le(De,l),le(he,h))}function Kt(l){De.current===l&&(se(he),se(De)),ft.current===l&&(se(ft),jf._currentValue=J)}var we=Object.prototype.hasOwnProperty,ne=n.unstable_scheduleCallback,pe=n.unstable_cancelCallback,me=n.unstable_shouldYield,Pe=n.unstable_requestPaint,Se=n.unstable_now,Ye=n.unstable_getCurrentPriorityLevel,rt=n.unstable_ImmediatePriority,Ze=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,Bt=n.unstable_LowPriority,st=n.unstable_IdlePriority,Ot=n.log,Qt=n.unstable_setDisableYieldValue,Rt=null,lt=null;function Le(l){if(typeof Ot=="function"&&Qt(l),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Rt,l)}catch{}}var Be=Math.clz32?Math.clz32:Qr,tn=Math.log,Nt=Math.LN2;function Qr(l){return l>>>=0,l===0?32:31-(tn(l)/Nt|0)|0}var Gr=256,Ii=4194304;function Ar(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function yr(l,u,h){var g=l.pendingLanes;if(g===0)return 0;var x=0,S=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var R=g&134217727;return R!==0?(g=R&~S,g!==0?x=Ar(g):(O&=R,O!==0?x=Ar(O):h||(h=R&~l,h!==0&&(x=Ar(h))))):(R=g&~S,R!==0?x=Ar(R):O!==0?x=Ar(O):h||(h=g&~l,h!==0&&(x=Ar(h)))),x===0?0:u!==0&&u!==x&&(u&S)===0&&(S=x&-x,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:x}function Jn(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Ho(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var l=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),l}function Rr(){var l=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),l}function Vc(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Pt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function br(l,u,h,g,x,S){var O=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var R=l.entanglements,B=l.expirationTimes,K=l.hiddenUpdates;for(h=O&~h;0<h;){var te=31-Be(h),ie=1<<te;R[te]=0,B[te]=-1;var Q=K[te];if(Q!==null)for(K[te]=null,te=0;te<Q.length;te++){var G=Q[te];G!==null&&(G.lane&=-536870913)}h&=~ie}g!==0&&Zn(l,g,0),S!==0&&x===0&&l.tag!==0&&(l.suspendedLanes|=S&~(O&~u))}function Zn(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var g=31-Be(u);l.entangledLanes|=u,l.entanglements[g]=l.entanglements[g]|1073741824|h&4194090}function ji(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var g=31-Be(h),x=1<<g;x&u|l[g]&u&&(l[g]|=u),h&=~x}}function er(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Un(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Xr(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:MO(l.type))}function $o(l,u){var h=U.p;try{return U.p=l,u()}finally{U.p=h}}var Lt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Lt,zt="__reactProps$"+Lt,tr="__reactContainer$"+Lt,Ys="__reactEvents$"+Lt,ml="__reactListeners$"+Lt,is="__reactHandles$"+Lt,Yo="__reactResources$"+Lt,Ws="__reactMarker$"+Lt;function $b(l){delete l[Ft],delete l[zt],delete l[Ys],delete l[ml],delete l[is]}function Hc(l){var u=l[Ft];if(u)return u;for(var h=l.parentNode;h;){if(u=h[tr]||h[Ft]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=lO(l);l!==null;){if(h=l[Ft])return h;l=lO(l)}return u}l=h,h=l.parentNode}return null}function Uc(l){if(l=l[Ft]||l[tr]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function Kd(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function $c(l){var u=l[Yo];return u||(u=l[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Tn(l){l[Ws]=!0}var WC=new Set,qC={};function gl(l,u){Yc(l,u),Yc(l+"Capture",u)}function Yc(l,u){for(qC[l]=u,l=0;l<u.length;l++)WC.add(u[l])}var zz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),KC={},QC={};function Vz(l){return we.call(QC,l)?!0:we.call(KC,l)?!1:zz.test(l)?QC[l]=!0:(KC[l]=!0,!1)}function Zp(l,u,h){if(Vz(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function em(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function qs(l,u,h,g){if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+g)}}var Yb,GC;function Wc(l){if(Yb===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Yb=u&&u[1]||"",GC=-1<h.stack.indexOf(`
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yb+l+GC}var Wb=!1;function qb(l,u){if(!l||Wb)return"";Wb=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(G){var Q=G}Reflect.construct(l,[],ie)}else{try{ie.call()}catch(G){Q=G}l.call(ie.prototype)}}else{try{throw Error()}catch(G){Q=G}(ie=l())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(G){if(G&&Q&&typeof G.stack=="string")return[G.stack,Q.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),O=S[0],R=S[1];if(O&&R){var B=O.split(`
`),K=R.split(`
`);for(x=g=0;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;for(;x<K.length&&!K[x].includes("DetermineComponentFrameRoot");)x++;if(g===B.length||x===K.length)for(g=B.length-1,x=K.length-1;1<=g&&0<=x&&B[g]!==K[x];)x--;for(;1<=g&&0<=x;g--,x--)if(B[g]!==K[x]){if(g!==1||x!==1)do if(g--,x--,0>x||B[g]!==K[x]){var te=`
`+B[g].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=g&&0<=x);break}}}finally{Wb=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Wc(h):""}function Hz(l){switch(l.tag){case 26:case 27:case 5:return Wc(l.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 15:return qb(l.type,!1);case 11:return qb(l.type.render,!1);case 1:return qb(l.type,!0);case 31:return Wc("Activity");default:return""}}function XC(l){try{var u="";do u+=Hz(l),l=l.return;while(l);return u}catch(h){return`
Error generating stack: `+h.message+`
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
`+h.stack}}function fi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function XC(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function B5(l){var u=XC(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),g=""+l[u];if(!l.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return x.call(this)},set:function(O){g=""+O,S.call(this,O)}}),Object.defineProperty(l,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function nm(l){l._valueTracker||(l._valueTracker=B5(l))}function JC(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return l&&(g=XC(l)?l.checked?"true":"false":l.value),l=g,l!==h?(u.setValue(l),!0):!1}function rm(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var F5=/[\n"\\]/g;function hi(l){return l.replace(F5,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Kb(l,u,h,g,x,S,O,R){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),u!=null?O==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+fi(u)):l.value!==""+fi(u)&&(l.value=""+fi(u)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),u!=null?Qb(l,O,fi(u)):h!=null?Qb(l,O,fi(h)):g!=null&&l.removeAttribute("value"),x==null&&S!=null&&(l.defaultChecked=!!S),x!=null&&(l.checked=x&&typeof x!="function"&&typeof x!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?l.name=""+fi(R):l.removeAttribute("name")}function ZC(l,u,h,g,x,S,O,R){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null))return;h=h!=null?""+fi(h):"",u=u!=null?""+fi(u):h,R||u===l.value||(l.value=u),l.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=R?l.checked:!!g,l.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O)}function Qb(l,u,h){u==="number"&&rm(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Kc(l,u,h,g){if(l=l.options,u){u={};for(var x=0;x<h.length;x++)u["$"+h[x]]=!0;for(h=0;h<l.length;h++)x=u.hasOwnProperty("$"+l[h].value),l[h].selected!==x&&(l[h].selected=x),x&&g&&(l[h].defaultSelected=!0)}else{for(h=""+fi(h),u=null,x=0;x<l.length;x++){if(l[x].value===h){l[x].selected=!0,g&&(l[x].defaultSelected=!0);return}u!==null||l[x].disabled||(u=l[x])}u!==null&&(u.selected=!0)}}function ek(l,u,h){if(u!=null&&(u=""+fi(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+fi(h):""}function tk(l,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(oe(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=fi(u),l.defaultValue=h,g=l.textContent,g===h&&g!==""&&g!==null&&(l.value=g)}function Qc(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var z5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nk(l,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":g?l.setProperty(u,h):typeof h!="number"||h===0||z5.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function rk(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&h[x]!==g&&nk(l,x,g)}else for(var S in u)u.hasOwnProperty(S)&&nk(l,S,u[S])}function Gb(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function im(l){return H5.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Xb=null;function Jb(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Gc=null,Xc=null;function ik(l){var u=$c(l);if(u&&(l=u.stateNode)){var h=l[zt]||null;e:switch(l=u.stateNode,u.type){case"input":if(Kb(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hi(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==l&&g.form===l.form){var x=g[zt]||null;if(!x)throw Error(r(90));Kb(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===l.form&&JC(g)}break e;case"textarea":ek(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Kc(l,!!h.multiple,u,!1)}}}var Zb=!1;function sk(l,u,h){if(Zb)return l(u,h);Zb=!0;try{var g=l(u);return g}finally{if(Zb=!1,(Gc!==null||Xc!==null)&&(Um(),Gc&&(u=Gc,l=Xc,Xc=Gc=null,ik(u),l)))for(u=0;u<l.length;u++)ik(l[u])}}function Gd(l,u){var h=l.stateNode;if(h===null)return null;var g=h[zt]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ev=!1;if(Ks)try{var Xd={};Object.defineProperty(Xd,"passive",{get:function(){ev=!0}}),window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{ev=!1}var qo=null,tv=null,sm=null;function ok(){if(sm)return sm;var l,u=tv,h=u.length,g,x="value"in qo?qo.value:qo.textContent,S=x.length;for(l=0;l<h&&u[l]===x[l];l++);var O=h-l;for(g=1;g<=O&&u[h-g]===x[S-g];g++);return sm=x.slice(l,1<g?1-g:void 0)}function om(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function am(){return!0}function ak(){return!1}function Lr(l){function u(h,g,x,S,O){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var R in l)l.hasOwnProperty(R)&&(h=l[R],this[R]=h?h(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?am:ak,this.isPropagationStopped=ak,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),u}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=Lr(yl),Jd=f({},yl,{view:0,detail:0}),U5=Lr(Jd),nv,rv,Zd,cm=f({},Jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Zd&&(Zd&&l.type==="mousemove"?(nv=l.screenX-Zd.screenX,rv=l.screenY-Zd.screenY):rv=nv=0,Zd=l),nv)},movementY:function(l){return"movementY"in l?l.movementY:rv}}),lk=Lr(cm),$5=f({},cm,{dataTransfer:0}),Y5=Lr($5),W5=f({},Jd,{relatedTarget:0}),iv=Lr(W5),q5=f({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),K5=Lr(q5),Q5=f({},yl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),G5=Lr(Q5),X5=f({},yl,{data:0}),ck=Lr(X5),J5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t4(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=e4[l])?!!u[l]:!1}function sv(){return t4}var n4=f({},Jd,{key:function(l){if(l.key){var u=J5[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=om(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Z5[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(l){return l.type==="keypress"?om(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?om(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),r4=Lr(n4),i4=f({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uk=Lr(i4),s4=f({},Jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),o4=Lr(s4),a4=f({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),l4=Lr(a4),c4=f({},cm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),u4=Lr(c4),d4=f({},yl,{newState:0,oldState:0}),f4=Lr(d4),h4=[9,13,27,32],ov=Ks&&"CompositionEvent"in window,ef=null;Ks&&"documentMode"in document&&(ef=document.documentMode);var p4=Ks&&"TextEvent"in window&&!ef,dk=Ks&&(!ov||ef&&8<ef&&11>=ef),fk=" ",hk=!1;function pk(l,u){switch(l){case"keyup":return h4.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Jc=!1;function m4(l,u){switch(l){case"compositionend":return mk(u);case"keypress":return u.which!==32?null:(hk=!0,fk);case"textInput":return l=u.data,l===fk&&hk?null:l;default:return null}}function g4(l,u){if(Jc)return l==="compositionend"||!ov&&pk(l,u)?(l=ok(),sm=tv=qo=null,Jc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return dk&&u.locale!=="ko"?null:u.data;default:return null}}var y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gk(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!y4[l.type]:u==="textarea"}function yk(l,u,h,g){Gc?Xc?Xc.push(g):Xc=[g]:Gc=g,u=Qm(u,"onChange"),0<u.length&&(h=new lm("onChange","change",null,h,g),l.push({event:h,listeners:u}))}var tf=null,nf=null;function b4(l){XT(l,0)}function um(l){var u=Qd(l);if(JC(u))return l}function bk(l,u){if(l==="change")return u}var vk=!1;if(Ks){var av;if(Ks){var lv="oninput"in document;if(!lv){var xk=document.createElement("div");xk.setAttribute("oninput","return;"),lv=typeof xk.oninput=="function"}av=lv}else av=!1;vk=av&&(!document.documentMode||9<document.documentMode)}function wk(){tf&&(tf.detachEvent("onpropertychange",Sk),nf=tf=null)}function Sk(l){if(l.propertyName==="value"&&um(nf)){var u=[];yk(u,nf,l,Jb(l)),sk(b4,u)}}function v4(l,u,h){l==="focusin"?(wk(),tf=u,nf=h,tf.attachEvent("onpropertychange",Sk)):l==="focusout"&&wk()}function x4(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return um(nf)}function w4(l,u){if(l==="click")return um(u)}function S4(l,u){if(l==="input"||l==="change")return um(u)}function M4(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Zr=typeof Object.is=="function"?Object.is:M4;function rf(l,u){if(Zr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!we.call(u,x)||!Zr(l[x],u[x]))return!1}return!0}function Mk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Dk(l,u){var h=Mk(l);l=0;for(var g;h;){if(h.nodeType===3){if(g=l+h.textContent.length,l<=u&&g>=u)return{node:h,offset:u-l};l=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Mk(h)}}function Ck(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Ck(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function kk(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=rm(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=rm(l.document)}return u}function cv(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var D4=Ks&&"documentMode"in document&&11>=document.documentMode,Zc=null,uv=null,sf=null,dv=!1;function Ek(l,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;dv||Zc==null||Zc!==rm(g)||(g=Zc,"selectionStart"in g&&cv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),sf&&rf(sf,g)||(sf=g,g=Qm(uv,"onSelect"),0<g.length&&(u=new lm("onSelect","select",null,u,h),l.push({event:u,listeners:g}),u.target=Zc)))}function bl(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var eu={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionrun:bl("Transition","TransitionRun"),transitionstart:bl("Transition","TransitionStart"),transitioncancel:bl("Transition","TransitionCancel"),transitionend:bl("Transition","TransitionEnd")},fv={},Tk={};Ks&&(Tk=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function vl(l){if(fv[l])return fv[l];if(!eu[l])return l;var u=eu[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in Tk)return fv[l]=u[h];return l}var Ok=vl("animationend"),_k=vl("animationiteration"),Ak=vl("animationstart"),C4=vl("transitionrun"),k4=vl("transitionstart"),E4=vl("transitioncancel"),Rk=vl("transitionend"),Nk=new Map,hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hv.push("scrollEnd");function Fi(l,u){Nk.set(l,u),gl(u,[l])}var Pk=new WeakMap;function pi(l,u){if(typeof l=="object"&&l!==null){var h=Pk.get(l);return h!==void 0?h:(u={value:l,source:u,stack:GC(u)},Pk.set(l,u),u)}return{value:l,source:u,stack:GC(u)}}var mi=[],tu=0,pv=0;function dm(){for(var l=tu,u=pv=tu=0;u<l;){var h=mi[u];mi[u++]=null;var g=mi[u];mi[u++]=null;var x=mi[u];mi[u++]=null;var S=mi[u];if(mi[u++]=null,g!==null&&x!==null){var O=g.pending;O===null?x.next=x:(x.next=O.next,O.next=x),g.pending=x}S!==0&&Lk(h,x,S)}}function fm(l,u,h,g){mi[tu++]=l,mi[tu++]=u,mi[tu++]=h,mi[tu++]=g,pv|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function mv(l,u,h,g){return fm(l,u,h,g),hm(l)}function nu(l,u){return fm(l,null,null,u),hm(l)}function Lk(l,u,h){l.lanes|=h;var g=l.alternate;g!==null&&(g.lanes|=h);for(var x=!1,S=l.return;S!==null;)S.childLanes|=h,g=S.alternate,g!==null&&(g.childLanes|=h),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(x=!0)),l=S,S=S.return;return l.tag===3?(S=l.stateNode,x&&u!==null&&(x=31-Be(h),l=S.hiddenUpdates,g=l[x],g===null?l[x]=[u]:g.push(u),u.lane=h|536870912),S):null}function hm(l){if(50<_f)throw _f=0,wx=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var ru={};function T4(l,u,h,g){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(l,u,h,g){return new T4(l,u,h,g)}function gv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Qs(l,u){var h=l.alternate;return h===null?(h=ei(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function Ik(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function pm(l,u,h,g,x,S){var O=0;if(g=l,typeof l=="function")gv(l)&&(O=1);else if(typeof l=="string")O=_6(l,h,he.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=ei(31,h,u,x),l.elementType=L,l.lanes=S,l;case b:return xl(h.children,x,S,u);case v:O=8,x|=24;break;case w:return l=ei(12,h,u,x|2),l.elementType=w,l.lanes=S,l;case T:return l=ei(13,h,u,x),l.elementType=T,l.lanes=S,l;case P:return l=ei(19,h,u,x),l.elementType=P,l.lanes=S,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case E:O=10;break e;case k:O=9;break e;case A:O=11;break e;case N:O=14;break e;case _:O=16,g=null;break e}O=29,h=Error(r(130,l===null?"null":typeof l,"")),g=null}return u=ei(O,h,u,x),u.elementType=l,u.type=g,u.lanes=S,u}function xl(l,u,h,g){return l=ei(7,l,g,u),l.lanes=h,l}function yv(l,u,h){return l=ei(6,l,null,u),l.lanes=h,l}function bv(l,u,h){return u=ei(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var iu=[],su=0,mm=null,gm=0,gi=[],yi=0,wl=null,Gs=1,Xs="";function Sl(l,u){iu[su++]=gm,iu[su++]=mm,mm=l,gm=u}function jk(l,u,h){gi[yi++]=Gs,gi[yi++]=Xs,gi[yi++]=wl,wl=l;var g=Gs;l=Xs;var x=32-Be(g)-1;g&=~(1<<x),h+=1;var S=32-Be(u)+x;if(30<S){var O=x-x%5;S=(g&(1<<O)-1).toString(32),g>>=O,x-=O,Gs=1<<32-Be(u)+x|h<<x|g,Xs=S+l}else Gs=1<<S|h<<x|g,Xs=l}function vv(l){l.return!==null&&(Sl(l,1),jk(l,1,0))}function xv(l){for(;l===mm;)mm=iu[--su],iu[su]=null,gm=iu[--su],iu[su]=null;for(;l===wl;)wl=gi[--yi],gi[yi]=null,Xs=gi[--yi],gi[yi]=null,Gs=gi[--yi],gi[yi]=null}var wr=null,nn=null,mt=!1,Ml=null,as=!1,wv=Error(r(519));function Dl(l){var u=Error(r(418,""));throw lf(pi(u,l)),wv}function Bk(l){var u=l.stateNode,h=l.type,g=l.memoizedProps;switch(u[Ft]=l,u[zt]=g,h){case"dialog":tt("cancel",u),tt("close",u);break;case"iframe":case"object":case"embed":tt("load",u);break;case"video":case"audio":for(h=0;h<Rf.length;h++)tt(Rf[h],u);break;case"source":tt("error",u);break;case"img":case"image":case"link":tt("error",u),tt("load",u);break;case"details":tt("toggle",u);break;case"input":tt("invalid",u),ZC(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),nm(u);break;case"select":tt("invalid",u);break;case"textarea":tt("invalid",u),tk(u,g.value,g.defaultValue,g.children),nm(u)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||tO(u.textContent,h)?(g.popover!=null&&(tt("beforetoggle",u),tt("toggle",u)),g.onScroll!=null&&tt("scroll",u),g.onScrollEnd!=null&&tt("scrollend",u),g.onClick!=null&&(u.onclick=Gm),u=!0):u=!1,u||Dl(l)}function Fk(l){for(wr=l.return;wr;)switch(wr.tag){case 5:case 13:as=!1;return;case 27:case 3:as=!0;return;default:wr=wr.return}}function of(l){if(l!==wr)return!1;if(!mt)return Fk(l),mt=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||jx(l.type,l.memoizedProps)),h=!h),h&&nn&&Dl(l),Fk(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(h=l.data,h==="/$"){if(u===0){nn=Vi(l.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;l=l.nextSibling}nn=null}}else u===27?(u=nn,ca(l.type)?(l=Vx,Vx=null,nn=l):nn=u):nn=wr?Vi(l.stateNode.nextSibling):null;return!0}function af(){nn=wr=null,mt=!1}function zk(){var l=Ml;return l!==null&&(Br===null?Br=l:Br.push.apply(Br,l),Ml=null),l}function lf(l){Ml===null?Ml=[l]:Ml.push(l)}var Sv=Z(null),Cl=null,Js=null;function Ko(l,u,h){le(Sv,u._currentValue),u._currentValue=h}function Zs(l){l._currentValue=Sv.current,se(Sv)}function Mv(l,u,h){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===h)break;l=l.return}}function Dv(l,u,h,g){var x=l.child;for(x!==null&&(x.return=l);x!==null;){var S=x.dependencies;if(S!==null){var O=x.child;S=S.firstContext;e:for(;S!==null;){var R=S;S=x;for(var B=0;B<u.length;B++)if(R.context===u[B]){S.lanes|=h,R=S.alternate,R!==null&&(R.lanes|=h),Mv(S.return,h,l),g||(O=null);break e}S=R.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(r(341));O.lanes|=h,S=O.alternate,S!==null&&(S.lanes|=h),Mv(O,h,l),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===l){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function cf(l,u,h,g){l=null;for(var x=u,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var R=x.type;Zr(x.pendingProps.value,O.value)||(l!==null?l.push(R):l=[R])}}else if(x===ft.current){if(O=x.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(l!==null?l.push(Bf):l=[Bf])}x=x.return}l!==null&&Dv(u,l,h,g),u.flags|=262144}function ym(l){for(l=l.firstContext;l!==null;){if(!Zr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function kl(l){Cl=l,Js=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ir(l){return Vk(Cl,l)}function bm(l,u){return Cl===null&&kl(l),Vk(l,u)}function Vk(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Js===null){if(l===null)throw Error(r(308));Js=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Js=Js.next=u;return h}var O4=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,g){l.push(g)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},_4=n.unstable_scheduleCallback,A4=n.unstable_NormalPriority,Mn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cv(){return{controller:new O4,data:new Map,refCount:0}}function uf(l){l.refCount--,l.refCount===0&&_4(A4,function(){l.controller.abort()})}var df=null,kv=0,ou=0,au=null;function R4(l,u){if(df===null){var h=df=[];kv=0,ou=Tx(),au={status:"pending",value:void 0,then:function(g){h.push(g)}}}return kv++,u.then(Hk,Hk),u}function Hk(){if(--kv===0&&df!==null){au!==null&&(au.status="fulfilled");var l=df;df=null,ou=0,au=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function N4(l,u){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return l.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<h.length;x++)(0,h[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var Uk=F.S;F.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&R4(l,u),Uk!==null&&Uk(l,u)};var El=Z(null);function Ev(){var l=El.current;return l!==null?l:It.pooledCache}function vm(l,u){u===null?le(El,El.current):le(El,u.pool)}function $k(){var l=Ev();return l===null?null:{parent:Mn._currentValue,pool:l}}var ff=Error(r(460)),Yk=Error(r(474)),xm=Error(r(542)),Tv={then:function(){}};function Wk(l){return l=l.status,l==="fulfilled"||l==="rejected"}function wm(){}function qk(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(wm,wm),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Qk(l),l;default:if(typeof u.status=="string")u.then(wm,wm);else{if(l=It,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Qk(l),l}throw hf=u,ff}}var hf=null;function Kk(){if(hf===null)throw Error(r(459));var l=hf;return hf=null,l}function Qk(l){if(l===ff||l===xm)throw Error(r(483))}var Qo=!1;function Ov(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _v(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Go(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Xo(l,u,h){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(wt&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=hm(l),Lk(l,null,h),u}return fm(l,g,u,h),hm(l)}function pf(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,Bi(l,h)}}function Av(l,u){var h=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?x=S=O:S=S.next=O,h=h.next}while(h!==null);S===null?x=S=u:S=S.next=u}else x=S=u;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var Rv=!1;function mf(){if(Rv){var l=au;if(l!==null)throw l}}function gf(l,u,h,g){Rv=!1;var x=l.updateQueue;Qo=!1;var S=x.firstBaseUpdate,O=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var B=R,K=B.next;B.next=null,O===null?S=K:O.next=K,O=B;var te=l.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==O&&(R===null?te.firstBaseUpdate=K:R.next=K,te.lastBaseUpdate=B))}if(S!==null){var ie=x.baseState;O=0,te=K=B=null,R=S;do{var Q=R.lane&-536870913,G=Q!==R.lane;if(G?(ct&Q)===Q:(g&Q)===Q){Q!==0&&Q===ou&&(Rv=!0),te!==null&&(te=te.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=l,Oe=R;Q=u;var Tt=h;switch(Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ie=Re.call(Tt,ie,Q);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,Q=typeof Re=="function"?Re.call(Tt,ie,Q):Re,Q==null)break e;ie=f({},ie,Q);break e;case 2:Qo=!0}}Q=R.callback,Q!==null&&(l.flags|=64,G&&(l.flags|=8192),G=x.callbacks,G===null?x.callbacks=[Q]:G.push(Q))}else G={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(K=te=G,B=ie):te=te.next=G,O|=Q;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;G=R,R=G.next,G.next=null,x.lastBaseUpdate=G,x.shared.pending=null}}while(!0);te===null&&(B=ie),x.baseState=B,x.firstBaseUpdate=K,x.lastBaseUpdate=te,S===null&&(x.shared.lanes=0),sa|=O,l.lanes=O,l.memoizedState=ie}}function Gk(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Xk(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)Gk(h[l],u)}var lu=Z(null),Sm=Z(0);function Jk(l,u){l=oo,le(Sm,l),le(lu,u),oo=l|u.baseLanes}function Nv(){le(Sm,oo),le(lu,lu.current)}function Pv(){oo=Sm.current,se(lu),se(Sm)}var Jo=0,We=null,kt=null,gn=null,Mm=!1,cu=!1,Tl=!1,Dm=0,yf=0,uu=null,P4=0;function un(){throw Error(r(321))}function Lv(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!Zr(l[h],u[h]))return!1;return!0}function Iv(l,u,h,g,x,S){return Jo=S,We=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,F.H=l===null||l.memoizedState===null?LE:IE,Tl=!1,S=h(g,x),Tl=!1,cu&&(S=eE(u,h,g,x)),Zk(l),S}function Zk(l){F.H=_m;var u=kt!==null&&kt.next!==null;if(Jo=0,gn=kt=We=null,Mm=!1,yf=0,uu=null,u)throw Error(r(300));l===null||_n||(l=l.dependencies,l!==null&&ym(l)&&(_n=!0))}function eE(l,u,h,g){We=l;var x=0;do{if(cu&&(uu=null),yf=0,cu=!1,25<=x)throw Error(r(301));if(x+=1,gn=kt=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}F.H=V4,S=u(h,g)}while(cu);return S}function L4(){var l=F.H,u=l.useState()[0];return u=typeof u.then=="function"?bf(u):u,l=l.useState()[0],(kt!==null?kt.memoizedState:null)!==l&&(We.flags|=1024),u}function jv(){var l=Dm!==0;return Dm=0,l}function Bv(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function Fv(l){if(Mm){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Mm=!1}Jo=0,gn=kt=We=null,cu=!1,yf=Dm=0,uu=null}function Ir(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?We.memoizedState=gn=l:gn=gn.next=l,gn}function yn(){if(kt===null){var l=We.alternate;l=l!==null?l.memoizedState:null}else l=kt.next;var u=gn===null?We.memoizedState:gn.next;if(u!==null)gn=u,kt=l;else{if(l===null)throw We.alternate===null?Error(r(467)):Error(r(310));kt=l,l={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},gn===null?We.memoizedState=gn=l:gn=gn.next=l}return gn}function zv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bf(l){var u=yf;return yf+=1,uu===null&&(uu=[]),l=qk(uu,l,u),u=We,(gn===null?u.memoizedState:gn.next)===null&&(u=u.alternate,F.H=u===null||u.memoizedState===null?LE:IE),l}function Cm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return bf(l);if(l.$$typeof===E)return ir(l)}throw Error(r(438,String(l)))}function Vv(l){var u=null,h=We.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=zv(),We.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),g=0;g<l;g++)h[g]=I;return u.index++,h}function eo(l,u){return typeof u=="function"?u(l):u}function km(l){var u=yn();return Hv(u,kt,l)}function Hv(l,u,h){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var x=l.baseQueue,S=g.pending;if(S!==null){if(x!==null){var O=x.next;x.next=S.next,S.next=O}u.baseQueue=x=S,g.pending=null}if(S=l.baseState,x===null)l.memoizedState=S;else{u=x.next;var R=O=null,B=null,K=u,te=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(ct&ie)===ie:(Jo&ie)===ie){var Q=K.revertLane;if(Q===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===ou&&(te=!0);else if((Jo&Q)===Q){K=K.next,Q===ou&&(te=!0);continue}else ie={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(R=B=ie,O=S):B=B.next=ie,We.lanes|=Q,sa|=Q;ie=K.action,Tl&&h(S,ie),S=K.hasEagerState?K.eagerState:h(S,ie)}else Q={lane:ie,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(R=B=Q,O=S):B=B.next=Q,We.lanes|=ie,sa|=ie;K=K.next}while(K!==null&&K!==u);if(B===null?O=S:B.next=R,!Zr(S,l.memoizedState)&&(_n=!0,te&&(h=au,h!==null)))throw h;l.memoizedState=S,l.baseState=O,l.baseQueue=B,g.lastRenderedState=S}return x===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function Uv(l){var u=yn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=h.dispatch,x=h.pending,S=u.memoizedState;if(x!==null){h.pending=null;var O=x=x.next;do S=l(S,O.action),O=O.next;while(O!==x);Zr(S,u.memoizedState)||(_n=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,g]}function tE(l,u,h){var g=We,x=yn(),S=mt;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var O=!Zr((kt||x).memoizedState,h);O&&(x.memoizedState=h,_n=!0),x=x.queue;var R=iE.bind(null,g,x,l);if(vf(2048,8,R,[l]),x.getSnapshot!==u||O||gn!==null&&gn.memoizedState.tag&1){if(g.flags|=2048,du(9,Em(),rE.bind(null,g,x,h,u),null),It===null)throw Error(r(349));S||(Jo&124)!==0||nE(g,u,h)}return h}function nE(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=We.updateQueue,u===null?(u=zv(),We.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function rE(l,u,h,g){u.value=h,u.getSnapshot=g,sE(u)&&oE(l)}function iE(l,u,h){return h(function(){sE(u)&&oE(l)})}function sE(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!Zr(l,h)}catch{return!0}}function oE(l){var u=nu(l,2);u!==null&&si(u,l,2)}function $v(l){var u=Ir();if(typeof l=="function"){var h=l;if(l=h(),Tl){Le(!0);try{h()}finally{Le(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:l},u}function aE(l,u,h,g){return l.baseState=h,Hv(l,kt,typeof g=="function"?g:eo)}function I4(l,u,h,g,x){if(Om(l))throw Error(r(485));if(l=u.action,l!==null){var S={payload:x,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};F.T!==null?h(!0):S.isTransition=!1,g(S),h=u.pending,h===null?(S.next=u.pending=S,lE(u,S)):(S.next=h.next,u.pending=h.next=S)}}function lE(l,u){var h=u.action,g=u.payload,x=l.state;if(u.isTransition){var S=F.T,O={};F.T=O;try{var R=h(x,g),B=F.S;B!==null&&B(O,R),cE(l,u,R)}catch(K){Yv(l,u,K)}finally{F.T=S}}else try{S=h(x,g),cE(l,u,S)}catch(K){Yv(l,u,K)}}function cE(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){uE(l,u,g)},function(g){return Yv(l,u,g)}):uE(l,u,h)}function uE(l,u,h){u.status="fulfilled",u.value=h,dE(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,lE(l,h)))}function Yv(l,u,h){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,dE(u),u=u.next;while(u!==g)}l.action=null}function dE(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function fE(l,u){return u}function hE(l,u){if(mt){var h=It.formState;if(h!==null){e:{var g=We;if(mt){if(nn){t:{for(var x=nn,S=as;x.nodeType!==8;){if(!S){x=null;break t}if(x=Vi(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){nn=Vi(x.nextSibling),g=x.data==="F!";break e}}Dl(g)}g=!1}g&&(u=h[0])}}return h=Ir(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fE,lastRenderedState:u},h.queue=g,h=RE.bind(null,We,g),g.dispatch=h,g=$v(!1),S=Gv.bind(null,We,!1,g.queue),g=Ir(),x={state:u,dispatch:null,action:l,pending:null},g.queue=x,h=I4.bind(null,We,x,S,h),x.dispatch=h,g.memoizedState=l,[u,h,!1]}function pE(l){var u=yn();return mE(u,kt,l)}function mE(l,u,h){if(u=Hv(l,u,fE)[0],l=km(eo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=bf(u)}catch(O){throw O===ff?xm:O}else g=u;u=yn();var x=u.queue,S=x.dispatch;return h!==u.memoizedState&&(We.flags|=2048,du(9,Em(),j4.bind(null,x,h),null)),[g,S,l]}function j4(l,u){l.action=u}function gE(l){var u=yn(),h=kt;if(h!==null)return mE(u,h,l);yn(),u=u.memoizedState,h=yn();var g=h.queue.dispatch;return h.memoizedState=l,[u,g,!1]}function du(l,u,h,g){return l={tag:l,create:h,deps:g,inst:u,next:null},u=We.updateQueue,u===null&&(u=zv(),We.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(g=h.next,h.next=l,l.next=g,u.lastEffect=l),l}function Em(){return{destroy:void 0,resource:void 0}}function yE(){return yn().memoizedState}function Tm(l,u,h,g){var x=Ir();g=g===void 0?null:g,We.flags|=l,x.memoizedState=du(1|u,Em(),h,g)}function vf(l,u,h,g){var x=yn();g=g===void 0?null:g;var S=x.memoizedState.inst;kt!==null&&g!==null&&Lv(g,kt.memoizedState.deps)?x.memoizedState=du(u,S,h,g):(We.flags|=l,x.memoizedState=du(1|u,S,h,g))}function bE(l,u){Tm(8390656,8,l,u)}function vE(l,u){vf(2048,8,l,u)}function xE(l,u){return vf(4,2,l,u)}function wE(l,u){return vf(4,4,l,u)}function SE(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function ME(l,u,h){h=h!=null?h.concat([l]):null,vf(4,4,SE.bind(null,u,l),h)}function Wv(){}function DE(l,u){var h=yn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&Lv(u,g[1])?g[0]:(h.memoizedState=[l,u],l)}function CE(l,u){var h=yn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&Lv(u,g[1]))return g[0];if(g=l(),Tl){Le(!0);try{l()}finally{Le(!1)}}return h.memoizedState=[g,u],g}function qv(l,u,h){return h===void 0||(Jo&1073741824)!==0?l.memoizedState=u:(l.memoizedState=h,l=TT(),We.lanes|=l,sa|=l,h)}function kE(l,u,h,g){return Zr(h,u)?h:lu.current!==null?(l=qv(l,h,g),Zr(l,u)||(_n=!0),l):(Jo&42)===0?(_n=!0,l.memoizedState=h):(l=TT(),We.lanes|=l,sa|=l,u)}function EE(l,u,h,g,x){var S=U.p;U.p=S!==0&&8>S?S:8;var O=F.T,R={};F.T=R,Gv(l,!1,u,h);try{var B=x(),K=F.S;if(K!==null&&K(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var te=N4(B,g);xf(l,u,te,ii(l))}else xf(l,u,g,ii(l))}catch(ie){xf(l,u,{then:function(){},status:"rejected",reason:ie},ii())}finally{U.p=S,F.T=O}}function B4(){}function Kv(l,u,h,g){if(l.tag!==5)throw Error(r(476));var x=TE(l).queue;EE(l,x,u,J,h===null?B4:function(){return OE(l),h(g)})}function TE(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:J},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function OE(l){var u=TE(l).next.queue;xf(l,u,{},ii())}function Qv(){return ir(Bf)}function _E(){return yn().memoizedState}function AE(){return yn().memoizedState}function F4(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=ii();l=Go(h);var g=Xo(u,l,h);g!==null&&(si(g,u,h),pf(g,u,h)),u={cache:Cv()},l.payload=u;return}u=u.return}}function z4(l,u,h){var g=ii();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Om(l)?NE(u,h):(h=mv(l,u,h,g),h!==null&&(si(h,l,g),PE(h,u,g)))}function RE(l,u,h){var g=ii();xf(l,u,h,g)}function xf(l,u,h,g){var x={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Om(l))NE(u,x);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var O=u.lastRenderedState,R=S(O,h);if(x.hasEagerState=!0,x.eagerState=R,Zr(R,O))return fm(l,u,x,0),It===null&&dm(),!1}catch{}finally{}if(h=mv(l,u,x,g),h!==null)return si(h,l,g),PE(h,u,g),!0}return!1}function Gv(l,u,h,g){if(g={lane:2,revertLane:Tx(),action:g,hasEagerState:!1,eagerState:null,next:null},Om(l)){if(u)throw Error(r(479))}else u=mv(l,h,g,2),u!==null&&si(u,l,2)}function Om(l){var u=l.alternate;return l===We||u!==null&&u===We}function NE(l,u){cu=Mm=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function PE(l,u,h){if((h&4194048)!==0){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,Bi(l,h)}}var _m={readContext:ir,use:Cm,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un},LE={readContext:ir,use:Cm,useCallback:function(l,u){return Ir().memoizedState=[l,u===void 0?null:u],l},useContext:ir,useEffect:bE,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,Tm(4194308,4,SE.bind(null,u,l),h)},useLayoutEffect:function(l,u){return Tm(4194308,4,l,u)},useInsertionEffect:function(l,u){Tm(4,2,l,u)},useMemo:function(l,u){var h=Ir();u=u===void 0?null:u;var g=l();if(Tl){Le(!0);try{l()}finally{Le(!1)}}return h.memoizedState=[g,u],g},useReducer:function(l,u,h){var g=Ir();if(h!==void 0){var x=h(u);if(Tl){Le(!0);try{h(u)}finally{Le(!1)}}}else x=u;return g.memoizedState=g.baseState=x,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:x},g.queue=l,l=l.dispatch=z4.bind(null,We,l),[g.memoizedState,l]},useRef:function(l){var u=Ir();return l={current:l},u.memoizedState=l},useState:function(l){l=$v(l);var u=l.queue,h=RE.bind(null,We,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:Wv,useDeferredValue:function(l,u){var h=Ir();return qv(h,l,u)},useTransition:function(){var l=$v(!1);return l=EE.bind(null,We,l.queue,!0,!1),Ir().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var g=We,x=Ir();if(mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),It===null)throw Error(r(349));(ct&124)!==0||nE(g,u,h)}x.memoizedState=h;var S={value:h,getSnapshot:u};return x.queue=S,bE(iE.bind(null,g,S,l),[l]),g.flags|=2048,du(9,Em(),rE.bind(null,g,S,h,u),null),h},useId:function(){var l=Ir(),u=It.identifierPrefix;if(mt){var h=Xs,g=Gs;h=(g&~(1<<32-Be(g)-1)).toString(32)+h,u="«"+u+"R"+h,h=Dm++,0<h&&(u+="H"+h.toString(32)),u+="»"}else h=P4++,u="«"+u+"r"+h.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:Qv,useFormState:hE,useActionState:hE,useOptimistic:function(l){var u=Ir();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Gv.bind(null,We,!0,h),h.dispatch=u,[l,u]},useMemoCache:Vv,useCacheRefresh:function(){return Ir().memoizedState=F4.bind(null,We)}},IE={readContext:ir,use:Cm,useCallback:DE,useContext:ir,useEffect:vE,useImperativeHandle:ME,useInsertionEffect:xE,useLayoutEffect:wE,useMemo:CE,useReducer:km,useRef:yE,useState:function(){return km(eo)},useDebugValue:Wv,useDeferredValue:function(l,u){var h=yn();return kE(h,kt.memoizedState,l,u)},useTransition:function(){var l=km(eo)[0],u=yn().memoizedState;return[typeof l=="boolean"?l:bf(l),u]},useSyncExternalStore:tE,useId:_E,useHostTransitionStatus:Qv,useFormState:pE,useActionState:pE,useOptimistic:function(l,u){var h=yn();return aE(h,kt,l,u)},useMemoCache:Vv,useCacheRefresh:AE},V4={readContext:ir,use:Cm,useCallback:DE,useContext:ir,useEffect:vE,useImperativeHandle:ME,useInsertionEffect:xE,useLayoutEffect:wE,useMemo:CE,useReducer:Uv,useRef:yE,useState:function(){return Uv(eo)},useDebugValue:Wv,useDeferredValue:function(l,u){var h=yn();return kt===null?qv(h,l,u):kE(h,kt.memoizedState,l,u)},useTransition:function(){var l=Uv(eo)[0],u=yn().memoizedState;return[typeof l=="boolean"?l:bf(l),u]},useSyncExternalStore:tE,useId:_E,useHostTransitionStatus:Qv,useFormState:gE,useActionState:gE,useOptimistic:function(l,u){var h=yn();return kt!==null?aE(h,kt,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Vv,useCacheRefresh:AE},fu=null,wf=0;function Am(l){var u=wf;return wf+=1,fu===null&&(fu=[]),qk(fu,l,u)}function Sf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Rm(l,u){throw u.$$typeof===p?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function jE(l){var u=l._init;return u(l._payload)}function BE(l){function u(Y,H){if(l){var W=Y.deletions;W===null?(Y.deletions=[H],Y.flags|=16):W.push(H)}}function h(Y,H){if(!l)return null;for(;H!==null;)u(Y,H),H=H.sibling;return null}function g(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function x(Y,H){return Y=Qs(Y,H),Y.index=0,Y.sibling=null,Y}function S(Y,H,W){return Y.index=W,l?(W=Y.alternate,W!==null?(W=W.index,W<H?(Y.flags|=67108866,H):W):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function O(Y){return l&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,H,W,re){return H===null||H.tag!==6?(H=yv(W,Y.mode,re),H.return=Y,H):(H=x(H,W),H.return=Y,H)}function B(Y,H,W,re){var ve=W.type;return ve===b?te(Y,H,W.props.children,re,W.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_&&jE(ve)===H.type)?(H=x(H,W.props),Sf(H,W),H.return=Y,H):(H=pm(W.type,W.key,W.props,null,Y.mode,re),Sf(H,W),H.return=Y,H)}function K(Y,H,W,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=bv(W,Y.mode,re),H.return=Y,H):(H=x(H,W.children||[]),H.return=Y,H)}function te(Y,H,W,re,ve){return H===null||H.tag!==7?(H=xl(W,Y.mode,re,ve),H.return=Y,H):(H=x(H,W),H.return=Y,H)}function ie(Y,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=yv(""+H,Y.mode,W),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case m:return W=pm(H.type,H.key,H.props,null,Y.mode,W),Sf(W,H),W.return=Y,W;case y:return H=bv(H,Y.mode,W),H.return=Y,H;case _:var re=H._init;return H=re(H._payload),ie(Y,H,W)}if(oe(H)||q(H))return H=xl(H,Y.mode,W,null),H.return=Y,H;if(typeof H.then=="function")return ie(Y,Am(H),W);if(H.$$typeof===E)return ie(Y,bm(Y,H),W);Rm(Y,H)}return null}function Q(Y,H,W,re){var ve=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:R(Y,H,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return W.key===ve?B(Y,H,W,re):null;case y:return W.key===ve?K(Y,H,W,re):null;case _:return ve=W._init,W=ve(W._payload),Q(Y,H,W,re)}if(oe(W)||q(W))return ve!==null?null:te(Y,H,W,re,null);if(typeof W.then=="function")return Q(Y,H,Am(W),re);if(W.$$typeof===E)return Q(Y,H,bm(Y,W),re);Rm(Y,W)}return null}function G(Y,H,W,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(W)||null,R(H,Y,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case m:return Y=Y.get(re.key===null?W:re.key)||null,B(H,Y,re,ve);case y:return Y=Y.get(re.key===null?W:re.key)||null,K(H,Y,re,ve);case _:var Xe=re._init;return re=Xe(re._payload),G(Y,H,W,re,ve)}if(oe(re)||q(re))return Y=Y.get(W)||null,te(H,Y,re,ve,null);if(typeof re.then=="function")return G(Y,H,W,Am(re),ve);if(re.$$typeof===E)return G(Y,H,W,bm(H,re),ve);Rm(H,re)}return null}function Re(Y,H,W,re){for(var ve=null,Xe=null,Ce=H,_e=H=0,Rn=null;Ce!==null&&_e<W.length;_e++){Ce.index>_e?(Rn=Ce,Ce=null):Rn=Ce.sibling;var ht=Q(Y,Ce,W[_e],re);if(ht===null){Ce===null&&(Ce=Rn);break}l&&Ce&&ht.alternate===null&&u(Y,Ce),H=S(ht,H,_e),Xe===null?ve=ht:Xe.sibling=ht,Xe=ht,Ce=Rn}if(_e===W.length)return h(Y,Ce),mt&&Sl(Y,_e),ve;if(Ce===null){for(;_e<W.length;_e++)Ce=ie(Y,W[_e],re),Ce!==null&&(H=S(Ce,H,_e),Xe===null?ve=Ce:Xe.sibling=Ce,Xe=Ce);return mt&&Sl(Y,_e),ve}for(Ce=g(Ce);_e<W.length;_e++)Rn=G(Ce,Y,_e,W[_e],re),Rn!==null&&(l&&Rn.alternate!==null&&Ce.delete(Rn.key===null?_e:Rn.key),H=S(Rn,H,_e),Xe===null?ve=Rn:Xe.sibling=Rn,Xe=Rn);return l&&Ce.forEach(function(pa){return u(Y,pa)}),mt&&Sl(Y,_e),ve}function Oe(Y,H,W,re){if(W==null)throw Error(r(151));for(var ve=null,Xe=null,Ce=H,_e=H=0,Rn=null,ht=W.next();Ce!==null&&!ht.done;_e++,ht=W.next()){Ce.index>_e?(Rn=Ce,Ce=null):Rn=Ce.sibling;var pa=Q(Y,Ce,ht.value,re);if(pa===null){Ce===null&&(Ce=Rn);break}l&&Ce&&pa.alternate===null&&u(Y,Ce),H=S(pa,H,_e),Xe===null?ve=pa:Xe.sibling=pa,Xe=pa,Ce=Rn}if(ht.done)return h(Y,Ce),mt&&Sl(Y,_e),ve;if(Ce===null){for(;!ht.done;_e++,ht=W.next())ht=ie(Y,ht.value,re),ht!==null&&(H=S(ht,H,_e),Xe===null?ve=ht:Xe.sibling=ht,Xe=ht);return mt&&Sl(Y,_e),ve}for(Ce=g(Ce);!ht.done;_e++,ht=W.next())ht=G(Ce,Y,_e,ht.value,re),ht!==null&&(l&&ht.alternate!==null&&Ce.delete(ht.key===null?_e:ht.key),H=S(ht,H,_e),Xe===null?ve=ht:Xe.sibling=ht,Xe=ht);return l&&Ce.forEach(function(H6){return u(Y,H6)}),mt&&Sl(Y,_e),ve}function Tt(Y,H,W,re){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case m:e:{for(var ve=W.key;H!==null;){if(H.key===ve){if(ve=W.type,ve===b){if(H.tag===7){h(Y,H.sibling),re=x(H,W.props.children),re.return=Y,Y=re;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_&&jE(ve)===H.type){h(Y,H.sibling),re=x(H,W.props),Sf(re,W),re.return=Y,Y=re;break e}h(Y,H);break}else u(Y,H);H=H.sibling}W.type===b?(re=xl(W.props.children,Y.mode,re,W.key),re.return=Y,Y=re):(re=pm(W.type,W.key,W.props,null,Y.mode,re),Sf(re,W),re.return=Y,Y=re)}return O(Y);case y:e:{for(ve=W.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){h(Y,H.sibling),re=x(H,W.children||[]),re.return=Y,Y=re;break e}else{h(Y,H);break}else u(Y,H);H=H.sibling}re=bv(W,Y.mode,re),re.return=Y,Y=re}return O(Y);case _:return ve=W._init,W=ve(W._payload),Tt(Y,H,W,re)}if(oe(W))return Re(Y,H,W,re);if(q(W)){if(ve=q(W),typeof ve!="function")throw Error(r(150));return W=ve.call(W),Oe(Y,H,W,re)}if(typeof W.then=="function")return Tt(Y,H,Am(W),re);if(W.$$typeof===E)return Tt(Y,H,bm(Y,W),re);Rm(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(h(Y,H.sibling),re=x(H,W),re.return=Y,Y=re):(h(Y,H),re=yv(W,Y.mode,re),re.return=Y,Y=re),O(Y)):h(Y,H)}return function(Y,H,W,re){try{wf=0;var ve=Tt(Y,H,W,re);return fu=null,ve}catch(Ce){if(Ce===ff||Ce===xm)throw Ce;var Xe=ei(29,Ce,null,Y.mode);return Xe.lanes=re,Xe.return=Y,Xe}finally{}}}var hu=BE(!0),FE=BE(!1),bi=Z(null),ls=null;function Zo(l){var u=l.alternate;le(Dn,Dn.current&1),le(bi,l),ls===null&&(u===null||lu.current!==null||u.memoizedState!==null)&&(ls=l)}function zE(l){if(l.tag===22){if(le(Dn,Dn.current),le(bi,l),ls===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(ls=l)}}else ea()}function ea(){le(Dn,Dn.current),le(bi,bi.current)}function to(l){se(bi),ls===l&&(ls=null),se(Dn)}var Dn=Z(0);function Nm(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||zx(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Xv(l,u,h,g){u=l.memoizedState,h=h(g,u),h=h==null?u:f({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Jv={enqueueSetState:function(l,u,h){l=l._reactInternals;var g=ii(),x=Go(g);x.payload=u,h!=null&&(x.callback=h),u=Xo(l,x,g),u!==null&&(si(u,l,g),pf(u,l,g))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var g=ii(),x=Go(g);x.tag=1,x.payload=u,h!=null&&(x.callback=h),u=Xo(l,x,g),u!==null&&(si(u,l,g),pf(u,l,g))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=ii(),g=Go(h);g.tag=2,u!=null&&(g.callback=u),u=Xo(l,g,h),u!==null&&(si(u,l,h),pf(u,l,h))}};function VE(l,u,h,g,x,S,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,S,O):u.prototype&&u.prototype.isPureReactComponent?!rf(h,g)||!rf(x,S):!0}function HE(l,u,h,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==l&&Jv.enqueueReplaceState(u,u.state,null)}function Ol(l,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(l=l.defaultProps){h===u&&(h=f({},h));for(var x in l)h[x]===void 0&&(h[x]=l[x])}return h}var Pm=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function UE(l){Pm(l)}function $E(l){console.error(l)}function YE(l){Pm(l)}function Lm(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function WE(l,u,h){try{var g=l.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Zv(l,u,h){return h=Go(h),h.tag=3,h.payload={element:null},h.callback=function(){Lm(l,u)},h}function qE(l){return l=Go(l),l.tag=3,l}function KE(l,u,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var S=g.value;l.payload=function(){return x(S)},l.callback=function(){WE(u,h,g)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){WE(u,h,g),typeof x!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var R=g.stack;this.componentDidCatch(g.value,{componentStack:R!==null?R:""})})}function H4(l,u,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&cf(u,h,x,!0),h=bi.current,h!==null){switch(h.tag){case 13:return ls===null?Mx():h.alternate===null&&rn===0&&(rn=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===Tv?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),Cx(l,g,x)),!1;case 22:return h.flags|=65536,g===Tv?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),Cx(l,g,x)),!1}throw Error(r(435,h.tag))}return Cx(l,g,x),Mx(),!1}if(mt)return u=bi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==wv&&(l=Error(r(422),{cause:g}),lf(pi(l,h)))):(g!==wv&&(u=Error(r(423),{cause:g}),lf(pi(u,h))),l=l.current.alternate,l.flags|=65536,x&=-x,l.lanes|=x,g=pi(g,h),x=Zv(l.stateNode,g,x),Av(l,x),rn!==4&&(rn=2)),!1;var S=Error(r(520),{cause:g});if(S=pi(S,h),Of===null?Of=[S]:Of.push(S),rn!==4&&(rn=2),u===null)return!0;g=pi(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=x&-x,h.lanes|=l,l=Zv(h.stateNode,g,l),Av(h,l),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(oa===null||!oa.has(S))))return h.flags|=65536,x&=-x,h.lanes|=x,x=qE(x),KE(x,l,h,g),Av(h,x),!1}h=h.return}while(h!==null);return!1}var QE=Error(r(461)),_n=!1;function Wn(l,u,h,g){u.child=l===null?FE(u,null,h,g):hu(u,l.child,h,g)}function GE(l,u,h,g,x){h=h.render;var S=u.ref;if("ref"in g){var O={};for(var R in g)R!=="ref"&&(O[R]=g[R])}else O=g;return kl(u),g=Iv(l,u,h,O,S,x),R=jv(),l!==null&&!_n?(Bv(l,u,x),no(l,u,x)):(mt&&R&&vv(u),u.flags|=1,Wn(l,u,g,x),u.child)}function XE(l,u,h,g,x){if(l===null){var S=h.type;return typeof S=="function"&&!gv(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,JE(l,u,S,g,x)):(l=pm(h.type,null,g,u,u.mode,x),l.ref=u.ref,l.return=u,u.child=l)}if(S=l.child,!ax(l,x)){var O=S.memoizedProps;if(h=h.compare,h=h!==null?h:rf,h(O,g)&&l.ref===u.ref)return no(l,u,x)}return u.flags|=1,l=Qs(S,g),l.ref=u.ref,l.return=u,u.child=l}function JE(l,u,h,g,x){if(l!==null){var S=l.memoizedProps;if(rf(S,g)&&l.ref===u.ref)if(_n=!1,u.pendingProps=g=S,ax(l,x))(l.flags&131072)!==0&&(_n=!0);else return u.lanes=l.lanes,no(l,u,x)}return ex(l,u,h,g,x)}function ZE(l,u,h){var g=u.pendingProps,x=g.children,S=l!==null?l.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=S!==null?S.baseLanes|h:h,l!==null){for(x=u.child=l.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;u.childLanes=S&~g}else u.childLanes=0,u.child=null;return eT(l,u,g,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&vm(u,S!==null?S.cachePool:null),S!==null?Jk(u,S):Nv(),zE(u);else return u.lanes=u.childLanes=536870912,eT(l,u,S!==null?S.baseLanes|h:h,h)}else S!==null?(vm(u,S.cachePool),Jk(u,S),ea(),u.memoizedState=null):(l!==null&&vm(u,null),Nv(),ea());return Wn(l,u,x,h),u.child}function eT(l,u,h,g){var x=Ev();return x=x===null?null:{parent:Mn._currentValue,pool:x},u.memoizedState={baseLanes:h,cachePool:x},l!==null&&vm(u,null),Nv(),zE(u),l!==null&&cf(l,u,g,!0),null}function Im(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function ex(l,u,h,g,x){return kl(u),h=Iv(l,u,h,g,void 0,x),g=jv(),l!==null&&!_n?(Bv(l,u,x),no(l,u,x)):(mt&&g&&vv(u),u.flags|=1,Wn(l,u,h,x),u.child)}function tT(l,u,h,g,x,S){return kl(u),u.updateQueue=null,h=eE(u,g,h,x),Zk(l),g=jv(),l!==null&&!_n?(Bv(l,u,S),no(l,u,S)):(mt&&g&&vv(u),u.flags|=1,Wn(l,u,h,S),u.child)}function nT(l,u,h,g,x){if(kl(u),u.stateNode===null){var S=ru,O=h.contextType;typeof O=="object"&&O!==null&&(S=ir(O)),S=new h(g,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Jv,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=g,S.state=u.memoizedState,S.refs={},Ov(u),O=h.contextType,S.context=typeof O=="object"&&O!==null?ir(O):ru,S.state=u.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Xv(u,h,O,g),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Jv.enqueueReplaceState(S,S.state,null),gf(u,g,S,x),mf(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(l===null){S=u.stateNode;var R=u.memoizedProps,B=Ol(h,R);S.props=B;var K=S.context,te=h.contextType;O=ru,typeof te=="object"&&te!==null&&(O=ir(te));var ie=h.getDerivedStateFromProps;te=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function",R=u.pendingProps!==R,te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R||K!==O)&&HE(u,S,g,O),Qo=!1;var Q=u.memoizedState;S.state=Q,gf(u,g,S,x),mf(),K=u.memoizedState,R||Q!==K||Qo?(typeof ie=="function"&&(Xv(u,h,ie,g),K=u.memoizedState),(B=Qo||VE(u,h,B,g,Q,K,O))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=K),S.props=g,S.state=K,S.context=O,g=B):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{S=u.stateNode,_v(l,u),O=u.memoizedProps,te=Ol(h,O),S.props=te,ie=u.pendingProps,Q=S.context,K=h.contextType,B=ru,typeof K=="object"&&K!==null&&(B=ir(K)),R=h.getDerivedStateFromProps,(K=typeof R=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ie||Q!==B)&&HE(u,S,g,B),Qo=!1,Q=u.memoizedState,S.state=Q,gf(u,g,S,x),mf();var G=u.memoizedState;O!==ie||Q!==G||Qo||l!==null&&l.dependencies!==null&&ym(l.dependencies)?(typeof R=="function"&&(Xv(u,h,R,g),G=u.memoizedState),(te=Qo||VE(u,h,te,g,Q,G,B)||l!==null&&l.dependencies!==null&&ym(l.dependencies))?(K||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,G,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,G,B)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=G),S.props=g,S.state=G,S.context=B,g=te):(typeof S.componentDidUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=1024),g=!1)}return S=g,Im(l,u),g=(u.flags&128)!==0,S||g?(S=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,l!==null&&g?(u.child=hu(u,l.child,null,x),u.child=hu(u,null,h,x)):Wn(l,u,h,x),u.memoizedState=S.state,l=u.child):l=no(l,u,x),l}function rT(l,u,h,g){return af(),u.flags|=256,Wn(l,u,h,g),u.child}var tx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nx(l){return{baseLanes:l,cachePool:$k()}}function rx(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=vi),l}function iT(l,u,h){var g=u.pendingProps,x=!1,S=(u.flags&128)!==0,O;if((O=S)||(O=l!==null&&l.memoizedState===null?!1:(Dn.current&2)!==0),O&&(x=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,l===null){if(mt){if(x?Zo(u):ea(),mt){var R=nn,B;if(B=R){e:{for(B=R,R=as;B.nodeType!==8;){if(!R){R=null;break e}if(B=Vi(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(u.memoizedState={dehydrated:R,treeContext:wl!==null?{id:Gs,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},B=ei(18,null,null,0),B.stateNode=R,B.return=u,u.child=B,wr=u,nn=null,B=!0):B=!1}B||Dl(u)}if(R=u.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return zx(R)?u.lanes=32:u.lanes=536870912,null;to(u)}return R=g.children,g=g.fallback,x?(ea(),x=u.mode,R=jm({mode:"hidden",children:R},x),g=xl(g,x,h,null),R.return=u,g.return=u,R.sibling=g,u.child=R,x=u.child,x.memoizedState=nx(h),x.childLanes=rx(l,O,h),u.memoizedState=tx,g):(Zo(u),ix(u,R))}if(B=l.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(S)u.flags&256?(Zo(u),u.flags&=-257,u=sx(l,u,h)):u.memoizedState!==null?(ea(),u.child=l.child,u.flags|=128,u=null):(ea(),x=g.fallback,R=u.mode,g=jm({mode:"visible",children:g.children},R),x=xl(x,R,h,null),x.flags|=2,g.return=u,x.return=u,g.sibling=x,u.child=g,hu(u,l.child,null,h),g=u.child,g.memoizedState=nx(h),g.childLanes=rx(l,O,h),u.memoizedState=tx,u=x);else if(Zo(u),zx(R)){if(O=R.nextSibling&&R.nextSibling.dataset,O)var K=O.dgst;O=K,g=Error(r(419)),g.stack="",g.digest=O,lf({value:g,source:null,stack:null}),u=sx(l,u,h)}else if(_n||cf(l,u,h,!1),O=(h&l.childLanes)!==0,_n||O){if(O=It,O!==null&&(g=h&-h,g=(g&42)!==0?1:nr(g),g=(g&(O.suspendedLanes|h))!==0?0:g,g!==0&&g!==B.retryLane))throw B.retryLane=g,nu(l,g),si(O,l,g),QE;R.data==="$?"||Mx(),u=sx(l,u,h)}else R.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=B.treeContext,nn=Vi(R.nextSibling),wr=u,mt=!0,Ml=null,as=!1,l!==null&&(gi[yi++]=Gs,gi[yi++]=Xs,gi[yi++]=wl,Gs=l.id,Xs=l.overflow,wl=u),u=ix(u,g.children),u.flags|=4096);return u}return x?(ea(),x=g.fallback,R=u.mode,B=l.child,K=B.sibling,g=Qs(B,{mode:"hidden",children:g.children}),g.subtreeFlags=B.subtreeFlags&65011712,K!==null?x=Qs(K,x):(x=xl(x,R,h,null),x.flags|=2),x.return=u,g.return=u,g.sibling=x,u.child=g,g=x,x=u.child,R=l.child.memoizedState,R===null?R=nx(h):(B=R.cachePool,B!==null?(K=Mn._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=$k(),R={baseLanes:R.baseLanes|h,cachePool:B}),x.memoizedState=R,x.childLanes=rx(l,O,h),u.memoizedState=tx,g):(Zo(u),h=l.child,l=h.sibling,h=Qs(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,l!==null&&(O=u.deletions,O===null?(u.deletions=[l],u.flags|=16):O.push(l)),u.child=h,u.memoizedState=null,h)}function ix(l,u){return u=jm({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function jm(l,u){return l=ei(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function sx(l,u,h){return hu(u,l.child,null,h),l=ix(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function sT(l,u,h){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),Mv(l.return,u,h)}function ox(l,u,h,g,x){var S=l.memoizedState;S===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=x)}function oT(l,u,h){var g=u.pendingProps,x=g.revealOrder,S=g.tail;if(Wn(l,u,g.children,h),g=Dn.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&sT(l,h,u);else if(l.tag===19)sT(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}switch(le(Dn,g),x){case"forwards":for(h=u.child,x=null;h!==null;)l=h.alternate,l!==null&&Nm(l)===null&&(x=h),h=h.sibling;h=x,h===null?(x=u.child,u.child=null):(x=h.sibling,h.sibling=null),ox(u,!1,x,h,S);break;case"backwards":for(h=null,x=u.child,u.child=null;x!==null;){if(l=x.alternate,l!==null&&Nm(l)===null){u.child=x;break}l=x.sibling,x.sibling=h,h=x,x=l}ox(u,!0,h,null,S);break;case"together":ox(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function no(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),sa|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(cf(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=Qs(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=Qs(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function ax(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&ym(l)))}function U4(l,u,h){switch(u.tag){case 3:Te(u,u.stateNode.containerInfo),Ko(u,Mn,l.memoizedState.cache),af();break;case 27:case 5:Ae(u);break;case 4:Te(u,u.stateNode.containerInfo);break;case 10:Ko(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Zo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?iT(l,u,h):(Zo(u),l=no(l,u,h),l!==null?l.sibling:null);Zo(u);break;case 19:var x=(l.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(cf(l,u,h,!1),g=(h&u.childLanes)!==0),x){if(g)return oT(l,u,h);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),le(Dn,Dn.current),g)break;return null;case 22:case 23:return u.lanes=0,ZE(l,u,h);case 24:Ko(u,Mn,l.memoizedState.cache)}return no(l,u,h)}function aT(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)_n=!0;else{if(!ax(l,h)&&(u.flags&128)===0)return _n=!1,U4(l,u,h);_n=(l.flags&131072)!==0}else _n=!1,mt&&(u.flags&1048576)!==0&&jk(u,gm,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var g=u.elementType,x=g._init;if(g=x(g._payload),u.type=g,typeof g=="function")gv(g)?(l=Ol(g,l),u.tag=1,u=nT(null,u,g,l,h)):(u.tag=0,u=ex(null,u,g,l,h));else{if(g!=null){if(x=g.$$typeof,x===A){u.tag=11,u=GE(null,u,g,l,h);break e}else if(x===N){u.tag=14,u=XE(null,u,g,l,h);break e}}throw u=de(g)||g,Error(r(306,u,""))}}return u;case 0:return ex(l,u,u.type,u.pendingProps,h);case 1:return g=u.type,x=Ol(g,u.pendingProps),nT(l,u,g,x,h);case 3:e:{if(Te(u,u.stateNode.containerInfo),l===null)throw Error(r(387));g=u.pendingProps;var S=u.memoizedState;x=S.element,_v(l,u),gf(u,g,null,h);var O=u.memoizedState;if(g=O.cache,Ko(u,Mn,g),g!==S.cache&&Dv(u,[Mn],h,!0),mf(),g=O.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=rT(l,u,g,h);break e}else if(g!==x){x=pi(Error(r(424)),u),lf(x),u=rT(l,u,g,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(nn=Vi(l.firstChild),wr=u,mt=!0,Ml=null,as=!0,h=FE(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(af(),g===x){u=no(l,u,h);break e}Wn(l,u,g,h)}u=u.child}return u;case 26:return Im(l,u),l===null?(h=dO(u.type,null,u.pendingProps,null))?u.memoizedState=h:mt||(h=u.type,l=u.pendingProps,g=Xm(fe.current).createElement(h),g[Ft]=u,g[zt]=l,Kn(g,h,l),On(g),u.stateNode=g):u.memoizedState=dO(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ae(u),l===null&&mt&&(g=u.stateNode=lO(u.type,u.pendingProps,fe.current),wr=u,as=!0,x=nn,ca(u.type)?(Vx=x,nn=Vi(g.firstChild)):nn=x),Wn(l,u,u.pendingProps.children,h),Im(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&mt&&((x=g=nn)&&(g=y6(g,u.type,u.pendingProps,as),g!==null?(u.stateNode=g,wr=u,nn=Vi(g.firstChild),as=!1,x=!0):x=!1),x||Dl(u)),Ae(u),x=u.type,S=u.pendingProps,O=l!==null?l.memoizedProps:null,g=S.children,jx(x,S)?g=null:O!==null&&jx(x,O)&&(u.flags|=32),u.memoizedState!==null&&(x=Iv(l,u,L4,null,null,h),Bf._currentValue=x),Im(l,u),Wn(l,u,g,h),u.child;case 6:return l===null&&mt&&((l=h=nn)&&(h=b6(h,u.pendingProps,as),h!==null?(u.stateNode=h,wr=u,nn=null,l=!0):l=!1),l||Dl(u)),null;case 13:return iT(l,u,h);case 4:return Te(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=hu(u,null,g,h):Wn(l,u,g,h),u.child;case 11:return GE(l,u,u.type,u.pendingProps,h);case 7:return Wn(l,u,u.pendingProps,h),u.child;case 8:return Wn(l,u,u.pendingProps.children,h),u.child;case 12:return Wn(l,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,Ko(u,u.type,g.value),Wn(l,u,g.children,h),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,kl(u),x=ir(x),g=g(x),u.flags|=1,Wn(l,u,g,h),u.child;case 14:return XE(l,u,u.type,u.pendingProps,h);case 15:return JE(l,u,u.type,u.pendingProps,h);case 19:return oT(l,u,h);case 31:return g=u.pendingProps,h=u.mode,g={mode:g.mode,children:g.children},l===null?(h=jm(g,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=Qs(l.child,g),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return ZE(l,u,h);case 24:return kl(u),g=ir(Mn),l===null?(x=Ev(),x===null&&(x=It,S=Cv(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=h),x=S),u.memoizedState={parent:g,cache:x},Ov(u),Ko(u,Mn,x)):((l.lanes&h)!==0&&(_v(l,u),gf(u,null,null,h),mf()),x=l.memoizedState,S=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),Ko(u,Mn,g)):(g=S.cache,Ko(u,Mn,g),g!==x.cache&&Dv(u,[Mn],h,!0))),Wn(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ro(l){l.flags|=4}function lT(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!gO(u)){if(u=bi.current,u!==null&&((ct&4194048)===ct?ls!==null:(ct&62914560)!==ct&&(ct&536870912)===0||u!==ls))throw hf=Tv,Yk;l.flags|=8192}}function Bm(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Pr():536870912,l.lanes|=u,yu|=u)}function Mf(l,u){if(!mt)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function Gt(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,g=0;if(u)for(var x=l.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=g,l.childLanes=h,u}function $4(l,u,h){var g=u.pendingProps;switch(xv(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(u),null;case 1:return Gt(u),null;case 3:return h=u.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Zs(Mn),Ge(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(of(u)?ro(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,zk())),Gt(u),null;case 26:return h=u.memoizedState,l===null?(ro(u),h!==null?(Gt(u),lT(u,h)):(Gt(u),u.flags&=-16777217)):h?h!==l.memoizedState?(ro(u),Gt(u),lT(u,h)):(Gt(u),u.flags&=-16777217):(l.memoizedProps!==g&&ro(u),Gt(u),u.flags&=-16777217),null;case 27:Kt(u),h=fe.current;var x=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==g&&ro(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Gt(u),null}l=he.current,of(u)?Bk(u):(l=lO(x,g,h),u.stateNode=l,ro(u))}return Gt(u),null;case 5:if(Kt(u),h=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==g&&ro(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Gt(u),null}if(l=he.current,of(u))Bk(u);else{switch(x=Xm(fe.current),l){case 1:l=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:l=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":l=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":l=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":l=x.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?l.multiple=!0:g.size&&(l.size=g.size);break;default:l=typeof g.is=="string"?x.createElement(h,{is:g.is}):x.createElement(h)}}l[Ft]=u,l[zt]=g;e:for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break e;for(;x.sibling===null;){if(x.return===null||x.return===u)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}u.stateNode=l;e:switch(Kn(l,h,g),h){case"button":case"input":case"select":case"textarea":l=!!g.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ro(u)}}return Gt(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==g&&ro(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(l=fe.current,of(u)){if(l=u.stateNode,h=u.memoizedProps,g=null,x=wr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}l[Ft]=u,l=!!(l.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||tO(l.nodeValue,h)),l||Dl(u)}else l=Xm(l).createTextNode(g),l[Ft]=u,u.stateNode=l}return Gt(u),null;case 13:if(g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(x=of(u),g!==null&&g.dehydrated!==null){if(l===null){if(!x)throw Error(r(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Ft]=u}else af(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),x=!1}else x=zk(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(to(u),u):(to(u),null)}if(to(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=g!==null,l=l!==null&&l.memoizedState!==null,h){g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==x&&(g.flags|=2048)}return h!==l&&h&&(u.child.flags|=8192),Bm(u,u.updateQueue),Gt(u),null;case 4:return Ge(),l===null&&Rx(u.stateNode.containerInfo),Gt(u),null;case 10:return Zs(u.type),Gt(u),null;case 19:if(se(Dn),x=u.memoizedState,x===null)return Gt(u),null;if(g=(u.flags&128)!==0,S=x.rendering,S===null)if(g)Mf(x,!1);else{if(rn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(S=Nm(l),S!==null){for(u.flags|=128,Mf(x,!1),l=S.updateQueue,u.updateQueue=l,Bm(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)Ik(h,l),h=h.sibling;return le(Dn,Dn.current&1|2),u.child}l=l.sibling}x.tail!==null&&Se()>Vm&&(u.flags|=128,g=!0,Mf(x,!1),u.lanes=4194304)}else{if(!g)if(l=Nm(S),l!==null){if(u.flags|=128,g=!0,l=l.updateQueue,u.updateQueue=l,Bm(u,l),Mf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!mt)return Gt(u),null}else 2*Se()-x.renderingStartTime>Vm&&h!==536870912&&(u.flags|=128,g=!0,Mf(x,!1),u.lanes=4194304);x.isBackwards?(S.sibling=u.child,u.child=S):(l=x.last,l!==null?l.sibling=S:u.child=S,x.last=S)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Se(),u.sibling=null,l=Dn.current,le(Dn,g?l&1|2:l&1),u):(Gt(u),null);case 22:case 23:return to(u),Pv(),g=u.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(Gt(u),u.subtreeFlags&6&&(u.flags|=8192)):Gt(u),h=u.updateQueue,h!==null&&Bm(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),l!==null&&se(El),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Zs(Mn),Gt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function Y4(l,u){switch(xv(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Zs(Mn),Ge(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Kt(u),null;case 13:if(to(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));af()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return se(Dn),null;case 4:return Ge(),null;case 10:return Zs(u.type),null;case 22:case 23:return to(u),Pv(),l!==null&&se(El),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Zs(Mn),null;case 25:return null;default:return null}}function cT(l,u){switch(xv(u),u.tag){case 3:Zs(Mn),Ge();break;case 26:case 27:case 5:Kt(u);break;case 4:Ge();break;case 13:to(u);break;case 19:se(Dn);break;case 10:Zs(u.type);break;case 22:case 23:to(u),Pv(),l!==null&&se(El);break;case 24:Zs(Mn)}}function Df(l,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&l)===l){g=void 0;var S=h.create,O=h.inst;g=S(),O.destroy=g}h=h.next}while(h!==x)}}catch(R){_t(u,u.return,R)}}function ta(l,u,h){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var S=x.next;g=S;do{if((g.tag&l)===l){var O=g.inst,R=O.destroy;if(R!==void 0){O.destroy=void 0,x=u;var B=h,K=R;try{K()}catch(te){_t(x,B,te)}}}g=g.next}while(g!==S)}}catch(te){_t(u,u.return,te)}}function uT(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{Xk(u,h)}catch(g){_t(l,l.return,g)}}}function dT(l,u,h){h.props=Ol(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(g){_t(l,u,g)}}function Cf(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof h=="function"?l.refCleanup=h(g):h.current=g}}catch(x){_t(l,u,x)}}function cs(l,u){var h=l.ref,g=l.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){_t(l,u,x)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){_t(l,u,x)}else h.current=null}function fT(l){var u=l.type,h=l.memoizedProps,g=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){_t(l,l.return,x)}}function lx(l,u,h){try{var g=l.stateNode;f6(g,l.type,h,u),g[zt]=u}catch(x){_t(l,l.return,x)}}function hT(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ca(l.type)||l.tag===4}function cx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||hT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ca(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ux(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Gm));else if(g!==4&&(g===27&&ca(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(ux(l,u,h),l=l.sibling;l!==null;)ux(l,u,h),l=l.sibling}function Fm(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(g!==4&&(g===27&&ca(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Fm(l,u,h),l=l.sibling;l!==null;)Fm(l,u,h),l=l.sibling}function pT(l){var u=l.stateNode,h=l.memoizedProps;try{for(var g=l.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);Kn(u,g,h),u[Ft]=l,u[zt]=h}catch(S){_t(l,l.return,S)}}var io=!1,dn=!1,dx=!1,mT=typeof WeakSet=="function"?WeakSet:Set,An=null;function W4(l,u){if(l=l.containerInfo,Lx=rg,l=kk(l),cv(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var O=0,R=-1,B=-1,K=0,te=0,ie=l,Q=null;t:for(;;){for(var G;ie!==h||x!==0&&ie.nodeType!==3||(R=O+x),ie!==S||g!==0&&ie.nodeType!==3||(B=O+g),ie.nodeType===3&&(O+=ie.nodeValue.length),(G=ie.firstChild)!==null;)Q=ie,ie=G;for(;;){if(ie===l)break t;if(Q===h&&++K===x&&(R=O),Q===S&&++te===g&&(B=O),(G=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=G}h=R===-1||B===-1?null:{start:R,end:B}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ix={focusedElem:l,selectionRange:h},rg=!1,An=u;An!==null;)if(u=An,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,An=l;else for(;An!==null;){switch(u=An,S=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&S!==null){l=void 0,h=u,x=S.memoizedProps,S=S.memoizedState,g=h.stateNode;try{var Re=Ol(h.type,x,h.elementType===h.type);l=g.getSnapshotBeforeUpdate(Re,S),g.__reactInternalSnapshotBeforeUpdate=l}catch(Oe){_t(h,h.return,Oe)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)Fx(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Fx(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,An=l;break}An=u.return}}function gT(l,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:na(l,h),g&4&&Df(5,h);break;case 1:if(na(l,h),g&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(O){_t(h,h.return,O)}else{var x=Ol(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(x,u,l.__reactInternalSnapshotBeforeUpdate)}catch(O){_t(h,h.return,O)}}g&64&&uT(h),g&512&&Cf(h,h.return);break;case 3:if(na(l,h),g&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Xk(l,u)}catch(O){_t(h,h.return,O)}}break;case 27:u===null&&g&4&&pT(h);case 26:case 5:na(l,h),u===null&&g&4&&fT(h),g&512&&Cf(h,h.return);break;case 12:na(l,h);break;case 13:na(l,h),g&4&&vT(l,h),g&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=t6.bind(null,h),v6(l,h))));break;case 22:if(g=h.memoizedState!==null||io,!g){u=u!==null&&u.memoizedState!==null||dn,x=io;var S=dn;io=g,(dn=u)&&!S?ra(l,h,(h.subtreeFlags&8772)!==0):na(l,h),io=x,dn=S}break;case 30:break;default:na(l,h)}}function yT(l){var u=l.alternate;u!==null&&(l.alternate=null,yT(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&$b(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Ut=null,jr=!1;function so(l,u,h){for(h=h.child;h!==null;)bT(l,u,h),h=h.sibling}function bT(l,u,h){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Rt,h)}catch{}switch(h.tag){case 26:dn||cs(h,u),so(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:dn||cs(h,u);var g=Ut,x=jr;ca(h.type)&&(Ut=h.stateNode,jr=!1),so(l,u,h),Pf(h.stateNode),Ut=g,jr=x;break;case 5:dn||cs(h,u);case 6:if(g=Ut,x=jr,Ut=null,so(l,u,h),Ut=g,jr=x,Ut!==null)if(jr)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(h.stateNode)}catch(S){_t(h,u,S)}else try{Ut.removeChild(h.stateNode)}catch(S){_t(h,u,S)}break;case 18:Ut!==null&&(jr?(l=Ut,oO(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Hf(l)):oO(Ut,h.stateNode));break;case 4:g=Ut,x=jr,Ut=h.stateNode.containerInfo,jr=!0,so(l,u,h),Ut=g,jr=x;break;case 0:case 11:case 14:case 15:dn||ta(2,h,u),dn||ta(4,h,u),so(l,u,h);break;case 1:dn||(cs(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&dT(h,u,g)),so(l,u,h);break;case 21:so(l,u,h);break;case 22:dn=(g=dn)||h.memoizedState!==null,so(l,u,h),dn=g;break;default:so(l,u,h)}}function vT(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Hf(l)}catch(h){_t(u,u.return,h)}}function q4(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new mT),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new mT),u;default:throw Error(r(435,l.tag))}}function fx(l,u){var h=q4(l);u.forEach(function(g){var x=n6.bind(null,l,g);h.has(g)||(h.add(g),g.then(x,x))})}function ti(l,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],S=l,O=u,R=O;e:for(;R!==null;){switch(R.tag){case 27:if(ca(R.type)){Ut=R.stateNode,jr=!1;break e}break;case 5:Ut=R.stateNode,jr=!1;break e;case 3:case 4:Ut=R.stateNode.containerInfo,jr=!0;break e}R=R.return}if(Ut===null)throw Error(r(160));bT(S,O,x),Ut=null,jr=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)xT(u,l),u=u.sibling}var zi=null;function xT(l,u){var h=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ti(u,l),ni(l),g&4&&(ta(3,l,l.return),Df(3,l),ta(5,l,l.return));break;case 1:ti(u,l),ni(l),g&512&&(dn||h===null||cs(h,h.return)),g&64&&io&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=zi;if(ti(u,l),ni(l),g&512&&(dn||h===null||cs(h,h.return)),g&4){var S=h!==null?h.memoizedState:null;if(g=l.memoizedState,h===null)if(g===null)if(l.stateNode===null){e:{g=l.type,h=l.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":S=x.getElementsByTagName("title")[0],(!S||S[Ws]||S[Ft]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(g),x.head.insertBefore(S,x.querySelector("head > title"))),Kn(S,g,h),S[Ft]=l,On(S),g=S;break e;case"link":var O=pO("link","href",x).get(g+(h.href||""));if(O){for(var R=0;R<O.length;R++)if(S=O[R],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(R,1);break t}}S=x.createElement(g),Kn(S,g,h),x.head.appendChild(S);break;case"meta":if(O=pO("meta","content",x).get(g+(h.content||""))){for(R=0;R<O.length;R++)if(S=O[R],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(R,1);break t}}S=x.createElement(g),Kn(S,g,h),x.head.appendChild(S);break;default:throw Error(r(468,g))}S[Ft]=l,On(S),g=S}l.stateNode=g}else mO(x,l.type,l.stateNode);else l.stateNode=hO(x,g,l.memoizedProps);else S!==g?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,g===null?mO(x,l.type,l.stateNode):hO(x,g,l.memoizedProps)):g===null&&l.stateNode!==null&&lx(l,l.memoizedProps,h.memoizedProps)}break;case 27:ti(u,l),ni(l),g&512&&(dn||h===null||cs(h,h.return)),h!==null&&g&4&&lx(l,l.memoizedProps,h.memoizedProps);break;case 5:if(ti(u,l),ni(l),g&512&&(dn||h===null||cs(h,h.return)),l.flags&32){x=l.stateNode;try{Qc(x,"")}catch(G){_t(l,l.return,G)}}g&4&&l.stateNode!=null&&(x=l.memoizedProps,lx(l,x,h!==null?h.memoizedProps:x)),g&1024&&(dx=!0);break;case 6:if(ti(u,l),ni(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,h=l.stateNode;try{h.nodeValue=g}catch(G){_t(l,l.return,G)}}break;case 3:if(eg=null,x=zi,zi=Jm(u.containerInfo),ti(u,l),zi=x,ni(l),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Hf(u.containerInfo)}catch(G){_t(l,l.return,G)}dx&&(dx=!1,wT(l));break;case 4:g=zi,zi=Jm(l.stateNode.containerInfo),ti(u,l),ni(l),zi=g;break;case 12:ti(u,l),ni(l);break;case 13:ti(u,l),ni(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(bx=Se()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fx(l,g)));break;case 22:x=l.memoizedState!==null;var B=h!==null&&h.memoizedState!==null,K=io,te=dn;if(io=K||x,dn=te||B,ti(u,l),dn=te,io=K,ni(l),g&8192)e:for(u=l.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(h===null||B||io||dn||_l(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){B=h=u;try{if(S=B.stateNode,x)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{R=B.stateNode;var ie=B.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(G){_t(B,B.return,G)}}}else if(u.tag===6){if(h===null){B=u;try{B.stateNode.nodeValue=x?"":B.memoizedProps}catch(G){_t(B,B.return,G)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=l.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,fx(l,h))));break;case 19:ti(u,l),ni(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fx(l,g)));break;case 30:break;case 21:break;default:ti(u,l),ni(l)}}function ni(l){var u=l.flags;if(u&2){try{for(var h,g=l.return;g!==null;){if(hT(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var x=h.stateNode,S=cx(l);Fm(l,S,x);break;case 5:var O=h.stateNode;h.flags&32&&(Qc(O,""),h.flags&=-33);var R=cx(l);Fm(l,R,O);break;case 3:case 4:var B=h.stateNode.containerInfo,K=cx(l);ux(l,K,B);break;default:throw Error(r(161))}}catch(te){_t(l,l.return,te)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function wT(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;wT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function na(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)gT(l,u.alternate,u),u=u.sibling}function _l(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ta(4,u,u.return),_l(u);break;case 1:cs(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&dT(u,u.return,h),_l(u);break;case 27:Pf(u.stateNode);case 26:case 5:cs(u,u.return),_l(u);break;case 22:u.memoizedState===null&&_l(u);break;case 30:_l(u);break;default:_l(u)}l=l.sibling}}function ra(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=l,S=u,O=S.flags;switch(S.tag){case 0:case 11:case 15:ra(x,S,h),Df(4,S);break;case 1:if(ra(x,S,h),g=S,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(K){_t(g,g.return,K)}if(g=S,x=g.updateQueue,x!==null){var R=g.stateNode;try{var B=x.shared.hiddenCallbacks;if(B!==null)for(x.shared.hiddenCallbacks=null,x=0;x<B.length;x++)Gk(B[x],R)}catch(K){_t(g,g.return,K)}}h&&O&64&&uT(S),Cf(S,S.return);break;case 27:pT(S);case 26:case 5:ra(x,S,h),h&&g===null&&O&4&&fT(S),Cf(S,S.return);break;case 12:ra(x,S,h);break;case 13:ra(x,S,h),h&&O&4&&vT(x,S);break;case 22:S.memoizedState===null&&ra(x,S,h),Cf(S,S.return);break;case 30:break;default:ra(x,S,h)}u=u.sibling}}function hx(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&uf(h))}function px(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&uf(l))}function us(l,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)ST(l,u,h,g),u=u.sibling}function ST(l,u,h,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:us(l,u,h,g),x&2048&&Df(9,u);break;case 1:us(l,u,h,g);break;case 3:us(l,u,h,g),x&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&uf(l)));break;case 12:if(x&2048){us(l,u,h,g),l=u.stateNode;try{var S=u.memoizedProps,O=S.id,R=S.onPostCommit;typeof R=="function"&&R(O,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(B){_t(u,u.return,B)}}else us(l,u,h,g);break;case 13:us(l,u,h,g);break;case 23:break;case 22:S=u.stateNode,O=u.alternate,u.memoizedState!==null?S._visibility&2?us(l,u,h,g):kf(l,u):S._visibility&2?us(l,u,h,g):(S._visibility|=2,pu(l,u,h,g,(u.subtreeFlags&10256)!==0)),x&2048&&hx(O,u);break;case 24:us(l,u,h,g),x&2048&&px(u.alternate,u);break;default:us(l,u,h,g)}}function pu(l,u,h,g,x){for(x=x&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var S=l,O=u,R=h,B=g,K=O.flags;switch(O.tag){case 0:case 11:case 15:pu(S,O,R,B,x),Df(8,O);break;case 23:break;case 22:var te=O.stateNode;O.memoizedState!==null?te._visibility&2?pu(S,O,R,B,x):kf(S,O):(te._visibility|=2,pu(S,O,R,B,x)),x&&K&2048&&hx(O.alternate,O);break;case 24:pu(S,O,R,B,x),x&&K&2048&&px(O.alternate,O);break;default:pu(S,O,R,B,x)}u=u.sibling}}function kf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,g=u,x=g.flags;switch(g.tag){case 22:kf(h,g),x&2048&&hx(g.alternate,g);break;case 24:kf(h,g),x&2048&&px(g.alternate,g);break;default:kf(h,g)}u=u.sibling}}var Ef=8192;function mu(l){if(l.subtreeFlags&Ef)for(l=l.child;l!==null;)MT(l),l=l.sibling}function MT(l){switch(l.tag){case 26:mu(l),l.flags&Ef&&l.memoizedState!==null&&R6(zi,l.memoizedState,l.memoizedProps);break;case 5:mu(l);break;case 3:case 4:var u=zi;zi=Jm(l.stateNode.containerInfo),mu(l),zi=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Ef,Ef=16777216,mu(l),Ef=u):mu(l));break;default:mu(l)}}function DT(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Tf(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];An=g,kT(g,l)}DT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)CT(l),l=l.sibling}function CT(l){switch(l.tag){case 0:case 11:case 15:Tf(l),l.flags&2048&&ta(9,l,l.return);break;case 3:Tf(l);break;case 12:Tf(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,zm(l)):Tf(l);break;default:Tf(l)}}function zm(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];An=g,kT(g,l)}DT(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ta(8,u,u.return),zm(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,zm(u));break;default:zm(u)}l=l.sibling}}function kT(l,u){for(;An!==null;){var h=An;switch(h.tag){case 0:case 11:case 15:ta(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:uf(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,An=g;else e:for(h=l;An!==null;){g=An;var x=g.sibling,S=g.return;if(yT(g),g===h){An=null;break e}if(x!==null){x.return=S,An=x;break e}An=S}}}var K4={getCacheForType:function(l){var u=ir(Mn),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h}},Q4=typeof WeakMap=="function"?WeakMap:Map,wt=0,It=null,et=null,ct=0,St=0,ri=null,ia=!1,gu=!1,mx=!1,oo=0,rn=0,sa=0,Al=0,gx=0,vi=0,yu=0,Of=null,Br=null,yx=!1,bx=0,Vm=1/0,Hm=null,oa=null,qn=0,aa=null,bu=null,vu=0,vx=0,xx=null,ET=null,_f=0,wx=null;function ii(){if((wt&2)!==0&&ct!==0)return ct&-ct;if(F.T!==null){var l=ou;return l!==0?l:Tx()}return Jr()}function TT(){vi===0&&(vi=(ct&536870912)===0||mt?$o():536870912);var l=bi.current;return l!==null&&(l.flags|=32),vi}function si(l,u,h){(l===It&&(St===2||St===9)||l.cancelPendingCommit!==null)&&(xu(l,0),la(l,ct,vi,!1)),Pt(l,h),((wt&2)===0||l!==It)&&(l===It&&((wt&2)===0&&(Al|=h),rn===4&&la(l,ct,vi,!1)),ds(l))}function OT(l,u,h){if((wt&6)!==0)throw Error(r(327));var g=!h&&(u&124)===0&&(u&l.expiredLanes)===0||er(l,u),x=g?J4(l,u):Dx(l,u,!0),S=g;do{if(x===0){gu&&!g&&la(l,u,0,!1);break}else{if(h=l.current.alternate,S&&!G4(h)){x=Dx(l,u,!1),S=!1;continue}if(x===2){if(S=u,l.errorRecoveryDisabledLanes&S)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var R=l;x=Of;var B=R.current.memoizedState.isDehydrated;if(B&&(xu(R,O).flags|=256),O=Dx(R,O,!1),O!==2){if(mx&&!B){R.errorRecoveryDisabledLanes|=S,Al|=S,x=4;break e}S=Br,Br=x,S!==null&&(Br===null?Br=S:Br.push.apply(Br,S))}x=O}if(S=!1,x!==2)continue}}if(x===1){xu(l,0),la(l,u,0,!0);break}e:{switch(g=l,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:la(g,u,vi,!ia);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(x=bx+300-Se(),10<x)){if(la(g,u,vi,!ia),vr(g,0,!0)!==0)break e;g.timeoutHandle=iO(_T.bind(null,g,h,Br,Hm,yx,u,vi,Al,yu,ia,S,2,-0,0),x);break e}_T(g,h,Br,Hm,yx,u,vi,Al,yu,ia,S,0,-0,0)}}break}while(!0);ds(l)}function _T(l,u,h,g,x,S,O,R,B,K,te,ie,Q,G){if(l.timeoutHandle=-1,ie=u.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(jf={stylesheets:null,count:0,unsuspend:A6},MT(u),ie=N6(),ie!==null)){l.cancelPendingCommit=ie(jT.bind(null,l,u,S,h,g,x,O,R,B,te,1,Q,G)),la(l,S,O,!K);return}jT(l,u,S,h,g,x,O,R,B)}function G4(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],S=x.getSnapshot;x=x.value;try{if(!Zr(S(),x))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function la(l,u,h,g){u&=~gx,u&=~Al,l.suspendedLanes|=u,l.pingedLanes&=~u,g&&(l.warmLanes|=u),g=l.expirationTimes;for(var x=u;0<x;){var S=31-Be(x),O=1<<S;g[S]=-1,x&=~O}h!==0&&tr(l,h,u)}function Um(){return(wt&6)===0?(Af(0),!1):!0}function Sx(){if(et!==null){if(St===0)var l=et.return;else l=et,Js=Cl=null,Fv(l),fu=null,wf=0,l=et;for(;l!==null;)cT(l.alternate,l),l=l.return;et=null}}function xu(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,p6(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),Sx(),It=l,et=h=Qs(l.current,null),ct=u,St=0,ri=null,ia=!1,gu=er(l,u),mx=!1,yu=vi=gx=Al=sa=rn=0,Br=Of=null,yx=!1,(u&8)!==0&&(u|=u&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=u;0<g;){var x=31-Be(g),S=1<<x;u|=l[x],g&=~S}return oo=u,dm(),h}function AT(l,u){We=null,F.H=_m,u===ff||u===xm?(u=Kk(),St=3):u===Yk?(u=Kk(),St=4):St=u===QE?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ri=u,et===null&&(rn=1,Lm(l,pi(u,l.current)))}function RT(){var l=F.H;return F.H=_m,l===null?_m:l}function NT(){var l=F.A;return F.A=K4,l}function Mx(){rn=4,ia||(ct&4194048)!==ct&&bi.current!==null||(gu=!0),(sa&134217727)===0&&(Al&134217727)===0||It===null||la(It,ct,vi,!1)}function Dx(l,u,h){var g=wt;wt|=2;var x=RT(),S=NT();(It!==l||ct!==u)&&(Hm=null,xu(l,u)),u=!1;var O=rn;e:do try{if(St!==0&&et!==null){var R=et,B=ri;switch(St){case 8:Sx(),O=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(u=!0);var K=St;if(St=0,ri=null,wu(l,R,B,K),h&&gu){O=0;break e}break;default:K=St,St=0,ri=null,wu(l,R,B,K)}}X4(),O=rn;break}catch(te){AT(l,te)}while(!0);return u&&l.shellSuspendCounter++,Js=Cl=null,wt=g,F.H=x,F.A=S,et===null&&(It=null,ct=0,dm()),O}function X4(){for(;et!==null;)PT(et)}function J4(l,u){var h=wt;wt|=2;var g=RT(),x=NT();It!==l||ct!==u?(Hm=null,Vm=Se()+500,xu(l,u)):gu=er(l,u);e:do try{if(St!==0&&et!==null){u=et;var S=ri;t:switch(St){case 1:St=0,ri=null,wu(l,u,S,1);break;case 2:case 9:if(Wk(S)){St=0,ri=null,LT(u);break}u=function(){St!==2&&St!==9||It!==l||(St=7),ds(l)},S.then(u,u);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:Wk(S)?(St=0,ri=null,LT(u)):(St=0,ri=null,wu(l,u,S,7));break;case 5:var O=null;switch(et.tag){case 26:O=et.memoizedState;case 5:case 27:var R=et;if(!O||gO(O)){St=0,ri=null;var B=R.sibling;if(B!==null)et=B;else{var K=R.return;K!==null?(et=K,$m(K)):et=null}break t}}St=0,ri=null,wu(l,u,S,5);break;case 6:St=0,ri=null,wu(l,u,S,6);break;case 8:Sx(),rn=6;break e;default:throw Error(r(462))}}Z4();break}catch(te){AT(l,te)}while(!0);return Js=Cl=null,F.H=g,F.A=x,wt=h,et!==null?0:(It=null,ct=0,dm(),rn)}function Z4(){for(;et!==null&&!me();)PT(et)}function PT(l){var u=aT(l.alternate,l,oo);l.memoizedProps=l.pendingProps,u===null?$m(l):et=u}function LT(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=tT(h,u,u.pendingProps,u.type,void 0,ct);break;case 11:u=tT(h,u,u.pendingProps,u.type.render,u.ref,ct);break;case 5:Fv(u);default:cT(h,u),u=et=Ik(u,oo),u=aT(h,u,oo)}l.memoizedProps=l.pendingProps,u===null?$m(l):et=u}function wu(l,u,h,g){Js=Cl=null,Fv(u),fu=null,wf=0;var x=u.return;try{if(H4(l,x,u,h,ct)){rn=1,Lm(l,pi(h,l.current)),et=null;return}}catch(S){if(x!==null)throw et=x,S;rn=1,Lm(l,pi(h,l.current)),et=null;return}u.flags&32768?(mt||g===1?l=!0:gu||(ct&536870912)!==0?l=!1:(ia=l=!0,(g===2||g===9||g===3||g===6)&&(g=bi.current,g!==null&&g.tag===13&&(g.flags|=16384))),IT(u,l)):$m(u)}function $m(l){var u=l;do{if((u.flags&32768)!==0){IT(u,ia);return}l=u.return;var h=$4(u.alternate,u,oo);if(h!==null){et=h;return}if(u=u.sibling,u!==null){et=u;return}et=u=l}while(u!==null);rn===0&&(rn=5)}function IT(l,u){do{var h=Y4(l.alternate,l);if(h!==null){h.flags&=32767,et=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){et=l;return}et=l=h}while(l!==null);rn=6,et=null}function jT(l,u,h,g,x,S,O,R,B){l.cancelPendingCommit=null;do Ym();while(qn!==0);if((wt&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=pv,xr(l,h,S,O,R,B),l===It&&(et=It=null,ct=0),bu=u,aa=l,vu=h,vx=S,xx=x,ET=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,r6(Fe,function(){return HT(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,x=U.p,U.p=2,O=wt,wt|=4;try{W4(l,u,h)}finally{wt=O,U.p=x,F.T=g}}qn=1,BT(),FT(),zT()}}function BT(){if(qn===1){qn=0;var l=aa,u=bu,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=F.T,F.T=null;var g=U.p;U.p=2;var x=wt;wt|=4;try{xT(u,l);var S=Ix,O=kk(l.containerInfo),R=S.focusedElem,B=S.selectionRange;if(O!==R&&R&&R.ownerDocument&&Ck(R.ownerDocument.documentElement,R)){if(B!==null&&cv(R)){var K=B.start,te=B.end;if(te===void 0&&(te=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(te,R.value.length);else{var ie=R.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var G=Q.getSelection(),Re=R.textContent.length,Oe=Math.min(B.start,Re),Tt=B.end===void 0?Oe:Math.min(B.end,Re);!G.extend&&Oe>Tt&&(O=Tt,Tt=Oe,Oe=O);var Y=Dk(R,Oe),H=Dk(R,Tt);if(Y&&H&&(G.rangeCount!==1||G.anchorNode!==Y.node||G.anchorOffset!==Y.offset||G.focusNode!==H.node||G.focusOffset!==H.offset)){var W=ie.createRange();W.setStart(Y.node,Y.offset),G.removeAllRanges(),Oe>Tt?(G.addRange(W),G.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),G.addRange(W))}}}}for(ie=[],G=R;G=G.parentNode;)G.nodeType===1&&ie.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ie.length;R++){var re=ie[R];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}rg=!!Lx,Ix=Lx=null}finally{wt=x,U.p=g,F.T=h}}l.current=u,qn=2}}function FT(){if(qn===2){qn=0;var l=aa,u=bu,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=F.T,F.T=null;var g=U.p;U.p=2;var x=wt;wt|=4;try{gT(l,u.alternate,u)}finally{wt=x,U.p=g,F.T=h}}qn=3}}function zT(){if(qn===4||qn===3){qn=0,Pe();var l=aa,u=bu,h=vu,g=ET;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?qn=5:(qn=0,bu=aa=null,VT(l,l.pendingLanes));var x=l.pendingLanes;if(x===0&&(oa=null),Yn(h),u=u.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Rt,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=F.T,x=U.p,U.p=2,F.T=null;try{for(var S=l.onRecoverableError,O=0;O<g.length;O++){var R=g[O];S(R.value,{componentStack:R.stack})}}finally{F.T=u,U.p=x}}(vu&3)!==0&&Ym(),ds(l),x=l.pendingLanes,(h&4194090)!==0&&(x&42)!==0?l===wx?_f++:(_f=0,wx=l):_f=0,Af(0)}}function VT(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,uf(u)))}function Ym(l){return BT(),FT(),zT(),HT()}function HT(){if(qn!==5)return!1;var l=aa,u=vx;vx=0;var h=Yn(vu),g=F.T,x=U.p;try{U.p=32>h?32:h,F.T=null,h=xx,xx=null;var S=aa,O=vu;if(qn=0,bu=aa=null,vu=0,(wt&6)!==0)throw Error(r(331));var R=wt;if(wt|=4,CT(S.current),ST(S,S.current,O,h),wt=R,Af(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Rt,S)}catch{}return!0}finally{U.p=x,F.T=g,VT(l,u)}}function UT(l,u,h){u=pi(h,u),u=Zv(l.stateNode,u,2),l=Xo(l,u,2),l!==null&&(Pt(l,2),ds(l))}function _t(l,u,h){if(l.tag===3)UT(l,l,h);else for(;u!==null;){if(u.tag===3){UT(u,l,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(oa===null||!oa.has(g))){l=pi(h,l),h=qE(2),g=Xo(u,h,2),g!==null&&(KE(h,g,u,l),Pt(g,2),ds(g));break}}u=u.return}}function Cx(l,u,h){var g=l.pingCache;if(g===null){g=l.pingCache=new Q4;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(h)||(mx=!0,x.add(h),l=e6.bind(null,l,u,h),u.then(l,l))}function e6(l,u,h){var g=l.pingCache;g!==null&&g.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,It===l&&(ct&h)===h&&(rn===4||rn===3&&(ct&62914560)===ct&&300>Se()-bx?(wt&2)===0&&xu(l,0):gx|=h,yu===ct&&(yu=0)),ds(l)}function $T(l,u){u===0&&(u=Pr()),l=nu(l,u),l!==null&&(Pt(l,u),ds(l))}function t6(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),$T(l,h)}function n6(l,u){var h=0;switch(l.tag){case 13:var g=l.stateNode,x=l.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),$T(l,h)}function r6(l,u){return ne(l,u)}var Wm=null,Su=null,kx=!1,qm=!1,Ex=!1,Rl=0;function ds(l){l!==Su&&l.next===null&&(Su===null?Wm=Su=l:Su=Su.next=l),qm=!0,kx||(kx=!0,s6())}function Af(l,u){if(!Ex&&qm){Ex=!0;do for(var h=!1,g=Wm;g!==null;){if(l!==0){var x=g.pendingLanes;if(x===0)var S=0;else{var O=g.suspendedLanes,R=g.pingedLanes;S=(1<<31-Be(42|l)+1)-1,S&=x&~(O&~R),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,KT(g,S))}else S=ct,S=vr(g,g===It?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||er(g,S)||(h=!0,KT(g,S));g=g.next}while(h);Ex=!1}}function i6(){YT()}function YT(){qm=kx=!1;var l=0;Rl!==0&&(h6()&&(l=Rl),Rl=0);for(var u=Se(),h=null,g=Wm;g!==null;){var x=g.next,S=WT(g,u);S===0?(g.next=null,h===null?Wm=x:h.next=x,x===null&&(Su=h)):(h=g,(l!==0||(S&3)!==0)&&(qm=!0)),g=x}Af(l)}function WT(l,u){for(var h=l.suspendedLanes,g=l.pingedLanes,x=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var O=31-Be(S),R=1<<O,B=x[O];B===-1?((R&h)===0||(R&g)!==0)&&(x[O]=Uo(R,u)):B<=u&&(l.expiredLanes|=R),S&=~R}if(u=It,h=ct,h=vr(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,h===0||l===u&&(St===2||St===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&pe(g),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||er(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(g!==null&&pe(g),Yn(h)){case 2:case 8:h=Ze;break;case 32:h=Fe;break;case 268435456:h=st;break;default:h=Fe}return g=qT.bind(null,l),h=ne(h,g),l.callbackPriority=u,l.callbackNode=h,u}return g!==null&&g!==null&&pe(g),l.callbackPriority=2,l.callbackNode=null,2}function qT(l,u){if(qn!==0&&qn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(Ym()&&l.callbackNode!==h)return null;var g=ct;return g=vr(l,l===It?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(OT(l,g,u),WT(l,Se()),l.callbackNode!=null&&l.callbackNode===h?qT.bind(null,l):null)}function KT(l,u){if(Ym())return null;OT(l,u,!0)}function s6(){m6(function(){(wt&6)!==0?ne(rt,i6):YT()})}function Tx(){return Rl===0&&(Rl=$o()),Rl}function QT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:im(""+l)}function GT(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function o6(l,u,h,g,x){if(u==="submit"&&h&&h.stateNode===x){var S=QT((x[zt]||null).action),O=g.submitter;O&&(u=(u=O[zt]||null)?QT(u.formAction):O.getAttribute("formAction"),u!==null&&(S=u,O=null));var R=new lm("action","action",null,g,x);l.push({event:R,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Rl!==0){var B=O?GT(x,O):new FormData(x);Kv(h,{pending:!0,data:B,method:x.method,action:S},null,B)}}else typeof S=="function"&&(R.preventDefault(),B=O?GT(x,O):new FormData(x),Kv(h,{pending:!0,data:B,method:x.method,action:S},S,B))},currentTarget:x}]})}}for(var Ox=0;Ox<hv.length;Ox++){var _x=hv[Ox],a6=_x.toLowerCase(),l6=_x[0].toUpperCase()+_x.slice(1);Fi(a6,"on"+l6)}Fi(Ok,"onAnimationEnd"),Fi(_k,"onAnimationIteration"),Fi(Ak,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(C4,"onTransitionRun"),Fi(k4,"onTransitionStart"),Fi(E4,"onTransitionCancel"),Fi(Rk,"onTransitionEnd"),Wc("onMouseEnter",["mouseout","mouseover"]),Wc("onMouseLeave",["mouseout","mouseover"]),Wc("onPointerEnter",["pointerout","pointerover"]),Wc("onPointerLeave",["pointerout","pointerover"]),gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rf));function XT(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var g=l[h],x=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var O=g.length-1;0<=O;O--){var R=g[O],B=R.instance,K=R.currentTarget;if(R=R.listener,B!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=K;try{S(x)}catch(te){Pm(te)}x.currentTarget=null,S=B}else for(O=0;O<g.length;O++){if(R=g[O],B=R.instance,K=R.currentTarget,R=R.listener,B!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=K;try{S(x)}catch(te){Pm(te)}x.currentTarget=null,S=B}}}}function tt(l,u){var h=u[Ys];h===void 0&&(h=u[Ys]=new Set);var g=l+"__bubble";h.has(g)||(JT(u,l,2,!1),h.add(g))}function Ax(l,u,h){var g=0;u&&(g|=4),JT(h,l,g,u)}var Km="_reactListening"+Math.random().toString(36).slice(2);function Rx(l){if(!l[Km]){l[Km]=!0,YC.forEach(function(h){h!=="selectionchange"&&(c6.has(h)||Ax(h,!1,l),Ax(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Km]||(u[Km]=!0,Ax("selectionchange",!1,u))}}function JT(l,u,h,g){switch(SO(u)){case 2:var x=I6;break;case 8:x=j6;break;default:x=Wx}h=x.bind(null,u,h,l),x=void 0,!ev||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?l.addEventListener(u,h,{capture:!0,passive:x}):l.addEventListener(u,h,!0):x!==void 0?l.addEventListener(u,h,{passive:x}):l.addEventListener(u,h,!1)}function Nx(l,u,h,g,x){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var R=g.stateNode.containerInfo;if(R===x)break;if(O===4)for(O=g.return;O!==null;){var B=O.tag;if((B===3||B===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;R!==null;){if(O=Uc(R),O===null)return;if(B=O.tag,B===5||B===6||B===26||B===27){g=S=O;continue e}R=R.parentNode}}g=g.return}sk(function(){var K=S,te=Jb(h),ie=[];e:{var Q=Nk.get(l);if(Q!==void 0){var G=lm,Re=l;switch(l){case"keypress":if(om(h)===0)break e;case"keydown":case"keyup":G=r4;break;case"focusin":Re="focus",G=iv;break;case"focusout":Re="blur",G=iv;break;case"beforeblur":case"afterblur":G=iv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Y5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=o4;break;case Ok:case _k:case Ak:G=K5;break;case Rk:G=l4;break;case"scroll":case"scrollend":G=U5;break;case"wheel":G=u4;break;case"copy":case"cut":case"paste":G=G5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=uk;break;case"toggle":case"beforetoggle":G=f4}var Oe=(u&4)!==0,Tt=!Oe&&(l==="scroll"||l==="scrollend"),Y=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var H=K,W;H!==null;){var re=H;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||Y===null||(re=Gd(H,Y),re!=null&&Oe.push(Nf(H,re,W))),Tt)break;H=H.return}0<Oe.length&&(Q=new G(Q,Re,null,h,te),ie.push({event:Q,listeners:Oe}))}}if((u&7)===0){e:{if(Q=l==="mouseover"||l==="pointerover",G=l==="mouseout"||l==="pointerout",Q&&h!==Xb&&(Re=h.relatedTarget||h.fromElement)&&(Uc(Re)||Re[rr]))break e;if((G||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,G?(Re=h.relatedTarget||h.toElement,G=K,Re=Re?Uc(Re):null,Re!==null&&(Tt=s(Re),Oe=Re.tag,Re!==Tt||Oe!==5&&Oe!==27&&Oe!==6)&&(Re=null)):(G=null,Re=K),G!==Re)){if(Oe=lk,re="onMouseLeave",Y="onMouseEnter",H="mouse",(l==="pointerout"||l==="pointerover")&&(Oe=uk,re="onPointerLeave",Y="onPointerEnter",H="pointer"),Tt=G==null?Q:Qd(G),W=Re==null?Q:Qd(Re),Q=new Oe(re,H+"leave",G,h,te),Q.target=Tt,Q.relatedTarget=W,re=null,Uc(te)===K&&(Oe=new Oe(Y,H+"enter",Re,h,te),Oe.target=W,Oe.relatedTarget=Tt,re=Oe),Tt=re,G&&Re)t:{for(Oe=G,Y=Re,H=0,W=Oe;W;W=Mu(W))H++;for(W=0,re=Y;re;re=Mu(re))W++;for(;0<H-W;)Oe=Mu(Oe),H--;for(;0<W-H;)Y=Mu(Y),W--;for(;H--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Mu(Oe),Y=Mu(Y)}Oe=null}else Oe=null;G!==null&&ZT(ie,Q,G,Oe,!1),Re!==null&&Tt!==null&&ZT(ie,Tt,Re,Oe,!0)}}e:{if(Q=K?Qd(K):window,G=Q.nodeName&&Q.nodeName.toLowerCase(),G==="select"||G==="input"&&Q.type==="file")var ve=bk;else if(gk(Q))if(vk)ve=S4;else{ve=x4;var Xe=v4}else G=Q.nodeName,!G||G.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Gb(K.elementType)&&(ve=bk):ve=w4;if(ve&&(ve=ve(l,K))){yk(ie,ve,h,te);break e}Xe&&Xe(l,Q,K),l==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Qb(Q,"number",Q.value)}switch(Xe=K?Qd(K):window,l){case"focusin":(gk(Xe)||Xe.contentEditable==="true")&&(Zc=Xe,uv=K,sf=null);break;case"focusout":sf=uv=Zc=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,Ek(ie,h,te);break;case"selectionchange":if(D4)break;case"keydown":case"keyup":Ek(ie,h,te)}var Ce;if(ov)e:{switch(l){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Jc?pk(l,h)&&(_e="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(_e="onCompositionStart");_e&&(dk&&h.locale!=="ko"&&(Jc||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Jc&&(Ce=ok()):(qo=te,tv="value"in qo?qo.value:qo.textContent,Jc=!0)),Xe=Qm(K,_e),0<Xe.length&&(_e=new ck(_e,l,null,h,te),ie.push({event:_e,listeners:Xe}),Ce?_e.data=Ce:(Ce=mk(h),Ce!==null&&(_e.data=Ce)))),(Ce=p4?m4(l,h):g4(l,h))&&(_e=Qm(K,"onBeforeInput"),0<_e.length&&(Xe=new ck("onBeforeInput","beforeinput",null,h,te),ie.push({event:Xe,listeners:_e}),Xe.data=Ce)),o6(ie,l,K,h,te)}XT(ie,u)})}function Nf(l,u,h){return{instance:l,listener:u,currentTarget:h}}function Qm(l,u){for(var h=u+"Capture",g=[];l!==null;){var x=l,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Gd(l,h),x!=null&&g.unshift(Nf(l,x,S)),x=Gd(l,u),x!=null&&g.push(Nf(l,x,S))),l.tag===3)return g;l=l.return}return[]}function Mu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function ZT(l,u,h,g,x){for(var S=u._reactName,O=[];h!==null&&h!==g;){var R=h,B=R.alternate,K=R.stateNode;if(R=R.tag,B!==null&&B===g)break;R!==5&&R!==26&&R!==27||K===null||(B=K,x?(K=Gd(h,S),K!=null&&O.unshift(Nf(h,K,B))):x||(K=Gd(h,S),K!=null&&O.push(Nf(h,K,B)))),h=h.return}O.length!==0&&l.push({event:u,listeners:O})}var u6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function eO(l){return(typeof l=="string"?l:""+l).replace(u6,`
`).replace(d6,"")}function tO(l,u){return u=eO(u),eO(l)===u}function Gm(){}function Et(l,u,h,g,x,S){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Qc(l,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Qc(l,""+g);break;case"className":tm(l,"class",g);break;case"tabIndex":tm(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":tm(l,h,g);break;case"style":rk(l,g,S);break;case"data":if(u!=="object"){tm(l,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(h);break}g=im(""+g),l.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&Et(l,u,"name",x.name,x,null),Et(l,u,"formEncType",x.formEncType,x,null),Et(l,u,"formMethod",x.formMethod,x,null),Et(l,u,"formTarget",x.formTarget,x,null)):(Et(l,u,"encType",x.encType,x,null),Et(l,u,"method",x.method,x,null),Et(l,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(h);break}g=im(""+g),l.setAttribute(h,g);break;case"onClick":g!=null&&(l.onclick=Gm);break;case"onScroll":g!=null&&tt("scroll",l);break;case"onScrollEnd":g!=null&&tt("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}h=im(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,""+g):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":g===!0?l.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,g):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(h,g):l.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(h):l.setAttribute(h,g);break;case"popover":tt("beforetoggle",l),tt("toggle",l),em(l,"popover",g);break;case"xlinkActuate":qs(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":qs(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":qs(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":qs(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":qs(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":qs(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":qs(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":qs(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":qs(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":em(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=V5.get(h)||h,em(l,h,g))}}function Px(l,u,h,g,x,S){switch(h){case"style":rk(l,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof g=="string"?Qc(l,g):(typeof g=="number"||typeof g=="bigint")&&Qc(l,""+g);break;case"onScroll":g!=null&&tt("scroll",l);break;case"onScrollEnd":g!=null&&tt("scrollend",l);break;case"onClick":g!=null&&(l.onclick=Gm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!WC.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),u=h.slice(2,x?h.length-7:void 0),S=l[zt]||null,S=S!=null?S[h]:null,typeof S=="function"&&l.removeEventListener(u,S,x),typeof g=="function")){typeof S!="function"&&S!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,g,x);break e}h in l?l[h]=g:g===!0?l.setAttribute(h,""):em(l,h,g)}}}function Kn(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",l),tt("load",l);var g=!1,x=!1,S;for(S in h)if(h.hasOwnProperty(S)){var O=h[S];if(O!=null)switch(S){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Et(l,u,S,O,h,null)}}x&&Et(l,u,"srcSet",h.srcSet,h,null),g&&Et(l,u,"src",h.src,h,null);return;case"input":tt("invalid",l);var R=S=O=x=null,B=null,K=null;for(g in h)if(h.hasOwnProperty(g)){var te=h[g];if(te!=null)switch(g){case"name":x=te;break;case"type":O=te;break;case"checked":B=te;break;case"defaultChecked":K=te;break;case"value":S=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,u));break;default:Et(l,u,g,te,h,null)}}ZC(l,S,R,B,K,O,x,!1),nm(l);return;case"select":tt("invalid",l),g=O=S=null;for(x in h)if(h.hasOwnProperty(x)&&(R=h[x],R!=null))switch(x){case"value":S=R;break;case"defaultValue":O=R;break;case"multiple":g=R;default:Et(l,u,x,R,h,null)}u=S,h=O,l.multiple=!!g,u!=null?Kc(l,!!g,u,!1):h!=null&&Kc(l,!!g,h,!0);return;case"textarea":tt("invalid",l),S=x=g=null;for(O in h)if(h.hasOwnProperty(O)&&(R=h[O],R!=null))switch(O){case"value":g=R;break;case"defaultValue":x=R;break;case"children":S=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Et(l,u,O,R,h,null)}tk(l,g,x,S),nm(l);return;case"option":for(B in h)if(h.hasOwnProperty(B)&&(g=h[B],g!=null))switch(B){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Et(l,u,B,g,h,null)}return;case"dialog":tt("beforetoggle",l),tt("toggle",l),tt("cancel",l),tt("close",l);break;case"iframe":case"object":tt("load",l);break;case"video":case"audio":for(g=0;g<Rf.length;g++)tt(Rf[g],l);break;case"image":tt("error",l),tt("load",l);break;case"details":tt("toggle",l);break;case"embed":case"source":case"link":tt("error",l),tt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in h)if(h.hasOwnProperty(K)&&(g=h[K],g!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Et(l,u,K,g,h,null)}return;default:if(Gb(u)){for(te in h)h.hasOwnProperty(te)&&(g=h[te],g!==void 0&&Px(l,u,te,g,h,void 0));return}}for(R in h)h.hasOwnProperty(R)&&(g=h[R],g!=null&&Et(l,u,R,g,h,null))}function f6(l,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,O=null,R=null,B=null,K=null,te=null;for(G in h){var ie=h[G];if(h.hasOwnProperty(G)&&ie!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":B=ie;default:g.hasOwnProperty(G)||Et(l,u,G,null,g,ie)}}for(var Q in g){var G=g[Q];if(ie=h[Q],g.hasOwnProperty(Q)&&(G!=null||ie!=null))switch(Q){case"type":S=G;break;case"name":x=G;break;case"checked":K=G;break;case"defaultChecked":te=G;break;case"value":O=G;break;case"defaultValue":R=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,u));break;default:G!==ie&&Et(l,u,Q,G,g,ie)}}Kb(l,O,R,B,K,te,S,x);return;case"select":G=O=R=Q=null;for(S in h)if(B=h[S],h.hasOwnProperty(S)&&B!=null)switch(S){case"value":break;case"multiple":G=B;default:g.hasOwnProperty(S)||Et(l,u,S,null,g,B)}for(x in g)if(S=g[x],B=h[x],g.hasOwnProperty(x)&&(S!=null||B!=null))switch(x){case"value":Q=S;break;case"defaultValue":R=S;break;case"multiple":O=S;default:S!==B&&Et(l,u,x,S,g,B)}u=R,h=O,g=G,Q!=null?Kc(l,!!h,Q,!1):!!g!=!!h&&(u!=null?Kc(l,!!h,u,!0):Kc(l,!!h,h?[]:"",!1));return;case"textarea":G=Q=null;for(R in h)if(x=h[R],h.hasOwnProperty(R)&&x!=null&&!g.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Et(l,u,R,null,g,x)}for(O in g)if(x=g[O],S=h[O],g.hasOwnProperty(O)&&(x!=null||S!=null))switch(O){case"value":Q=x;break;case"defaultValue":G=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&Et(l,u,O,x,g,S)}ek(l,Q,G);return;case"option":for(var Re in h)if(Q=h[Re],h.hasOwnProperty(Re)&&Q!=null&&!g.hasOwnProperty(Re))switch(Re){case"selected":l.selected=!1;break;default:Et(l,u,Re,null,g,Q)}for(B in g)if(Q=g[B],G=h[B],g.hasOwnProperty(B)&&Q!==G&&(Q!=null||G!=null))switch(B){case"selected":l.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Et(l,u,B,Q,g,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in h)Q=h[Oe],h.hasOwnProperty(Oe)&&Q!=null&&!g.hasOwnProperty(Oe)&&Et(l,u,Oe,null,g,Q);for(K in g)if(Q=g[K],G=h[K],g.hasOwnProperty(K)&&Q!==G&&(Q!=null||G!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,u));break;default:Et(l,u,K,Q,g,G)}return;default:if(Gb(u)){for(var Tt in h)Q=h[Tt],h.hasOwnProperty(Tt)&&Q!==void 0&&!g.hasOwnProperty(Tt)&&Px(l,u,Tt,void 0,g,Q);for(te in g)Q=g[te],G=h[te],!g.hasOwnProperty(te)||Q===G||Q===void 0&&G===void 0||Px(l,u,te,Q,g,G);return}}for(var Y in h)Q=h[Y],h.hasOwnProperty(Y)&&Q!=null&&!g.hasOwnProperty(Y)&&Et(l,u,Y,null,g,Q);for(ie in g)Q=g[ie],G=h[ie],!g.hasOwnProperty(ie)||Q===G||Q==null&&G==null||Et(l,u,ie,Q,g,G)}var Lx=null,Ix=null;function Xm(l){return l.nodeType===9?l:l.ownerDocument}function nO(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rO(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function jx(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Bx=null;function h6(){var l=window.event;return l&&l.type==="popstate"?l===Bx?!1:(Bx=l,!0):(Bx=null,!1)}var iO=typeof setTimeout=="function"?setTimeout:void 0,p6=typeof clearTimeout=="function"?clearTimeout:void 0,sO=typeof Promise=="function"?Promise:void 0,m6=typeof queueMicrotask=="function"?queueMicrotask:typeof sO<"u"?function(l){return sO.resolve(null).then(l).catch(g6)}:iO;function g6(l){setTimeout(function(){throw l})}function ca(l){return l==="head"}function oO(l,u){var h=u,g=0,x=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<g&&8>g){h=g;var O=l.ownerDocument;if(h&1&&Pf(O.documentElement),h&2&&Pf(O.body),h&4)for(h=O.head,Pf(h),O=h.firstChild;O;){var R=O.nextSibling,B=O.nodeName;O[Ws]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=R}}if(x===0){l.removeChild(S),Hf(u);return}x--}else h==="$"||h==="$?"||h==="$!"?x++:g=h.charCodeAt(0)-48;else g=0;h=S}while(h);Hf(u)}function Fx(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fx(h),$b(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function y6(l,u,h,g){for(;l.nodeType===1;){var x=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[Ws])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==x.rel||l.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||l.getAttribute("title")!==(x.title==null?null:x.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(x.src==null?null:x.src)||l.getAttribute("type")!==(x.type==null?null:x.type)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=Vi(l.nextSibling),l===null)break}return null}function b6(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=Vi(l.nextSibling),l===null))return null;return l}function zx(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function v6(l,u){var h=l.ownerDocument;if(l.data!=="$?"||h.readyState==="complete")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function Vi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var Vx=null;function aO(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return l;u--}else h==="/$"&&u++}l=l.previousSibling}return null}function lO(l,u,h){switch(u=Xm(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Pf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);$b(l)}var xi=new Map,cO=new Set;function Jm(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ao=U.d;U.d={f:x6,r:w6,D:S6,C:M6,L:D6,m:C6,X:E6,S:k6,M:T6};function x6(){var l=ao.f(),u=Um();return l||u}function w6(l){var u=$c(l);u!==null&&u.tag===5&&u.type==="form"?OE(u):ao.r(l)}var Du=typeof document>"u"?null:document;function uO(l,u,h){var g=Du;if(g&&typeof u=="string"&&u){var x=hi(u);x='link[rel="'+l+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),cO.has(x)||(cO.add(x),l={rel:l,crossOrigin:h,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),Kn(u,"link",l),On(u),g.head.appendChild(u)))}}function S6(l){ao.D(l),uO("dns-prefetch",l,null)}function M6(l,u){ao.C(l,u),uO("preconnect",l,u)}function D6(l,u,h){ao.L(l,u,h);var g=Du;if(g&&l&&u){var x='link[rel="preload"][as="'+hi(u)+'"]';u==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+hi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+hi(h.imageSizes)+'"]')):x+='[href="'+hi(l)+'"]';var S=x;switch(u){case"style":S=Cu(l);break;case"script":S=ku(l)}xi.has(S)||(l=f({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),xi.set(S,l),g.querySelector(x)!==null||u==="style"&&g.querySelector(Lf(S))||u==="script"&&g.querySelector(If(S))||(u=g.createElement("link"),Kn(u,"link",l),On(u),g.head.appendChild(u)))}}function C6(l,u){ao.m(l,u);var h=Du;if(h&&l){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+hi(g)+'"][href="'+hi(l)+'"]',S=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ku(l)}if(!xi.has(S)&&(l=f({rel:"modulepreload",href:l},u),xi.set(S,l),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(If(S)))return}g=h.createElement("link"),Kn(g,"link",l),On(g),h.head.appendChild(g)}}}function k6(l,u,h){ao.S(l,u,h);var g=Du;if(g&&l){var x=Yc(g).hoistableStyles,S=Cu(l);u=u||"default";var O=x.get(S);if(!O){var R={loading:0,preload:null};if(O=g.querySelector(Lf(S)))R.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},h),(h=xi.get(S))&&Hx(l,h);var B=O=g.createElement("link");On(B),Kn(B,"link",l),B._p=new Promise(function(K,te){B.onload=K,B.onerror=te}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Zm(O,u,g)}O={type:"stylesheet",instance:O,count:1,state:R},x.set(S,O)}}}function E6(l,u){ao.X(l,u);var h=Du;if(h&&l){var g=Yc(h).hoistableScripts,x=ku(l),S=g.get(x);S||(S=h.querySelector(If(x)),S||(l=f({src:l,async:!0},u),(u=xi.get(x))&&Ux(l,u),S=h.createElement("script"),On(S),Kn(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function T6(l,u){ao.M(l,u);var h=Du;if(h&&l){var g=Yc(h).hoistableScripts,x=ku(l),S=g.get(x);S||(S=h.querySelector(If(x)),S||(l=f({src:l,async:!0,type:"module"},u),(u=xi.get(x))&&Ux(l,u),S=h.createElement("script"),On(S),Kn(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function dO(l,u,h,g){var x=(x=fe.current)?Jm(x):null;if(!x)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Cu(h.href),h=Yc(x).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Cu(h.href);var S=Yc(x).hoistableStyles,O=S.get(l);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,O),(S=x.querySelector(Lf(l)))&&!S._p&&(O.instance=S,O.state.loading=5),xi.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},xi.set(l,h),S||O6(x,l,h,O.state))),u&&g===null)throw Error(r(528,""));return O}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=ku(h),h=Yc(x).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Cu(l){return'href="'+hi(l)+'"'}function Lf(l){return'link[rel="stylesheet"]['+l+"]"}function fO(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function O6(l,u,h,g){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=l.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Kn(u,"link",h),On(u),l.head.appendChild(u))}function ku(l){return'[src="'+hi(l)+'"]'}function If(l){return"script[async]"+l}function hO(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=l.querySelector('style[data-href~="'+hi(h.href)+'"]');if(g)return u.instance=g,On(g),g;var x=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),On(g),Kn(g,"style",x),Zm(g,h.precedence,l),u.instance=g;case"stylesheet":x=Cu(h.href);var S=l.querySelector(Lf(x));if(S)return u.state.loading|=4,u.instance=S,On(S),S;g=fO(h),(x=xi.get(x))&&Hx(g,x),S=(l.ownerDocument||l).createElement("link"),On(S);var O=S;return O._p=new Promise(function(R,B){O.onload=R,O.onerror=B}),Kn(S,"link",g),u.state.loading|=4,Zm(S,h.precedence,l),u.instance=S;case"script":return S=ku(h.src),(x=l.querySelector(If(S)))?(u.instance=x,On(x),x):(g=h,(x=xi.get(S))&&(g=f({},h),Ux(g,x)),l=l.ownerDocument||l,x=l.createElement("script"),On(x),Kn(x,"link",g),l.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Zm(g,h.precedence,l));return u.instance}function Zm(l,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,S=x,O=0;O<g.length;O++){var R=g[O];if(R.dataset.precedence===u)S=R;else if(S!==x)break}S?S.parentNode.insertBefore(l,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function Hx(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Ux(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var eg=null;function pO(l,u,h){if(eg===null){var g=new Map,x=eg=new Map;x.set(h,g)}else x=eg,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(l))return g;for(g.set(l,null),h=h.getElementsByTagName(l),x=0;x<h.length;x++){var S=h[x];if(!(S[Ws]||S[Ft]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(u)||"";O=l+O;var R=g.get(O);R?R.push(S):g.set(O,[S])}}return g}function mO(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function _6(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function gO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var jf=null;function A6(){}function R6(l,u,h){if(jf===null)throw Error(r(475));var g=jf;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=Cu(h.href),S=l.querySelector(Lf(x));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(g.count++,g=tg.bind(g),l.then(g,g)),u.state.loading|=4,u.instance=S,On(S);return}S=l.ownerDocument||l,h=fO(h),(x=xi.get(x))&&Hx(h,x),S=S.createElement("link"),On(S);var O=S;O._p=new Promise(function(R,B){O.onload=R,O.onerror=B}),Kn(S,"link",h),u.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=tg.bind(g),l.addEventListener("load",u),l.addEventListener("error",u))}}function N6(){if(jf===null)throw Error(r(475));var l=jf;return l.stylesheets&&l.count===0&&$x(l,l.stylesheets),0<l.count?function(u){var h=setTimeout(function(){if(l.stylesheets&&$x(l,l.stylesheets),l.unsuspend){var g=l.unsuspend;l.unsuspend=null,g()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(h)}}:null}function tg(){if(this.count--,this.count===0){if(this.stylesheets)$x(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var ng=null;function $x(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,ng=new Map,u.forEach(P6,l),ng=null,tg.call(l))}function P6(l,u){if(!(u.state.loading&4)){var h=ng.get(l);if(h)var g=h.get(null);else{h=new Map,ng.set(l,h);for(var x=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var O=x[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),g=O)}g&&h.set(null,g)}x=u.instance,O=x.getAttribute("data-precedence"),S=h.get(O)||g,S===g&&h.set(null,x),h.set(O,x),this.count++,g=tg.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),S?S.parentNode.insertBefore(x,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(x,l.firstChild)),u.state.loading|=4}}var Bf={$$typeof:E,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function L6(l,u,h,g,x,S,O,R){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.hiddenUpdates=Hc(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function yO(l,u,h,g,x,S,O,R,B,K,te,ie){return l=new L6(l,u,h,O,R,B,K,ie),u=1,S===!0&&(u|=24),S=ei(3,null,null,u),l.current=S,S.stateNode=l,u=Cv(),u.refCount++,l.pooledCache=u,u.refCount++,S.memoizedState={element:g,isDehydrated:h,cache:u},Ov(S),l}function bO(l){return l?(l=ru,l):ru}function vO(l,u,h,g,x,S){x=bO(x),g.context===null?g.context=x:g.pendingContext=x,g=Go(u),g.payload={element:h},S=S===void 0?null:S,S!==null&&(g.callback=S),h=Xo(l,g,u),h!==null&&(si(h,l,u),pf(h,l,u))}function xO(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function Yx(l,u){xO(l,u),(l=l.alternate)&&xO(l,u)}function wO(l){if(l.tag===13){var u=nu(l,67108864);u!==null&&si(u,l,67108864),Yx(l,67108864)}}var rg=!0;function I6(l,u,h,g){var x=F.T;F.T=null;var S=U.p;try{U.p=2,Wx(l,u,h,g)}finally{U.p=S,F.T=x}}function j6(l,u,h,g){var x=F.T;F.T=null;var S=U.p;try{U.p=8,Wx(l,u,h,g)}finally{U.p=S,F.T=x}}function Wx(l,u,h,g){if(rg){var x=qx(g);if(x===null)Nx(l,u,g,ig,h),MO(l,g);else if(F6(x,l,u,h,g))g.stopPropagation();else if(MO(l,g),u&4&&-1<B6.indexOf(l)){for(;x!==null;){var S=$c(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Nr(S.pendingLanes);if(O!==0){var R=S;for(R.pendingLanes|=2,R.entangledLanes|=2;O;){var B=1<<31-Be(O);R.entanglements[1]|=B,O&=~B}ds(S),(wt&6)===0&&(Vm=Se()+500,Af(0))}}break;case 13:R=nu(S,2),R!==null&&si(R,S,2),Um(),Yx(S,2)}if(S=qx(g),S===null&&Nx(l,u,g,ig,h),S===x)break;x=S}x!==null&&g.stopPropagation()}else Nx(l,u,g,null,h)}}function qx(l){return l=Jb(l),Kx(l)}var ig=null;function Kx(l){if(ig=null,l=Uc(l),l!==null){var u=s(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=o(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return ig=l,null}function SO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case rt:return 2;case Ze:return 8;case Fe:case Bt:return 32;case st:return 268435456;default:return 32}default:return 32}}var Qx=!1,ua=null,da=null,fa=null,Ff=new Map,zf=new Map,ha=[],B6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MO(l,u){switch(l){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Ff.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(u.pointerId)}}function Vf(l,u,h,g,x,S){return l===null||l.nativeEvent!==S?(l={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},u!==null&&(u=$c(u),u!==null&&wO(u)),l):(l.eventSystemFlags|=g,u=l.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),l)}function F6(l,u,h,g,x){switch(u){case"focusin":return ua=Vf(ua,l,u,h,g,x),!0;case"dragenter":return da=Vf(da,l,u,h,g,x),!0;case"mouseover":return fa=Vf(fa,l,u,h,g,x),!0;case"pointerover":var S=x.pointerId;return Ff.set(S,Vf(Ff.get(S)||null,l,u,h,g,x)),!0;case"gotpointercapture":return S=x.pointerId,zf.set(S,Vf(zf.get(S)||null,l,u,h,g,x)),!0}return!1}function DO(l){var u=Uc(l.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){l.blockedOn=u,Yo(l.priority,function(){if(h.tag===13){var g=ii();g=nr(g);var x=nu(h,g);x!==null&&si(x,h,g),Yx(h,g)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function sg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=qx(l.nativeEvent);if(h===null){h=l.nativeEvent;var g=new h.constructor(h.type,h);Xb=g,h.target.dispatchEvent(g),Xb=null}else return u=$c(h),u!==null&&wO(u),l.blockedOn=h,!1;u.shift()}return!0}function CO(l,u,h){sg(l)&&h.delete(u)}function z6(){Qx=!1,ua!==null&&sg(ua)&&(ua=null),da!==null&&sg(da)&&(da=null),fa!==null&&sg(fa)&&(fa=null),Ff.forEach(CO),zf.forEach(CO)}function og(l,u){l.blockedOn===u&&(l.blockedOn=null,Qx||(Qx=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,z6)))}var ag=null;function kO(l){ag!==l&&(ag=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ag===l&&(ag=null);for(var u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],x=l[u+2];if(typeof g!="function"){if(Kx(g||h)===null)continue;break}var S=$c(h);S!==null&&(l.splice(u,3),u-=3,Kv(S,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function Hf(l){function u(B){return og(B,l)}ua!==null&&og(ua,l),da!==null&&og(da,l),fa!==null&&og(fa,l),Ff.forEach(u),zf.forEach(u);for(var h=0;h<ha.length;h++){var g=ha[h];g.blockedOn===l&&(g.blockedOn=null)}for(;0<ha.length&&(h=ha[0],h.blockedOn===null);)DO(h),h.blockedOn===null&&ha.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],S=h[g+1],O=x[zt]||null;if(typeof S=="function")O||kO(h);else if(O){var R=null;if(S&&S.hasAttribute("formAction")){if(x=S,O=S[zt]||null)R=O.formAction;else if(Kx(x)!==null)continue}else R=O.action;typeof R=="function"?h[g+1]=R:(h.splice(g,3),g-=3),kO(h)}}}function Gx(l){this._internalRoot=l}lg.prototype.render=Gx.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=ii();vO(h,g,l,u,null,null)},lg.prototype.unmount=Gx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;vO(l.current,2,null,l,null,null),Um(),u[rr]=null}};function lg(l){this._internalRoot=l}lg.prototype.unstable_scheduleHydration=function(l){if(l){var u=Jr();l={blockedOn:null,target:l,priority:u};for(var h=0;h<ha.length&&u!==0&&u<ha[h].priority;h++);ha.splice(h,0,l),h===0&&DO(l)}};var EO=e.version;if(EO!=="19.1.0")throw Error(r(527,EO,"19.1.0"));U.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var V6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cg.isDisabled&&cg.supportsFiber)try{Rt=cg.inject(V6),lt=cg}catch{}}return $f.createRoot=function(l,u){if(!i(l))throw Error(r(299));var h=!1,g="",x=UE,S=$E,O=YE,R=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(R=u.unstable_transitionCallbacks)),u=yO(l,1,!1,null,null,h,g,x,S,O,R,null),l[rr]=u.current,Rx(l),new Gx(u)},$f.hydrateRoot=function(l,u,h){if(!i(l))throw Error(r(299));var g=!1,x="",S=UE,O=$E,R=YE,B=null,K=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(R=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(B=h.unstable_transitionCallbacks),h.formState!==void 0&&(K=h.formState)),u=yO(l,1,!0,u,h??null,g,x,S,O,R,B,K),u.context=bO(null),h=u.current,g=ii(),g=nr(g),x=Go(g),x.callback=null,Xo(h,x,g),h=g,u.current.lanes=h,Pt(u,h),ds(u),l[rr]=u.current,Rx(l),new lg(u)},$f.version="19.1.0",$f}var BO;function Z6(){if(BO)return e1.exports;BO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),e1.exports=J6(),e1.exports}var eV=Z6();const tV=Ep(eV);var Yf={},FO;function nV(){if(FO)return Yf;FO=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.parse=o,Yf.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function o(m,y){const b=new s,v=m.length;if(v<2)return b;const w=(y==null?void 0:y.decode)||f;let M=0;do{const k=m.indexOf("=",M);if(k===-1)break;const E=m.indexOf(";",M),A=E===-1?v:E;if(k>A){M=m.lastIndexOf(";",k-1)+1;continue}const T=a(m,M,k),P=c(m,k,T),N=m.slice(T,P);if(b[N]===void 0){let _=a(m,k+1,A),L=c(m,A,_);const I=w(m.slice(_,L));b[N]=I}M=A+1}while(M<v);return b}function a(m,y,b){do{const v=m.charCodeAt(y);if(v!==32&&v!==9)return y}while(++y<b);return b}function c(m,y,b){for(;y>b;){const v=m.charCodeAt(--y);if(v!==32&&v!==9)return y+1}return b}function d(m,y,b){const v=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(m))throw new TypeError(`argument name is invalid: ${m}`);const w=v(y);if(!e.test(w))throw new TypeError(`argument val is invalid: ${y}`);let M=m+"="+w;if(!b)return M;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);M+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);M+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);M+="; Path="+b.path}if(b.expires){if(!p(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);M+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(M+="; HttpOnly"),b.secure&&(M+="; Secure"),b.partitioned&&(M+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return M}function f(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function p(m){return i.call(m)==="[object Date]"}return Yf}nV();var zO="popstate";function rV(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ew("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Uh(i)}return sV(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ls(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iV(){return Math.random().toString(36).substring(2,10)}function VO(n,e){return{usr:n.state,key:n.key,idx:e}}function Ew(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ld(e):e,state:t,key:e&&e.key||r||iV()}}function Uh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ld(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function sV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=f(),M=w==null?null:w-d;d=w,c&&c({action:a,location:v.location,delta:M})}function m(w,M){a="PUSH";let k=Ew(v.location,w,M);d=f()+1;let E=VO(k,d),A=v.createHref(k);try{o.pushState(E,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}s&&c&&c({action:a,location:v.location,delta:1})}function y(w,M){a="REPLACE";let k=Ew(v.location,w,M);d=f();let E=VO(k,d),A=v.createHref(k);o.replaceState(E,"",A),s&&c&&c({action:a,location:v.location,delta:0})}function b(w){return oV(w)}let v={get action(){return a},get location(){return n(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(zO,p),c=w,()=>{i.removeEventListener(zO,p),c=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let M=b(w);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:m,replace:y,go(w){return o.go(w)}};return v}function oV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Uh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function rL(n,e,t="/"){return aV(n,e,t,!1)}function aV(n,e,t,r){let i=typeof e=="string"?Ld(e):e,s=Lo(i.pathname||"/",t);if(s==null)return null;let o=iL(n);lV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=vV(s);a=yV(o[c],d,r)}return a}function iL(n,e=[],t=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=ko([r,c.relativePath]),f=t.concat(c);s.children&&s.children.length>0&&(Zt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),iL(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:mV(d,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of sL(s.path))i(s,o,c)}),e}function sL(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sL(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function lV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var cV=/^:[\w-]+$/,uV=3,dV=2,fV=1,hV=10,pV=-2,HO=n=>n==="*";function mV(n,e){let t=n.split("/"),r=t.length;return t.some(HO)&&(r+=pV),e&&(r+=dV),t.filter(i=>!HO(i)).reduce((i,s)=>i+(cV.test(s)?uV:s===""?fV:hV),r)}function gV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function yV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Ly({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p&&d&&t&&!r[r.length-1].route.index&&(p=Ly({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ko([s,p.pathname]),pathnameBase:MV(ko([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=ko([s,p.pathnameBase]))}return o}function Ly(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=bV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let b=a[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function bV(n,e=!1,t=!0){Ls(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Lo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function xV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ld(n):n;return{pathname:t?t.startsWith("/")?t:wV(t,e):e,search:DV(r),hash:CV(i)}}function wV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function i1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function oL(n){let e=SV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function aL(n,e,t,r=!1){let i;typeof n=="string"?i=Ld(n):(i={...n},Zt(!i.pathname||!i.pathname.includes("?"),i1("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),i1("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),i1("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=xV(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var ko=n=>n.join("/").replace(/\/\/+/g,"/"),MV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lL=["POST","PUT","PATCH","DELETE"];new Set(lL);var EV=["GET",...lL];new Set(EV);var Id=D.createContext(null);Id.displayName="DataRouter";var F0=D.createContext(null);F0.displayName="DataRouterState";var cL=D.createContext({isTransitioning:!1});cL.displayName="ViewTransition";var TV=D.createContext(new Map);TV.displayName="Fetchers";var OV=D.createContext(null);OV.displayName="Await";var Hs=D.createContext(null);Hs.displayName="Navigation";var Tp=D.createContext(null);Tp.displayName="Location";var es=D.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var MM=D.createContext(null);MM.displayName="RouteError";function _V(n,{relative:e}={}){Zt(Op(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(Hs),{hash:i,pathname:s,search:o}=_p(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:ko([t,s])),r.createHref({pathname:a,search:o,hash:i})}function Op(){return D.useContext(Tp)!=null}function zo(){return Zt(Op(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Tp).location}var uL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dL(n){D.useContext(Hs).static||D.useLayoutEffect(n)}function ts(){let{isDataRoute:n}=D.useContext(es);return n?$V():AV()}function AV(){Zt(Op(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(Id),{basename:e,navigator:t}=D.useContext(Hs),{matches:r}=D.useContext(es),{pathname:i}=zo(),s=JSON.stringify(oL(r)),o=D.useRef(!1);return dL(()=>{o.current=!0}),D.useCallback((c,d={})=>{if(Ls(o.current,uL),!o.current)return;if(typeof c=="number"){t.go(c);return}let f=aL(c,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ko([e,f.pathname])),(d.replace?t.replace:t.push)(f,d.state,d)},[e,t,s,i,n])}var fL=D.createContext(null);function hL(){return D.useContext(fL)}function RV(n){let e=D.useContext(es).outlet;return e&&D.createElement(fL.Provider,{value:n},e)}function DM(){let{matches:n}=D.useContext(es),e=n[n.length-1];return e?e.params:{}}function _p(n,{relative:e}={}){let{matches:t}=D.useContext(es),{pathname:r}=zo(),i=JSON.stringify(oL(t));return D.useMemo(()=>aL(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function NV(n,e){return pL(n,e)}function pL(n,e,t,r){var M;Zt(Op(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(Hs),{matches:s}=D.useContext(es),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";mL(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=zo(),m;if(e){let k=typeof e=="string"?Ld(e):e;Zt(d==="/"||((M=k.pathname)==null?void 0:M.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=p;let y=m.pathname||"/",b=y;if(d!=="/"){let k=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=rL(n,{pathname:b});Ls(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ls(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=BV(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:ko([d,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:ko([d,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,r);return e&&w?D.createElement(Tp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function PV(){let n=UV(),e=kV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,o)}var LV=D.createElement(PV,null),IV=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(es.Provider,{value:this.props.routeContext},D.createElement(MM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jV({routeContext:n,match:e,children:t}){let r=D.useContext(Id);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(es.Provider,{value:n},t)}function BV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Zt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(t)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:f,errors:p}=t,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let p,m=!1,y=null,b=null;t&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||LV,o&&(a<0&&f===0?(mL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):a===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,f+1)),w=()=>{let M;return p?M=y:m?M=b:d.route.Component?M=D.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=c,D.createElement(jV,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:M})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?D.createElement(IV,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function CM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FV(n){let e=D.useContext(Id);return Zt(e,CM(n)),e}function zV(n){let e=D.useContext(F0);return Zt(e,CM(n)),e}function VV(n){let e=D.useContext(es);return Zt(e,CM(n)),e}function kM(n){let e=VV(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function HV(){return kM("useRouteId")}function UV(){var r;let n=D.useContext(MM),e=zV("useRouteError"),t=kM("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function $V(){let{router:n}=FV("useNavigate"),e=kM("useNavigate"),t=D.useRef(!1);return dL(()=>{t.current=!0}),D.useCallback(async(i,s={})=>{Ls(t.current,uL),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var UO={};function mL(n,e,t){!e&&!UO[n]&&(UO[n]=!0,Ls(!1,t))}D.memo(YV);function YV({routes:n,future:e,state:t}){return pL(n,void 0,t,e)}function Ap(n){return RV(n.context)}function bn(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Zt(!Op(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Ld(t));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=t,y=D.useMemo(()=>{let b=Lo(c,o);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:m},navigationType:r}},[o,c,d,f,p,m,r]);return Ls(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:D.createElement(Hs.Provider,{value:a},D.createElement(Tp.Provider,{children:e,value:y}))}function qV({children:n,location:e}){return NV(Tw(n),e)}function Tw(n,e=[]){let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){t.push.apply(t,Tw(r.props.children,s));return}Zt(r.type===bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tw(r.props.children,s)),t.push(o)}),t}var Jg="get",Zg="application/x-www-form-urlencoded";function z0(n){return n!=null&&typeof n.tagName=="string"}function KV(n){return z0(n)&&n.tagName.toLowerCase()==="button"}function QV(n){return z0(n)&&n.tagName.toLowerCase()==="form"}function GV(n){return z0(n)&&n.tagName.toLowerCase()==="input"}function XV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JV(n,e){return n.button===0&&(!e||e==="_self")&&!XV(n)}var dg=null;function ZV(){if(dg===null)try{new FormData(document.createElement("form"),0),dg=!1}catch{dg=!0}return dg}var e8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s1(n){return n!=null&&!e8.has(n)?(Ls(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zg}"`),null):n}function t8(n,e){let t,r,i,s,o;if(QV(n)){let a=n.getAttribute("action");r=a?Lo(a,e):null,t=n.getAttribute("method")||Jg,i=s1(n.getAttribute("enctype"))||Zg,s=new FormData(n)}else if(KV(n)||GV(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(r=c?Lo(c,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Jg,i=s1(n.getAttribute("formenctype"))||s1(a.getAttribute("enctype"))||Zg,s=new FormData(a,n),!ZV()){let{name:d,type:f,value:p}=n;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(z0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jg,r=null,i=Zg,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function EM(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function n8(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r8(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function i8(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await n8(s,t);return o.links?o.links():[]}return[]}));return l8(r.flat(1).filter(r8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $O(n,e,t,r,i,s){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,a=(c,d)=>{var f;return t[d].pathname!==c.pathname||((f=t[d].route.path)==null?void 0:f.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):s==="data"?e.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function s8(n,e,{includeHydrateFallback:t}={}){return o8(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function o8(n){return[...new Set(n)]}function a8(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function l8(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(a8(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c8=new Set([100,101,204,205]);function u8(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Lo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function gL(){let n=D.useContext(Id);return EM(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function d8(){let n=D.useContext(F0);return EM(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var TM=D.createContext(void 0);TM.displayName="FrameworkContext";function yL(){let n=D.useContext(TM);return EM(n,"You must render this element inside a <HydratedRouter> element"),n}function f8(n,e){let t=D.useContext(TM),[r,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,m=D.useRef(null);D.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=M=>{M.forEach(k=>{o(k.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[n]),D.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,m,{}]:[s,m,{onFocus:Wf(a,y),onBlur:Wf(c,b),onMouseEnter:Wf(d,y),onMouseLeave:Wf(f,b),onTouchStart:Wf(p,y)}]:[!1,m,{}]}function Wf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function h8({page:n,...e}){let{router:t}=gL(),r=D.useMemo(()=>rL(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(m8,{page:n,matches:r,...e}):null}function p8(n){let{manifest:e,routeModules:t}=yL(),[r,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return i8(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function m8({page:n,matches:e,...t}){let r=zo(),{manifest:i,routeModules:s}=yL(),{basename:o}=gL(),{loaderData:a,matches:c}=d8(),d=D.useMemo(()=>$O(n,e,c,i,r,"data"),[n,e,c,i,r]),f=D.useMemo(()=>$O(n,e,c,i,r,"assets"),[n,e,c,i,r]),p=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,v=!1;if(e.forEach(M=>{var E;let k=i.routes[M.route.id];!k||!k.hasLoader||(!d.some(A=>A.route.id===M.route.id)&&M.route.id in a&&((E=s[M.route.id])!=null&&E.shouldRevalidate)||k.hasClientLoader?v=!0:b.add(M.route.id))}),b.size===0)return[];let w=u8(n,o);return v&&b.size>0&&w.searchParams.set("_routes",e.filter(M=>b.has(M.route.id)).map(M=>M.route.id).join(",")),[w.pathname+w.search]},[o,a,r,i,d,e,n,s]),m=D.useMemo(()=>s8(f,i),[f,i]),y=p8(f);return D.createElement(D.Fragment,null,p.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:v})=>D.createElement("link",{key:b,...v})))}function g8(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bL&&(window.__reactRouterVersion="7.6.3")}catch{}function y8({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=rV({window:t,v5Compat:!0}));let i=r.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(c=>{D.startTransition(()=>o(c))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(WV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var vL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OM=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:p,...m},y){let{basename:b}=D.useContext(Hs),v=typeof d=="string"&&vL.test(d),w,M=!1;if(typeof d=="string"&&v&&(w=d,bL))try{let L=new URL(window.location.href),I=d.startsWith("//")?new URL(L.protocol+d):new URL(d),V=Lo(I.pathname,b);I.origin===L.origin&&V!=null?d=V+I.search+I.hash:M=!0}catch{Ls(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=_V(d,{relative:i}),[E,A,T]=f8(r,m),P=w8(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(L){e&&e(L),L.defaultPrevented||P(L)}let _=D.createElement("a",{...m,...T,href:w||k,onClick:M||s?e:N,ref:g8(y,A),target:c,"data-discover":!v&&t==="render"?"true":void 0});return E&&!v?D.createElement(D.Fragment,null,_,D.createElement(h8,{page:k})):_});OM.displayName="Link";var b8=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...d},f){let p=_p(o,{relative:d.relative}),m=zo(),y=D.useContext(F0),{navigator:b,basename:v}=D.useContext(Hs),w=y!=null&&k8(p)&&a===!0,M=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,k=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(k=k.toLowerCase(),E=E?E.toLowerCase():null,M=M.toLowerCase()),E&&v&&(E=Lo(E,v)||E);const A=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let T=k===M||!i&&k.startsWith(M)&&k.charAt(A)==="/",P=E!=null&&(E===M||!i&&E.startsWith(M)&&E.charAt(M.length)==="/"),N={isActive:T,isPending:P,isTransitioning:w},_=T?e:void 0,L;typeof r=="function"?L=r(N):L=[r,T?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(N):s;return D.createElement(OM,{...d,"aria-current":_,className:L,ref:f,style:I,to:o,viewTransition:a},typeof c=="function"?c(N):c)});b8.displayName="NavLink";var v8=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Jg,action:a,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...m},y)=>{let b=D8(),v=C8(a,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",M=typeof a=="string"&&vL.test(a),k=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let A=E.nativeEvent.submitter,T=(A==null?void 0:A.getAttribute("formmethod"))||o;b(A||E.currentTarget,{fetcherKey:e,method:T,navigate:t,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return D.createElement("form",{ref:y,method:w,action:v,onSubmit:r?c:k,...m,"data-discover":!M&&n==="render"?"true":void 0})});v8.displayName="Form";function x8(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xL(n){let e=D.useContext(Id);return Zt(e,x8(n)),e}function w8(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=ts(),c=zo(),d=_p(n,{relative:s});return D.useCallback(f=>{if(JV(f,e)){f.preventDefault();let p=t!==void 0?t:Uh(c)===Uh(d);a(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,d,t,r,e,n,i,s,o])}var S8=0,M8=()=>`__${String(++S8)}__`;function D8(){let{router:n}=xL("useSubmit"),{basename:e}=D.useContext(Hs),t=HV();return D.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:d}=t8(r,e);if(i.navigate===!1){let f=i.fetcherKey||M8();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function C8(n,{relative:e}={}){let{basename:t}=D.useContext(Hs),r=D.useContext(es);Zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._p(n||".",{relative:e})},o=zo();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ko([t,s.pathname])),Uh(s)}function k8(n,e={}){let t=D.useContext(cL);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xL("useViewTransitionState"),i=_p(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Lo(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Lo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ly(i.pathname,o)!=null||Ly(i.pathname,s)!=null}[...c8];var Yl=nL();const wL=Ep(Yl);var jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kc=typeof window>"u"||"Deno"in globalThis;function Dr(){}function E8(n,e){return typeof n=="function"?n(e):n}function Ow(n){return typeof n=="number"&&n>=0&&n!==1/0}function SL(n,e){return Math.max(n+(e||0)-Date.now(),0)}function $a(n,e){return typeof n=="function"?n(e):n}function Yi(n,e){return typeof n=="function"?n(e):n}function YO(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==_M(o,e.options))return!1}else if(!$h(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function WO(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ec(e.options.mutationKey)!==Ec(s))return!1}else if(!$h(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function _M(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ec)(n)}function Ec(n){return JSON.stringify(n,(e,t)=>_w(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function $h(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>$h(n[t],e[t])):!1}function ML(n,e){if(n===e)return n;const t=qO(n)&&qO(e);if(t||_w(n)&&_w(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},c=new Set(r);let d=0;for(let f=0;f<o;f++){const p=t?f:s[f];(!t&&c.has(p)||t)&&n[p]===void 0&&e[p]===void 0?(a[p]=void 0,d++):(a[p]=ML(n[p],e[p]),a[p]===n[p]&&n[p]!==void 0&&d++)}return i===o&&d===i?n:a}return e}function Iy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function qO(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function _w(n){if(!KO(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!KO(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function KO(n){return Object.prototype.toString.call(n)==="[object Object]"}function T8(n){return new Promise(e=>{setTimeout(e,n)})}function Aw(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?ML(n,e):e}function O8(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function _8(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var AM=Symbol();function DL(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===AM?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function CL(n,e){return typeof n=="function"?n(...e):!!n}var rc,ka,ed,YP,A8=(YP=class extends jd{constructor(){super();Ee(this,rc);Ee(this,ka);Ee(this,ed);be(this,ed,e=>{if(!kc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){z(this,ka)||this.setEventListener(z(this,ed))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ka))==null||e.call(this),be(this,ka,void 0))}setEventListener(e){var t;be(this,ed,e),(t=z(this,ka))==null||t.call(this),be(this,ka,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,rc)!==e&&(be(this,rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof z(this,rc)=="boolean"?z(this,rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rc=new WeakMap,ka=new WeakMap,ed=new WeakMap,YP),RM=new A8,td,Ea,nd,WP,R8=(WP=class extends jd{constructor(){super();Ee(this,td,!0);Ee(this,Ea);Ee(this,nd);be(this,nd,e=>{if(!kc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Ea)||this.setEventListener(z(this,nd))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ea))==null||e.call(this),be(this,Ea,void 0))}setEventListener(e){var t;be(this,nd,e),(t=z(this,Ea))==null||t.call(this),be(this,Ea,e(this.setOnline.bind(this)))}setOnline(e){z(this,td)!==e&&(be(this,td,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,td)}},td=new WeakMap,Ea=new WeakMap,nd=new WeakMap,WP),jy=new R8;function Rw(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function N8(n){return Math.min(1e3*2**n,3e4)}function kL(n){return(n??"online")==="online"?jy.isOnline():!0}var EL=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function o1(n){return n instanceof EL}function TL(n){let e=!1,t=0,r=!1,i;const s=Rw(),o=v=>{var w;r||(m(new EL(v)),(w=n.abort)==null||w.call(n))},a=()=>{e=!0},c=()=>{e=!1},d=()=>RM.isFocused()&&(n.networkMode==="always"||jy.isOnline())&&n.canRun(),f=()=>kL(n.networkMode)&&n.canRun(),p=v=>{var w;r||(r=!0,(w=n.onSuccess)==null||w.call(n,v),i==null||i(),s.resolve(v))},m=v=>{var w;r||(r=!0,(w=n.onError)==null||w.call(n,v),i==null||i(),s.reject(v))},y=()=>new Promise(v=>{var w;i=M=>{(r||d())&&v(M)},(w=n.onPause)==null||w.call(n)}).then(()=>{var v;i=void 0,r||(v=n.onContinue)==null||v.call(n)}),b=()=>{if(r)return;let v;const w=t===0?n.initialPromise:void 0;try{v=w??n.fn()}catch(M){v=Promise.reject(M)}Promise.resolve(v).then(p).catch(M=>{var P;if(r)return;const k=n.retry??(kc?0:3),E=n.retryDelay??N8,A=typeof E=="function"?E(t,M):E,T=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,M);if(e||!T){m(M);return}t++,(P=n.onFail)==null||P.call(n,t,M),T8(A).then(()=>d()?void 0:y()).then(()=>{e?m(M):b()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():y().then(b),s)}}var P8=n=>setTimeout(n,0);function L8(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=P8;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var kn=L8(),ic,qP,OL=(qP=class{constructor(){Ee(this,ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ow(this.gcTime)&&be(this,ic,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(kc?1/0:5*60*1e3))}clearGcTimeout(){z(this,ic)&&(clearTimeout(z(this,ic)),be(this,ic,void 0))}},ic=new WeakMap,qP),rd,sc,Di,oc,or,Mp,ac,Ui,ho,KP,I8=(KP=class extends OL{constructor(e){super();Ee(this,Ui);Ee(this,rd);Ee(this,sc);Ee(this,Di);Ee(this,oc);Ee(this,or);Ee(this,Mp);Ee(this,ac);be(this,ac,!1),be(this,Mp,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,oc,e.client),be(this,Di,z(this,oc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,rd,j8(this.options)),this.state=e.state??z(this,rd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,or))==null?void 0:e.promise}setOptions(e){this.options={...z(this,Mp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Di).remove(this)}setData(e,t){const r=Aw(this.state.data,e,this.options);return Ue(this,Ui,ho).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Ue(this,Ui,ho).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=z(this,or))==null?void 0:r.promise;return(i=z(this,or))==null||i.cancel(e),t?t.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,rd))}isActive(){return this.observers.some(e=>Yi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$a(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!SL(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=z(this,or))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=z(this,or))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Di).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(z(this,or)&&(z(this,ac)?z(this,or).cancel({revert:!0}):z(this,or).cancelRetry()),this.scheduleGc()),z(this,Di).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,Ui,ho).call(this,{type:"invalidate"})}fetch(e,t){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(z(this,or))return z(this,or).continueRetry(),z(this,or).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(be(this,ac,!0),r.signal)})},s=()=>{const m=DL(this.options,t),b=(()=>{const v={client:z(this,oc),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return be(this,ac,!1),this.options.persister?this.options.persister(m,b,this):m(b)},a=(()=>{const m={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:z(this,oc),state:this.state,fetchFn:s};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(a,this),be(this,sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ue(this,Ui,ho).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=m=>{var y,b,v,w;o1(m)&&m.silent||Ue(this,Ui,ho).call(this,{type:"error",error:m}),o1(m)||((b=(y=z(this,Di).config).onError)==null||b.call(y,m,this),(w=(v=z(this,Di).config).onSettled)==null||w.call(v,this.state.data,m,this)),this.scheduleGc()};return be(this,or,TL({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,b,v,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(M){c(M);return}(b=(y=z(this,Di).config).onSuccess)==null||b.call(y,m,this),(w=(v=z(this,Di).config).onSettled)==null||w.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{Ue(this,Ui,ho).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Ue(this,Ui,ho).call(this,{type:"pause"})},onContinue:()=>{Ue(this,Ui,ho).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,or).start()}},rd=new WeakMap,sc=new WeakMap,Di=new WeakMap,oc=new WeakMap,or=new WeakMap,Mp=new WeakMap,ac=new WeakMap,Ui=new WeakSet,ho=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._L(r.data,this.options),fetchMeta:e.meta??null};case"success":return be(this,sc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return o1(i)&&i.revert&&z(this,sc)?{...z(this,sc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Di).notify({query:this,type:"updated",action:e})})},KP);function _L(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kL(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function j8(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ys,QP,B8=(QP=class extends jd{constructor(e={}){super();Ee(this,ys);this.config=e,be(this,ys,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??_M(i,t);let o=this.get(s);return o||(o=new I8({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,ys).has(e.queryHash)||(z(this,ys).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=z(this,ys).get(e.queryHash);t&&(e.destroy(),t===e&&z(this,ys).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,ys).get(e)}getAll(){return[...z(this,ys).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>YO(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>YO(e,r)):t}notify(e){kn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ys=new WeakMap,QP),bs,Sr,lc,vs,ya,GP,F8=(GP=class extends OL{constructor(e){super();Ee(this,vs);Ee(this,bs);Ee(this,Sr);Ee(this,lc);this.mutationId=e.mutationId,be(this,Sr,e.mutationCache),be(this,bs,[]),this.state=e.state||AL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,bs).includes(e)||(z(this,bs).push(e),this.clearGcTimeout(),z(this,Sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,bs,z(this,bs).filter(t=>t!==e)),this.scheduleGc(),z(this,Sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,bs).length||(this.state.status==="pending"?this.scheduleGc():z(this,Sr).remove(this))}continue(){var e;return((e=z(this,lc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,c,d,f,p,m,y,b,v,w,M,k,E,A,T,P,N,_;const t=()=>{Ue(this,vs,ya).call(this,{type:"continue"})};be(this,lc,TL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,I)=>{Ue(this,vs,ya).call(this,{type:"failed",failureCount:L,error:I})},onPause:()=>{Ue(this,vs,ya).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Sr).canRun(this)}));const r=this.state.status==="pending",i=!z(this,lc).canStart();try{if(r)t();else{Ue(this,vs,ya).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=z(this,Sr).config).onMutate)==null?void 0:o.call(s,e,this));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));I!==this.state.context&&Ue(this,vs,ya).call(this,{type:"pending",context:I,variables:e,isPaused:i})}const L=await z(this,lc).start();return await((f=(d=z(this,Sr).config).onSuccess)==null?void 0:f.call(d,L,e,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,L,e,this.state.context)),await((b=(y=z(this,Sr).config).onSettled)==null?void 0:b.call(y,L,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,L,null,e,this.state.context)),Ue(this,vs,ya).call(this,{type:"success",data:L}),L}catch(L){try{throw await((k=(M=z(this,Sr).config).onError)==null?void 0:k.call(M,L,e,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,L,e,this.state.context)),await((P=(T=z(this,Sr).config).onSettled)==null?void 0:P.call(T,void 0,L,this.state.variables,this.state.context,this)),await((_=(N=this.options).onSettled)==null?void 0:_.call(N,void 0,L,e,this.state.context)),L}finally{Ue(this,vs,ya).call(this,{type:"error",error:L})}}finally{z(this,Sr).runNext(this)}}},bs=new WeakMap,Sr=new WeakMap,lc=new WeakMap,vs=new WeakSet,ya=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),kn.batch(()=>{z(this,bs).forEach(r=>{r.onMutationUpdate(e)}),z(this,Sr).notify({mutation:this,type:"updated",action:e})})},GP);function AL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vo,$i,Dp,XP,z8=(XP=class extends jd{constructor(e={}){super();Ee(this,vo);Ee(this,$i);Ee(this,Dp);this.config=e,be(this,vo,new Set),be(this,$i,new Map),be(this,Dp,0)}build(e,t,r){const i=new F8({mutationCache:this,mutationId:++ug(this,Dp)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){z(this,vo).add(e);const t=fg(e);if(typeof t=="string"){const r=z(this,$i).get(t);r?r.push(e):z(this,$i).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,vo).delete(e)){const t=fg(e);if(typeof t=="string"){const r=z(this,$i).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&z(this,$i).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=fg(e);if(typeof t=="string"){const r=z(this,$i).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=fg(e);if(typeof t=="string"){const i=(r=z(this,$i).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{z(this,vo).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,vo).clear(),z(this,$i).clear()})}getAll(){return Array.from(z(this,vo))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>WO(t,r))}findAll(e={}){return this.getAll().filter(t=>WO(e,t))}notify(e){kn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return kn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Dr))))}},vo=new WeakMap,$i=new WeakMap,Dp=new WeakMap,XP);function fg(n){var e;return(e=n.options.scope)==null?void 0:e.id}function QO(n){return{onFetch:(e,t)=>{var f,p,m,y,b;const r=e.options,i=(m=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},M=DL(e.options,e.fetchOptions),k=async(E,A,T)=>{if(v)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const N=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:A,direction:T?"backward":"forward",meta:e.options.meta};return w(V),V})(),_=await M(N),{maxPages:L}=e.options,I=T?_8:O8;return{pages:I(E.pages,_,L),pageParams:I(E.pageParams,A,L)}};if(i&&s.length){const E=i==="backward",A=E?V8:GO,T={pages:s,pageParams:o},P=A(r,T);a=await k(T,P,E)}else{const E=n??s.length;do{const A=c===0?o[0]??r.initialPageParam:GO(r,a);if(c>0&&A==null)break;a=await k(a,A),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function GO(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function V8(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var sn,Ta,Oa,id,sd,_a,od,ad,JP,H8=(JP=class{constructor(n={}){Ee(this,sn);Ee(this,Ta);Ee(this,Oa);Ee(this,id);Ee(this,sd);Ee(this,_a);Ee(this,od);Ee(this,ad);be(this,sn,n.queryCache||new B8),be(this,Ta,n.mutationCache||new z8),be(this,Oa,n.defaultOptions||{}),be(this,id,new Map),be(this,sd,new Map),be(this,_a,0)}mount(){ug(this,_a)._++,z(this,_a)===1&&(be(this,od,RM.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,sn).onFocus())})),be(this,ad,jy.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,sn).onOnline())})))}unmount(){var n,e;ug(this,_a)._--,z(this,_a)===0&&((n=z(this,od))==null||n.call(this),be(this,od,void 0),(e=z(this,ad))==null||e.call(this),be(this,ad,void 0))}isFetching(n){return z(this,sn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return z(this,Ta).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,sn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=z(this,sn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime($a(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return z(this,sn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=z(this,sn).get(r.queryHash),s=i==null?void 0:i.state.data,o=E8(e,s);if(o!==void 0)return z(this,sn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return kn.batch(()=>z(this,sn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,sn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=z(this,sn);kn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=z(this,sn);return kn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=kn.batch(()=>z(this,sn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Dr).catch(Dr)}invalidateQueries(n,e={}){return kn.batch(()=>(z(this,sn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=kn.batch(()=>z(this,sn).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Dr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Dr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=z(this,sn).build(this,e);return t.isStaleByTime($a(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Dr).catch(Dr)}fetchInfiniteQuery(n){return n.behavior=QO(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Dr).catch(Dr)}ensureInfiniteQueryData(n){return n.behavior=QO(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return jy.isOnline()?z(this,Ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,sn)}getMutationCache(){return z(this,Ta)}getDefaultOptions(){return z(this,Oa)}setDefaultOptions(n){be(this,Oa,n)}setQueryDefaults(n,e){z(this,id).set(Ec(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...z(this,id).values()],t={};return e.forEach(r=>{$h(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){z(this,sd).set(Ec(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...z(this,sd).values()],t={};return e.forEach(r=>{$h(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...z(this,Oa).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=_M(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===AM&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...z(this,Oa).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){z(this,sn).clear(),z(this,Ta).clear()}},sn=new WeakMap,Ta=new WeakMap,Oa=new WeakMap,id=new WeakMap,sd=new WeakMap,_a=new WeakMap,od=new WeakMap,ad=new WeakMap,JP),zr,ot,Cp,Mr,cc,ld,Aa,Ra,kp,cd,ud,uc,dc,Na,dd,xt,ah,Nw,Pw,Lw,Iw,jw,Bw,Fw,RL,ZP,U8=(ZP=class extends jd{constructor(e,t){super();Ee(this,xt);Ee(this,zr);Ee(this,ot);Ee(this,Cp);Ee(this,Mr);Ee(this,cc);Ee(this,ld);Ee(this,Aa);Ee(this,Ra);Ee(this,kp);Ee(this,cd);Ee(this,ud);Ee(this,uc);Ee(this,dc);Ee(this,Na);Ee(this,dd,new Set);this.options=t,be(this,zr,e),be(this,Ra,null),be(this,Aa,Rw()),this.options.experimental_prefetchInRender||z(this,Aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,ot).addObserver(this),XO(z(this,ot),this.options)?Ue(this,xt,ah).call(this):this.updateResult(),Ue(this,xt,Iw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zw(z(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zw(z(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,xt,jw).call(this),Ue(this,xt,Bw).call(this),z(this,ot).removeObserver(this)}setOptions(e){const t=this.options,r=z(this,ot);if(this.options=z(this,zr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yi(this.options.enabled,z(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,xt,Fw).call(this),z(this,ot).setOptions(this.options),t._defaulted&&!Iy(this.options,t)&&z(this,zr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,ot),observer:this});const i=this.hasListeners();i&&JO(z(this,ot),r,this.options,t)&&Ue(this,xt,ah).call(this),this.updateResult(),i&&(z(this,ot)!==r||Yi(this.options.enabled,z(this,ot))!==Yi(t.enabled,z(this,ot))||$a(this.options.staleTime,z(this,ot))!==$a(t.staleTime,z(this,ot)))&&Ue(this,xt,Nw).call(this);const s=Ue(this,xt,Pw).call(this);i&&(z(this,ot)!==r||Yi(this.options.enabled,z(this,ot))!==Yi(t.enabled,z(this,ot))||s!==z(this,Na))&&Ue(this,xt,Lw).call(this,s)}getOptimisticResult(e){const t=z(this,zr).getQueryCache().build(z(this,zr),e),r=this.createResult(t,e);return Y8(this,r)&&(be(this,Mr,r),be(this,ld,this.options),be(this,cc,z(this,ot).state)),r}getCurrentResult(){return z(this,Mr)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(r,i))})}trackProp(e){z(this,dd).add(e)}getCurrentQuery(){return z(this,ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=z(this,zr).defaultQueryOptions(e),r=z(this,zr).getQueryCache().build(z(this,zr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Ue(this,xt,ah).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Mr)))}createResult(e,t){var L;const r=z(this,ot),i=this.options,s=z(this,Mr),o=z(this,cc),a=z(this,ld),d=e!==r?e.state:z(this,Cp),{state:f}=e;let p={...f},m=!1,y;if(t._optimisticResults){const I=this.hasListeners(),V=!I&&XO(e,t),q=I&&JO(e,r,t,i);(V||q)&&(p={...p,..._L(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:w}=p;y=p.data;let M=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let I;s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(I=s.data,M=!0):I=typeof t.placeholderData=="function"?t.placeholderData((L=z(this,ud))==null?void 0:L.state.data,z(this,ud)):t.placeholderData,I!==void 0&&(w="success",y=Aw(s==null?void 0:s.data,I,t),m=!0)}if(t.select&&y!==void 0&&!M)if(s&&y===(o==null?void 0:o.data)&&t.select===z(this,kp))y=z(this,cd);else try{be(this,kp,t.select),y=t.select(y),y=Aw(s==null?void 0:s.data,y,t),be(this,cd,y),be(this,Ra,null)}catch(I){be(this,Ra,I)}z(this,Ra)&&(b=z(this,Ra),y=z(this,cd),v=Date.now(),w="error");const k=p.fetchStatus==="fetching",E=w==="pending",A=w==="error",T=E&&k,P=y!==void 0,_={status:w,fetchStatus:p.fetchStatus,isPending:E,isSuccess:w==="success",isError:A,isInitialLoading:T,isLoading:T,data:y,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!E,isLoadingError:A&&!P,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&P,isStale:NM(e,t),refetch:this.refetch,promise:z(this,Aa)};if(this.options.experimental_prefetchInRender){const I=ae=>{_.status==="error"?ae.reject(_.error):_.data!==void 0&&ae.resolve(_.data)},V=()=>{const ae=be(this,Aa,_.promise=Rw());I(ae)},q=z(this,Aa);switch(q.status){case"pending":e.queryHash===r.queryHash&&I(q);break;case"fulfilled":(_.status==="error"||_.data!==q.value)&&V();break;case"rejected":(_.status!=="error"||_.error!==q.reason)&&V();break}}return _}updateResult(){const e=z(this,Mr),t=this.createResult(z(this,ot),this.options);if(be(this,cc,z(this,ot).state),be(this,ld,this.options),z(this,cc).data!==void 0&&be(this,ud,z(this,ot)),Iy(t,e))return;be(this,Mr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!z(this,dd).size)return!0;const o=new Set(s??z(this,dd));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,Mr)).some(a=>{const c=a;return z(this,Mr)[c]!==e[c]&&o.has(c)})};Ue(this,xt,RL).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,xt,Iw).call(this)}},zr=new WeakMap,ot=new WeakMap,Cp=new WeakMap,Mr=new WeakMap,cc=new WeakMap,ld=new WeakMap,Aa=new WeakMap,Ra=new WeakMap,kp=new WeakMap,cd=new WeakMap,ud=new WeakMap,uc=new WeakMap,dc=new WeakMap,Na=new WeakMap,dd=new WeakMap,xt=new WeakSet,ah=function(e){Ue(this,xt,Fw).call(this);let t=z(this,ot).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Dr)),t},Nw=function(){Ue(this,xt,jw).call(this);const e=$a(this.options.staleTime,z(this,ot));if(kc||z(this,Mr).isStale||!Ow(e))return;const r=SL(z(this,Mr).dataUpdatedAt,e)+1;be(this,uc,setTimeout(()=>{z(this,Mr).isStale||this.updateResult()},r))},Pw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,ot)):this.options.refetchInterval)??!1},Lw=function(e){Ue(this,xt,Bw).call(this),be(this,Na,e),!(kc||Yi(this.options.enabled,z(this,ot))===!1||!Ow(z(this,Na))||z(this,Na)===0)&&be(this,dc,setInterval(()=>{(this.options.refetchIntervalInBackground||RM.isFocused())&&Ue(this,xt,ah).call(this)},z(this,Na)))},Iw=function(){Ue(this,xt,Nw).call(this),Ue(this,xt,Lw).call(this,Ue(this,xt,Pw).call(this))},jw=function(){z(this,uc)&&(clearTimeout(z(this,uc)),be(this,uc,void 0))},Bw=function(){z(this,dc)&&(clearInterval(z(this,dc)),be(this,dc,void 0))},Fw=function(){const e=z(this,zr).getQueryCache().build(z(this,zr),this.options);if(e===z(this,ot))return;const t=z(this,ot);be(this,ot,e),be(this,Cp,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},RL=function(e){kn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(z(this,Mr))}),z(this,zr).getQueryCache().notify({query:z(this,ot),type:"observerResultsUpdated"})})},ZP);function $8(n,e){return Yi(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function XO(n,e){return $8(n,e)||n.state.data!==void 0&&zw(n,e,e.refetchOnMount)}function zw(n,e,t){if(Yi(e.enabled,n)!==!1&&$a(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&NM(n,e)}return!1}function JO(n,e,t,r){return(n!==e||Yi(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&NM(n,t)}function NM(n,e){return Yi(e.enabled,n)!==!1&&n.isStaleByTime($a(e.staleTime,n))}function Y8(n,e){return!Iy(n.getCurrentResult(),e)}var Pa,La,Vr,xo,Po,ey,Vw,eL,W8=(eL=class extends jd{constructor(t,r){super();Ee(this,Po);Ee(this,Pa);Ee(this,La);Ee(this,Vr);Ee(this,xo);be(this,Pa,t),this.setOptions(r),this.bindMethods(),Ue(this,Po,ey).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=z(this,Pa).defaultMutationOptions(t),Iy(this.options,r)||z(this,Pa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Vr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ec(r.mutationKey)!==Ec(this.options.mutationKey)?this.reset():((i=z(this,Vr))==null?void 0:i.state.status)==="pending"&&z(this,Vr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=z(this,Vr))==null||t.removeObserver(this)}onMutationUpdate(t){Ue(this,Po,ey).call(this),Ue(this,Po,Vw).call(this,t)}getCurrentResult(){return z(this,La)}reset(){var t;(t=z(this,Vr))==null||t.removeObserver(this),be(this,Vr,void 0),Ue(this,Po,ey).call(this),Ue(this,Po,Vw).call(this)}mutate(t,r){var i;return be(this,xo,r),(i=z(this,Vr))==null||i.removeObserver(this),be(this,Vr,z(this,Pa).getMutationCache().build(z(this,Pa),this.options)),z(this,Vr).addObserver(this),z(this,Vr).execute(t)}},Pa=new WeakMap,La=new WeakMap,Vr=new WeakMap,xo=new WeakMap,Po=new WeakSet,ey=function(){var r;const t=((r=z(this,Vr))==null?void 0:r.state)??AL();be(this,La,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Vw=function(t){kn.batch(()=>{var r,i,s,o,a,c,d,f;if(z(this,xo)&&this.hasListeners()){const p=z(this,La).variables,m=z(this,La).context;(t==null?void 0:t.type)==="success"?((i=(r=z(this,xo)).onSuccess)==null||i.call(r,t.data,p,m),(o=(s=z(this,xo)).onSettled)==null||o.call(s,t.data,null,p,m)):(t==null?void 0:t.type)==="error"&&((c=(a=z(this,xo)).onError)==null||c.call(a,t.error,p,m),(f=(d=z(this,xo)).onSettled)==null||f.call(d,void 0,t.error,p,m))}this.listeners.forEach(p=>{p(z(this,La))})})},eL),NL=D.createContext(void 0),PM=n=>{const e=D.useContext(NL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},q8=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),C.jsx(NL.Provider,{value:n,children:e})),PL=D.createContext(!1),K8=()=>D.useContext(PL);PL.Provider;function Q8(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var G8=D.createContext(Q8()),X8=()=>D.useContext(G8),J8=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Z8=n=>{D.useEffect(()=>{n.clearReset()},[n])},eH=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||CL(t,[n.error,r])),tH=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},nH=(n,e)=>n.isLoading&&n.isFetching&&!e,rH=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,ZO=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function iH(n,e,t){var p,m,y,b,v;const r=K8(),i=X8(),s=PM(),o=s.defaultQueryOptions(n);(m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,o),o._optimisticResults=r?"isRestoring":"optimistic",tH(o),J8(o,i),Z8(i);const a=!s.getQueryCache().get(o.queryHash),[c]=D.useState(()=>new e(s,o)),d=c.getOptimisticResult(o),f=!r&&n.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(w=>{const M=f?c.subscribe(kn.batchCalls(w)):Dr;return c.updateResult(),M},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),D.useEffect(()=>{c.setOptions(o)},[o,c]),rH(o,d))throw ZO(o,c,i);if(eH({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((b=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,o,d),o.experimental_prefetchInRender&&!kc&&nH(d,r)){const w=a?ZO(o,c,i):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;w==null||w.catch(Dr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function V0(n,e){return iH(n,U8)}function sH(n,e){const t=PM(),[r]=D.useState(()=>new W8(t,n));D.useEffect(()=>{r.setOptions(n)},[r,n]);const i=D.useSyncExternalStore(D.useCallback(o=>r.subscribe(kn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=D.useCallback((o,a)=>{r.mutate(o,a).catch(Dr)},[r]);if(i.error&&CL(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const LL=D.createContext(),LM=()=>{const n=D.useContext(LL);if(!n)throw new Error("useGallery는 GalleryProvider 내부에서 사용해야 합니다.");return n},oH=({children:n})=>{const[e,t]=D.useState(!1),s={isGalleryOpen:e,openGallery:()=>t(!0),closeGallery:()=>t(!1)};return C.jsx(LL.Provider,{value:s,children:n})};let aH={data:""},lH=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||aH,cH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,uH=/\/\*[^]*?\*\/|  +/g,e_=/\n+/g,Da=(n,e)=>{let t="",r="",i="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":r+=s[1]=="f"?Da(o,s):s+"{"+Da(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Da(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Da.p?Da.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+r},lo={},IL=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+IL(n[t]);return e}return n},dH=(n,e,t,r,i)=>{let s=IL(n),o=lo[s]||(lo[s]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(s));if(!lo[o]){let c=s!==n?n:(d=>{let f,p,m=[{}];for(;f=cH.exec(d.replace(uH,""));)f[4]?m.shift():f[3]?(p=f[3].replace(e_," ").trim(),m.unshift(m[0][p]=m[0][p]||{})):m[0][f[1]]=f[2].replace(e_," ").trim();return m[0]})(n);lo[o]=Da(i?{["@keyframes "+o]:c}:c,t?"":"."+o)}let a=t&&lo.g?lo.g:null;return t&&(lo.g=lo[o]),((c,d,f,p)=>{p?d.data=d.data.replace(p,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(lo[o],e,r,a),o},fH=(n,e,t)=>n.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(t),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":Da(a,""):a===!1?"":a}return r+i+(o??"")},"");function H0(n){let e=this||{},t=n.call?n(e.p):n;return dH(t.unshift?t.raw?fH(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,lH(e.target),e.g,e.o,e.k)}let jL,Hw,Uw;H0.bind({g:1});let Io=H0.bind({k:1});function hH(n,e,t,r){Da.p=e,jL=n,Hw=t,Uw=r}function cl(n,e){let t=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),c=a.className||i.className;t.p=Object.assign({theme:Hw&&Hw()},a),t.o=/ *go\d+/.test(c),a.className=H0.apply(t,r)+(c?" "+c:"");let d=n;return n[0]&&(d=a.as||n,delete a.as),Uw&&d[0]&&Uw(a),jL(d,a)}return i}}var pH=n=>typeof n=="function",By=(n,e)=>pH(n)?n(e):n,mH=(()=>{let n=0;return()=>(++n).toString()})(),BL=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),gH=20,FL=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,gH)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return FL(n,{type:n.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},ty=[],Wl={toasts:[],pausedAt:void 0},Bc=n=>{Wl=FL(Wl,n),ty.forEach(e=>{e(Wl)})},yH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bH=(n={})=>{let[e,t]=D.useState(Wl),r=D.useRef(Wl);D.useEffect(()=>(r.current!==Wl&&t(Wl),ty.push(t),()=>{let s=ty.indexOf(t);s>-1&&ty.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,c;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((a=n[s.type])==null?void 0:a.duration)||(n==null?void 0:n.duration)||yH[s.type],style:{...n.style,...(c=n[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},vH=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||mH()}),Rp=n=>(e,t)=>{let r=vH(e,n,t);return Bc({type:2,toast:r}),r.id},kr=(n,e)=>Rp("blank")(n,e);kr.error=Rp("error");kr.success=Rp("success");kr.loading=Rp("loading");kr.custom=Rp("custom");kr.dismiss=n=>{Bc({type:3,toastId:n})};kr.remove=n=>Bc({type:4,toastId:n});kr.promise=(n,e,t)=>{let r=kr.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?By(e.success,i):void 0;return s?kr.success(s,{id:r,...t,...t==null?void 0:t.success}):kr.dismiss(r),i}).catch(i=>{let s=e.error?By(e.error,i):void 0;s?kr.error(s,{id:r,...t,...t==null?void 0:t.error}):kr.dismiss(r)}),n};var xH=(n,e)=>{Bc({type:1,toast:{id:n,height:e}})},wH=()=>{Bc({type:5,time:Date.now()})},xh=new Map,SH=1e3,MH=(n,e=SH)=>{if(xh.has(n))return;let t=setTimeout(()=>{xh.delete(n),Bc({type:4,toastId:n})},e);xh.set(n,t)},DH=n=>{let{toasts:e,pausedAt:t}=bH(n);D.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(c<0){a.visible&&kr.dismiss(a.id);return}return setTimeout(()=>kr.dismiss(a.id),c)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let r=D.useCallback(()=>{t&&Bc({type:6,time:Date.now()})},[t]),i=D.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:d}=o||{},f=e.filter(y=>(y.position||d)===(s.position||d)&&y.height),p=f.findIndex(y=>y.id===s.id),m=f.filter((y,b)=>b<p&&y.visible).length;return f.filter(y=>y.visible).slice(...a?[m+1]:[0,m]).reduce((y,b)=>y+(b.height||0)+c,0)},[e]);return D.useEffect(()=>{e.forEach(s=>{if(s.dismissed)MH(s.id,s.removeDelay);else{let o=xh.get(s.id);o&&(clearTimeout(o),xh.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:xH,startPause:wH,endPause:r,calculateOffset:i}}},CH=Io`
========
`+h.stack}}function di(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function JC(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Uz(l){var u=JC(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),g=""+l[u];if(!l.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return x.call(this)},set:function(O){g=""+O,S.call(this,O)}}),Object.defineProperty(l,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function tm(l){l._valueTracker||(l._valueTracker=Uz(l))}function ZC(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return l&&(g=JC(l)?l.checked?"true":"false":l.value),l=g,l!==h?(u.setValue(l),!0):!1}function nm(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var $z=/[\n"\\]/g;function fi(l){return l.replace($z,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Kb(l,u,h,g,x,S,O,R){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),u!=null?O==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+di(u)):l.value!==""+di(u)&&(l.value=""+di(u)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),u!=null?Qb(l,O,di(u)):h!=null?Qb(l,O,di(h)):g!=null&&l.removeAttribute("value"),x==null&&S!=null&&(l.defaultChecked=!!S),x!=null&&(l.checked=x&&typeof x!="function"&&typeof x!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?l.name=""+di(R):l.removeAttribute("name")}function ek(l,u,h,g,x,S,O,R){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null))return;h=h!=null?""+di(h):"",u=u!=null?""+di(u):h,R||u===l.value||(l.value=u),l.defaultValue=u}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=R?l.checked:!!g,l.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O)}function Qb(l,u,h){u==="number"&&nm(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function qc(l,u,h,g){if(l=l.options,u){u={};for(var x=0;x<h.length;x++)u["$"+h[x]]=!0;for(h=0;h<l.length;h++)x=u.hasOwnProperty("$"+l[h].value),l[h].selected!==x&&(l[h].selected=x),x&&g&&(l[h].defaultSelected=!0)}else{for(h=""+di(h),u=null,x=0;x<l.length;x++){if(l[x].value===h){l[x].selected=!0,g&&(l[x].defaultSelected=!0);return}u!==null||l[x].disabled||(u=l[x])}u!==null&&(u.selected=!0)}}function tk(l,u,h){if(u!=null&&(u=""+di(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+di(h):""}function nk(l,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(oe(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=di(u),l.defaultValue=h,g=l.textContent,g===h&&g!==""&&g!==null&&(l.value=g)}function Kc(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var Yz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rk(l,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":g?l.setProperty(u,h):typeof h!="number"||h===0||Yz.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function ik(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var x in u)g=u[x],u.hasOwnProperty(x)&&h[x]!==g&&rk(l,x,g)}else for(var S in u)u.hasOwnProperty(S)&&rk(l,S,u[S])}function Gb(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rm(l){return qz.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Xb=null;function Jb(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Qc=null,Gc=null;function sk(l){var u=Uc(l);if(u&&(l=u.stateNode)){var h=l[zt]||null;e:switch(l=u.stateNode,u.type){case"input":if(Kb(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+fi(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==l&&g.form===l.form){var x=g[zt]||null;if(!x)throw Error(r(90));Kb(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===l.form&&ZC(g)}break e;case"textarea":tk(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&qc(l,!!h.multiple,u,!1)}}}var Zb=!1;function ok(l,u,h){if(Zb)return l(u,h);Zb=!0;try{var g=l(u);return g}finally{if(Zb=!1,(Qc!==null||Gc!==null)&&(Hm(),Qc&&(u=Qc,l=Gc,Gc=Qc=null,sk(u),l)))for(u=0;u<l.length;u++)sk(l[u])}}function Qd(l,u){var h=l.stateNode;if(h===null)return null;var g=h[zt]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ev=!1;if(Ks)try{var Gd={};Object.defineProperty(Gd,"passive",{get:function(){ev=!0}}),window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch{ev=!1}var Wo=null,tv=null,im=null;function ak(){if(im)return im;var l,u=tv,h=u.length,g,x="value"in Wo?Wo.value:Wo.textContent,S=x.length;for(l=0;l<h&&u[l]===x[l];l++);var O=h-l;for(g=1;g<=O&&u[h-g]===x[S-g];g++);return im=x.slice(l,1<g?1-g:void 0)}function sm(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function om(){return!0}function lk(){return!1}function Nr(l){function u(h,g,x,S,O){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var R in l)l.hasOwnProperty(R)&&(h=l[R],this[R]=h?h(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?om:lk,this.isPropagationStopped=lk,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=om)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=om)},persist:function(){},isPersistent:om}),u}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},am=Nr(yl),Xd=f({},yl,{view:0,detail:0}),Kz=Nr(Xd),nv,rv,Jd,lm=f({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Jd&&(Jd&&l.type==="mousemove"?(nv=l.screenX-Jd.screenX,rv=l.screenY-Jd.screenY):rv=nv=0,Jd=l),nv)},movementY:function(l){return"movementY"in l?l.movementY:rv}}),ck=Nr(lm),Qz=f({},lm,{dataTransfer:0}),Gz=Nr(Qz),Xz=f({},Xd,{relatedTarget:0}),iv=Nr(Xz),Jz=f({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),Zz=Nr(Jz),e4=f({},yl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),t4=Nr(e4),n4=f({},yl,{data:0}),uk=Nr(n4),r4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o4(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=s4[l])?!!u[l]:!1}function sv(){return o4}var a4=f({},Xd,{key:function(l){if(l.key){var u=r4[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=sm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?i4[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(l){return l.type==="keypress"?sm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?sm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),l4=Nr(a4),c4=f({},lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dk=Nr(c4),u4=f({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),d4=Nr(u4),f4=f({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),h4=Nr(f4),p4=f({},lm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),m4=Nr(p4),g4=f({},yl,{newState:0,oldState:0}),y4=Nr(g4),b4=[9,13,27,32],ov=Ks&&"CompositionEvent"in window,Zd=null;Ks&&"documentMode"in document&&(Zd=document.documentMode);var v4=Ks&&"TextEvent"in window&&!Zd,fk=Ks&&(!ov||Zd&&8<Zd&&11>=Zd),hk=" ",pk=!1;function mk(l,u){switch(l){case"keyup":return b4.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Xc=!1;function x4(l,u){switch(l){case"compositionend":return gk(u);case"keypress":return u.which!==32?null:(pk=!0,hk);case"textInput":return l=u.data,l===hk&&pk?null:l;default:return null}}function w4(l,u){if(Xc)return l==="compositionend"||!ov&&mk(l,u)?(l=ak(),im=tv=Wo=null,Xc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return fk&&u.locale!=="ko"?null:u.data;default:return null}}var S4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yk(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!S4[l.type]:u==="textarea"}function bk(l,u,h,g){Qc?Gc?Gc.push(g):Gc=[g]:Qc=g,u=Km(u,"onChange"),0<u.length&&(h=new am("onChange","change",null,h,g),l.push({event:h,listeners:u}))}var ef=null,tf=null;function M4(l){JT(l,0)}function cm(l){var u=Kd(l);if(ZC(u))return l}function vk(l,u){if(l==="change")return u}var xk=!1;if(Ks){var av;if(Ks){var lv="oninput"in document;if(!lv){var wk=document.createElement("div");wk.setAttribute("oninput","return;"),lv=typeof wk.oninput=="function"}av=lv}else av=!1;xk=av&&(!document.documentMode||9<document.documentMode)}function Sk(){ef&&(ef.detachEvent("onpropertychange",Mk),tf=ef=null)}function Mk(l){if(l.propertyName==="value"&&cm(tf)){var u=[];bk(u,tf,l,Jb(l)),ok(M4,u)}}function D4(l,u,h){l==="focusin"?(Sk(),ef=u,tf=h,ef.attachEvent("onpropertychange",Mk)):l==="focusout"&&Sk()}function C4(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return cm(tf)}function k4(l,u){if(l==="click")return cm(u)}function E4(l,u){if(l==="input"||l==="change")return cm(u)}function T4(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Jr=typeof Object.is=="function"?Object.is:T4;function nf(l,u){if(Jr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!we.call(u,x)||!Jr(l[x],u[x]))return!1}return!0}function Dk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ck(l,u){var h=Dk(l);l=0;for(var g;h;){if(h.nodeType===3){if(g=l+h.textContent.length,l<=u&&g>=u)return{node:h,offset:u-l};l=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Dk(h)}}function kk(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?kk(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Ek(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=nm(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=nm(l.document)}return u}function cv(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var O4=Ks&&"documentMode"in document&&11>=document.documentMode,Jc=null,uv=null,rf=null,dv=!1;function Tk(l,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;dv||Jc==null||Jc!==nm(g)||(g=Jc,"selectionStart"in g&&cv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),rf&&nf(rf,g)||(rf=g,g=Km(uv,"onSelect"),0<g.length&&(u=new am("onSelect","select",null,u,h),l.push({event:u,listeners:g}),u.target=Jc)))}function bl(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var Zc={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionrun:bl("Transition","TransitionRun"),transitionstart:bl("Transition","TransitionStart"),transitioncancel:bl("Transition","TransitionCancel"),transitionend:bl("Transition","TransitionEnd")},fv={},Ok={};Ks&&(Ok=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function vl(l){if(fv[l])return fv[l];if(!Zc[l])return l;var u=Zc[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in Ok)return fv[l]=u[h];return l}var _k=vl("animationend"),Ak=vl("animationiteration"),Rk=vl("animationstart"),_4=vl("transitionrun"),A4=vl("transitionstart"),R4=vl("transitioncancel"),Nk=vl("transitionend"),Pk=new Map,hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hv.push("scrollEnd");function Bi(l,u){Pk.set(l,u),gl(u,[l])}var Lk=new WeakMap;function hi(l,u){if(typeof l=="object"&&l!==null){var h=Lk.get(l);return h!==void 0?h:(u={value:l,source:u,stack:XC(u)},Lk.set(l,u),u)}return{value:l,source:u,stack:XC(u)}}var pi=[],eu=0,pv=0;function um(){for(var l=eu,u=pv=eu=0;u<l;){var h=pi[u];pi[u++]=null;var g=pi[u];pi[u++]=null;var x=pi[u];pi[u++]=null;var S=pi[u];if(pi[u++]=null,g!==null&&x!==null){var O=g.pending;O===null?x.next=x:(x.next=O.next,O.next=x),g.pending=x}S!==0&&Ik(h,x,S)}}function dm(l,u,h,g){pi[eu++]=l,pi[eu++]=u,pi[eu++]=h,pi[eu++]=g,pv|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function mv(l,u,h,g){return dm(l,u,h,g),fm(l)}function tu(l,u){return dm(l,null,null,u),fm(l)}function Ik(l,u,h){l.lanes|=h;var g=l.alternate;g!==null&&(g.lanes|=h);for(var x=!1,S=l.return;S!==null;)S.childLanes|=h,g=S.alternate,g!==null&&(g.childLanes|=h),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(x=!0)),l=S,S=S.return;return l.tag===3?(S=l.stateNode,x&&u!==null&&(x=31-Be(h),l=S.hiddenUpdates,g=l[x],g===null?l[x]=[u]:g.push(u),u.lane=h|536870912),S):null}function fm(l){if(50<Of)throw Of=0,wx=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var nu={};function N4(l,u,h,g){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(l,u,h,g){return new N4(l,u,h,g)}function gv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Qs(l,u){var h=l.alternate;return h===null?(h=Zr(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function jk(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function hm(l,u,h,g,x,S){var O=0;if(g=l,typeof l=="function")gv(l)&&(O=1);else if(typeof l=="string")O=L6(l,h,he.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=Zr(31,h,u,x),l.elementType=L,l.lanes=S,l;case b:return xl(h.children,x,S,u);case v:O=8,x|=24;break;case w:return l=Zr(12,h,u,x|2),l.elementType=w,l.lanes=S,l;case T:return l=Zr(13,h,u,x),l.elementType=T,l.lanes=S,l;case P:return l=Zr(19,h,u,x),l.elementType=P,l.lanes=S,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case E:O=10;break e;case k:O=9;break e;case _:O=11;break e;case N:O=14;break e;case A:O=16,g=null;break e}O=29,h=Error(r(130,l===null?"null":typeof l,"")),g=null}return u=Zr(O,h,u,x),u.elementType=l,u.type=g,u.lanes=S,u}function xl(l,u,h,g){return l=Zr(7,l,g,u),l.lanes=h,l}function yv(l,u,h){return l=Zr(6,l,null,u),l.lanes=h,l}function bv(l,u,h){return u=Zr(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var ru=[],iu=0,pm=null,mm=0,mi=[],gi=0,wl=null,Gs=1,Xs="";function Sl(l,u){ru[iu++]=mm,ru[iu++]=pm,pm=l,mm=u}function Bk(l,u,h){mi[gi++]=Gs,mi[gi++]=Xs,mi[gi++]=wl,wl=l;var g=Gs;l=Xs;var x=32-Be(g)-1;g&=~(1<<x),h+=1;var S=32-Be(u)+x;if(30<S){var O=x-x%5;S=(g&(1<<O)-1).toString(32),g>>=O,x-=O,Gs=1<<32-Be(u)+x|h<<x|g,Xs=S+l}else Gs=1<<S|h<<x|g,Xs=l}function vv(l){l.return!==null&&(Sl(l,1),Bk(l,1,0))}function xv(l){for(;l===pm;)pm=ru[--iu],ru[iu]=null,mm=ru[--iu],ru[iu]=null;for(;l===wl;)wl=mi[--gi],mi[gi]=null,Xs=mi[--gi],mi[gi]=null,Gs=mi[--gi],mi[gi]=null}var vr=null,nn=null,mt=!1,Ml=null,ss=!1,wv=Error(r(519));function Dl(l){var u=Error(r(418,""));throw af(hi(u,l)),wv}function Fk(l){var u=l.stateNode,h=l.type,g=l.memoizedProps;switch(u[Ft]=l,u[zt]=g,h){case"dialog":tt("cancel",u),tt("close",u);break;case"iframe":case"object":case"embed":tt("load",u);break;case"video":case"audio":for(h=0;h<Af.length;h++)tt(Af[h],u);break;case"source":tt("error",u);break;case"img":case"image":case"link":tt("error",u),tt("load",u);break;case"details":tt("toggle",u);break;case"input":tt("invalid",u),ek(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),tm(u);break;case"select":tt("invalid",u);break;case"textarea":tt("invalid",u),nk(u,g.value,g.defaultValue,g.children),tm(u)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||nO(u.textContent,h)?(g.popover!=null&&(tt("beforetoggle",u),tt("toggle",u)),g.onScroll!=null&&tt("scroll",u),g.onScrollEnd!=null&&tt("scrollend",u),g.onClick!=null&&(u.onclick=Qm),u=!0):u=!1,u||Dl(l)}function zk(l){for(vr=l.return;vr;)switch(vr.tag){case 5:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:vr=vr.return}}function sf(l){if(l!==vr)return!1;if(!mt)return zk(l),mt=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||jx(l.type,l.memoizedProps)),h=!h),h&&nn&&Dl(l),zk(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(h=l.data,h==="/$"){if(u===0){nn=zi(l.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++;l=l.nextSibling}nn=null}}else u===27?(u=nn,la(l.type)?(l=Vx,Vx=null,nn=l):nn=u):nn=vr?zi(l.stateNode.nextSibling):null;return!0}function of(){nn=vr=null,mt=!1}function Vk(){var l=Ml;return l!==null&&(Ir===null?Ir=l:Ir.push.apply(Ir,l),Ml=null),l}function af(l){Ml===null?Ml=[l]:Ml.push(l)}var Sv=Z(null),Cl=null,Js=null;function qo(l,u,h){le(Sv,u._currentValue),u._currentValue=h}function Zs(l){l._currentValue=Sv.current,se(Sv)}function Mv(l,u,h){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===h)break;l=l.return}}function Dv(l,u,h,g){var x=l.child;for(x!==null&&(x.return=l);x!==null;){var S=x.dependencies;if(S!==null){var O=x.child;S=S.firstContext;e:for(;S!==null;){var R=S;S=x;for(var B=0;B<u.length;B++)if(R.context===u[B]){S.lanes|=h,R=S.alternate,R!==null&&(R.lanes|=h),Mv(S.return,h,l),g||(O=null);break e}S=R.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(r(341));O.lanes|=h,S=O.alternate,S!==null&&(S.lanes|=h),Mv(O,h,l),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===l){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function lf(l,u,h,g){l=null;for(var x=u,S=!1;x!==null;){if(!S){if((x.flags&524288)!==0)S=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var R=x.type;Jr(x.pendingProps.value,O.value)||(l!==null?l.push(R):l=[R])}}else if(x===ft.current){if(O=x.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(l!==null?l.push(jf):l=[jf])}x=x.return}l!==null&&Dv(u,l,h,g),u.flags|=262144}function gm(l){for(l=l.firstContext;l!==null;){if(!Jr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function kl(l){Cl=l,Js=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function nr(l){return Hk(Cl,l)}function ym(l,u){return Cl===null&&kl(l),Hk(l,u)}function Hk(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Js===null){if(l===null)throw Error(r(308));Js=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Js=Js.next=u;return h}var P4=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,g){l.push(g)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},L4=n.unstable_scheduleCallback,I4=n.unstable_NormalPriority,Mn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cv(){return{controller:new P4,data:new Map,refCount:0}}function cf(l){l.refCount--,l.refCount===0&&L4(I4,function(){l.controller.abort()})}var uf=null,kv=0,su=0,ou=null;function j4(l,u){if(uf===null){var h=uf=[];kv=0,su=Tx(),ou={status:"pending",value:void 0,then:function(g){h.push(g)}}}return kv++,u.then(Uk,Uk),u}function Uk(){if(--kv===0&&uf!==null){ou!==null&&(ou.status="fulfilled");var l=uf;uf=null,su=0,ou=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function B4(l,u){var h=[],g={status:"pending",value:null,reason:null,then:function(x){h.push(x)}};return l.then(function(){g.status="fulfilled",g.value=u;for(var x=0;x<h.length;x++)(0,h[x])(u)},function(x){for(g.status="rejected",g.reason=x,x=0;x<h.length;x++)(0,h[x])(void 0)}),g}var $k=F.S;F.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&j4(l,u),$k!==null&&$k(l,u)};var El=Z(null);function Ev(){var l=El.current;return l!==null?l:It.pooledCache}function bm(l,u){u===null?le(El,El.current):le(El,u.pool)}function Yk(){var l=Ev();return l===null?null:{parent:Mn._currentValue,pool:l}}var df=Error(r(460)),Wk=Error(r(474)),vm=Error(r(542)),Tv={then:function(){}};function qk(l){return l=l.status,l==="fulfilled"||l==="rejected"}function xm(){}function Kk(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(xm,xm),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Gk(l),l;default:if(typeof u.status=="string")u.then(xm,xm);else{if(l=It,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(g){if(u.status==="pending"){var x=u;x.status="fulfilled",x.value=g}},function(g){if(u.status==="pending"){var x=u;x.status="rejected",x.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Gk(l),l}throw ff=u,df}}var ff=null;function Qk(){if(ff===null)throw Error(r(459));var l=ff;return ff=null,l}function Gk(l){if(l===df||l===vm)throw Error(r(483))}var Ko=!1;function Ov(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _v(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Qo(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Go(l,u,h){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(wt&2)!==0){var x=g.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),g.pending=u,u=fm(l),Ik(l,null,h),u}return dm(l,g,u,h),fm(l)}function hf(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,ji(l,h)}}function Av(l,u){var h=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?x=S=O:S=S.next=O,h=h.next}while(h!==null);S===null?x=S=u:S=S.next=u}else x=S=u;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var Rv=!1;function pf(){if(Rv){var l=ou;if(l!==null)throw l}}function mf(l,u,h,g){Rv=!1;var x=l.updateQueue;Ko=!1;var S=x.firstBaseUpdate,O=x.lastBaseUpdate,R=x.shared.pending;if(R!==null){x.shared.pending=null;var B=R,K=B.next;B.next=null,O===null?S=K:O.next=K,O=B;var te=l.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==O&&(R===null?te.firstBaseUpdate=K:R.next=K,te.lastBaseUpdate=B))}if(S!==null){var ie=x.baseState;O=0,te=K=B=null,R=S;do{var Q=R.lane&-536870913,G=Q!==R.lane;if(G?(ct&Q)===Q:(g&Q)===Q){Q!==0&&Q===su&&(Rv=!0),te!==null&&(te=te.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=l,Oe=R;Q=u;var Tt=h;switch(Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ie=Re.call(Tt,ie,Q);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,Q=typeof Re=="function"?Re.call(Tt,ie,Q):Re,Q==null)break e;ie=f({},ie,Q);break e;case 2:Ko=!0}}Q=R.callback,Q!==null&&(l.flags|=64,G&&(l.flags|=8192),G=x.callbacks,G===null?x.callbacks=[Q]:G.push(Q))}else G={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(K=te=G,B=ie):te=te.next=G,O|=Q;if(R=R.next,R===null){if(R=x.shared.pending,R===null)break;G=R,R=G.next,G.next=null,x.lastBaseUpdate=G,x.shared.pending=null}}while(!0);te===null&&(B=ie),x.baseState=B,x.firstBaseUpdate=K,x.lastBaseUpdate=te,S===null&&(x.shared.lanes=0),ia|=O,l.lanes=O,l.memoizedState=ie}}function Xk(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Jk(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)Xk(h[l],u)}var au=Z(null),wm=Z(0);function Zk(l,u){l=oo,le(wm,l),le(au,u),oo=l|u.baseLanes}function Nv(){le(wm,oo),le(au,au.current)}function Pv(){oo=wm.current,se(au),se(wm)}var Xo=0,We=null,kt=null,gn=null,Sm=!1,lu=!1,Tl=!1,Mm=0,gf=0,cu=null,F4=0;function un(){throw Error(r(321))}function Lv(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!Jr(l[h],u[h]))return!1;return!0}function Iv(l,u,h,g,x,S){return Xo=S,We=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,F.H=l===null||l.memoizedState===null?IE:jE,Tl=!1,S=h(g,x),Tl=!1,lu&&(S=tE(u,h,g,x)),eE(l),S}function eE(l){F.H=Om;var u=kt!==null&&kt.next!==null;if(Xo=0,gn=kt=We=null,Sm=!1,gf=0,cu=null,u)throw Error(r(300));l===null||On||(l=l.dependencies,l!==null&&gm(l)&&(On=!0))}function tE(l,u,h,g){We=l;var x=0;do{if(lu&&(cu=null),gf=0,lu=!1,25<=x)throw Error(r(301));if(x+=1,gn=kt=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}F.H=W4,S=u(h,g)}while(lu);return S}function z4(){var l=F.H,u=l.useState()[0];return u=typeof u.then=="function"?yf(u):u,l=l.useState()[0],(kt!==null?kt.memoizedState:null)!==l&&(We.flags|=1024),u}function jv(){var l=Mm!==0;return Mm=0,l}function Bv(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function Fv(l){if(Sm){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Sm=!1}Xo=0,gn=kt=We=null,lu=!1,gf=Mm=0,cu=null}function Pr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?We.memoizedState=gn=l:gn=gn.next=l,gn}function yn(){if(kt===null){var l=We.alternate;l=l!==null?l.memoizedState:null}else l=kt.next;var u=gn===null?We.memoizedState:gn.next;if(u!==null)gn=u,kt=l;else{if(l===null)throw We.alternate===null?Error(r(467)):Error(r(310));kt=l,l={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},gn===null?We.memoizedState=gn=l:gn=gn.next=l}return gn}function zv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yf(l){var u=gf;return gf+=1,cu===null&&(cu=[]),l=Kk(cu,l,u),u=We,(gn===null?u.memoizedState:gn.next)===null&&(u=u.alternate,F.H=u===null||u.memoizedState===null?IE:jE),l}function Dm(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return yf(l);if(l.$$typeof===E)return nr(l)}throw Error(r(438,String(l)))}function Vv(l){var u=null,h=We.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(x){return x.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=zv(),We.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),g=0;g<l;g++)h[g]=I;return u.index++,h}function eo(l,u){return typeof u=="function"?u(l):u}function Cm(l){var u=yn();return Hv(u,kt,l)}function Hv(l,u,h){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var x=l.baseQueue,S=g.pending;if(S!==null){if(x!==null){var O=x.next;x.next=S.next,S.next=O}u.baseQueue=x=S,g.pending=null}if(S=l.baseState,x===null)l.memoizedState=S;else{u=x.next;var R=O=null,B=null,K=u,te=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(ct&ie)===ie:(Xo&ie)===ie){var Q=K.revertLane;if(Q===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===su&&(te=!0);else if((Xo&Q)===Q){K=K.next,Q===su&&(te=!0);continue}else ie={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(R=B=ie,O=S):B=B.next=ie,We.lanes|=Q,ia|=Q;ie=K.action,Tl&&h(S,ie),S=K.hasEagerState?K.eagerState:h(S,ie)}else Q={lane:ie,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(R=B=Q,O=S):B=B.next=Q,We.lanes|=ie,ia|=ie;K=K.next}while(K!==null&&K!==u);if(B===null?O=S:B.next=R,!Jr(S,l.memoizedState)&&(On=!0,te&&(h=ou,h!==null)))throw h;l.memoizedState=S,l.baseState=O,l.baseQueue=B,g.lastRenderedState=S}return x===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function Uv(l){var u=yn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=h.dispatch,x=h.pending,S=u.memoizedState;if(x!==null){h.pending=null;var O=x=x.next;do S=l(S,O.action),O=O.next;while(O!==x);Jr(S,u.memoizedState)||(On=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,g]}function nE(l,u,h){var g=We,x=yn(),S=mt;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var O=!Jr((kt||x).memoizedState,h);O&&(x.memoizedState=h,On=!0),x=x.queue;var R=sE.bind(null,g,x,l);if(bf(2048,8,R,[l]),x.getSnapshot!==u||O||gn!==null&&gn.memoizedState.tag&1){if(g.flags|=2048,uu(9,km(),iE.bind(null,g,x,h,u),null),It===null)throw Error(r(349));S||(Xo&124)!==0||rE(g,u,h)}return h}function rE(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=We.updateQueue,u===null?(u=zv(),We.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function iE(l,u,h,g){u.value=h,u.getSnapshot=g,oE(u)&&aE(l)}function sE(l,u,h){return h(function(){oE(u)&&aE(l)})}function oE(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!Jr(l,h)}catch{return!0}}function aE(l){var u=tu(l,2);u!==null&&ii(u,l,2)}function $v(l){var u=Pr();if(typeof l=="function"){var h=l;if(l=h(),Tl){Le(!0);try{h()}finally{Le(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:l},u}function lE(l,u,h,g){return l.baseState=h,Hv(l,kt,typeof g=="function"?g:eo)}function V4(l,u,h,g,x){if(Tm(l))throw Error(r(485));if(l=u.action,l!==null){var S={payload:x,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};F.T!==null?h(!0):S.isTransition=!1,g(S),h=u.pending,h===null?(S.next=u.pending=S,cE(u,S)):(S.next=h.next,u.pending=h.next=S)}}function cE(l,u){var h=u.action,g=u.payload,x=l.state;if(u.isTransition){var S=F.T,O={};F.T=O;try{var R=h(x,g),B=F.S;B!==null&&B(O,R),uE(l,u,R)}catch(K){Yv(l,u,K)}finally{F.T=S}}else try{S=h(x,g),uE(l,u,S)}catch(K){Yv(l,u,K)}}function uE(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){dE(l,u,g)},function(g){return Yv(l,u,g)}):dE(l,u,h)}function dE(l,u,h){u.status="fulfilled",u.value=h,fE(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,cE(l,h)))}function Yv(l,u,h){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,fE(u),u=u.next;while(u!==g)}l.action=null}function fE(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function hE(l,u){return u}function pE(l,u){if(mt){var h=It.formState;if(h!==null){e:{var g=We;if(mt){if(nn){t:{for(var x=nn,S=ss;x.nodeType!==8;){if(!S){x=null;break t}if(x=zi(x.nextSibling),x===null){x=null;break t}}S=x.data,x=S==="F!"||S==="F"?x:null}if(x){nn=zi(x.nextSibling),g=x.data==="F!";break e}}Dl(g)}g=!1}g&&(u=h[0])}}return h=Pr(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hE,lastRenderedState:u},h.queue=g,h=NE.bind(null,We,g),g.dispatch=h,g=$v(!1),S=Gv.bind(null,We,!1,g.queue),g=Pr(),x={state:u,dispatch:null,action:l,pending:null},g.queue=x,h=V4.bind(null,We,x,S,h),x.dispatch=h,g.memoizedState=l,[u,h,!1]}function mE(l){var u=yn();return gE(u,kt,l)}function gE(l,u,h){if(u=Hv(l,u,hE)[0],l=Cm(eo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=yf(u)}catch(O){throw O===df?vm:O}else g=u;u=yn();var x=u.queue,S=x.dispatch;return h!==u.memoizedState&&(We.flags|=2048,uu(9,km(),H4.bind(null,x,h),null)),[g,S,l]}function H4(l,u){l.action=u}function yE(l){var u=yn(),h=kt;if(h!==null)return gE(u,h,l);yn(),u=u.memoizedState,h=yn();var g=h.queue.dispatch;return h.memoizedState=l,[u,g,!1]}function uu(l,u,h,g){return l={tag:l,create:h,deps:g,inst:u,next:null},u=We.updateQueue,u===null&&(u=zv(),We.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(g=h.next,h.next=l,l.next=g,u.lastEffect=l),l}function km(){return{destroy:void 0,resource:void 0}}function bE(){return yn().memoizedState}function Em(l,u,h,g){var x=Pr();g=g===void 0?null:g,We.flags|=l,x.memoizedState=uu(1|u,km(),h,g)}function bf(l,u,h,g){var x=yn();g=g===void 0?null:g;var S=x.memoizedState.inst;kt!==null&&g!==null&&Lv(g,kt.memoizedState.deps)?x.memoizedState=uu(u,S,h,g):(We.flags|=l,x.memoizedState=uu(1|u,S,h,g))}function vE(l,u){Em(8390656,8,l,u)}function xE(l,u){bf(2048,8,l,u)}function wE(l,u){return bf(4,2,l,u)}function SE(l,u){return bf(4,4,l,u)}function ME(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function DE(l,u,h){h=h!=null?h.concat([l]):null,bf(4,4,ME.bind(null,u,l),h)}function Wv(){}function CE(l,u){var h=yn();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&Lv(u,g[1])?g[0]:(h.memoizedState=[l,u],l)}function kE(l,u){var h=yn();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&Lv(u,g[1]))return g[0];if(g=l(),Tl){Le(!0);try{l()}finally{Le(!1)}}return h.memoizedState=[g,u],g}function qv(l,u,h){return h===void 0||(Xo&1073741824)!==0?l.memoizedState=u:(l.memoizedState=h,l=OT(),We.lanes|=l,ia|=l,h)}function EE(l,u,h,g){return Jr(h,u)?h:au.current!==null?(l=qv(l,h,g),Jr(l,u)||(On=!0),l):(Xo&42)===0?(On=!0,l.memoizedState=h):(l=OT(),We.lanes|=l,ia|=l,u)}function TE(l,u,h,g,x){var S=U.p;U.p=S!==0&&8>S?S:8;var O=F.T,R={};F.T=R,Gv(l,!1,u,h);try{var B=x(),K=F.S;if(K!==null&&K(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var te=B4(B,g);vf(l,u,te,ri(l))}else vf(l,u,g,ri(l))}catch(ie){vf(l,u,{then:function(){},status:"rejected",reason:ie},ri())}finally{U.p=S,F.T=O}}function U4(){}function Kv(l,u,h,g){if(l.tag!==5)throw Error(r(476));var x=OE(l).queue;TE(l,x,u,J,h===null?U4:function(){return _E(l),h(g)})}function OE(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:J},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function _E(l){var u=OE(l).next.queue;vf(l,u,{},ri())}function Qv(){return nr(jf)}function AE(){return yn().memoizedState}function RE(){return yn().memoizedState}function $4(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=ri();l=Qo(h);var g=Go(u,l,h);g!==null&&(ii(g,u,h),hf(g,u,h)),u={cache:Cv()},l.payload=u;return}u=u.return}}function Y4(l,u,h){var g=ri();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Tm(l)?PE(u,h):(h=mv(l,u,h,g),h!==null&&(ii(h,l,g),LE(h,u,g)))}function NE(l,u,h){var g=ri();vf(l,u,h,g)}function vf(l,u,h,g){var x={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Tm(l))PE(u,x);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var O=u.lastRenderedState,R=S(O,h);if(x.hasEagerState=!0,x.eagerState=R,Jr(R,O))return dm(l,u,x,0),It===null&&um(),!1}catch{}finally{}if(h=mv(l,u,x,g),h!==null)return ii(h,l,g),LE(h,u,g),!0}return!1}function Gv(l,u,h,g){if(g={lane:2,revertLane:Tx(),action:g,hasEagerState:!1,eagerState:null,next:null},Tm(l)){if(u)throw Error(r(479))}else u=mv(l,h,g,2),u!==null&&ii(u,l,2)}function Tm(l){var u=l.alternate;return l===We||u!==null&&u===We}function PE(l,u){lu=Sm=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function LE(l,u,h){if((h&4194048)!==0){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,ji(l,h)}}var Om={readContext:nr,use:Dm,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un},IE={readContext:nr,use:Dm,useCallback:function(l,u){return Pr().memoizedState=[l,u===void 0?null:u],l},useContext:nr,useEffect:vE,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,Em(4194308,4,ME.bind(null,u,l),h)},useLayoutEffect:function(l,u){return Em(4194308,4,l,u)},useInsertionEffect:function(l,u){Em(4,2,l,u)},useMemo:function(l,u){var h=Pr();u=u===void 0?null:u;var g=l();if(Tl){Le(!0);try{l()}finally{Le(!1)}}return h.memoizedState=[g,u],g},useReducer:function(l,u,h){var g=Pr();if(h!==void 0){var x=h(u);if(Tl){Le(!0);try{h(u)}finally{Le(!1)}}}else x=u;return g.memoizedState=g.baseState=x,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:x},g.queue=l,l=l.dispatch=Y4.bind(null,We,l),[g.memoizedState,l]},useRef:function(l){var u=Pr();return l={current:l},u.memoizedState=l},useState:function(l){l=$v(l);var u=l.queue,h=NE.bind(null,We,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:Wv,useDeferredValue:function(l,u){var h=Pr();return qv(h,l,u)},useTransition:function(){var l=$v(!1);return l=TE.bind(null,We,l.queue,!0,!1),Pr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var g=We,x=Pr();if(mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),It===null)throw Error(r(349));(ct&124)!==0||rE(g,u,h)}x.memoizedState=h;var S={value:h,getSnapshot:u};return x.queue=S,vE(sE.bind(null,g,S,l),[l]),g.flags|=2048,uu(9,km(),iE.bind(null,g,S,h,u),null),h},useId:function(){var l=Pr(),u=It.identifierPrefix;if(mt){var h=Xs,g=Gs;h=(g&~(1<<32-Be(g)-1)).toString(32)+h,u="«"+u+"R"+h,h=Mm++,0<h&&(u+="H"+h.toString(32)),u+="»"}else h=F4++,u="«"+u+"r"+h.toString(32)+"»";return l.memoizedState=u},useHostTransitionStatus:Qv,useFormState:pE,useActionState:pE,useOptimistic:function(l){var u=Pr();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Gv.bind(null,We,!0,h),h.dispatch=u,[l,u]},useMemoCache:Vv,useCacheRefresh:function(){return Pr().memoizedState=$4.bind(null,We)}},jE={readContext:nr,use:Dm,useCallback:CE,useContext:nr,useEffect:xE,useImperativeHandle:DE,useInsertionEffect:wE,useLayoutEffect:SE,useMemo:kE,useReducer:Cm,useRef:bE,useState:function(){return Cm(eo)},useDebugValue:Wv,useDeferredValue:function(l,u){var h=yn();return EE(h,kt.memoizedState,l,u)},useTransition:function(){var l=Cm(eo)[0],u=yn().memoizedState;return[typeof l=="boolean"?l:yf(l),u]},useSyncExternalStore:nE,useId:AE,useHostTransitionStatus:Qv,useFormState:mE,useActionState:mE,useOptimistic:function(l,u){var h=yn();return lE(h,kt,l,u)},useMemoCache:Vv,useCacheRefresh:RE},W4={readContext:nr,use:Dm,useCallback:CE,useContext:nr,useEffect:xE,useImperativeHandle:DE,useInsertionEffect:wE,useLayoutEffect:SE,useMemo:kE,useReducer:Uv,useRef:bE,useState:function(){return Uv(eo)},useDebugValue:Wv,useDeferredValue:function(l,u){var h=yn();return kt===null?qv(h,l,u):EE(h,kt.memoizedState,l,u)},useTransition:function(){var l=Uv(eo)[0],u=yn().memoizedState;return[typeof l=="boolean"?l:yf(l),u]},useSyncExternalStore:nE,useId:AE,useHostTransitionStatus:Qv,useFormState:yE,useActionState:yE,useOptimistic:function(l,u){var h=yn();return kt!==null?lE(h,kt,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Vv,useCacheRefresh:RE},du=null,xf=0;function _m(l){var u=xf;return xf+=1,du===null&&(du=[]),Kk(du,l,u)}function wf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Am(l,u){throw u.$$typeof===p?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function BE(l){var u=l._init;return u(l._payload)}function FE(l){function u(Y,H){if(l){var W=Y.deletions;W===null?(Y.deletions=[H],Y.flags|=16):W.push(H)}}function h(Y,H){if(!l)return null;for(;H!==null;)u(Y,H),H=H.sibling;return null}function g(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function x(Y,H){return Y=Qs(Y,H),Y.index=0,Y.sibling=null,Y}function S(Y,H,W){return Y.index=W,l?(W=Y.alternate,W!==null?(W=W.index,W<H?(Y.flags|=67108866,H):W):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function O(Y){return l&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,H,W,re){return H===null||H.tag!==6?(H=yv(W,Y.mode,re),H.return=Y,H):(H=x(H,W),H.return=Y,H)}function B(Y,H,W,re){var ve=W.type;return ve===b?te(Y,H,W.props.children,re,W.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&BE(ve)===H.type)?(H=x(H,W.props),wf(H,W),H.return=Y,H):(H=hm(W.type,W.key,W.props,null,Y.mode,re),wf(H,W),H.return=Y,H)}function K(Y,H,W,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=bv(W,Y.mode,re),H.return=Y,H):(H=x(H,W.children||[]),H.return=Y,H)}function te(Y,H,W,re,ve){return H===null||H.tag!==7?(H=xl(W,Y.mode,re,ve),H.return=Y,H):(H=x(H,W),H.return=Y,H)}function ie(Y,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=yv(""+H,Y.mode,W),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case m:return W=hm(H.type,H.key,H.props,null,Y.mode,W),wf(W,H),W.return=Y,W;case y:return H=bv(H,Y.mode,W),H.return=Y,H;case A:var re=H._init;return H=re(H._payload),ie(Y,H,W)}if(oe(H)||q(H))return H=xl(H,Y.mode,W,null),H.return=Y,H;if(typeof H.then=="function")return ie(Y,_m(H),W);if(H.$$typeof===E)return ie(Y,ym(Y,H),W);Am(Y,H)}return null}function Q(Y,H,W,re){var ve=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:R(Y,H,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return W.key===ve?B(Y,H,W,re):null;case y:return W.key===ve?K(Y,H,W,re):null;case A:return ve=W._init,W=ve(W._payload),Q(Y,H,W,re)}if(oe(W)||q(W))return ve!==null?null:te(Y,H,W,re,null);if(typeof W.then=="function")return Q(Y,H,_m(W),re);if(W.$$typeof===E)return Q(Y,H,ym(Y,W),re);Am(Y,W)}return null}function G(Y,H,W,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Y=Y.get(W)||null,R(H,Y,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case m:return Y=Y.get(re.key===null?W:re.key)||null,B(H,Y,re,ve);case y:return Y=Y.get(re.key===null?W:re.key)||null,K(H,Y,re,ve);case A:var Ge=re._init;return re=Ge(re._payload),G(Y,H,W,re,ve)}if(oe(re)||q(re))return Y=Y.get(W)||null,te(H,Y,re,ve,null);if(typeof re.then=="function")return G(Y,H,W,_m(re),ve);if(re.$$typeof===E)return G(Y,H,W,ym(H,re),ve);Am(H,re)}return null}function Re(Y,H,W,re){for(var ve=null,Ge=null,Ce=H,_e=H=0,An=null;Ce!==null&&_e<W.length;_e++){Ce.index>_e?(An=Ce,Ce=null):An=Ce.sibling;var ht=Q(Y,Ce,W[_e],re);if(ht===null){Ce===null&&(Ce=An);break}l&&Ce&&ht.alternate===null&&u(Y,Ce),H=S(ht,H,_e),Ge===null?ve=ht:Ge.sibling=ht,Ge=ht,Ce=An}if(_e===W.length)return h(Y,Ce),mt&&Sl(Y,_e),ve;if(Ce===null){for(;_e<W.length;_e++)Ce=ie(Y,W[_e],re),Ce!==null&&(H=S(Ce,H,_e),Ge===null?ve=Ce:Ge.sibling=Ce,Ge=Ce);return mt&&Sl(Y,_e),ve}for(Ce=g(Ce);_e<W.length;_e++)An=G(Ce,Y,_e,W[_e],re),An!==null&&(l&&An.alternate!==null&&Ce.delete(An.key===null?_e:An.key),H=S(An,H,_e),Ge===null?ve=An:Ge.sibling=An,Ge=An);return l&&Ce.forEach(function(ha){return u(Y,ha)}),mt&&Sl(Y,_e),ve}function Oe(Y,H,W,re){if(W==null)throw Error(r(151));for(var ve=null,Ge=null,Ce=H,_e=H=0,An=null,ht=W.next();Ce!==null&&!ht.done;_e++,ht=W.next()){Ce.index>_e?(An=Ce,Ce=null):An=Ce.sibling;var ha=Q(Y,Ce,ht.value,re);if(ha===null){Ce===null&&(Ce=An);break}l&&Ce&&ha.alternate===null&&u(Y,Ce),H=S(ha,H,_e),Ge===null?ve=ha:Ge.sibling=ha,Ge=ha,Ce=An}if(ht.done)return h(Y,Ce),mt&&Sl(Y,_e),ve;if(Ce===null){for(;!ht.done;_e++,ht=W.next())ht=ie(Y,ht.value,re),ht!==null&&(H=S(ht,H,_e),Ge===null?ve=ht:Ge.sibling=ht,Ge=ht);return mt&&Sl(Y,_e),ve}for(Ce=g(Ce);!ht.done;_e++,ht=W.next())ht=G(Ce,Y,_e,ht.value,re),ht!==null&&(l&&ht.alternate!==null&&Ce.delete(ht.key===null?_e:ht.key),H=S(ht,H,_e),Ge===null?ve=ht:Ge.sibling=ht,Ge=ht);return l&&Ce.forEach(function(q6){return u(Y,q6)}),mt&&Sl(Y,_e),ve}function Tt(Y,H,W,re){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case m:e:{for(var ve=W.key;H!==null;){if(H.key===ve){if(ve=W.type,ve===b){if(H.tag===7){h(Y,H.sibling),re=x(H,W.props.children),re.return=Y,Y=re;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&BE(ve)===H.type){h(Y,H.sibling),re=x(H,W.props),wf(re,W),re.return=Y,Y=re;break e}h(Y,H);break}else u(Y,H);H=H.sibling}W.type===b?(re=xl(W.props.children,Y.mode,re,W.key),re.return=Y,Y=re):(re=hm(W.type,W.key,W.props,null,Y.mode,re),wf(re,W),re.return=Y,Y=re)}return O(Y);case y:e:{for(ve=W.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){h(Y,H.sibling),re=x(H,W.children||[]),re.return=Y,Y=re;break e}else{h(Y,H);break}else u(Y,H);H=H.sibling}re=bv(W,Y.mode,re),re.return=Y,Y=re}return O(Y);case A:return ve=W._init,W=ve(W._payload),Tt(Y,H,W,re)}if(oe(W))return Re(Y,H,W,re);if(q(W)){if(ve=q(W),typeof ve!="function")throw Error(r(150));return W=ve.call(W),Oe(Y,H,W,re)}if(typeof W.then=="function")return Tt(Y,H,_m(W),re);if(W.$$typeof===E)return Tt(Y,H,ym(Y,W),re);Am(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(h(Y,H.sibling),re=x(H,W),re.return=Y,Y=re):(h(Y,H),re=yv(W,Y.mode,re),re.return=Y,Y=re),O(Y)):h(Y,H)}return function(Y,H,W,re){try{xf=0;var ve=Tt(Y,H,W,re);return du=null,ve}catch(Ce){if(Ce===df||Ce===vm)throw Ce;var Ge=Zr(29,Ce,null,Y.mode);return Ge.lanes=re,Ge.return=Y,Ge}finally{}}}var fu=FE(!0),zE=FE(!1),yi=Z(null),as=null;function Jo(l){var u=l.alternate;le(Dn,Dn.current&1),le(yi,l),as===null&&(u===null||au.current!==null||u.memoizedState!==null)&&(as=l)}function VE(l){if(l.tag===22){if(le(Dn,Dn.current),le(yi,l),as===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(as=l)}}else Zo()}function Zo(){le(Dn,Dn.current),le(yi,yi.current)}function to(l){se(yi),as===l&&(as=null),se(Dn)}var Dn=Z(0);function Rm(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||zx(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Xv(l,u,h,g){u=l.memoizedState,h=h(g,u),h=h==null?u:f({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Jv={enqueueSetState:function(l,u,h){l=l._reactInternals;var g=ri(),x=Qo(g);x.payload=u,h!=null&&(x.callback=h),u=Go(l,x,g),u!==null&&(ii(u,l,g),hf(u,l,g))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var g=ri(),x=Qo(g);x.tag=1,x.payload=u,h!=null&&(x.callback=h),u=Go(l,x,g),u!==null&&(ii(u,l,g),hf(u,l,g))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=ri(),g=Qo(h);g.tag=2,u!=null&&(g.callback=u),u=Go(l,g,h),u!==null&&(ii(u,l,h),hf(u,l,h))}};function HE(l,u,h,g,x,S,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,S,O):u.prototype&&u.prototype.isPureReactComponent?!nf(h,g)||!nf(x,S):!0}function UE(l,u,h,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==l&&Jv.enqueueReplaceState(u,u.state,null)}function Ol(l,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(l=l.defaultProps){h===u&&(h=f({},h));for(var x in l)h[x]===void 0&&(h[x]=l[x])}return h}var Nm=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function $E(l){Nm(l)}function YE(l){console.error(l)}function WE(l){Nm(l)}function Pm(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function qE(l,u,h){try{var g=l.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Zv(l,u,h){return h=Qo(h),h.tag=3,h.payload={element:null},h.callback=function(){Pm(l,u)},h}function KE(l){return l=Qo(l),l.tag=3,l}function QE(l,u,h,g){var x=h.type.getDerivedStateFromError;if(typeof x=="function"){var S=g.value;l.payload=function(){return x(S)},l.callback=function(){qE(u,h,g)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){qE(u,h,g),typeof x!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var R=g.stack;this.componentDidCatch(g.value,{componentStack:R!==null?R:""})})}function q4(l,u,h,g,x){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&lf(u,h,x,!0),h=yi.current,h!==null){switch(h.tag){case 13:return as===null?Mx():h.alternate===null&&rn===0&&(rn=3),h.flags&=-257,h.flags|=65536,h.lanes=x,g===Tv?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),Cx(l,g,x)),!1;case 22:return h.flags|=65536,g===Tv?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),Cx(l,g,x)),!1}throw Error(r(435,h.tag))}return Cx(l,g,x),Mx(),!1}if(mt)return u=yi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=x,g!==wv&&(l=Error(r(422),{cause:g}),af(hi(l,h)))):(g!==wv&&(u=Error(r(423),{cause:g}),af(hi(u,h))),l=l.current.alternate,l.flags|=65536,x&=-x,l.lanes|=x,g=hi(g,h),x=Zv(l.stateNode,g,x),Av(l,x),rn!==4&&(rn=2)),!1;var S=Error(r(520),{cause:g});if(S=hi(S,h),Tf===null?Tf=[S]:Tf.push(S),rn!==4&&(rn=2),u===null)return!0;g=hi(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=x&-x,h.lanes|=l,l=Zv(h.stateNode,g,l),Av(h,l),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(sa===null||!sa.has(S))))return h.flags|=65536,x&=-x,h.lanes|=x,x=KE(x),QE(x,l,h,g),Av(h,x),!1}h=h.return}while(h!==null);return!1}var GE=Error(r(461)),On=!1;function $n(l,u,h,g){u.child=l===null?zE(u,null,h,g):fu(u,l.child,h,g)}function XE(l,u,h,g,x){h=h.render;var S=u.ref;if("ref"in g){var O={};for(var R in g)R!=="ref"&&(O[R]=g[R])}else O=g;return kl(u),g=Iv(l,u,h,O,S,x),R=jv(),l!==null&&!On?(Bv(l,u,x),no(l,u,x)):(mt&&R&&vv(u),u.flags|=1,$n(l,u,g,x),u.child)}function JE(l,u,h,g,x){if(l===null){var S=h.type;return typeof S=="function"&&!gv(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,ZE(l,u,S,g,x)):(l=hm(h.type,null,g,u,u.mode,x),l.ref=u.ref,l.return=u,u.child=l)}if(S=l.child,!ax(l,x)){var O=S.memoizedProps;if(h=h.compare,h=h!==null?h:nf,h(O,g)&&l.ref===u.ref)return no(l,u,x)}return u.flags|=1,l=Qs(S,g),l.ref=u.ref,l.return=u,u.child=l}function ZE(l,u,h,g,x){if(l!==null){var S=l.memoizedProps;if(nf(S,g)&&l.ref===u.ref)if(On=!1,u.pendingProps=g=S,ax(l,x))(l.flags&131072)!==0&&(On=!0);else return u.lanes=l.lanes,no(l,u,x)}return ex(l,u,h,g,x)}function eT(l,u,h){var g=u.pendingProps,x=g.children,S=l!==null?l.memoizedState:null;if(g.mode==="hidden"){if((u.flags&128)!==0){if(g=S!==null?S.baseLanes|h:h,l!==null){for(x=u.child=l.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;u.childLanes=S&~g}else u.childLanes=0,u.child=null;return tT(l,u,g,h)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&bm(u,S!==null?S.cachePool:null),S!==null?Zk(u,S):Nv(),VE(u);else return u.lanes=u.childLanes=536870912,tT(l,u,S!==null?S.baseLanes|h:h,h)}else S!==null?(bm(u,S.cachePool),Zk(u,S),Zo(),u.memoizedState=null):(l!==null&&bm(u,null),Nv(),Zo());return $n(l,u,x,h),u.child}function tT(l,u,h,g){var x=Ev();return x=x===null?null:{parent:Mn._currentValue,pool:x},u.memoizedState={baseLanes:h,cachePool:x},l!==null&&bm(u,null),Nv(),VE(u),l!==null&&lf(l,u,g,!0),null}function Lm(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function ex(l,u,h,g,x){return kl(u),h=Iv(l,u,h,g,void 0,x),g=jv(),l!==null&&!On?(Bv(l,u,x),no(l,u,x)):(mt&&g&&vv(u),u.flags|=1,$n(l,u,h,x),u.child)}function nT(l,u,h,g,x,S){return kl(u),u.updateQueue=null,h=tE(u,g,h,x),eE(l),g=jv(),l!==null&&!On?(Bv(l,u,S),no(l,u,S)):(mt&&g&&vv(u),u.flags|=1,$n(l,u,h,S),u.child)}function rT(l,u,h,g,x){if(kl(u),u.stateNode===null){var S=nu,O=h.contextType;typeof O=="object"&&O!==null&&(S=nr(O)),S=new h(g,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Jv,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=g,S.state=u.memoizedState,S.refs={},Ov(u),O=h.contextType,S.context=typeof O=="object"&&O!==null?nr(O):nu,S.state=u.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(Xv(u,h,O,g),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&Jv.enqueueReplaceState(S,S.state,null),mf(u,g,S,x),pf(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(l===null){S=u.stateNode;var R=u.memoizedProps,B=Ol(h,R);S.props=B;var K=S.context,te=h.contextType;O=nu,typeof te=="object"&&te!==null&&(O=nr(te));var ie=h.getDerivedStateFromProps;te=typeof ie=="function"||typeof S.getSnapshotBeforeUpdate=="function",R=u.pendingProps!==R,te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R||K!==O)&&UE(u,S,g,O),Ko=!1;var Q=u.memoizedState;S.state=Q,mf(u,g,S,x),pf(),K=u.memoizedState,R||Q!==K||Ko?(typeof ie=="function"&&(Xv(u,h,ie,g),K=u.memoizedState),(B=Ko||HE(u,h,B,g,Q,K,O))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=K),S.props=g,S.state=K,S.context=O,g=B):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{S=u.stateNode,_v(l,u),O=u.memoizedProps,te=Ol(h,O),S.props=te,ie=u.pendingProps,Q=S.context,K=h.contextType,B=nu,typeof K=="object"&&K!==null&&(B=nr(K)),R=h.getDerivedStateFromProps,(K=typeof R=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==ie||Q!==B)&&UE(u,S,g,B),Ko=!1,Q=u.memoizedState,S.state=Q,mf(u,g,S,x),pf();var G=u.memoizedState;O!==ie||Q!==G||Ko||l!==null&&l.dependencies!==null&&gm(l.dependencies)?(typeof R=="function"&&(Xv(u,h,R,g),G=u.memoizedState),(te=Ko||HE(u,h,te,g,Q,G,B)||l!==null&&l.dependencies!==null&&gm(l.dependencies))?(K||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,G,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,G,B)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=G),S.props=g,S.state=G,S.context=B,g=te):(typeof S.componentDidUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&Q===l.memoizedState||(u.flags|=1024),g=!1)}return S=g,Lm(l,u),g=(u.flags&128)!==0,S||g?(S=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,l!==null&&g?(u.child=fu(u,l.child,null,x),u.child=fu(u,null,h,x)):$n(l,u,h,x),u.memoizedState=S.state,l=u.child):l=no(l,u,x),l}function iT(l,u,h,g){return of(),u.flags|=256,$n(l,u,h,g),u.child}var tx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nx(l){return{baseLanes:l,cachePool:Yk()}}function rx(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=bi),l}function sT(l,u,h){var g=u.pendingProps,x=!1,S=(u.flags&128)!==0,O;if((O=S)||(O=l!==null&&l.memoizedState===null?!1:(Dn.current&2)!==0),O&&(x=!0,u.flags&=-129),O=(u.flags&32)!==0,u.flags&=-33,l===null){if(mt){if(x?Jo(u):Zo(),mt){var R=nn,B;if(B=R){e:{for(B=R,R=ss;B.nodeType!==8;){if(!R){R=null;break e}if(B=zi(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(u.memoizedState={dehydrated:R,treeContext:wl!==null?{id:Gs,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},B=Zr(18,null,null,0),B.stateNode=R,B.return=u,u.child=B,vr=u,nn=null,B=!0):B=!1}B||Dl(u)}if(R=u.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return zx(R)?u.lanes=32:u.lanes=536870912,null;to(u)}return R=g.children,g=g.fallback,x?(Zo(),x=u.mode,R=Im({mode:"hidden",children:R},x),g=xl(g,x,h,null),R.return=u,g.return=u,R.sibling=g,u.child=R,x=u.child,x.memoizedState=nx(h),x.childLanes=rx(l,O,h),u.memoizedState=tx,g):(Jo(u),ix(u,R))}if(B=l.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(S)u.flags&256?(Jo(u),u.flags&=-257,u=sx(l,u,h)):u.memoizedState!==null?(Zo(),u.child=l.child,u.flags|=128,u=null):(Zo(),x=g.fallback,R=u.mode,g=Im({mode:"visible",children:g.children},R),x=xl(x,R,h,null),x.flags|=2,g.return=u,x.return=u,g.sibling=x,u.child=g,fu(u,l.child,null,h),g=u.child,g.memoizedState=nx(h),g.childLanes=rx(l,O,h),u.memoizedState=tx,u=x);else if(Jo(u),zx(R)){if(O=R.nextSibling&&R.nextSibling.dataset,O)var K=O.dgst;O=K,g=Error(r(419)),g.stack="",g.digest=O,af({value:g,source:null,stack:null}),u=sx(l,u,h)}else if(On||lf(l,u,h,!1),O=(h&l.childLanes)!==0,On||O){if(O=It,O!==null&&(g=h&-h,g=(g&42)!==0?1:er(g),g=(g&(O.suspendedLanes|h))!==0?0:g,g!==0&&g!==B.retryLane))throw B.retryLane=g,tu(l,g),ii(O,l,g),GE;R.data==="$?"||Mx(),u=sx(l,u,h)}else R.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=B.treeContext,nn=zi(R.nextSibling),vr=u,mt=!0,Ml=null,ss=!1,l!==null&&(mi[gi++]=Gs,mi[gi++]=Xs,mi[gi++]=wl,Gs=l.id,Xs=l.overflow,wl=u),u=ix(u,g.children),u.flags|=4096);return u}return x?(Zo(),x=g.fallback,R=u.mode,B=l.child,K=B.sibling,g=Qs(B,{mode:"hidden",children:g.children}),g.subtreeFlags=B.subtreeFlags&65011712,K!==null?x=Qs(K,x):(x=xl(x,R,h,null),x.flags|=2),x.return=u,g.return=u,g.sibling=x,u.child=g,g=x,x=u.child,R=l.child.memoizedState,R===null?R=nx(h):(B=R.cachePool,B!==null?(K=Mn._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=Yk(),R={baseLanes:R.baseLanes|h,cachePool:B}),x.memoizedState=R,x.childLanes=rx(l,O,h),u.memoizedState=tx,g):(Jo(u),h=l.child,l=h.sibling,h=Qs(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,l!==null&&(O=u.deletions,O===null?(u.deletions=[l],u.flags|=16):O.push(l)),u.child=h,u.memoizedState=null,h)}function ix(l,u){return u=Im({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Im(l,u){return l=Zr(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function sx(l,u,h){return fu(u,l.child,null,h),l=ix(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function oT(l,u,h){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),Mv(l.return,u,h)}function ox(l,u,h,g,x){var S=l.memoizedState;S===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=x)}function aT(l,u,h){var g=u.pendingProps,x=g.revealOrder,S=g.tail;if($n(l,u,g.children,h),g=Dn.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&oT(l,h,u);else if(l.tag===19)oT(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}switch(le(Dn,g),x){case"forwards":for(h=u.child,x=null;h!==null;)l=h.alternate,l!==null&&Rm(l)===null&&(x=h),h=h.sibling;h=x,h===null?(x=u.child,u.child=null):(x=h.sibling,h.sibling=null),ox(u,!1,x,h,S);break;case"backwards":for(h=null,x=u.child,u.child=null;x!==null;){if(l=x.alternate,l!==null&&Rm(l)===null){u.child=x;break}l=x.sibling,x.sibling=h,h=x,x=l}ox(u,!0,h,null,S);break;case"together":ox(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function no(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),ia|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(lf(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=Qs(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=Qs(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function ax(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&gm(l)))}function K4(l,u,h){switch(u.tag){case 3:Te(u,u.stateNode.containerInfo),qo(u,Mn,l.memoizedState.cache),of();break;case 27:case 5:Ae(u);break;case 4:Te(u,u.stateNode.containerInfo);break;case 10:qo(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Jo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?sT(l,u,h):(Jo(u),l=no(l,u,h),l!==null?l.sibling:null);Jo(u);break;case 19:var x=(l.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(lf(l,u,h,!1),g=(h&u.childLanes)!==0),x){if(g)return aT(l,u,h);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),le(Dn,Dn.current),g)break;return null;case 22:case 23:return u.lanes=0,eT(l,u,h);case 24:qo(u,Mn,l.memoizedState.cache)}return no(l,u,h)}function lT(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)On=!0;else{if(!ax(l,h)&&(u.flags&128)===0)return On=!1,K4(l,u,h);On=(l.flags&131072)!==0}else On=!1,mt&&(u.flags&1048576)!==0&&Bk(u,mm,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var g=u.elementType,x=g._init;if(g=x(g._payload),u.type=g,typeof g=="function")gv(g)?(l=Ol(g,l),u.tag=1,u=rT(null,u,g,l,h)):(u.tag=0,u=ex(null,u,g,l,h));else{if(g!=null){if(x=g.$$typeof,x===_){u.tag=11,u=XE(null,u,g,l,h);break e}else if(x===N){u.tag=14,u=JE(null,u,g,l,h);break e}}throw u=de(g)||g,Error(r(306,u,""))}}return u;case 0:return ex(l,u,u.type,u.pendingProps,h);case 1:return g=u.type,x=Ol(g,u.pendingProps),rT(l,u,g,x,h);case 3:e:{if(Te(u,u.stateNode.containerInfo),l===null)throw Error(r(387));g=u.pendingProps;var S=u.memoizedState;x=S.element,_v(l,u),mf(u,g,null,h);var O=u.memoizedState;if(g=O.cache,qo(u,Mn,g),g!==S.cache&&Dv(u,[Mn],h,!0),pf(),g=O.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:O.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=iT(l,u,g,h);break e}else if(g!==x){x=hi(Error(r(424)),u),af(x),u=iT(l,u,g,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(nn=zi(l.firstChild),vr=u,mt=!0,Ml=null,ss=!0,h=zE(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(of(),g===x){u=no(l,u,h);break e}$n(l,u,g,h)}u=u.child}return u;case 26:return Lm(l,u),l===null?(h=fO(u.type,null,u.pendingProps,null))?u.memoizedState=h:mt||(h=u.type,l=u.pendingProps,g=Gm(fe.current).createElement(h),g[Ft]=u,g[zt]=l,Wn(g,h,l),Tn(g),u.stateNode=g):u.memoizedState=fO(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ae(u),l===null&&mt&&(g=u.stateNode=cO(u.type,u.pendingProps,fe.current),vr=u,ss=!0,x=nn,la(u.type)?(Vx=x,nn=zi(g.firstChild)):nn=x),$n(l,u,u.pendingProps.children,h),Lm(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&mt&&((x=g=nn)&&(g=S6(g,u.type,u.pendingProps,ss),g!==null?(u.stateNode=g,vr=u,nn=zi(g.firstChild),ss=!1,x=!0):x=!1),x||Dl(u)),Ae(u),x=u.type,S=u.pendingProps,O=l!==null?l.memoizedProps:null,g=S.children,jx(x,S)?g=null:O!==null&&jx(x,O)&&(u.flags|=32),u.memoizedState!==null&&(x=Iv(l,u,z4,null,null,h),jf._currentValue=x),Lm(l,u),$n(l,u,g,h),u.child;case 6:return l===null&&mt&&((l=h=nn)&&(h=M6(h,u.pendingProps,ss),h!==null?(u.stateNode=h,vr=u,nn=null,l=!0):l=!1),l||Dl(u)),null;case 13:return sT(l,u,h);case 4:return Te(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=fu(u,null,g,h):$n(l,u,g,h),u.child;case 11:return XE(l,u,u.type,u.pendingProps,h);case 7:return $n(l,u,u.pendingProps,h),u.child;case 8:return $n(l,u,u.pendingProps.children,h),u.child;case 12:return $n(l,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,qo(u,u.type,g.value),$n(l,u,g.children,h),u.child;case 9:return x=u.type._context,g=u.pendingProps.children,kl(u),x=nr(x),g=g(x),u.flags|=1,$n(l,u,g,h),u.child;case 14:return JE(l,u,u.type,u.pendingProps,h);case 15:return ZE(l,u,u.type,u.pendingProps,h);case 19:return aT(l,u,h);case 31:return g=u.pendingProps,h=u.mode,g={mode:g.mode,children:g.children},l===null?(h=Im(g,h),h.ref=u.ref,u.child=h,h.return=u,u=h):(h=Qs(l.child,g),h.ref=u.ref,u.child=h,h.return=u,u=h),u;case 22:return eT(l,u,h);case 24:return kl(u),g=nr(Mn),l===null?(x=Ev(),x===null&&(x=It,S=Cv(),x.pooledCache=S,S.refCount++,S!==null&&(x.pooledCacheLanes|=h),x=S),u.memoizedState={parent:g,cache:x},Ov(u),qo(u,Mn,x)):((l.lanes&h)!==0&&(_v(l,u),mf(u,null,null,h),pf()),x=l.memoizedState,S=u.memoizedState,x.parent!==g?(x={parent:g,cache:g},u.memoizedState=x,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=x),qo(u,Mn,g)):(g=S.cache,qo(u,Mn,g),g!==x.cache&&Dv(u,[Mn],h,!0))),$n(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ro(l){l.flags|=4}function cT(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!yO(u)){if(u=yi.current,u!==null&&((ct&4194048)===ct?as!==null:(ct&62914560)!==ct&&(ct&536870912)===0||u!==as))throw ff=Tv,Wk;l.flags|=8192}}function jm(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Rr():536870912,l.lanes|=u,gu|=u)}function Sf(l,u){if(!mt)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function Gt(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,g=0;if(u)for(var x=l.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=g,l.childLanes=h,u}function Q4(l,u,h){var g=u.pendingProps;switch(xv(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(u),null;case 1:return Gt(u),null;case 3:return h=u.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Zs(Mn),Qe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(sf(u)?ro(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Vk())),Gt(u),null;case 26:return h=u.memoizedState,l===null?(ro(u),h!==null?(Gt(u),cT(u,h)):(Gt(u),u.flags&=-16777217)):h?h!==l.memoizedState?(ro(u),Gt(u),cT(u,h)):(Gt(u),u.flags&=-16777217):(l.memoizedProps!==g&&ro(u),Gt(u),u.flags&=-16777217),null;case 27:Kt(u),h=fe.current;var x=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==g&&ro(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Gt(u),null}l=he.current,sf(u)?Fk(u):(l=cO(x,g,h),u.stateNode=l,ro(u))}return Gt(u),null;case 5:if(Kt(u),h=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==g&&ro(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Gt(u),null}if(l=he.current,sf(u))Fk(u);else{switch(x=Gm(fe.current),l){case 1:l=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:l=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":l=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":l=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":l=x.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?l.multiple=!0:g.size&&(l.size=g.size);break;default:l=typeof g.is=="string"?x.createElement(h,{is:g.is}):x.createElement(h)}}l[Ft]=u,l[zt]=g;e:for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break e;for(;x.sibling===null;){if(x.return===null||x.return===u)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}u.stateNode=l;e:switch(Wn(l,h,g),h){case"button":case"input":case"select":case"textarea":l=!!g.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ro(u)}}return Gt(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==g&&ro(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(l=fe.current,sf(u)){if(l=u.stateNode,h=u.memoizedProps,g=null,x=vr,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}l[Ft]=u,l=!!(l.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||nO(l.nodeValue,h)),l||Dl(u)}else l=Gm(l).createTextNode(g),l[Ft]=u,u.stateNode=l}return Gt(u),null;case 13:if(g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(x=sf(u),g!==null&&g.dehydrated!==null){if(l===null){if(!x)throw Error(r(318));if(x=u.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Ft]=u}else of(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),x=!1}else x=Vk(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=x),x=!0;if(!x)return u.flags&256?(to(u),u):(to(u),null)}if(to(u),(u.flags&128)!==0)return u.lanes=h,u;if(h=g!==null,l=l!==null&&l.memoizedState!==null,h){g=u.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==x&&(g.flags|=2048)}return h!==l&&h&&(u.child.flags|=8192),jm(u,u.updateQueue),Gt(u),null;case 4:return Qe(),l===null&&Rx(u.stateNode.containerInfo),Gt(u),null;case 10:return Zs(u.type),Gt(u),null;case 19:if(se(Dn),x=u.memoizedState,x===null)return Gt(u),null;if(g=(u.flags&128)!==0,S=x.rendering,S===null)if(g)Sf(x,!1);else{if(rn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(S=Rm(l),S!==null){for(u.flags|=128,Sf(x,!1),l=S.updateQueue,u.updateQueue=l,jm(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)jk(h,l),h=h.sibling;return le(Dn,Dn.current&1|2),u.child}l=l.sibling}x.tail!==null&&Se()>zm&&(u.flags|=128,g=!0,Sf(x,!1),u.lanes=4194304)}else{if(!g)if(l=Rm(S),l!==null){if(u.flags|=128,g=!0,l=l.updateQueue,u.updateQueue=l,jm(u,l),Sf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!mt)return Gt(u),null}else 2*Se()-x.renderingStartTime>zm&&h!==536870912&&(u.flags|=128,g=!0,Sf(x,!1),u.lanes=4194304);x.isBackwards?(S.sibling=u.child,u.child=S):(l=x.last,l!==null?l.sibling=S:u.child=S,x.last=S)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Se(),u.sibling=null,l=Dn.current,le(Dn,g?l&1|2:l&1),u):(Gt(u),null);case 22:case 23:return to(u),Pv(),g=u.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(Gt(u),u.subtreeFlags&6&&(u.flags|=8192)):Gt(u),h=u.updateQueue,h!==null&&jm(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),l!==null&&se(El),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Zs(Mn),Gt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function G4(l,u){switch(xv(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Zs(Mn),Qe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Kt(u),null;case 13:if(to(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));of()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return se(Dn),null;case 4:return Qe(),null;case 10:return Zs(u.type),null;case 22:case 23:return to(u),Pv(),l!==null&&se(El),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Zs(Mn),null;case 25:return null;default:return null}}function uT(l,u){switch(xv(u),u.tag){case 3:Zs(Mn),Qe();break;case 26:case 27:case 5:Kt(u);break;case 4:Qe();break;case 13:to(u);break;case 19:se(Dn);break;case 10:Zs(u.type);break;case 22:case 23:to(u),Pv(),l!==null&&se(El);break;case 24:Zs(Mn)}}function Mf(l,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&l)===l){g=void 0;var S=h.create,O=h.inst;g=S(),O.destroy=g}h=h.next}while(h!==x)}}catch(R){_t(u,u.return,R)}}function ea(l,u,h){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var S=x.next;g=S;do{if((g.tag&l)===l){var O=g.inst,R=O.destroy;if(R!==void 0){O.destroy=void 0,x=u;var B=h,K=R;try{K()}catch(te){_t(x,B,te)}}}g=g.next}while(g!==S)}}catch(te){_t(u,u.return,te)}}function dT(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{Jk(u,h)}catch(g){_t(l,l.return,g)}}}function fT(l,u,h){h.props=Ol(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(g){_t(l,u,g)}}function Df(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof h=="function"?l.refCleanup=h(g):h.current=g}}catch(x){_t(l,u,x)}}function ls(l,u){var h=l.ref,g=l.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(x){_t(l,u,x)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(x){_t(l,u,x)}else h.current=null}function hT(l){var u=l.type,h=l.memoizedProps,g=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(x){_t(l,l.return,x)}}function lx(l,u,h){try{var g=l.stateNode;y6(g,l.type,h,u),g[zt]=u}catch(x){_t(l,l.return,x)}}function pT(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&la(l.type)||l.tag===4}function cx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||pT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&la(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ux(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Qm));else if(g!==4&&(g===27&&la(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(ux(l,u,h),l=l.sibling;l!==null;)ux(l,u,h),l=l.sibling}function Bm(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(g!==4&&(g===27&&la(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Bm(l,u,h),l=l.sibling;l!==null;)Bm(l,u,h),l=l.sibling}function mT(l){var u=l.stateNode,h=l.memoizedProps;try{for(var g=l.type,x=u.attributes;x.length;)u.removeAttributeNode(x[0]);Wn(u,g,h),u[Ft]=l,u[zt]=h}catch(S){_t(l,l.return,S)}}var io=!1,dn=!1,dx=!1,gT=typeof WeakSet=="function"?WeakSet:Set,_n=null;function X4(l,u){if(l=l.containerInfo,Lx=ng,l=Ek(l),cv(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var O=0,R=-1,B=-1,K=0,te=0,ie=l,Q=null;t:for(;;){for(var G;ie!==h||x!==0&&ie.nodeType!==3||(R=O+x),ie!==S||g!==0&&ie.nodeType!==3||(B=O+g),ie.nodeType===3&&(O+=ie.nodeValue.length),(G=ie.firstChild)!==null;)Q=ie,ie=G;for(;;){if(ie===l)break t;if(Q===h&&++K===x&&(R=O),Q===S&&++te===g&&(B=O),(G=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=G}h=R===-1||B===-1?null:{start:R,end:B}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ix={focusedElem:l,selectionRange:h},ng=!1,_n=u;_n!==null;)if(u=_n,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,_n=l;else for(;_n!==null;){switch(u=_n,S=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&S!==null){l=void 0,h=u,x=S.memoizedProps,S=S.memoizedState,g=h.stateNode;try{var Re=Ol(h.type,x,h.elementType===h.type);l=g.getSnapshotBeforeUpdate(Re,S),g.__reactInternalSnapshotBeforeUpdate=l}catch(Oe){_t(h,h.return,Oe)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)Fx(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Fx(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,_n=l;break}_n=u.return}}function yT(l,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:ta(l,h),g&4&&Mf(5,h);break;case 1:if(ta(l,h),g&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(O){_t(h,h.return,O)}else{var x=Ol(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(x,u,l.__reactInternalSnapshotBeforeUpdate)}catch(O){_t(h,h.return,O)}}g&64&&dT(h),g&512&&Df(h,h.return);break;case 3:if(ta(l,h),g&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Jk(l,u)}catch(O){_t(h,h.return,O)}}break;case 27:u===null&&g&4&&mT(h);case 26:case 5:ta(l,h),u===null&&g&4&&hT(h),g&512&&Df(h,h.return);break;case 12:ta(l,h);break;case 13:ta(l,h),g&4&&xT(l,h),g&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=o6.bind(null,h),D6(l,h))));break;case 22:if(g=h.memoizedState!==null||io,!g){u=u!==null&&u.memoizedState!==null||dn,x=io;var S=dn;io=g,(dn=u)&&!S?na(l,h,(h.subtreeFlags&8772)!==0):ta(l,h),io=x,dn=S}break;case 30:break;default:ta(l,h)}}function bT(l){var u=l.alternate;u!==null&&(l.alternate=null,bT(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&$b(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Ut=null,Lr=!1;function so(l,u,h){for(h=h.child;h!==null;)vT(l,u,h),h=h.sibling}function vT(l,u,h){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Rt,h)}catch{}switch(h.tag){case 26:dn||ls(h,u),so(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:dn||ls(h,u);var g=Ut,x=Lr;la(h.type)&&(Ut=h.stateNode,Lr=!1),so(l,u,h),Nf(h.stateNode),Ut=g,Lr=x;break;case 5:dn||ls(h,u);case 6:if(g=Ut,x=Lr,Ut=null,so(l,u,h),Ut=g,Lr=x,Ut!==null)if(Lr)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(h.stateNode)}catch(S){_t(h,u,S)}else try{Ut.removeChild(h.stateNode)}catch(S){_t(h,u,S)}break;case 18:Ut!==null&&(Lr?(l=Ut,aO(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Vf(l)):aO(Ut,h.stateNode));break;case 4:g=Ut,x=Lr,Ut=h.stateNode.containerInfo,Lr=!0,so(l,u,h),Ut=g,Lr=x;break;case 0:case 11:case 14:case 15:dn||ea(2,h,u),dn||ea(4,h,u),so(l,u,h);break;case 1:dn||(ls(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&fT(h,u,g)),so(l,u,h);break;case 21:so(l,u,h);break;case 22:dn=(g=dn)||h.memoizedState!==null,so(l,u,h),dn=g;break;default:so(l,u,h)}}function xT(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Vf(l)}catch(h){_t(u,u.return,h)}}function J4(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new gT),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new gT),u;default:throw Error(r(435,l.tag))}}function fx(l,u){var h=J4(l);u.forEach(function(g){var x=a6.bind(null,l,g);h.has(g)||(h.add(g),g.then(x,x))})}function ei(l,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g],S=l,O=u,R=O;e:for(;R!==null;){switch(R.tag){case 27:if(la(R.type)){Ut=R.stateNode,Lr=!1;break e}break;case 5:Ut=R.stateNode,Lr=!1;break e;case 3:case 4:Ut=R.stateNode.containerInfo,Lr=!0;break e}R=R.return}if(Ut===null)throw Error(r(160));vT(S,O,x),Ut=null,Lr=!1,S=x.alternate,S!==null&&(S.return=null),x.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)wT(u,l),u=u.sibling}var Fi=null;function wT(l,u){var h=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ei(u,l),ti(l),g&4&&(ea(3,l,l.return),Mf(3,l),ea(5,l,l.return));break;case 1:ei(u,l),ti(l),g&512&&(dn||h===null||ls(h,h.return)),g&64&&io&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var x=Fi;if(ei(u,l),ti(l),g&512&&(dn||h===null||ls(h,h.return)),g&4){var S=h!==null?h.memoizedState:null;if(g=l.memoizedState,h===null)if(g===null)if(l.stateNode===null){e:{g=l.type,h=l.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":S=x.getElementsByTagName("title")[0],(!S||S[Ws]||S[Ft]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=x.createElement(g),x.head.insertBefore(S,x.querySelector("head > title"))),Wn(S,g,h),S[Ft]=l,Tn(S),g=S;break e;case"link":var O=mO("link","href",x).get(g+(h.href||""));if(O){for(var R=0;R<O.length;R++)if(S=O[R],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(R,1);break t}}S=x.createElement(g),Wn(S,g,h),x.head.appendChild(S);break;case"meta":if(O=mO("meta","content",x).get(g+(h.content||""))){for(R=0;R<O.length;R++)if(S=O[R],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(R,1);break t}}S=x.createElement(g),Wn(S,g,h),x.head.appendChild(S);break;default:throw Error(r(468,g))}S[Ft]=l,Tn(S),g=S}l.stateNode=g}else gO(x,l.type,l.stateNode);else l.stateNode=pO(x,g,l.memoizedProps);else S!==g?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,g===null?gO(x,l.type,l.stateNode):pO(x,g,l.memoizedProps)):g===null&&l.stateNode!==null&&lx(l,l.memoizedProps,h.memoizedProps)}break;case 27:ei(u,l),ti(l),g&512&&(dn||h===null||ls(h,h.return)),h!==null&&g&4&&lx(l,l.memoizedProps,h.memoizedProps);break;case 5:if(ei(u,l),ti(l),g&512&&(dn||h===null||ls(h,h.return)),l.flags&32){x=l.stateNode;try{Kc(x,"")}catch(G){_t(l,l.return,G)}}g&4&&l.stateNode!=null&&(x=l.memoizedProps,lx(l,x,h!==null?h.memoizedProps:x)),g&1024&&(dx=!0);break;case 6:if(ei(u,l),ti(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,h=l.stateNode;try{h.nodeValue=g}catch(G){_t(l,l.return,G)}}break;case 3:if(Zm=null,x=Fi,Fi=Xm(u.containerInfo),ei(u,l),Fi=x,ti(l),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Vf(u.containerInfo)}catch(G){_t(l,l.return,G)}dx&&(dx=!1,ST(l));break;case 4:g=Fi,Fi=Xm(l.stateNode.containerInfo),ei(u,l),ti(l),Fi=g;break;case 12:ei(u,l),ti(l);break;case 13:ei(u,l),ti(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(bx=Se()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fx(l,g)));break;case 22:x=l.memoizedState!==null;var B=h!==null&&h.memoizedState!==null,K=io,te=dn;if(io=K||x,dn=te||B,ei(u,l),dn=te,io=K,ti(l),g&8192)e:for(u=l.stateNode,u._visibility=x?u._visibility&-2:u._visibility|1,x&&(h===null||B||io||dn||_l(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){B=h=u;try{if(S=B.stateNode,x)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{R=B.stateNode;var ie=B.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(G){_t(B,B.return,G)}}}else if(u.tag===6){if(h===null){B=u;try{B.stateNode.nodeValue=x?"":B.memoizedProps}catch(G){_t(B,B.return,G)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=l.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,fx(l,h))));break;case 19:ei(u,l),ti(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,fx(l,g)));break;case 30:break;case 21:break;default:ei(u,l),ti(l)}}function ti(l){var u=l.flags;if(u&2){try{for(var h,g=l.return;g!==null;){if(pT(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var x=h.stateNode,S=cx(l);Bm(l,S,x);break;case 5:var O=h.stateNode;h.flags&32&&(Kc(O,""),h.flags&=-33);var R=cx(l);Bm(l,R,O);break;case 3:case 4:var B=h.stateNode.containerInfo,K=cx(l);ux(l,K,B);break;default:throw Error(r(161))}}catch(te){_t(l,l.return,te)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function ST(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;ST(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function ta(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)yT(l,u.alternate,u),u=u.sibling}function _l(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ea(4,u,u.return),_l(u);break;case 1:ls(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&fT(u,u.return,h),_l(u);break;case 27:Nf(u.stateNode);case 26:case 5:ls(u,u.return),_l(u);break;case 22:u.memoizedState===null&&_l(u);break;case 30:_l(u);break;default:_l(u)}l=l.sibling}}function na(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,x=l,S=u,O=S.flags;switch(S.tag){case 0:case 11:case 15:na(x,S,h),Mf(4,S);break;case 1:if(na(x,S,h),g=S,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(K){_t(g,g.return,K)}if(g=S,x=g.updateQueue,x!==null){var R=g.stateNode;try{var B=x.shared.hiddenCallbacks;if(B!==null)for(x.shared.hiddenCallbacks=null,x=0;x<B.length;x++)Xk(B[x],R)}catch(K){_t(g,g.return,K)}}h&&O&64&&dT(S),Df(S,S.return);break;case 27:mT(S);case 26:case 5:na(x,S,h),h&&g===null&&O&4&&hT(S),Df(S,S.return);break;case 12:na(x,S,h);break;case 13:na(x,S,h),h&&O&4&&xT(x,S);break;case 22:S.memoizedState===null&&na(x,S,h),Df(S,S.return);break;case 30:break;default:na(x,S,h)}u=u.sibling}}function hx(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&cf(h))}function px(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&cf(l))}function cs(l,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)MT(l,u,h,g),u=u.sibling}function MT(l,u,h,g){var x=u.flags;switch(u.tag){case 0:case 11:case 15:cs(l,u,h,g),x&2048&&Mf(9,u);break;case 1:cs(l,u,h,g);break;case 3:cs(l,u,h,g),x&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&cf(l)));break;case 12:if(x&2048){cs(l,u,h,g),l=u.stateNode;try{var S=u.memoizedProps,O=S.id,R=S.onPostCommit;typeof R=="function"&&R(O,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(B){_t(u,u.return,B)}}else cs(l,u,h,g);break;case 13:cs(l,u,h,g);break;case 23:break;case 22:S=u.stateNode,O=u.alternate,u.memoizedState!==null?S._visibility&2?cs(l,u,h,g):Cf(l,u):S._visibility&2?cs(l,u,h,g):(S._visibility|=2,hu(l,u,h,g,(u.subtreeFlags&10256)!==0)),x&2048&&hx(O,u);break;case 24:cs(l,u,h,g),x&2048&&px(u.alternate,u);break;default:cs(l,u,h,g)}}function hu(l,u,h,g,x){for(x=x&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var S=l,O=u,R=h,B=g,K=O.flags;switch(O.tag){case 0:case 11:case 15:hu(S,O,R,B,x),Mf(8,O);break;case 23:break;case 22:var te=O.stateNode;O.memoizedState!==null?te._visibility&2?hu(S,O,R,B,x):Cf(S,O):(te._visibility|=2,hu(S,O,R,B,x)),x&&K&2048&&hx(O.alternate,O);break;case 24:hu(S,O,R,B,x),x&&K&2048&&px(O.alternate,O);break;default:hu(S,O,R,B,x)}u=u.sibling}}function Cf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,g=u,x=g.flags;switch(g.tag){case 22:Cf(h,g),x&2048&&hx(g.alternate,g);break;case 24:Cf(h,g),x&2048&&px(g.alternate,g);break;default:Cf(h,g)}u=u.sibling}}var kf=8192;function pu(l){if(l.subtreeFlags&kf)for(l=l.child;l!==null;)DT(l),l=l.sibling}function DT(l){switch(l.tag){case 26:pu(l),l.flags&kf&&l.memoizedState!==null&&j6(Fi,l.memoizedState,l.memoizedProps);break;case 5:pu(l);break;case 3:case 4:var u=Fi;Fi=Xm(l.stateNode.containerInfo),pu(l),Fi=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=kf,kf=16777216,pu(l),kf=u):pu(l));break;default:pu(l)}}function CT(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Ef(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];_n=g,ET(g,l)}CT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)kT(l),l=l.sibling}function kT(l){switch(l.tag){case 0:case 11:case 15:Ef(l),l.flags&2048&&ea(9,l,l.return);break;case 3:Ef(l);break;case 12:Ef(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Fm(l)):Ef(l);break;default:Ef(l)}}function Fm(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];_n=g,ET(g,l)}CT(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ea(8,u,u.return),Fm(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Fm(u));break;default:Fm(u)}l=l.sibling}}function ET(l,u){for(;_n!==null;){var h=_n;switch(h.tag){case 0:case 11:case 15:ea(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:cf(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,_n=g;else e:for(h=l;_n!==null;){g=_n;var x=g.sibling,S=g.return;if(bT(g),g===h){_n=null;break e}if(x!==null){x.return=S,_n=x;break e}_n=S}}}var Z4={getCacheForType:function(l){var u=nr(Mn),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h}},e6=typeof WeakMap=="function"?WeakMap:Map,wt=0,It=null,et=null,ct=0,St=0,ni=null,ra=!1,mu=!1,mx=!1,oo=0,rn=0,ia=0,Al=0,gx=0,bi=0,gu=0,Tf=null,Ir=null,yx=!1,bx=0,zm=1/0,Vm=null,sa=null,Yn=0,oa=null,yu=null,bu=0,vx=0,xx=null,TT=null,Of=0,wx=null;function ri(){if((wt&2)!==0&&ct!==0)return ct&-ct;if(F.T!==null){var l=su;return l!==0?l:Tx()}return Xr()}function OT(){bi===0&&(bi=(ct&536870912)===0||mt?Uo():536870912);var l=yi.current;return l!==null&&(l.flags|=32),bi}function ii(l,u,h){(l===It&&(St===2||St===9)||l.cancelPendingCommit!==null)&&(vu(l,0),aa(l,ct,bi,!1)),Pt(l,h),((wt&2)===0||l!==It)&&(l===It&&((wt&2)===0&&(Al|=h),rn===4&&aa(l,ct,bi,!1)),us(l))}function _T(l,u,h){if((wt&6)!==0)throw Error(r(327));var g=!h&&(u&124)===0&&(u&l.expiredLanes)===0||Jn(l,u),x=g?r6(l,u):Dx(l,u,!0),S=g;do{if(x===0){mu&&!g&&aa(l,u,0,!1);break}else{if(h=l.current.alternate,S&&!t6(h)){x=Dx(l,u,!1),S=!1;continue}if(x===2){if(S=u,l.errorRecoveryDisabledLanes&S)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){u=O;e:{var R=l;x=Tf;var B=R.current.memoizedState.isDehydrated;if(B&&(vu(R,O).flags|=256),O=Dx(R,O,!1),O!==2){if(mx&&!B){R.errorRecoveryDisabledLanes|=S,Al|=S,x=4;break e}S=Ir,Ir=x,S!==null&&(Ir===null?Ir=S:Ir.push.apply(Ir,S))}x=O}if(S=!1,x!==2)continue}}if(x===1){vu(l,0),aa(l,u,0,!0);break}e:{switch(g=l,S=x,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:aa(g,u,bi,!ra);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(x=bx+300-Se(),10<x)){if(aa(g,u,bi,!ra),yr(g,0,!0)!==0)break e;g.timeoutHandle=sO(AT.bind(null,g,h,Ir,Vm,yx,u,bi,Al,gu,ra,S,2,-0,0),x);break e}AT(g,h,Ir,Vm,yx,u,bi,Al,gu,ra,S,0,-0,0)}}break}while(!0);us(l)}function AT(l,u,h,g,x,S,O,R,B,K,te,ie,Q,G){if(l.timeoutHandle=-1,ie=u.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(If={stylesheets:null,count:0,unsuspend:I6},DT(u),ie=B6(),ie!==null)){l.cancelPendingCommit=ie(BT.bind(null,l,u,S,h,g,x,O,R,B,te,1,Q,G)),aa(l,S,O,!K);return}BT(l,u,S,h,g,x,O,R,B)}function t6(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var x=h[g],S=x.getSnapshot;x=x.value;try{if(!Jr(S(),x))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function aa(l,u,h,g){u&=~gx,u&=~Al,l.suspendedLanes|=u,l.pingedLanes&=~u,g&&(l.warmLanes|=u),g=l.expirationTimes;for(var x=u;0<x;){var S=31-Be(x),O=1<<S;g[S]=-1,x&=~O}h!==0&&Zn(l,h,u)}function Hm(){return(wt&6)===0?(_f(0),!1):!0}function Sx(){if(et!==null){if(St===0)var l=et.return;else l=et,Js=Cl=null,Fv(l),du=null,xf=0,l=et;for(;l!==null;)uT(l.alternate,l),l=l.return;et=null}}function vu(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,v6(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),Sx(),It=l,et=h=Qs(l.current,null),ct=u,St=0,ni=null,ra=!1,mu=Jn(l,u),mx=!1,gu=bi=gx=Al=ia=rn=0,Ir=Tf=null,yx=!1,(u&8)!==0&&(u|=u&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=u;0<g;){var x=31-Be(g),S=1<<x;u|=l[x],g&=~S}return oo=u,um(),h}function RT(l,u){We=null,F.H=Om,u===df||u===vm?(u=Qk(),St=3):u===Wk?(u=Qk(),St=4):St=u===GE?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ni=u,et===null&&(rn=1,Pm(l,hi(u,l.current)))}function NT(){var l=F.H;return F.H=Om,l===null?Om:l}function PT(){var l=F.A;return F.A=Z4,l}function Mx(){rn=4,ra||(ct&4194048)!==ct&&yi.current!==null||(mu=!0),(ia&134217727)===0&&(Al&134217727)===0||It===null||aa(It,ct,bi,!1)}function Dx(l,u,h){var g=wt;wt|=2;var x=NT(),S=PT();(It!==l||ct!==u)&&(Vm=null,vu(l,u)),u=!1;var O=rn;e:do try{if(St!==0&&et!==null){var R=et,B=ni;switch(St){case 8:Sx(),O=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(u=!0);var K=St;if(St=0,ni=null,xu(l,R,B,K),h&&mu){O=0;break e}break;default:K=St,St=0,ni=null,xu(l,R,B,K)}}n6(),O=rn;break}catch(te){RT(l,te)}while(!0);return u&&l.shellSuspendCounter++,Js=Cl=null,wt=g,F.H=x,F.A=S,et===null&&(It=null,ct=0,um()),O}function n6(){for(;et!==null;)LT(et)}function r6(l,u){var h=wt;wt|=2;var g=NT(),x=PT();It!==l||ct!==u?(Vm=null,zm=Se()+500,vu(l,u)):mu=Jn(l,u);e:do try{if(St!==0&&et!==null){u=et;var S=ni;t:switch(St){case 1:St=0,ni=null,xu(l,u,S,1);break;case 2:case 9:if(qk(S)){St=0,ni=null,IT(u);break}u=function(){St!==2&&St!==9||It!==l||(St=7),us(l)},S.then(u,u);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:qk(S)?(St=0,ni=null,IT(u)):(St=0,ni=null,xu(l,u,S,7));break;case 5:var O=null;switch(et.tag){case 26:O=et.memoizedState;case 5:case 27:var R=et;if(!O||yO(O)){St=0,ni=null;var B=R.sibling;if(B!==null)et=B;else{var K=R.return;K!==null?(et=K,Um(K)):et=null}break t}}St=0,ni=null,xu(l,u,S,5);break;case 6:St=0,ni=null,xu(l,u,S,6);break;case 8:Sx(),rn=6;break e;default:throw Error(r(462))}}i6();break}catch(te){RT(l,te)}while(!0);return Js=Cl=null,F.H=g,F.A=x,wt=h,et!==null?0:(It=null,ct=0,um(),rn)}function i6(){for(;et!==null&&!me();)LT(et)}function LT(l){var u=lT(l.alternate,l,oo);l.memoizedProps=l.pendingProps,u===null?Um(l):et=u}function IT(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=nT(h,u,u.pendingProps,u.type,void 0,ct);break;case 11:u=nT(h,u,u.pendingProps,u.type.render,u.ref,ct);break;case 5:Fv(u);default:uT(h,u),u=et=jk(u,oo),u=lT(h,u,oo)}l.memoizedProps=l.pendingProps,u===null?Um(l):et=u}function xu(l,u,h,g){Js=Cl=null,Fv(u),du=null,xf=0;var x=u.return;try{if(q4(l,x,u,h,ct)){rn=1,Pm(l,hi(h,l.current)),et=null;return}}catch(S){if(x!==null)throw et=x,S;rn=1,Pm(l,hi(h,l.current)),et=null;return}u.flags&32768?(mt||g===1?l=!0:mu||(ct&536870912)!==0?l=!1:(ra=l=!0,(g===2||g===9||g===3||g===6)&&(g=yi.current,g!==null&&g.tag===13&&(g.flags|=16384))),jT(u,l)):Um(u)}function Um(l){var u=l;do{if((u.flags&32768)!==0){jT(u,ra);return}l=u.return;var h=Q4(u.alternate,u,oo);if(h!==null){et=h;return}if(u=u.sibling,u!==null){et=u;return}et=u=l}while(u!==null);rn===0&&(rn=5)}function jT(l,u){do{var h=G4(l.alternate,l);if(h!==null){h.flags&=32767,et=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){et=l;return}et=l=h}while(l!==null);rn=6,et=null}function BT(l,u,h,g,x,S,O,R,B){l.cancelPendingCommit=null;do $m();while(Yn!==0);if((wt&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=pv,br(l,h,S,O,R,B),l===It&&(et=It=null,ct=0),yu=u,oa=l,bu=h,vx=S,xx=x,TT=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,l6(Fe,function(){return UT(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,x=U.p,U.p=2,O=wt,wt|=4;try{X4(l,u,h)}finally{wt=O,U.p=x,F.T=g}}Yn=1,FT(),zT(),VT()}}function FT(){if(Yn===1){Yn=0;var l=oa,u=yu,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=F.T,F.T=null;var g=U.p;U.p=2;var x=wt;wt|=4;try{wT(u,l);var S=Ix,O=Ek(l.containerInfo),R=S.focusedElem,B=S.selectionRange;if(O!==R&&R&&R.ownerDocument&&kk(R.ownerDocument.documentElement,R)){if(B!==null&&cv(R)){var K=B.start,te=B.end;if(te===void 0&&(te=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(te,R.value.length);else{var ie=R.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var G=Q.getSelection(),Re=R.textContent.length,Oe=Math.min(B.start,Re),Tt=B.end===void 0?Oe:Math.min(B.end,Re);!G.extend&&Oe>Tt&&(O=Tt,Tt=Oe,Oe=O);var Y=Ck(R,Oe),H=Ck(R,Tt);if(Y&&H&&(G.rangeCount!==1||G.anchorNode!==Y.node||G.anchorOffset!==Y.offset||G.focusNode!==H.node||G.focusOffset!==H.offset)){var W=ie.createRange();W.setStart(Y.node,Y.offset),G.removeAllRanges(),Oe>Tt?(G.addRange(W),G.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),G.addRange(W))}}}}for(ie=[],G=R;G=G.parentNode;)G.nodeType===1&&ie.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ie.length;R++){var re=ie[R];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ng=!!Lx,Ix=Lx=null}finally{wt=x,U.p=g,F.T=h}}l.current=u,Yn=2}}function zT(){if(Yn===2){Yn=0;var l=oa,u=yu,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=F.T,F.T=null;var g=U.p;U.p=2;var x=wt;wt|=4;try{yT(l,u.alternate,u)}finally{wt=x,U.p=g,F.T=h}}Yn=3}}function VT(){if(Yn===4||Yn===3){Yn=0,Pe();var l=oa,u=yu,h=bu,g=TT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Yn=5:(Yn=0,yu=oa=null,HT(l,l.pendingLanes));var x=l.pendingLanes;if(x===0&&(sa=null),Un(h),u=u.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Rt,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=F.T,x=U.p,U.p=2,F.T=null;try{for(var S=l.onRecoverableError,O=0;O<g.length;O++){var R=g[O];S(R.value,{componentStack:R.stack})}}finally{F.T=u,U.p=x}}(bu&3)!==0&&$m(),us(l),x=l.pendingLanes,(h&4194090)!==0&&(x&42)!==0?l===wx?Of++:(Of=0,wx=l):Of=0,_f(0)}}function HT(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,cf(u)))}function $m(l){return FT(),zT(),VT(),UT()}function UT(){if(Yn!==5)return!1;var l=oa,u=vx;vx=0;var h=Un(bu),g=F.T,x=U.p;try{U.p=32>h?32:h,F.T=null,h=xx,xx=null;var S=oa,O=bu;if(Yn=0,yu=oa=null,bu=0,(wt&6)!==0)throw Error(r(331));var R=wt;if(wt|=4,kT(S.current),MT(S,S.current,O,h),wt=R,_f(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Rt,S)}catch{}return!0}finally{U.p=x,F.T=g,HT(l,u)}}function $T(l,u,h){u=hi(h,u),u=Zv(l.stateNode,u,2),l=Go(l,u,2),l!==null&&(Pt(l,2),us(l))}function _t(l,u,h){if(l.tag===3)$T(l,l,h);else for(;u!==null;){if(u.tag===3){$T(u,l,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))){l=hi(h,l),h=KE(2),g=Go(u,h,2),g!==null&&(QE(h,g,u,l),Pt(g,2),us(g));break}}u=u.return}}function Cx(l,u,h){var g=l.pingCache;if(g===null){g=l.pingCache=new e6;var x=new Set;g.set(u,x)}else x=g.get(u),x===void 0&&(x=new Set,g.set(u,x));x.has(h)||(mx=!0,x.add(h),l=s6.bind(null,l,u,h),u.then(l,l))}function s6(l,u,h){var g=l.pingCache;g!==null&&g.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,It===l&&(ct&h)===h&&(rn===4||rn===3&&(ct&62914560)===ct&&300>Se()-bx?(wt&2)===0&&vu(l,0):gx|=h,gu===ct&&(gu=0)),us(l)}function YT(l,u){u===0&&(u=Rr()),l=tu(l,u),l!==null&&(Pt(l,u),us(l))}function o6(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),YT(l,h)}function a6(l,u){var h=0;switch(l.tag){case 13:var g=l.stateNode,x=l.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),YT(l,h)}function l6(l,u){return ne(l,u)}var Ym=null,wu=null,kx=!1,Wm=!1,Ex=!1,Rl=0;function us(l){l!==wu&&l.next===null&&(wu===null?Ym=wu=l:wu=wu.next=l),Wm=!0,kx||(kx=!0,u6())}function _f(l,u){if(!Ex&&Wm){Ex=!0;do for(var h=!1,g=Ym;g!==null;){if(l!==0){var x=g.pendingLanes;if(x===0)var S=0;else{var O=g.suspendedLanes,R=g.pingedLanes;S=(1<<31-Be(42|l)+1)-1,S&=x&~(O&~R),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,QT(g,S))}else S=ct,S=yr(g,g===It?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||Jn(g,S)||(h=!0,QT(g,S));g=g.next}while(h);Ex=!1}}function c6(){WT()}function WT(){Wm=kx=!1;var l=0;Rl!==0&&(b6()&&(l=Rl),Rl=0);for(var u=Se(),h=null,g=Ym;g!==null;){var x=g.next,S=qT(g,u);S===0?(g.next=null,h===null?Ym=x:h.next=x,x===null&&(wu=h)):(h=g,(l!==0||(S&3)!==0)&&(Wm=!0)),g=x}_f(l)}function qT(l,u){for(var h=l.suspendedLanes,g=l.pingedLanes,x=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var O=31-Be(S),R=1<<O,B=x[O];B===-1?((R&h)===0||(R&g)!==0)&&(x[O]=Ho(R,u)):B<=u&&(l.expiredLanes|=R),S&=~R}if(u=It,h=ct,h=yr(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,h===0||l===u&&(St===2||St===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&pe(g),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||Jn(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(g!==null&&pe(g),Un(h)){case 2:case 8:h=Ze;break;case 32:h=Fe;break;case 268435456:h=st;break;default:h=Fe}return g=KT.bind(null,l),h=ne(h,g),l.callbackPriority=u,l.callbackNode=h,u}return g!==null&&g!==null&&pe(g),l.callbackPriority=2,l.callbackNode=null,2}function KT(l,u){if(Yn!==0&&Yn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if($m()&&l.callbackNode!==h)return null;var g=ct;return g=yr(l,l===It?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(_T(l,g,u),qT(l,Se()),l.callbackNode!=null&&l.callbackNode===h?KT.bind(null,l):null)}function QT(l,u){if($m())return null;_T(l,u,!0)}function u6(){x6(function(){(wt&6)!==0?ne(rt,c6):WT()})}function Tx(){return Rl===0&&(Rl=Uo()),Rl}function GT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:rm(""+l)}function XT(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function d6(l,u,h,g,x){if(u==="submit"&&h&&h.stateNode===x){var S=GT((x[zt]||null).action),O=g.submitter;O&&(u=(u=O[zt]||null)?GT(u.formAction):O.getAttribute("formAction"),u!==null&&(S=u,O=null));var R=new am("action","action",null,g,x);l.push({event:R,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Rl!==0){var B=O?XT(x,O):new FormData(x);Kv(h,{pending:!0,data:B,method:x.method,action:S},null,B)}}else typeof S=="function"&&(R.preventDefault(),B=O?XT(x,O):new FormData(x),Kv(h,{pending:!0,data:B,method:x.method,action:S},S,B))},currentTarget:x}]})}}for(var Ox=0;Ox<hv.length;Ox++){var _x=hv[Ox],f6=_x.toLowerCase(),h6=_x[0].toUpperCase()+_x.slice(1);Bi(f6,"on"+h6)}Bi(_k,"onAnimationEnd"),Bi(Ak,"onAnimationIteration"),Bi(Rk,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(_4,"onTransitionRun"),Bi(A4,"onTransitionStart"),Bi(R4,"onTransitionCancel"),Bi(Nk,"onTransitionEnd"),Yc("onMouseEnter",["mouseout","mouseover"]),Yc("onMouseLeave",["mouseout","mouseover"]),Yc("onPointerEnter",["pointerout","pointerover"]),Yc("onPointerLeave",["pointerout","pointerover"]),gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function JT(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var g=l[h],x=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var O=g.length-1;0<=O;O--){var R=g[O],B=R.instance,K=R.currentTarget;if(R=R.listener,B!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=K;try{S(x)}catch(te){Nm(te)}x.currentTarget=null,S=B}else for(O=0;O<g.length;O++){if(R=g[O],B=R.instance,K=R.currentTarget,R=R.listener,B!==S&&x.isPropagationStopped())break e;S=R,x.currentTarget=K;try{S(x)}catch(te){Nm(te)}x.currentTarget=null,S=B}}}}function tt(l,u){var h=u[Ys];h===void 0&&(h=u[Ys]=new Set);var g=l+"__bubble";h.has(g)||(ZT(u,l,2,!1),h.add(g))}function Ax(l,u,h){var g=0;u&&(g|=4),ZT(h,l,g,u)}var qm="_reactListening"+Math.random().toString(36).slice(2);function Rx(l){if(!l[qm]){l[qm]=!0,WC.forEach(function(h){h!=="selectionchange"&&(p6.has(h)||Ax(h,!1,l),Ax(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[qm]||(u[qm]=!0,Ax("selectionchange",!1,u))}}function ZT(l,u,h,g){switch(MO(u)){case 2:var x=V6;break;case 8:x=H6;break;default:x=Wx}h=x.bind(null,u,h,l),x=void 0,!ev||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),g?x!==void 0?l.addEventListener(u,h,{capture:!0,passive:x}):l.addEventListener(u,h,!0):x!==void 0?l.addEventListener(u,h,{passive:x}):l.addEventListener(u,h,!1)}function Nx(l,u,h,g,x){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var R=g.stateNode.containerInfo;if(R===x)break;if(O===4)for(O=g.return;O!==null;){var B=O.tag;if((B===3||B===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;R!==null;){if(O=Hc(R),O===null)return;if(B=O.tag,B===5||B===6||B===26||B===27){g=S=O;continue e}R=R.parentNode}}g=g.return}ok(function(){var K=S,te=Jb(h),ie=[];e:{var Q=Pk.get(l);if(Q!==void 0){var G=am,Re=l;switch(l){case"keypress":if(sm(h)===0)break e;case"keydown":case"keyup":G=l4;break;case"focusin":Re="focus",G=iv;break;case"focusout":Re="blur",G=iv;break;case"beforeblur":case"afterblur":G=iv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ck;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Gz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=d4;break;case _k:case Ak:case Rk:G=Zz;break;case Nk:G=h4;break;case"scroll":case"scrollend":G=Kz;break;case"wheel":G=m4;break;case"copy":case"cut":case"paste":G=t4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=dk;break;case"toggle":case"beforetoggle":G=y4}var Oe=(u&4)!==0,Tt=!Oe&&(l==="scroll"||l==="scrollend"),Y=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var H=K,W;H!==null;){var re=H;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||Y===null||(re=Qd(H,Y),re!=null&&Oe.push(Rf(H,re,W))),Tt)break;H=H.return}0<Oe.length&&(Q=new G(Q,Re,null,h,te),ie.push({event:Q,listeners:Oe}))}}if((u&7)===0){e:{if(Q=l==="mouseover"||l==="pointerover",G=l==="mouseout"||l==="pointerout",Q&&h!==Xb&&(Re=h.relatedTarget||h.fromElement)&&(Hc(Re)||Re[tr]))break e;if((G||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,G?(Re=h.relatedTarget||h.toElement,G=K,Re=Re?Hc(Re):null,Re!==null&&(Tt=s(Re),Oe=Re.tag,Re!==Tt||Oe!==5&&Oe!==27&&Oe!==6)&&(Re=null)):(G=null,Re=K),G!==Re)){if(Oe=ck,re="onMouseLeave",Y="onMouseEnter",H="mouse",(l==="pointerout"||l==="pointerover")&&(Oe=dk,re="onPointerLeave",Y="onPointerEnter",H="pointer"),Tt=G==null?Q:Kd(G),W=Re==null?Q:Kd(Re),Q=new Oe(re,H+"leave",G,h,te),Q.target=Tt,Q.relatedTarget=W,re=null,Hc(te)===K&&(Oe=new Oe(Y,H+"enter",Re,h,te),Oe.target=W,Oe.relatedTarget=Tt,re=Oe),Tt=re,G&&Re)t:{for(Oe=G,Y=Re,H=0,W=Oe;W;W=Su(W))H++;for(W=0,re=Y;re;re=Su(re))W++;for(;0<H-W;)Oe=Su(Oe),H--;for(;0<W-H;)Y=Su(Y),W--;for(;H--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Su(Oe),Y=Su(Y)}Oe=null}else Oe=null;G!==null&&eO(ie,Q,G,Oe,!1),Re!==null&&Tt!==null&&eO(ie,Tt,Re,Oe,!0)}}e:{if(Q=K?Kd(K):window,G=Q.nodeName&&Q.nodeName.toLowerCase(),G==="select"||G==="input"&&Q.type==="file")var ve=vk;else if(yk(Q))if(xk)ve=E4;else{ve=C4;var Ge=D4}else G=Q.nodeName,!G||G.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Gb(K.elementType)&&(ve=vk):ve=k4;if(ve&&(ve=ve(l,K))){bk(ie,ve,h,te);break e}Ge&&Ge(l,Q,K),l==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Qb(Q,"number",Q.value)}switch(Ge=K?Kd(K):window,l){case"focusin":(yk(Ge)||Ge.contentEditable==="true")&&(Jc=Ge,uv=K,rf=null);break;case"focusout":rf=uv=Jc=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,Tk(ie,h,te);break;case"selectionchange":if(O4)break;case"keydown":case"keyup":Tk(ie,h,te)}var Ce;if(ov)e:{switch(l){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Xc?mk(l,h)&&(_e="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(_e="onCompositionStart");_e&&(fk&&h.locale!=="ko"&&(Xc||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Xc&&(Ce=ak()):(Wo=te,tv="value"in Wo?Wo.value:Wo.textContent,Xc=!0)),Ge=Km(K,_e),0<Ge.length&&(_e=new uk(_e,l,null,h,te),ie.push({event:_e,listeners:Ge}),Ce?_e.data=Ce:(Ce=gk(h),Ce!==null&&(_e.data=Ce)))),(Ce=v4?x4(l,h):w4(l,h))&&(_e=Km(K,"onBeforeInput"),0<_e.length&&(Ge=new uk("onBeforeInput","beforeinput",null,h,te),ie.push({event:Ge,listeners:_e}),Ge.data=Ce)),d6(ie,l,K,h,te)}JT(ie,u)})}function Rf(l,u,h){return{instance:l,listener:u,currentTarget:h}}function Km(l,u){for(var h=u+"Capture",g=[];l!==null;){var x=l,S=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||S===null||(x=Qd(l,h),x!=null&&g.unshift(Rf(l,x,S)),x=Qd(l,u),x!=null&&g.push(Rf(l,x,S))),l.tag===3)return g;l=l.return}return[]}function Su(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function eO(l,u,h,g,x){for(var S=u._reactName,O=[];h!==null&&h!==g;){var R=h,B=R.alternate,K=R.stateNode;if(R=R.tag,B!==null&&B===g)break;R!==5&&R!==26&&R!==27||K===null||(B=K,x?(K=Qd(h,S),K!=null&&O.unshift(Rf(h,K,B))):x||(K=Qd(h,S),K!=null&&O.push(Rf(h,K,B)))),h=h.return}O.length!==0&&l.push({event:u,listeners:O})}var m6=/\r\n?/g,g6=/\u0000|\uFFFD/g;function tO(l){return(typeof l=="string"?l:""+l).replace(m6,`
`).replace(g6,"")}function nO(l,u){return u=tO(u),tO(l)===u}function Qm(){}function Et(l,u,h,g,x,S){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Kc(l,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Kc(l,""+g);break;case"className":em(l,"class",g);break;case"tabIndex":em(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":em(l,h,g);break;case"style":ik(l,g,S);break;case"data":if(u!=="object"){em(l,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(h);break}g=rm(""+g),l.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&Et(l,u,"name",x.name,x,null),Et(l,u,"formEncType",x.formEncType,x,null),Et(l,u,"formMethod",x.formMethod,x,null),Et(l,u,"formTarget",x.formTarget,x,null)):(Et(l,u,"encType",x.encType,x,null),Et(l,u,"method",x.method,x,null),Et(l,u,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(h);break}g=rm(""+g),l.setAttribute(h,g);break;case"onClick":g!=null&&(l.onclick=Qm);break;case"onScroll":g!=null&&tt("scroll",l);break;case"onScrollEnd":g!=null&&tt("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}h=rm(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,""+g):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":g===!0?l.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(h,g):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(h,g):l.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(h):l.setAttribute(h,g);break;case"popover":tt("beforetoggle",l),tt("toggle",l),Zp(l,"popover",g);break;case"xlinkActuate":qs(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":qs(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":qs(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":qs(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":qs(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":qs(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":qs(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":qs(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":qs(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Zp(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Wz.get(h)||h,Zp(l,h,g))}}function Px(l,u,h,g,x,S){switch(h){case"style":ik(l,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(x.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof g=="string"?Kc(l,g):(typeof g=="number"||typeof g=="bigint")&&Kc(l,""+g);break;case"onScroll":g!=null&&tt("scroll",l);break;case"onScrollEnd":g!=null&&tt("scrollend",l);break;case"onClick":g!=null&&(l.onclick=Qm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qC.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(x=h.endsWith("Capture"),u=h.slice(2,x?h.length-7:void 0),S=l[zt]||null,S=S!=null?S[h]:null,typeof S=="function"&&l.removeEventListener(u,S,x),typeof g=="function")){typeof S!="function"&&S!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,g,x);break e}h in l?l[h]=g:g===!0?l.setAttribute(h,""):Zp(l,h,g)}}}function Wn(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",l),tt("load",l);var g=!1,x=!1,S;for(S in h)if(h.hasOwnProperty(S)){var O=h[S];if(O!=null)switch(S){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Et(l,u,S,O,h,null)}}x&&Et(l,u,"srcSet",h.srcSet,h,null),g&&Et(l,u,"src",h.src,h,null);return;case"input":tt("invalid",l);var R=S=O=x=null,B=null,K=null;for(g in h)if(h.hasOwnProperty(g)){var te=h[g];if(te!=null)switch(g){case"name":x=te;break;case"type":O=te;break;case"checked":B=te;break;case"defaultChecked":K=te;break;case"value":S=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,u));break;default:Et(l,u,g,te,h,null)}}ek(l,S,R,B,K,O,x,!1),tm(l);return;case"select":tt("invalid",l),g=O=S=null;for(x in h)if(h.hasOwnProperty(x)&&(R=h[x],R!=null))switch(x){case"value":S=R;break;case"defaultValue":O=R;break;case"multiple":g=R;default:Et(l,u,x,R,h,null)}u=S,h=O,l.multiple=!!g,u!=null?qc(l,!!g,u,!1):h!=null&&qc(l,!!g,h,!0);return;case"textarea":tt("invalid",l),S=x=g=null;for(O in h)if(h.hasOwnProperty(O)&&(R=h[O],R!=null))switch(O){case"value":g=R;break;case"defaultValue":x=R;break;case"children":S=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Et(l,u,O,R,h,null)}nk(l,g,x,S),tm(l);return;case"option":for(B in h)if(h.hasOwnProperty(B)&&(g=h[B],g!=null))switch(B){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Et(l,u,B,g,h,null)}return;case"dialog":tt("beforetoggle",l),tt("toggle",l),tt("cancel",l),tt("close",l);break;case"iframe":case"object":tt("load",l);break;case"video":case"audio":for(g=0;g<Af.length;g++)tt(Af[g],l);break;case"image":tt("error",l),tt("load",l);break;case"details":tt("toggle",l);break;case"embed":case"source":case"link":tt("error",l),tt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in h)if(h.hasOwnProperty(K)&&(g=h[K],g!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Et(l,u,K,g,h,null)}return;default:if(Gb(u)){for(te in h)h.hasOwnProperty(te)&&(g=h[te],g!==void 0&&Px(l,u,te,g,h,void 0));return}}for(R in h)h.hasOwnProperty(R)&&(g=h[R],g!=null&&Et(l,u,R,g,h,null))}function y6(l,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,S=null,O=null,R=null,B=null,K=null,te=null;for(G in h){var ie=h[G];if(h.hasOwnProperty(G)&&ie!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":B=ie;default:g.hasOwnProperty(G)||Et(l,u,G,null,g,ie)}}for(var Q in g){var G=g[Q];if(ie=h[Q],g.hasOwnProperty(Q)&&(G!=null||ie!=null))switch(Q){case"type":S=G;break;case"name":x=G;break;case"checked":K=G;break;case"defaultChecked":te=G;break;case"value":O=G;break;case"defaultValue":R=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,u));break;default:G!==ie&&Et(l,u,Q,G,g,ie)}}Kb(l,O,R,B,K,te,S,x);return;case"select":G=O=R=Q=null;for(S in h)if(B=h[S],h.hasOwnProperty(S)&&B!=null)switch(S){case"value":break;case"multiple":G=B;default:g.hasOwnProperty(S)||Et(l,u,S,null,g,B)}for(x in g)if(S=g[x],B=h[x],g.hasOwnProperty(x)&&(S!=null||B!=null))switch(x){case"value":Q=S;break;case"defaultValue":R=S;break;case"multiple":O=S;default:S!==B&&Et(l,u,x,S,g,B)}u=R,h=O,g=G,Q!=null?qc(l,!!h,Q,!1):!!g!=!!h&&(u!=null?qc(l,!!h,u,!0):qc(l,!!h,h?[]:"",!1));return;case"textarea":G=Q=null;for(R in h)if(x=h[R],h.hasOwnProperty(R)&&x!=null&&!g.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Et(l,u,R,null,g,x)}for(O in g)if(x=g[O],S=h[O],g.hasOwnProperty(O)&&(x!=null||S!=null))switch(O){case"value":Q=x;break;case"defaultValue":G=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==S&&Et(l,u,O,x,g,S)}tk(l,Q,G);return;case"option":for(var Re in h)if(Q=h[Re],h.hasOwnProperty(Re)&&Q!=null&&!g.hasOwnProperty(Re))switch(Re){case"selected":l.selected=!1;break;default:Et(l,u,Re,null,g,Q)}for(B in g)if(Q=g[B],G=h[B],g.hasOwnProperty(B)&&Q!==G&&(Q!=null||G!=null))switch(B){case"selected":l.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Et(l,u,B,Q,g,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in h)Q=h[Oe],h.hasOwnProperty(Oe)&&Q!=null&&!g.hasOwnProperty(Oe)&&Et(l,u,Oe,null,g,Q);for(K in g)if(Q=g[K],G=h[K],g.hasOwnProperty(K)&&Q!==G&&(Q!=null||G!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,u));break;default:Et(l,u,K,Q,g,G)}return;default:if(Gb(u)){for(var Tt in h)Q=h[Tt],h.hasOwnProperty(Tt)&&Q!==void 0&&!g.hasOwnProperty(Tt)&&Px(l,u,Tt,void 0,g,Q);for(te in g)Q=g[te],G=h[te],!g.hasOwnProperty(te)||Q===G||Q===void 0&&G===void 0||Px(l,u,te,Q,g,G);return}}for(var Y in h)Q=h[Y],h.hasOwnProperty(Y)&&Q!=null&&!g.hasOwnProperty(Y)&&Et(l,u,Y,null,g,Q);for(ie in g)Q=g[ie],G=h[ie],!g.hasOwnProperty(ie)||Q===G||Q==null&&G==null||Et(l,u,ie,Q,g,G)}var Lx=null,Ix=null;function Gm(l){return l.nodeType===9?l:l.ownerDocument}function rO(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iO(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function jx(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Bx=null;function b6(){var l=window.event;return l&&l.type==="popstate"?l===Bx?!1:(Bx=l,!0):(Bx=null,!1)}var sO=typeof setTimeout=="function"?setTimeout:void 0,v6=typeof clearTimeout=="function"?clearTimeout:void 0,oO=typeof Promise=="function"?Promise:void 0,x6=typeof queueMicrotask=="function"?queueMicrotask:typeof oO<"u"?function(l){return oO.resolve(null).then(l).catch(w6)}:sO;function w6(l){setTimeout(function(){throw l})}function la(l){return l==="head"}function aO(l,u){var h=u,g=0,x=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<g&&8>g){h=g;var O=l.ownerDocument;if(h&1&&Nf(O.documentElement),h&2&&Nf(O.body),h&4)for(h=O.head,Nf(h),O=h.firstChild;O;){var R=O.nextSibling,B=O.nodeName;O[Ws]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=R}}if(x===0){l.removeChild(S),Vf(u);return}x--}else h==="$"||h==="$?"||h==="$!"?x++:g=h.charCodeAt(0)-48;else g=0;h=S}while(h);Vf(u)}function Fx(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fx(h),$b(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function S6(l,u,h,g){for(;l.nodeType===1;){var x=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[Ws])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==x.rel||l.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||l.getAttribute("title")!==(x.title==null?null:x.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(x.src==null?null:x.src)||l.getAttribute("type")!==(x.type==null?null:x.type)||l.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var S=x.name==null?null:""+x.name;if(x.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=zi(l.nextSibling),l===null)break}return null}function M6(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=zi(l.nextSibling),l===null))return null;return l}function zx(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function D6(l,u){var h=l.ownerDocument;if(l.data!=="$?"||h.readyState==="complete")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function zi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var Vx=null;function lO(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return l;u--}else h==="/$"&&u++}l=l.previousSibling}return null}function cO(l,u,h){switch(u=Gm(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Nf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);$b(l)}var vi=new Map,uO=new Set;function Xm(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ao=U.d;U.d={f:C6,r:k6,D:E6,C:T6,L:O6,m:_6,X:R6,S:A6,M:N6};function C6(){var l=ao.f(),u=Hm();return l||u}function k6(l){var u=Uc(l);u!==null&&u.tag===5&&u.type==="form"?_E(u):ao.r(l)}var Mu=typeof document>"u"?null:document;function dO(l,u,h){var g=Mu;if(g&&typeof u=="string"&&u){var x=fi(u);x='link[rel="'+l+'"][href="'+x+'"]',typeof h=="string"&&(x+='[crossorigin="'+h+'"]'),uO.has(x)||(uO.add(x),l={rel:l,crossOrigin:h,href:u},g.querySelector(x)===null&&(u=g.createElement("link"),Wn(u,"link",l),Tn(u),g.head.appendChild(u)))}}function E6(l){ao.D(l),dO("dns-prefetch",l,null)}function T6(l,u){ao.C(l,u),dO("preconnect",l,u)}function O6(l,u,h){ao.L(l,u,h);var g=Mu;if(g&&l&&u){var x='link[rel="preload"][as="'+fi(u)+'"]';u==="image"&&h&&h.imageSrcSet?(x+='[imagesrcset="'+fi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(x+='[imagesizes="'+fi(h.imageSizes)+'"]')):x+='[href="'+fi(l)+'"]';var S=x;switch(u){case"style":S=Du(l);break;case"script":S=Cu(l)}vi.has(S)||(l=f({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),vi.set(S,l),g.querySelector(x)!==null||u==="style"&&g.querySelector(Pf(S))||u==="script"&&g.querySelector(Lf(S))||(u=g.createElement("link"),Wn(u,"link",l),Tn(u),g.head.appendChild(u)))}}function _6(l,u){ao.m(l,u);var h=Mu;if(h&&l){var g=u&&typeof u.as=="string"?u.as:"script",x='link[rel="modulepreload"][as="'+fi(g)+'"][href="'+fi(l)+'"]',S=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Cu(l)}if(!vi.has(S)&&(l=f({rel:"modulepreload",href:l},u),vi.set(S,l),h.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Lf(S)))return}g=h.createElement("link"),Wn(g,"link",l),Tn(g),h.head.appendChild(g)}}}function A6(l,u,h){ao.S(l,u,h);var g=Mu;if(g&&l){var x=$c(g).hoistableStyles,S=Du(l);u=u||"default";var O=x.get(S);if(!O){var R={loading:0,preload:null};if(O=g.querySelector(Pf(S)))R.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},h),(h=vi.get(S))&&Hx(l,h);var B=O=g.createElement("link");Tn(B),Wn(B,"link",l),B._p=new Promise(function(K,te){B.onload=K,B.onerror=te}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Jm(O,u,g)}O={type:"stylesheet",instance:O,count:1,state:R},x.set(S,O)}}}function R6(l,u){ao.X(l,u);var h=Mu;if(h&&l){var g=$c(h).hoistableScripts,x=Cu(l),S=g.get(x);S||(S=h.querySelector(Lf(x)),S||(l=f({src:l,async:!0},u),(u=vi.get(x))&&Ux(l,u),S=h.createElement("script"),Tn(S),Wn(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function N6(l,u){ao.M(l,u);var h=Mu;if(h&&l){var g=$c(h).hoistableScripts,x=Cu(l),S=g.get(x);S||(S=h.querySelector(Lf(x)),S||(l=f({src:l,async:!0,type:"module"},u),(u=vi.get(x))&&Ux(l,u),S=h.createElement("script"),Tn(S),Wn(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(x,S))}}function fO(l,u,h,g){var x=(x=fe.current)?Xm(x):null;if(!x)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Du(h.href),h=$c(x).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Du(h.href);var S=$c(x).hoistableStyles,O=S.get(l);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,O),(S=x.querySelector(Pf(l)))&&!S._p&&(O.instance=S,O.state.loading=5),vi.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},vi.set(l,h),S||P6(x,l,h,O.state))),u&&g===null)throw Error(r(528,""));return O}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Cu(h),h=$c(x).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Du(l){return'href="'+fi(l)+'"'}function Pf(l){return'link[rel="stylesheet"]['+l+"]"}function hO(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function P6(l,u,h,g){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=l.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),Wn(u,"link",h),Tn(u),l.head.appendChild(u))}function Cu(l){return'[src="'+fi(l)+'"]'}function Lf(l){return"script[async]"+l}function pO(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=l.querySelector('style[data-href~="'+fi(h.href)+'"]');if(g)return u.instance=g,Tn(g),g;var x=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),Tn(g),Wn(g,"style",x),Jm(g,h.precedence,l),u.instance=g;case"stylesheet":x=Du(h.href);var S=l.querySelector(Pf(x));if(S)return u.state.loading|=4,u.instance=S,Tn(S),S;g=hO(h),(x=vi.get(x))&&Hx(g,x),S=(l.ownerDocument||l).createElement("link"),Tn(S);var O=S;return O._p=new Promise(function(R,B){O.onload=R,O.onerror=B}),Wn(S,"link",g),u.state.loading|=4,Jm(S,h.precedence,l),u.instance=S;case"script":return S=Cu(h.src),(x=l.querySelector(Lf(S)))?(u.instance=x,Tn(x),x):(g=h,(x=vi.get(S))&&(g=f({},h),Ux(g,x)),l=l.ownerDocument||l,x=l.createElement("script"),Tn(x),Wn(x,"link",g),l.head.appendChild(x),u.instance=x);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Jm(g,h.precedence,l));return u.instance}function Jm(l,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,S=x,O=0;O<g.length;O++){var R=g[O];if(R.dataset.precedence===u)S=R;else if(S!==x)break}S?S.parentNode.insertBefore(l,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function Hx(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Ux(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Zm=null;function mO(l,u,h){if(Zm===null){var g=new Map,x=Zm=new Map;x.set(h,g)}else x=Zm,g=x.get(h),g||(g=new Map,x.set(h,g));if(g.has(l))return g;for(g.set(l,null),h=h.getElementsByTagName(l),x=0;x<h.length;x++){var S=h[x];if(!(S[Ws]||S[Ft]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(u)||"";O=l+O;var R=g.get(O);R?R.push(S):g.set(O,[S])}}return g}function gO(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function L6(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function yO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var If=null;function I6(){}function j6(l,u,h){if(If===null)throw Error(r(475));var g=If;if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=Du(h.href),S=l.querySelector(Pf(x));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(g.count++,g=eg.bind(g),l.then(g,g)),u.state.loading|=4,u.instance=S,Tn(S);return}S=l.ownerDocument||l,h=hO(h),(x=vi.get(x))&&Hx(h,x),S=S.createElement("link"),Tn(S);var O=S;O._p=new Promise(function(R,B){O.onload=R,O.onerror=B}),Wn(S,"link",h),u.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=eg.bind(g),l.addEventListener("load",u),l.addEventListener("error",u))}}function B6(){if(If===null)throw Error(r(475));var l=If;return l.stylesheets&&l.count===0&&$x(l,l.stylesheets),0<l.count?function(u){var h=setTimeout(function(){if(l.stylesheets&&$x(l,l.stylesheets),l.unsuspend){var g=l.unsuspend;l.unsuspend=null,g()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(h)}}:null}function eg(){if(this.count--,this.count===0){if(this.stylesheets)$x(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var tg=null;function $x(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,tg=new Map,u.forEach(F6,l),tg=null,eg.call(l))}function F6(l,u){if(!(u.state.loading&4)){var h=tg.get(l);if(h)var g=h.get(null);else{h=new Map,tg.set(l,h);for(var x=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<x.length;S++){var O=x[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),g=O)}g&&h.set(null,g)}x=u.instance,O=x.getAttribute("data-precedence"),S=h.get(O)||g,S===g&&h.set(null,x),h.set(O,x),this.count++,g=eg.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),S?S.parentNode.insertBefore(x,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(x,l.firstChild)),u.state.loading|=4}}var jf={$$typeof:E,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function z6(l,u,h,g,x,S,O,R){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.hiddenUpdates=Vc(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function bO(l,u,h,g,x,S,O,R,B,K,te,ie){return l=new z6(l,u,h,O,R,B,K,ie),u=1,S===!0&&(u|=24),S=Zr(3,null,null,u),l.current=S,S.stateNode=l,u=Cv(),u.refCount++,l.pooledCache=u,u.refCount++,S.memoizedState={element:g,isDehydrated:h,cache:u},Ov(S),l}function vO(l){return l?(l=nu,l):nu}function xO(l,u,h,g,x,S){x=vO(x),g.context===null?g.context=x:g.pendingContext=x,g=Qo(u),g.payload={element:h},S=S===void 0?null:S,S!==null&&(g.callback=S),h=Go(l,g,u),h!==null&&(ii(h,l,u),hf(h,l,u))}function wO(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function Yx(l,u){wO(l,u),(l=l.alternate)&&wO(l,u)}function SO(l){if(l.tag===13){var u=tu(l,67108864);u!==null&&ii(u,l,67108864),Yx(l,67108864)}}var ng=!0;function V6(l,u,h,g){var x=F.T;F.T=null;var S=U.p;try{U.p=2,Wx(l,u,h,g)}finally{U.p=S,F.T=x}}function H6(l,u,h,g){var x=F.T;F.T=null;var S=U.p;try{U.p=8,Wx(l,u,h,g)}finally{U.p=S,F.T=x}}function Wx(l,u,h,g){if(ng){var x=qx(g);if(x===null)Nx(l,u,g,rg,h),DO(l,g);else if($6(x,l,u,h,g))g.stopPropagation();else if(DO(l,g),u&4&&-1<U6.indexOf(l)){for(;x!==null;){var S=Uc(x);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=Ar(S.pendingLanes);if(O!==0){var R=S;for(R.pendingLanes|=2,R.entangledLanes|=2;O;){var B=1<<31-Be(O);R.entanglements[1]|=B,O&=~B}us(S),(wt&6)===0&&(zm=Se()+500,_f(0))}}break;case 13:R=tu(S,2),R!==null&&ii(R,S,2),Hm(),Yx(S,2)}if(S=qx(g),S===null&&Nx(l,u,g,rg,h),S===x)break;x=S}x!==null&&g.stopPropagation()}else Nx(l,u,g,null,h)}}function qx(l){return l=Jb(l),Kx(l)}var rg=null;function Kx(l){if(rg=null,l=Hc(l),l!==null){var u=s(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=o(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return rg=l,null}function MO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case rt:return 2;case Ze:return 8;case Fe:case Bt:return 32;case st:return 268435456;default:return 32}default:return 32}}var Qx=!1,ca=null,ua=null,da=null,Bf=new Map,Ff=new Map,fa=[],U6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DO(l,u){switch(l){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Bf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(u.pointerId)}}function zf(l,u,h,g,x,S){return l===null||l.nativeEvent!==S?(l={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},u!==null&&(u=Uc(u),u!==null&&SO(u)),l):(l.eventSystemFlags|=g,u=l.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),l)}function $6(l,u,h,g,x){switch(u){case"focusin":return ca=zf(ca,l,u,h,g,x),!0;case"dragenter":return ua=zf(ua,l,u,h,g,x),!0;case"mouseover":return da=zf(da,l,u,h,g,x),!0;case"pointerover":var S=x.pointerId;return Bf.set(S,zf(Bf.get(S)||null,l,u,h,g,x)),!0;case"gotpointercapture":return S=x.pointerId,Ff.set(S,zf(Ff.get(S)||null,l,u,h,g,x)),!0}return!1}function CO(l){var u=Hc(l.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){l.blockedOn=u,$o(l.priority,function(){if(h.tag===13){var g=ri();g=er(g);var x=tu(h,g);x!==null&&ii(x,h,g),Yx(h,g)}});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ig(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=qx(l.nativeEvent);if(h===null){h=l.nativeEvent;var g=new h.constructor(h.type,h);Xb=g,h.target.dispatchEvent(g),Xb=null}else return u=Uc(h),u!==null&&SO(u),l.blockedOn=h,!1;u.shift()}return!0}function kO(l,u,h){ig(l)&&h.delete(u)}function Y6(){Qx=!1,ca!==null&&ig(ca)&&(ca=null),ua!==null&&ig(ua)&&(ua=null),da!==null&&ig(da)&&(da=null),Bf.forEach(kO),Ff.forEach(kO)}function sg(l,u){l.blockedOn===u&&(l.blockedOn=null,Qx||(Qx=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y6)))}var og=null;function EO(l){og!==l&&(og=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){og===l&&(og=null);for(var u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],x=l[u+2];if(typeof g!="function"){if(Kx(g||h)===null)continue;break}var S=Uc(h);S!==null&&(l.splice(u,3),u-=3,Kv(S,{pending:!0,data:x,method:h.method,action:g},g,x))}}))}function Vf(l){function u(B){return sg(B,l)}ca!==null&&sg(ca,l),ua!==null&&sg(ua,l),da!==null&&sg(da,l),Bf.forEach(u),Ff.forEach(u);for(var h=0;h<fa.length;h++){var g=fa[h];g.blockedOn===l&&(g.blockedOn=null)}for(;0<fa.length&&(h=fa[0],h.blockedOn===null);)CO(h),h.blockedOn===null&&fa.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var x=h[g],S=h[g+1],O=x[zt]||null;if(typeof S=="function")O||EO(h);else if(O){var R=null;if(S&&S.hasAttribute("formAction")){if(x=S,O=S[zt]||null)R=O.formAction;else if(Kx(x)!==null)continue}else R=O.action;typeof R=="function"?h[g+1]=R:(h.splice(g,3),g-=3),EO(h)}}}function Gx(l){this._internalRoot=l}ag.prototype.render=Gx.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=ri();xO(h,g,l,u,null,null)},ag.prototype.unmount=Gx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;xO(l.current,2,null,l,null,null),Hm(),u[tr]=null}};function ag(l){this._internalRoot=l}ag.prototype.unstable_scheduleHydration=function(l){if(l){var u=Xr();l={blockedOn:null,target:l,priority:u};for(var h=0;h<fa.length&&u!==0&&u<fa[h].priority;h++);fa.splice(h,0,l),h===0&&CO(l)}};var TO=e.version;if(TO!=="19.1.0")throw Error(r(527,TO,"19.1.0"));U.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var W6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lg.isDisabled&&lg.supportsFiber)try{Rt=lg.inject(W6),lt=lg}catch{}}return Uf.createRoot=function(l,u){if(!i(l))throw Error(r(299));var h=!1,g="",x=$E,S=YE,O=WE,R=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(R=u.unstable_transitionCallbacks)),u=bO(l,1,!1,null,null,h,g,x,S,O,R,null),l[tr]=u.current,Rx(l),new Gx(u)},Uf.hydrateRoot=function(l,u,h){if(!i(l))throw Error(r(299));var g=!1,x="",S=$E,O=YE,R=WE,B=null,K=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(R=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(B=h.unstable_transitionCallbacks),h.formState!==void 0&&(K=h.formState)),u=bO(l,1,!0,u,h??null,g,x,S,O,R,B,K),u.context=vO(null),h=u.current,g=ri(),g=er(g),x=Qo(g),x.callback=null,Go(h,x,g),h=g,u.current.lanes=h,Pt(u,h),us(u),l[tr]=u.current,Rx(l),new ag(u)},Uf.version="19.1.0",Uf}var FO;function iV(){if(FO)return e1.exports;FO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),e1.exports=rV(),e1.exports}var sV=iV();const oV=kp(sV);var $f={},zO;function aV(){if(zO)return $f;zO=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.parse=o,$f.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function o(m,y){const b=new s,v=m.length;if(v<2)return b;const w=(y==null?void 0:y.decode)||f;let M=0;do{const k=m.indexOf("=",M);if(k===-1)break;const E=m.indexOf(";",M),_=E===-1?v:E;if(k>_){M=m.lastIndexOf(";",k-1)+1;continue}const T=a(m,M,k),P=c(m,k,T),N=m.slice(T,P);if(b[N]===void 0){let A=a(m,k+1,_),L=c(m,_,A);const I=w(m.slice(A,L));b[N]=I}M=_+1}while(M<v);return b}function a(m,y,b){do{const v=m.charCodeAt(y);if(v!==32&&v!==9)return y}while(++y<b);return b}function c(m,y,b){for(;y>b;){const v=m.charCodeAt(--y);if(v!==32&&v!==9)return y+1}return b}function d(m,y,b){const v=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(m))throw new TypeError(`argument name is invalid: ${m}`);const w=v(y);if(!e.test(w))throw new TypeError(`argument val is invalid: ${y}`);let M=m+"="+w;if(!b)return M;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);M+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);M+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);M+="; Path="+b.path}if(b.expires){if(!p(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);M+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(M+="; HttpOnly"),b.secure&&(M+="; Secure"),b.partitioned&&(M+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return M}function f(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function p(m){return i.call(m)==="[object Date]"}return $f}aV();var VO="popstate";function lV(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ew("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Hh(i)}return uV(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ls(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cV(){return Math.random().toString(36).substring(2,10)}function HO(n,e){return{usr:n.state,key:n.key,idx:e}}function Ew(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pd(e):e,state:t,key:e&&e.key||r||cV()}}function Hh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function uV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){a="POP";let w=f(),M=w==null?null:w-d;d=w,c&&c({action:a,location:v.location,delta:M})}function m(w,M){a="PUSH";let k=Ew(v.location,w,M);d=f()+1;let E=HO(k,d),_=v.createHref(k);try{o.pushState(E,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(_)}s&&c&&c({action:a,location:v.location,delta:1})}function y(w,M){a="REPLACE";let k=Ew(v.location,w,M);d=f();let E=HO(k,d),_=v.createHref(k);o.replaceState(E,"",_),s&&c&&c({action:a,location:v.location,delta:0})}function b(w){return dV(w)}let v={get action(){return a},get location(){return n(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(VO,p),c=w,()=>{i.removeEventListener(VO,p),c=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let M=b(w);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:m,replace:y,go(w){return o.go(w)}};return v}function dV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Hh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function sL(n,e,t="/"){return fV(n,e,t,!1)}function fV(n,e,t,r){let i=typeof e=="string"?Pd(e):e,s=Po(i.pathname||"/",t);if(s==null)return null;let o=oL(n);hV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=DV(s);a=SV(o[c],d,r)}return a}function oL(n,e=[],t=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Co([r,c.relativePath]),f=t.concat(c);s.children&&s.children.length>0&&(Zt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),oL(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:xV(d,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of aL(s.path))i(s,o,c)}),e}function aL(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aL(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function hV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var pV=/^:[\w-]+$/,mV=3,gV=2,yV=1,bV=10,vV=-2,UO=n=>n==="*";function xV(n,e){let t=n.split("/"),r=t.length;return t.some(UO)&&(r+=vV),e&&(r+=gV),t.filter(i=>!UO(i)).reduce((i,s)=>i+(pV.test(s)?mV:s===""?yV:bV),r)}function wV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function SV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Ly({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p&&d&&t&&!r[r.length-1].route.index&&(p=Ly({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Co([s,p.pathname]),pathnameBase:TV(Co([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Co([s,p.pathnameBase]))}return o}function Ly(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let b=a[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=a[m];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function MV(n,e=!1,t=!0){Ls(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Po(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function CV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Pd(n):n;return{pathname:t?t.startsWith("/")?t:kV(t,e):e,search:OV(r),hash:_V(i)}}function kV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function i1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lL(n){let e=EV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cL(n,e,t,r=!1){let i;typeof n=="string"?i=Pd(n):(i={...n},Zt(!i.pathname||!i.pathname.includes("?"),i1("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),i1("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),i1("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=CV(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Co=n=>n.join("/").replace(/\/\/+/g,"/"),TV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_V=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var uL=["POST","PUT","PATCH","DELETE"];new Set(uL);var RV=["GET",...uL];new Set(RV);var Ld=D.createContext(null);Ld.displayName="DataRouter";var F0=D.createContext(null);F0.displayName="DataRouterState";var dL=D.createContext({isTransitioning:!1});dL.displayName="ViewTransition";var NV=D.createContext(new Map);NV.displayName="Fetchers";var PV=D.createContext(null);PV.displayName="Await";var Hs=D.createContext(null);Hs.displayName="Navigation";var Ep=D.createContext(null);Ep.displayName="Location";var Zi=D.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var DM=D.createContext(null);DM.displayName="RouteError";function LV(n,{relative:e}={}){Zt(Tp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(Hs),{hash:i,pathname:s,search:o}=Op(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Co([t,s])),r.createHref({pathname:a,search:o,hash:i})}function Tp(){return D.useContext(Ep)!=null}function Fo(){return Zt(Tp(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ep).location}var fL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hL(n){D.useContext(Hs).static||D.useLayoutEffect(n)}function es(){let{isDataRoute:n}=D.useContext(Zi);return n?QV():IV()}function IV(){Zt(Tp(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(Ld),{basename:e,navigator:t}=D.useContext(Hs),{matches:r}=D.useContext(Zi),{pathname:i}=Fo(),s=JSON.stringify(lL(r)),o=D.useRef(!1);return hL(()=>{o.current=!0}),D.useCallback((c,d={})=>{if(Ls(o.current,fL),!o.current)return;if(typeof c=="number"){t.go(c);return}let f=cL(c,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Co([e,f.pathname])),(d.replace?t.replace:t.push)(f,d.state,d)},[e,t,s,i,n])}var pL=D.createContext(null);function mL(){return D.useContext(pL)}function jV(n){let e=D.useContext(Zi).outlet;return e&&D.createElement(pL.Provider,{value:n},e)}function CM(){let{matches:n}=D.useContext(Zi),e=n[n.length-1];return e?e.params:{}}function Op(n,{relative:e}={}){let{matches:t}=D.useContext(Zi),{pathname:r}=Fo(),i=JSON.stringify(lL(t));return D.useMemo(()=>cL(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function BV(n,e){return gL(n,e)}function gL(n,e,t,r){var M;Zt(Tp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(Hs),{matches:s}=D.useContext(Zi),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";yL(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Fo(),m;if(e){let k=typeof e=="string"?Pd(e):e;Zt(d==="/"||((M=k.pathname)==null?void 0:M.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),m=k}else m=p;let y=m.pathname||"/",b=y;if(d!=="/"){let k=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=sL(n,{pathname:b});Ls(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ls(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=UV(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Co([d,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:Co([d,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,r);return e&&w?D.createElement(Ep.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function FV(){let n=KV(),e=AV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,o)}var zV=D.createElement(FV,null),VV=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(Zi.Provider,{value:this.props.routeContext},D.createElement(DM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HV({routeContext:n,match:e,children:t}){let r=D.useContext(Ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Zi.Provider,{value:n},t)}function UV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Zt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(t)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=c),d.route.id){let{loaderData:f,errors:p}=t,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let p,m=!1,y=null,b=null;t&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||zV,o&&(a<0&&f===0?(yL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):a===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,f+1)),w=()=>{let M;return p?M=y:m?M=b:d.route.Component?M=D.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=c,D.createElement(HV,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:M})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?D.createElement(VV,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function kM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $V(n){let e=D.useContext(Ld);return Zt(e,kM(n)),e}function YV(n){let e=D.useContext(F0);return Zt(e,kM(n)),e}function WV(n){let e=D.useContext(Zi);return Zt(e,kM(n)),e}function EM(n){let e=WV(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qV(){return EM("useRouteId")}function KV(){var r;let n=D.useContext(DM),e=YV("useRouteError"),t=EM("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function QV(){let{router:n}=$V("useNavigate"),e=EM("useNavigate"),t=D.useRef(!1);return hL(()=>{t.current=!0}),D.useCallback(async(i,s={})=>{Ls(t.current,fL),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var $O={};function yL(n,e,t){!e&&!$O[n]&&($O[n]=!0,Ls(!1,t))}D.memo(GV);function GV({routes:n,future:e,state:t}){return gL(n,void 0,t,e)}function _p(n){return jV(n.context)}function bn(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Zt(!Tp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=Pd(t));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=t,y=D.useMemo(()=>{let b=Po(c,o);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:m},navigationType:r}},[o,c,d,f,p,m,r]);return Ls(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:D.createElement(Hs.Provider,{value:a},D.createElement(Ep.Provider,{children:e,value:y}))}function JV({children:n,location:e}){return BV(Tw(n),e)}function Tw(n,e=[]){let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){t.push.apply(t,Tw(r.props.children,s));return}Zt(r.type===bn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tw(r.props.children,s)),t.push(o)}),t}var Jg="get",Zg="application/x-www-form-urlencoded";function z0(n){return n!=null&&typeof n.tagName=="string"}function ZV(n){return z0(n)&&n.tagName.toLowerCase()==="button"}function e8(n){return z0(n)&&n.tagName.toLowerCase()==="form"}function t8(n){return z0(n)&&n.tagName.toLowerCase()==="input"}function n8(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function r8(n,e){return n.button===0&&(!e||e==="_self")&&!n8(n)}var ug=null;function i8(){if(ug===null)try{new FormData(document.createElement("form"),0),ug=!1}catch{ug=!0}return ug}var s8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s1(n){return n!=null&&!s8.has(n)?(Ls(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zg}"`),null):n}function o8(n,e){let t,r,i,s,o;if(e8(n)){let a=n.getAttribute("action");r=a?Po(a,e):null,t=n.getAttribute("method")||Jg,i=s1(n.getAttribute("enctype"))||Zg,s=new FormData(n)}else if(ZV(n)||t8(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||a.getAttribute("action");if(r=c?Po(c,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Jg,i=s1(n.getAttribute("formenctype"))||s1(a.getAttribute("enctype"))||Zg,s=new FormData(a,n),!i8()){let{name:d,type:f,value:p}=n;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(z0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jg,r=null,i=Zg,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function TM(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function a8(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l8(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function c8(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await a8(s,t);return o.links?o.links():[]}return[]}));return h8(r.flat(1).filter(l8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YO(n,e,t,r,i,s){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,a=(c,d)=>{var f;return t[d].pathname!==c.pathname||((f=t[d].route.path)==null?void 0:f.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||a(c,d)):s==="data"?e.filter((c,d)=>{var p;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||a(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function u8(n,e,{includeHydrateFallback:t}={}){return d8(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function d8(n){return[...new Set(n)]}function f8(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function h8(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(f8(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p8=new Set([100,101,204,205]);function m8(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Po(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function bL(){let n=D.useContext(Ld);return TM(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g8(){let n=D.useContext(F0);return TM(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var OM=D.createContext(void 0);OM.displayName="FrameworkContext";function vL(){let n=D.useContext(OM);return TM(n,"You must render this element inside a <HydratedRouter> element"),n}function y8(n,e){let t=D.useContext(OM),[r,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,m=D.useRef(null);D.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=M=>{M.forEach(k=>{o(k.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[n]),D.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,m,{}]:[s,m,{onFocus:Yf(a,y),onBlur:Yf(c,b),onMouseEnter:Yf(d,y),onMouseLeave:Yf(f,b),onTouchStart:Yf(p,y)}]:[!1,m,{}]}function Yf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function b8({page:n,...e}){let{router:t}=bL(),r=D.useMemo(()=>sL(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(x8,{page:n,matches:r,...e}):null}function v8(n){let{manifest:e,routeModules:t}=vL(),[r,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return c8(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function x8({page:n,matches:e,...t}){let r=Fo(),{manifest:i,routeModules:s}=vL(),{basename:o}=bL(),{loaderData:a,matches:c}=g8(),d=D.useMemo(()=>YO(n,e,c,i,r,"data"),[n,e,c,i,r]),f=D.useMemo(()=>YO(n,e,c,i,r,"assets"),[n,e,c,i,r]),p=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,v=!1;if(e.forEach(M=>{var E;let k=i.routes[M.route.id];!k||!k.hasLoader||(!d.some(_=>_.route.id===M.route.id)&&M.route.id in a&&((E=s[M.route.id])!=null&&E.shouldRevalidate)||k.hasClientLoader?v=!0:b.add(M.route.id))}),b.size===0)return[];let w=m8(n,o);return v&&b.size>0&&w.searchParams.set("_routes",e.filter(M=>b.has(M.route.id)).map(M=>M.route.id).join(",")),[w.pathname+w.search]},[o,a,r,i,d,e,n,s]),m=D.useMemo(()=>u8(f,i),[f,i]),y=v8(f);return D.createElement(D.Fragment,null,p.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:v})=>D.createElement("link",{key:b,...v})))}function w8(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xL&&(window.__reactRouterVersion="7.6.3")}catch{}function S8({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=lV({window:t,v5Compat:!0}));let i=r.current,[s,o]=D.useState({action:i.action,location:i.location}),a=D.useCallback(c=>{D.startTransition(()=>o(c))},[o]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(XV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var wL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_M=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:p,...m},y){let{basename:b}=D.useContext(Hs),v=typeof d=="string"&&wL.test(d),w,M=!1;if(typeof d=="string"&&v&&(w=d,xL))try{let L=new URL(window.location.href),I=d.startsWith("//")?new URL(L.protocol+d):new URL(d),V=Po(I.pathname,b);I.origin===L.origin&&V!=null?d=V+I.search+I.hash:M=!0}catch{Ls(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=LV(d,{relative:i}),[E,_,T]=y8(r,m),P=k8(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(L){e&&e(L),L.defaultPrevented||P(L)}let A=D.createElement("a",{...m,...T,href:w||k,onClick:M||s?e:N,ref:w8(y,_),target:c,"data-discover":!v&&t==="render"?"true":void 0});return E&&!v?D.createElement(D.Fragment,null,A,D.createElement(b8,{page:k})):A});_M.displayName="Link";var M8=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...d},f){let p=Op(o,{relative:d.relative}),m=Fo(),y=D.useContext(F0),{navigator:b,basename:v}=D.useContext(Hs),w=y!=null&&A8(p)&&a===!0,M=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,k=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(k=k.toLowerCase(),E=E?E.toLowerCase():null,M=M.toLowerCase()),E&&v&&(E=Po(E,v)||E);const _=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let T=k===M||!i&&k.startsWith(M)&&k.charAt(_)==="/",P=E!=null&&(E===M||!i&&E.startsWith(M)&&E.charAt(M.length)==="/"),N={isActive:T,isPending:P,isTransitioning:w},A=T?e:void 0,L;typeof r=="function"?L=r(N):L=[r,T?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(N):s;return D.createElement(_M,{...d,"aria-current":A,className:L,ref:f,style:I,to:o,viewTransition:a},typeof c=="function"?c(N):c)});M8.displayName="NavLink";var D8=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Jg,action:a,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,...m},y)=>{let b=O8(),v=_8(a,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",M=typeof a=="string"&&wL.test(a),k=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let _=E.nativeEvent.submitter,T=(_==null?void 0:_.getAttribute("formmethod"))||o;b(_||E.currentTarget,{fetcherKey:e,method:T,navigate:t,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p})};return D.createElement("form",{ref:y,method:w,action:v,onSubmit:r?c:k,...m,"data-discover":!M&&n==="render"?"true":void 0})});D8.displayName="Form";function C8(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SL(n){let e=D.useContext(Ld);return Zt(e,C8(n)),e}function k8(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=es(),c=Fo(),d=Op(n,{relative:s});return D.useCallback(f=>{if(r8(f,e)){f.preventDefault();let p=t!==void 0?t:Hh(c)===Hh(d);a(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,d,t,r,e,n,i,s,o])}var E8=0,T8=()=>`__${String(++E8)}__`;function O8(){let{router:n}=SL("useSubmit"),{basename:e}=D.useContext(Hs),t=qV();return D.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:d}=o8(r,e);if(i.navigate===!1){let f=i.fetcherKey||T8();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function _8(n,{relative:e}={}){let{basename:t}=D.useContext(Hs),r=D.useContext(Zi);Zt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Op(n||".",{relative:e})},o=Fo();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(f=>f==="")){a.delete("index"),c.filter(p=>p).forEach(p=>a.append("index",p));let f=a.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Co([t,s.pathname])),Hh(s)}function A8(n,e={}){let t=D.useContext(dL);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SL("useViewTransitionState"),i=Op(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Po(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Po(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ly(i.pathname,o)!=null||Ly(i.pathname,s)!=null}[...p8];var Yl=iL();const ML=kp(Yl);var Id=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kc=typeof window>"u"||"Deno"in globalThis;function Sr(){}function R8(n,e){return typeof n=="function"?n(e):n}function Ow(n){return typeof n=="number"&&n>=0&&n!==1/0}function DL(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ua(n,e){return typeof n=="function"?n(e):n}function $i(n,e){return typeof n=="function"?n(e):n}function WO(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==AM(o,e.options))return!1}else if(!Uh(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function qO(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ec(e.options.mutationKey)!==Ec(s))return!1}else if(!Uh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function AM(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ec)(n)}function Ec(n){return JSON.stringify(n,(e,t)=>_w(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Uh(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Uh(n[t],e[t])):!1}function CL(n,e){if(n===e)return n;const t=KO(n)&&KO(e);if(t||_w(n)&&_w(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},c=new Set(r);let d=0;for(let f=0;f<o;f++){const p=t?f:s[f];(!t&&c.has(p)||t)&&n[p]===void 0&&e[p]===void 0?(a[p]=void 0,d++):(a[p]=CL(n[p],e[p]),a[p]===n[p]&&n[p]!==void 0&&d++)}return i===o&&d===i?n:a}return e}function Iy(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function KO(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function _w(n){if(!QO(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!QO(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function QO(n){return Object.prototype.toString.call(n)==="[object Object]"}function N8(n){return new Promise(e=>{setTimeout(e,n)})}function Aw(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?CL(n,e):e}function P8(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function L8(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var RM=Symbol();function kL(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===RM?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function EL(n,e){return typeof n=="function"?n(...e):!!n}var rc,Ca,Zu,qP,I8=(qP=class extends Id{constructor(){super();Ee(this,rc);Ee(this,Ca);Ee(this,Zu);be(this,Zu,e=>{if(!kc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){z(this,Ca)||this.setEventListener(z(this,Zu))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ca))==null||e.call(this),be(this,Ca,void 0))}setEventListener(e){var t;be(this,Zu,e),(t=z(this,Ca))==null||t.call(this),be(this,Ca,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,rc)!==e&&(be(this,rc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof z(this,rc)=="boolean"?z(this,rc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rc=new WeakMap,Ca=new WeakMap,Zu=new WeakMap,qP),NM=new I8,ed,ka,td,KP,j8=(KP=class extends Id{constructor(){super();Ee(this,ed,!0);Ee(this,ka);Ee(this,td);be(this,td,e=>{if(!kc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,ka)||this.setEventListener(z(this,td))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ka))==null||e.call(this),be(this,ka,void 0))}setEventListener(e){var t;be(this,td,e),(t=z(this,ka))==null||t.call(this),be(this,ka,e(this.setOnline.bind(this)))}setOnline(e){z(this,ed)!==e&&(be(this,ed,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,ed)}},ed=new WeakMap,ka=new WeakMap,td=new WeakMap,KP),jy=new j8;function Rw(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function B8(n){return Math.min(1e3*2**n,3e4)}function TL(n){return(n??"online")==="online"?jy.isOnline():!0}var OL=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function o1(n){return n instanceof OL}function _L(n){let e=!1,t=0,r=!1,i;const s=Rw(),o=v=>{var w;r||(m(new OL(v)),(w=n.abort)==null||w.call(n))},a=()=>{e=!0},c=()=>{e=!1},d=()=>NM.isFocused()&&(n.networkMode==="always"||jy.isOnline())&&n.canRun(),f=()=>TL(n.networkMode)&&n.canRun(),p=v=>{var w;r||(r=!0,(w=n.onSuccess)==null||w.call(n,v),i==null||i(),s.resolve(v))},m=v=>{var w;r||(r=!0,(w=n.onError)==null||w.call(n,v),i==null||i(),s.reject(v))},y=()=>new Promise(v=>{var w;i=M=>{(r||d())&&v(M)},(w=n.onPause)==null||w.call(n)}).then(()=>{var v;i=void 0,r||(v=n.onContinue)==null||v.call(n)}),b=()=>{if(r)return;let v;const w=t===0?n.initialPromise:void 0;try{v=w??n.fn()}catch(M){v=Promise.reject(M)}Promise.resolve(v).then(p).catch(M=>{var P;if(r)return;const k=n.retry??(kc?0:3),E=n.retryDelay??B8,_=typeof E=="function"?E(t,M):E,T=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,M);if(e||!T){m(M);return}t++,(P=n.onFail)==null||P.call(n,t,M),N8(_).then(()=>d()?void 0:y()).then(()=>{e?m(M):b()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():y().then(b),s)}}var F8=n=>setTimeout(n,0);function z8(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=F8;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var kn=z8(),ic,QP,AL=(QP=class{constructor(){Ee(this,ic)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ow(this.gcTime)&&be(this,ic,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(kc?1/0:5*60*1e3))}clearGcTimeout(){z(this,ic)&&(clearTimeout(z(this,ic)),be(this,ic,void 0))}},ic=new WeakMap,QP),nd,sc,Mi,oc,ir,Sp,ac,Hi,ho,GP,V8=(GP=class extends AL{constructor(e){super();Ee(this,Hi);Ee(this,nd);Ee(this,sc);Ee(this,Mi);Ee(this,oc);Ee(this,ir);Ee(this,Sp);Ee(this,ac);be(this,ac,!1),be(this,Sp,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,oc,e.client),be(this,Mi,z(this,oc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,nd,H8(this.options)),this.state=e.state??z(this,nd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,ir))==null?void 0:e.promise}setOptions(e){this.options={...z(this,Sp),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Mi).remove(this)}setData(e,t){const r=Aw(this.state.data,e,this.options);return Ue(this,Hi,ho).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Ue(this,Hi,ho).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=z(this,ir))==null?void 0:r.promise;return(i=z(this,ir))==null||i.cancel(e),t?t.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,nd))}isActive(){return this.observers.some(e=>$i(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ua(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!DL(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=z(this,ir))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=z(this,ir))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Mi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(z(this,ir)&&(z(this,ac)?z(this,ir).cancel({revert:!0}):z(this,ir).cancelRetry()),this.scheduleGc()),z(this,Mi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,Hi,ho).call(this,{type:"invalidate"})}fetch(e,t){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(z(this,ir))return z(this,ir).continueRetry(),z(this,ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(be(this,ac,!0),r.signal)})},s=()=>{const m=kL(this.options,t),b=(()=>{const v={client:z(this,oc),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return be(this,ac,!1),this.options.persister?this.options.persister(m,b,this):m(b)},a=(()=>{const m={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:z(this,oc),state:this.state,fetchFn:s};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(a,this),be(this,sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Ue(this,Hi,ho).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=m=>{var y,b,v,w;o1(m)&&m.silent||Ue(this,Hi,ho).call(this,{type:"error",error:m}),o1(m)||((b=(y=z(this,Mi).config).onError)==null||b.call(y,m,this),(w=(v=z(this,Mi).config).onSettled)==null||w.call(v,this.state.data,m,this)),this.scheduleGc()};return be(this,ir,_L({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,b,v,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(M){c(M);return}(b=(y=z(this,Mi).config).onSuccess)==null||b.call(y,m,this),(w=(v=z(this,Mi).config).onSettled)==null||w.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{Ue(this,Hi,ho).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Ue(this,Hi,ho).call(this,{type:"pause"})},onContinue:()=>{Ue(this,Hi,ho).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,ir).start()}},nd=new WeakMap,sc=new WeakMap,Mi=new WeakMap,oc=new WeakMap,ir=new WeakMap,Sp=new WeakMap,ac=new WeakMap,Hi=new WeakSet,ho=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...RL(r.data,this.options),fetchMeta:e.meta??null};case"success":return be(this,sc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return o1(i)&&i.revert&&z(this,sc)?{...z(this,sc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Mi).notify({query:this,type:"updated",action:e})})},GP);function RL(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TL(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function H8(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var gs,XP,U8=(XP=class extends Id{constructor(e={}){super();Ee(this,gs);this.config=e,be(this,gs,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??AM(i,t);let o=this.get(s);return o||(o=new V8({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,gs).has(e.queryHash)||(z(this,gs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=z(this,gs).get(e.queryHash);t&&(e.destroy(),t===e&&z(this,gs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,gs).get(e)}getAll(){return[...z(this,gs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>WO(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>WO(e,r)):t}notify(e){kn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gs=new WeakMap,XP),ys,xr,lc,bs,ga,JP,$8=(JP=class extends AL{constructor(e){super();Ee(this,bs);Ee(this,ys);Ee(this,xr);Ee(this,lc);this.mutationId=e.mutationId,be(this,xr,e.mutationCache),be(this,ys,[]),this.state=e.state||NL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,ys).includes(e)||(z(this,ys).push(e),this.clearGcTimeout(),z(this,xr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,ys,z(this,ys).filter(t=>t!==e)),this.scheduleGc(),z(this,xr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,ys).length||(this.state.status==="pending"?this.scheduleGc():z(this,xr).remove(this))}continue(){var e;return((e=z(this,lc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,c,d,f,p,m,y,b,v,w,M,k,E,_,T,P,N,A;const t=()=>{Ue(this,bs,ga).call(this,{type:"continue"})};be(this,lc,_L({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,I)=>{Ue(this,bs,ga).call(this,{type:"failed",failureCount:L,error:I})},onPause:()=>{Ue(this,bs,ga).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,xr).canRun(this)}));const r=this.state.status==="pending",i=!z(this,lc).canStart();try{if(r)t();else{Ue(this,bs,ga).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=z(this,xr).config).onMutate)==null?void 0:o.call(s,e,this));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));I!==this.state.context&&Ue(this,bs,ga).call(this,{type:"pending",context:I,variables:e,isPaused:i})}const L=await z(this,lc).start();return await((f=(d=z(this,xr).config).onSuccess)==null?void 0:f.call(d,L,e,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,L,e,this.state.context)),await((b=(y=z(this,xr).config).onSettled)==null?void 0:b.call(y,L,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,L,null,e,this.state.context)),Ue(this,bs,ga).call(this,{type:"success",data:L}),L}catch(L){try{throw await((k=(M=z(this,xr).config).onError)==null?void 0:k.call(M,L,e,this.state.context,this)),await((_=(E=this.options).onError)==null?void 0:_.call(E,L,e,this.state.context)),await((P=(T=z(this,xr).config).onSettled)==null?void 0:P.call(T,void 0,L,this.state.variables,this.state.context,this)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,void 0,L,e,this.state.context)),L}finally{Ue(this,bs,ga).call(this,{type:"error",error:L})}}finally{z(this,xr).runNext(this)}}},ys=new WeakMap,xr=new WeakMap,lc=new WeakMap,bs=new WeakSet,ga=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),kn.batch(()=>{z(this,ys).forEach(r=>{r.onMutationUpdate(e)}),z(this,xr).notify({mutation:this,type:"updated",action:e})})},JP);function NL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vo,Ui,Mp,ZP,Y8=(ZP=class extends Id{constructor(e={}){super();Ee(this,vo);Ee(this,Ui);Ee(this,Mp);this.config=e,be(this,vo,new Set),be(this,Ui,new Map),be(this,Mp,0)}build(e,t,r){const i=new $8({mutationCache:this,mutationId:++cg(this,Mp)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){z(this,vo).add(e);const t=dg(e);if(typeof t=="string"){const r=z(this,Ui).get(t);r?r.push(e):z(this,Ui).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,vo).delete(e)){const t=dg(e);if(typeof t=="string"){const r=z(this,Ui).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&z(this,Ui).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=dg(e);if(typeof t=="string"){const r=z(this,Ui).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=dg(e);if(typeof t=="string"){const i=(r=z(this,Ui).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kn.batch(()=>{z(this,vo).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,vo).clear(),z(this,Ui).clear()})}getAll(){return Array.from(z(this,vo))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>qO(t,r))}findAll(e={}){return this.getAll().filter(t=>qO(e,t))}notify(e){kn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return kn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Sr))))}},vo=new WeakMap,Ui=new WeakMap,Mp=new WeakMap,ZP);function dg(n){var e;return(e=n.options.scope)==null?void 0:e.id}function GO(n){return{onFetch:(e,t)=>{var f,p,m,y,b;const r=e.options,i=(m=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},M=kL(e.options,e.fetchOptions),k=async(E,_,T)=>{if(v)return Promise.reject();if(_==null&&E.pages.length)return Promise.resolve(E);const N=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:_,direction:T?"backward":"forward",meta:e.options.meta};return w(V),V})(),A=await M(N),{maxPages:L}=e.options,I=T?L8:P8;return{pages:I(E.pages,A,L),pageParams:I(E.pageParams,_,L)}};if(i&&s.length){const E=i==="backward",_=E?W8:XO,T={pages:s,pageParams:o},P=_(r,T);a=await k(T,P,E)}else{const E=n??s.length;do{const _=c===0?o[0]??r.initialPageParam:XO(r,a);if(c>0&&_==null)break;a=await k(a,_),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function XO(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function W8(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var sn,Ea,Ta,rd,id,Oa,sd,od,eL,q8=(eL=class{constructor(n={}){Ee(this,sn);Ee(this,Ea);Ee(this,Ta);Ee(this,rd);Ee(this,id);Ee(this,Oa);Ee(this,sd);Ee(this,od);be(this,sn,n.queryCache||new U8),be(this,Ea,n.mutationCache||new Y8),be(this,Ta,n.defaultOptions||{}),be(this,rd,new Map),be(this,id,new Map),be(this,Oa,0)}mount(){cg(this,Oa)._++,z(this,Oa)===1&&(be(this,sd,NM.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,sn).onFocus())})),be(this,od,jy.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,sn).onOnline())})))}unmount(){var n,e;cg(this,Oa)._--,z(this,Oa)===0&&((n=z(this,sd))==null||n.call(this),be(this,sd,void 0),(e=z(this,od))==null||e.call(this),be(this,od,void 0))}isFetching(n){return z(this,sn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return z(this,Ea).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,sn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=z(this,sn).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ua(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return z(this,sn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=z(this,sn).get(r.queryHash),s=i==null?void 0:i.state.data,o=R8(e,s);if(o!==void 0)return z(this,sn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return kn.batch(()=>z(this,sn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,sn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=z(this,sn);kn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=z(this,sn);return kn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=kn.batch(()=>z(this,sn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Sr).catch(Sr)}invalidateQueries(n,e={}){return kn.batch(()=>(z(this,sn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=kn.batch(()=>z(this,sn).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Sr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Sr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=z(this,sn).build(this,e);return t.isStaleByTime(Ua(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Sr).catch(Sr)}fetchInfiniteQuery(n){return n.behavior=GO(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Sr).catch(Sr)}ensureInfiniteQueryData(n){return n.behavior=GO(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return jy.isOnline()?z(this,Ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,sn)}getMutationCache(){return z(this,Ea)}getDefaultOptions(){return z(this,Ta)}setDefaultOptions(n){be(this,Ta,n)}setQueryDefaults(n,e){z(this,rd).set(Ec(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...z(this,rd).values()],t={};return e.forEach(r=>{Uh(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){z(this,id).set(Ec(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...z(this,id).values()],t={};return e.forEach(r=>{Uh(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...z(this,Ta).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=AM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===RM&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...z(this,Ta).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){z(this,sn).clear(),z(this,Ea).clear()}},sn=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,rd=new WeakMap,id=new WeakMap,Oa=new WeakMap,sd=new WeakMap,od=new WeakMap,eL),Br,ot,Dp,wr,cc,ad,_a,Aa,Cp,ld,cd,uc,dc,Ra,ud,xt,oh,Nw,Pw,Lw,Iw,jw,Bw,Fw,PL,tL,K8=(tL=class extends Id{constructor(e,t){super();Ee(this,xt);Ee(this,Br);Ee(this,ot);Ee(this,Dp);Ee(this,wr);Ee(this,cc);Ee(this,ad);Ee(this,_a);Ee(this,Aa);Ee(this,Cp);Ee(this,ld);Ee(this,cd);Ee(this,uc);Ee(this,dc);Ee(this,Ra);Ee(this,ud,new Set);this.options=t,be(this,Br,e),be(this,Aa,null),be(this,_a,Rw()),this.options.experimental_prefetchInRender||z(this,_a).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,ot).addObserver(this),JO(z(this,ot),this.options)?Ue(this,xt,oh).call(this):this.updateResult(),Ue(this,xt,Iw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zw(z(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zw(z(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,xt,jw).call(this),Ue(this,xt,Bw).call(this),z(this,ot).removeObserver(this)}setOptions(e){const t=this.options,r=z(this,ot);if(this.options=z(this,Br).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $i(this.options.enabled,z(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,xt,Fw).call(this),z(this,ot).setOptions(this.options),t._defaulted&&!Iy(this.options,t)&&z(this,Br).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,ot),observer:this});const i=this.hasListeners();i&&ZO(z(this,ot),r,this.options,t)&&Ue(this,xt,oh).call(this),this.updateResult(),i&&(z(this,ot)!==r||$i(this.options.enabled,z(this,ot))!==$i(t.enabled,z(this,ot))||Ua(this.options.staleTime,z(this,ot))!==Ua(t.staleTime,z(this,ot)))&&Ue(this,xt,Nw).call(this);const s=Ue(this,xt,Pw).call(this);i&&(z(this,ot)!==r||$i(this.options.enabled,z(this,ot))!==$i(t.enabled,z(this,ot))||s!==z(this,Ra))&&Ue(this,xt,Lw).call(this,s)}getOptimisticResult(e){const t=z(this,Br).getQueryCache().build(z(this,Br),e),r=this.createResult(t,e);return G8(this,r)&&(be(this,wr,r),be(this,ad,this.options),be(this,cc,z(this,ot).state)),r}getCurrentResult(){return z(this,wr)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(r,i))})}trackProp(e){z(this,ud).add(e)}getCurrentQuery(){return z(this,ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=z(this,Br).defaultQueryOptions(e),r=z(this,Br).getQueryCache().build(z(this,Br),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Ue(this,xt,oh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,wr)))}createResult(e,t){var L;const r=z(this,ot),i=this.options,s=z(this,wr),o=z(this,cc),a=z(this,ad),d=e!==r?e.state:z(this,Dp),{state:f}=e;let p={...f},m=!1,y;if(t._optimisticResults){const I=this.hasListeners(),V=!I&&JO(e,t),q=I&&ZO(e,r,t,i);(V||q)&&(p={...p,...RL(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:v,status:w}=p;y=p.data;let M=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let I;s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(I=s.data,M=!0):I=typeof t.placeholderData=="function"?t.placeholderData((L=z(this,cd))==null?void 0:L.state.data,z(this,cd)):t.placeholderData,I!==void 0&&(w="success",y=Aw(s==null?void 0:s.data,I,t),m=!0)}if(t.select&&y!==void 0&&!M)if(s&&y===(o==null?void 0:o.data)&&t.select===z(this,Cp))y=z(this,ld);else try{be(this,Cp,t.select),y=t.select(y),y=Aw(s==null?void 0:s.data,y,t),be(this,ld,y),be(this,Aa,null)}catch(I){be(this,Aa,I)}z(this,Aa)&&(b=z(this,Aa),y=z(this,ld),v=Date.now(),w="error");const k=p.fetchStatus==="fetching",E=w==="pending",_=w==="error",T=E&&k,P=y!==void 0,A={status:w,fetchStatus:p.fetchStatus,isPending:E,isSuccess:w==="success",isError:_,isInitialLoading:T,isLoading:T,data:y,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!E,isLoadingError:_&&!P,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:_&&P,isStale:PM(e,t),refetch:this.refetch,promise:z(this,_a)};if(this.options.experimental_prefetchInRender){const I=ae=>{A.status==="error"?ae.reject(A.error):A.data!==void 0&&ae.resolve(A.data)},V=()=>{const ae=be(this,_a,A.promise=Rw());I(ae)},q=z(this,_a);switch(q.status){case"pending":e.queryHash===r.queryHash&&I(q);break;case"fulfilled":(A.status==="error"||A.data!==q.value)&&V();break;case"rejected":(A.status!=="error"||A.error!==q.reason)&&V();break}}return A}updateResult(){const e=z(this,wr),t=this.createResult(z(this,ot),this.options);if(be(this,cc,z(this,ot).state),be(this,ad,this.options),z(this,cc).data!==void 0&&be(this,cd,z(this,ot)),Iy(t,e))return;be(this,wr,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!z(this,ud).size)return!0;const o=new Set(s??z(this,ud));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,wr)).some(a=>{const c=a;return z(this,wr)[c]!==e[c]&&o.has(c)})};Ue(this,xt,PL).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,xt,Iw).call(this)}},Br=new WeakMap,ot=new WeakMap,Dp=new WeakMap,wr=new WeakMap,cc=new WeakMap,ad=new WeakMap,_a=new WeakMap,Aa=new WeakMap,Cp=new WeakMap,ld=new WeakMap,cd=new WeakMap,uc=new WeakMap,dc=new WeakMap,Ra=new WeakMap,ud=new WeakMap,xt=new WeakSet,oh=function(e){Ue(this,xt,Fw).call(this);let t=z(this,ot).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Sr)),t},Nw=function(){Ue(this,xt,jw).call(this);const e=Ua(this.options.staleTime,z(this,ot));if(kc||z(this,wr).isStale||!Ow(e))return;const r=DL(z(this,wr).dataUpdatedAt,e)+1;be(this,uc,setTimeout(()=>{z(this,wr).isStale||this.updateResult()},r))},Pw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,ot)):this.options.refetchInterval)??!1},Lw=function(e){Ue(this,xt,Bw).call(this),be(this,Ra,e),!(kc||$i(this.options.enabled,z(this,ot))===!1||!Ow(z(this,Ra))||z(this,Ra)===0)&&be(this,dc,setInterval(()=>{(this.options.refetchIntervalInBackground||NM.isFocused())&&Ue(this,xt,oh).call(this)},z(this,Ra)))},Iw=function(){Ue(this,xt,Nw).call(this),Ue(this,xt,Lw).call(this,Ue(this,xt,Pw).call(this))},jw=function(){z(this,uc)&&(clearTimeout(z(this,uc)),be(this,uc,void 0))},Bw=function(){z(this,dc)&&(clearInterval(z(this,dc)),be(this,dc,void 0))},Fw=function(){const e=z(this,Br).getQueryCache().build(z(this,Br),this.options);if(e===z(this,ot))return;const t=z(this,ot);be(this,ot,e),be(this,Dp,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},PL=function(e){kn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(z(this,wr))}),z(this,Br).getQueryCache().notify({query:z(this,ot),type:"observerResultsUpdated"})})},tL);function Q8(n,e){return $i(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function JO(n,e){return Q8(n,e)||n.state.data!==void 0&&zw(n,e,e.refetchOnMount)}function zw(n,e,t){if($i(e.enabled,n)!==!1&&Ua(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&PM(n,e)}return!1}function ZO(n,e,t,r){return(n!==e||$i(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&PM(n,t)}function PM(n,e){return $i(e.enabled,n)!==!1&&n.isStaleByTime(Ua(e.staleTime,n))}function G8(n,e){return!Iy(n.getCurrentResult(),e)}var Na,Pa,Fr,xo,No,ey,Vw,nL,X8=(nL=class extends Id{constructor(t,r){super();Ee(this,No);Ee(this,Na);Ee(this,Pa);Ee(this,Fr);Ee(this,xo);be(this,Na,t),this.setOptions(r),this.bindMethods(),Ue(this,No,ey).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=z(this,Na).defaultMutationOptions(t),Iy(this.options,r)||z(this,Na).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ec(r.mutationKey)!==Ec(this.options.mutationKey)?this.reset():((i=z(this,Fr))==null?void 0:i.state.status)==="pending"&&z(this,Fr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=z(this,Fr))==null||t.removeObserver(this)}onMutationUpdate(t){Ue(this,No,ey).call(this),Ue(this,No,Vw).call(this,t)}getCurrentResult(){return z(this,Pa)}reset(){var t;(t=z(this,Fr))==null||t.removeObserver(this),be(this,Fr,void 0),Ue(this,No,ey).call(this),Ue(this,No,Vw).call(this)}mutate(t,r){var i;return be(this,xo,r),(i=z(this,Fr))==null||i.removeObserver(this),be(this,Fr,z(this,Na).getMutationCache().build(z(this,Na),this.options)),z(this,Fr).addObserver(this),z(this,Fr).execute(t)}},Na=new WeakMap,Pa=new WeakMap,Fr=new WeakMap,xo=new WeakMap,No=new WeakSet,ey=function(){var r;const t=((r=z(this,Fr))==null?void 0:r.state)??NL();be(this,Pa,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Vw=function(t){kn.batch(()=>{var r,i,s,o,a,c,d,f;if(z(this,xo)&&this.hasListeners()){const p=z(this,Pa).variables,m=z(this,Pa).context;(t==null?void 0:t.type)==="success"?((i=(r=z(this,xo)).onSuccess)==null||i.call(r,t.data,p,m),(o=(s=z(this,xo)).onSettled)==null||o.call(s,t.data,null,p,m)):(t==null?void 0:t.type)==="error"&&((c=(a=z(this,xo)).onError)==null||c.call(a,t.error,p,m),(f=(d=z(this,xo)).onSettled)==null||f.call(d,void 0,t.error,p,m))}this.listeners.forEach(p=>{p(z(this,Pa))})})},nL),LL=D.createContext(void 0),LM=n=>{const e=D.useContext(LL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},J8=({client:n,children:e})=>(D.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),C.jsx(LL.Provider,{value:n,children:e})),IL=D.createContext(!1),Z8=()=>D.useContext(IL);IL.Provider;function eH(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var tH=D.createContext(eH()),nH=()=>D.useContext(tH),rH=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},iH=n=>{D.useEffect(()=>{n.clearReset()},[n])},sH=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||EL(t,[n.error,r])),oH=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},aH=(n,e)=>n.isLoading&&n.isFetching&&!e,lH=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,e_=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function cH(n,e,t){var p,m,y,b,v;const r=Z8(),i=nH(),s=LM(),o=s.defaultQueryOptions(n);(m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,o),o._optimisticResults=r?"isRestoring":"optimistic",oH(o),rH(o,i),iH(i);const a=!s.getQueryCache().get(o.queryHash),[c]=D.useState(()=>new e(s,o)),d=c.getOptimisticResult(o),f=!r&&n.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(w=>{const M=f?c.subscribe(kn.batchCalls(w)):Sr;return c.updateResult(),M},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),D.useEffect(()=>{c.setOptions(o)},[o,c]),lH(o,d))throw e_(o,c,i);if(sH({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((b=(y=s.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,o,d),o.experimental_prefetchInRender&&!kc&&aH(d,r)){const w=a?e_(o,c,i):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;w==null||w.catch(Sr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function V0(n,e){return cH(n,K8)}function uH(n,e){const t=LM(),[r]=D.useState(()=>new X8(t,n));D.useEffect(()=>{r.setOptions(n)},[r,n]);const i=D.useSyncExternalStore(D.useCallback(o=>r.subscribe(kn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=D.useCallback((o,a)=>{r.mutate(o,a).catch(Sr)},[r]);if(i.error&&EL(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const jL=D.createContext(),IM=()=>{const n=D.useContext(jL);if(!n)throw new Error("useGallery는 GalleryProvider 내부에서 사용해야 합니다.");return n},dH=({children:n})=>{const[e,t]=D.useState(!1),s={isGalleryOpen:e,openGallery:()=>t(!0),closeGallery:()=>t(!1)};return C.jsx(jL.Provider,{value:s,children:n})};let fH={data:""},hH=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||fH,pH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mH=/\/\*[^]*?\*\/|  +/g,t_=/\n+/g,Ma=(n,e)=>{let t="",r="",i="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":r+=s[1]=="f"?Ma(o,s):s+"{"+Ma(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ma(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ma.p?Ma.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+r},lo={},BL=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+BL(n[t]);return e}return n},gH=(n,e,t,r,i)=>{let s=BL(n),o=lo[s]||(lo[s]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(s));if(!lo[o]){let c=s!==n?n:(d=>{let f,p,m=[{}];for(;f=pH.exec(d.replace(mH,""));)f[4]?m.shift():f[3]?(p=f[3].replace(t_," ").trim(),m.unshift(m[0][p]=m[0][p]||{})):m[0][f[1]]=f[2].replace(t_," ").trim();return m[0]})(n);lo[o]=Ma(i?{["@keyframes "+o]:c}:c,t?"":"."+o)}let a=t&&lo.g?lo.g:null;return t&&(lo.g=lo[o]),((c,d,f,p)=>{p?d.data=d.data.replace(p,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(lo[o],e,r,a),o},yH=(n,e,t)=>n.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(t),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":Ma(a,""):a===!1?"":a}return r+i+(o??"")},"");function H0(n){let e=this||{},t=n.call?n(e.p):n;return gH(t.unshift?t.raw?yH(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,hH(e.target),e.g,e.o,e.k)}let FL,Hw,Uw;H0.bind({g:1});let Lo=H0.bind({k:1});function bH(n,e,t,r){Ma.p=e,FL=n,Hw=t,Uw=r}function ll(n,e){let t=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),c=a.className||i.className;t.p=Object.assign({theme:Hw&&Hw()},a),t.o=/ *go\d+/.test(c),a.className=H0.apply(t,r)+(c?" "+c:"");let d=n;return n[0]&&(d=a.as||n,delete a.as),Uw&&d[0]&&Uw(a),FL(d,a)}return i}}var vH=n=>typeof n=="function",By=(n,e)=>vH(n)?n(e):n,xH=(()=>{let n=0;return()=>(++n).toString()})(),zL=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),wH=20,VL=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,wH)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return VL(n,{type:n.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},ty=[],Wl={toasts:[],pausedAt:void 0},jc=n=>{Wl=VL(Wl,n),ty.forEach(e=>{e(Wl)})},SH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},MH=(n={})=>{let[e,t]=D.useState(Wl),r=D.useRef(Wl);D.useEffect(()=>(r.current!==Wl&&t(Wl),ty.push(t),()=>{let s=ty.indexOf(t);s>-1&&ty.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,c;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((a=n[s.type])==null?void 0:a.duration)||(n==null?void 0:n.duration)||SH[s.type],style:{...n.style,...(c=n[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},DH=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||xH()}),Ap=n=>(e,t)=>{let r=DH(e,n,t);return jc({type:2,toast:r}),r.id},Dr=(n,e)=>Ap("blank")(n,e);Dr.error=Ap("error");Dr.success=Ap("success");Dr.loading=Ap("loading");Dr.custom=Ap("custom");Dr.dismiss=n=>{jc({type:3,toastId:n})};Dr.remove=n=>jc({type:4,toastId:n});Dr.promise=(n,e,t)=>{let r=Dr.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?By(e.success,i):void 0;return s?Dr.success(s,{id:r,...t,...t==null?void 0:t.success}):Dr.dismiss(r),i}).catch(i=>{let s=e.error?By(e.error,i):void 0;s?Dr.error(s,{id:r,...t,...t==null?void 0:t.error}):Dr.dismiss(r)}),n};var CH=(n,e)=>{jc({type:1,toast:{id:n,height:e}})},kH=()=>{jc({type:5,time:Date.now()})},vh=new Map,EH=1e3,TH=(n,e=EH)=>{if(vh.has(n))return;let t=setTimeout(()=>{vh.delete(n),jc({type:4,toastId:n})},e);vh.set(n,t)},OH=n=>{let{toasts:e,pausedAt:t}=MH(n);D.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let c=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(c<0){a.visible&&Dr.dismiss(a.id);return}return setTimeout(()=>Dr.dismiss(a.id),c)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let r=D.useCallback(()=>{t&&jc({type:6,time:Date.now()})},[t]),i=D.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:c=8,defaultPosition:d}=o||{},f=e.filter(y=>(y.position||d)===(s.position||d)&&y.height),p=f.findIndex(y=>y.id===s.id),m=f.filter((y,b)=>b<p&&y.visible).length;return f.filter(y=>y.visible).slice(...a?[m+1]:[0,m]).reduce((y,b)=>y+(b.height||0)+c,0)},[e]);return D.useEffect(()=>{e.forEach(s=>{if(s.dismissed)TH(s.id,s.removeDelay);else{let o=vh.get(s.id);o&&(clearTimeout(o),vh.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:CH,startPause:kH,endPause:r,calculateOffset:i}}},_H=Lo`
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,AH=Lo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RH=Lo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NH=ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_H} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${AH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PH=Lo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LH=ll("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${PH} 1s linear infinite;
`,IH=Lo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jH=Lo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,BH=ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FH=ll("div")`
  position: absolute;
`,zH=ll("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VH=Lo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HH=ll("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,UH=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?D.createElement(HH,null,e):e:t==="blank"?null:D.createElement(zH,null,D.createElement(LH,{...r}),t!=="loading"&&D.createElement(FH,null,t==="error"?D.createElement(NH,{...r}):D.createElement(BH,{...r})))},$H=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YH=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,WH="0%{opacity:0;} 100%{opacity:1;}",qH="0%{opacity:1;} 100%{opacity:0;}",KH=ll("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,QH=ll("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,GH=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=zL()?[WH,qH]:[$H(t),YH(t)];return{animation:e?`${Lo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XH=D.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?GH(n.position||e||"top-center",n.visible):{opacity:0},s=D.createElement(UH,{toast:n}),o=D.createElement(QH,{...n.ariaProps},By(n.message,n));return D.createElement(KH,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:o}):D.createElement(D.Fragment,null,s,o))});bH(D.createElement);var JH=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=D.useCallback(o=>{if(o){let a=()=>{let c=o.getBoundingClientRect().height;r(n,c)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return D.createElement("div",{ref:s,className:e,style:t},i)},ZH=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zL()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},e9=H0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
`,hg=16,GH=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:c}=DH(t);return D.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hg,left:hg,right:hg,bottom:hg,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(d=>{let f=d.position||e,p=c.calculateOffset(d,{reverseOrder:n,gutter:r,defaultPosition:e}),m=KH(f,p);return D.createElement(qH,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?QH:"",style:m},d.type==="custom"?By(d.message,d):i?i(d):D.createElement(WH,{toast:d,position:f}))}))},pg=kr;const XH=()=>C.jsx(GH,{position:"top-center",reverseOrder:!1}),Je={success:(n,e)=>pg.success(n,e),error:(n,e)=>pg.error(n,e),loading:(n,e)=>pg.loading(n,e),promise:(n,{loading:e,success:t,error:r},i)=>pg.promise(n,{loading:e,success:t,error:r},i)},JH=()=>C.jsxs("div",{className:"main-layout-container",children:["  ",C.jsx(XH,{}),C.jsx("header",{className:"app-header",children:C.jsx("h1",{children:C.jsx(OM,{to:"/",children:"해일(Haeil) :: 해석하는 감정 일기"})})}),C.jsx("main",{className:"main-content-area",children:C.jsx(Ap,{})})]});function zL(n,e){return function(){return n.apply(e,arguments)}}const{toString:ZH}=Object.prototype,{getPrototypeOf:IM}=Object,{iterator:U0,toStringTag:VL}=Symbol,$0=(n=>e=>{const t=ZH.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ns=n=>(n=n.toLowerCase(),e=>$0(e)===n),Y0=n=>e=>typeof e===n,{isArray:Bd}=Array,Yh=Y0("undefined");function eU(n){return n!==null&&!Yh(n)&&n.constructor!==null&&!Yh(n.constructor)&&Yr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const HL=ns("ArrayBuffer");function tU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&HL(n.buffer),e}const nU=Y0("string"),Yr=Y0("function"),UL=Y0("number"),W0=n=>n!==null&&typeof n=="object",rU=n=>n===!0||n===!1,ny=n=>{if($0(n)!=="object")return!1;const e=IM(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VL in n)&&!(U0 in n)},iU=ns("Date"),sU=ns("File"),oU=ns("Blob"),aU=ns("FileList"),lU=n=>W0(n)&&Yr(n.pipe),cU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Yr(n.append)&&((e=$0(n))==="formdata"||e==="object"&&Yr(n.toString)&&n.toString()==="[object FormData]"))},uU=ns("URLSearchParams"),[dU,fU,hU,pU]=["ReadableStream","Request","Response","Headers"].map(ns),mU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Np(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Bd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function $L(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ql=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YL=n=>!Yh(n)&&n!==ql;function $w(){const{caseless:n}=YL(this)&&this||{},e={},t=(r,i)=>{const s=n&&$L(e,i)||i;ny(e[s])&&ny(r)?e[s]=$w(e[s],r):ny(r)?e[s]=$w({},r):Bd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Np(arguments[r],t);return e}const gU=(n,e,t,{allOwnKeys:r}={})=>(Np(e,(i,s)=>{t&&Yr(i)?n[s]=zL(i,t):n[s]=i},{allOwnKeys:r}),n),yU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),bU=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},vU=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&IM(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},xU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},wU=n=>{if(!n)return null;if(Bd(n))return n;let e=n.length;if(!UL(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},SU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&IM(Uint8Array)),MU=(n,e)=>{const r=(n&&n[U0]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},DU=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},CU=ns("HTMLFormElement"),kU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),t_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),EU=ns("RegExp"),WL=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Np(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},TU=n=>{WL(n,(e,t)=>{if(Yr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Yr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},OU=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Bd(n)?r(n):r(String(n).split(e)),t},_U=()=>{},AU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function RU(n){return!!(n&&Yr(n.append)&&n[VL]==="FormData"&&n[U0])}const NU=n=>{const e=new Array(10),t=(r,i)=>{if(W0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Bd(r)?[]:{};return Np(r,(o,a)=>{const c=t(o,i+1);!Yh(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},PU=ns("AsyncFunction"),LU=n=>n&&(W0(n)||Yr(n))&&Yr(n.then)&&Yr(n.catch),qL=((n,e)=>n?setImmediate:e?((t,r)=>(ql.addEventListener("message",({source:i,data:s})=>{i===ql&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ql.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Yr(ql.postMessage)),IU=typeof queueMicrotask<"u"?queueMicrotask.bind(ql):typeof process<"u"&&process.nextTick||qL,jU=n=>n!=null&&Yr(n[U0]),ee={isArray:Bd,isArrayBuffer:HL,isBuffer:eU,isFormData:cU,isArrayBufferView:tU,isString:nU,isNumber:UL,isBoolean:rU,isObject:W0,isPlainObject:ny,isReadableStream:dU,isRequest:fU,isResponse:hU,isHeaders:pU,isUndefined:Yh,isDate:iU,isFile:sU,isBlob:oU,isRegExp:EU,isFunction:Yr,isStream:lU,isURLSearchParams:uU,isTypedArray:SU,isFileList:aU,forEach:Np,merge:$w,extend:gU,trim:mU,stripBOM:yU,inherits:bU,toFlatObject:vU,kindOf:$0,kindOfTest:ns,endsWith:xU,toArray:wU,forEachEntry:MU,matchAll:DU,isHTMLForm:CU,hasOwnProperty:t_,hasOwnProp:t_,reduceDescriptors:WL,freezeMethods:TU,toObjectSet:OU,toCamelCase:kU,noop:_U,toFiniteNumber:AU,findKey:$L,global:ql,isContextDefined:YL,isSpecCompliantForm:RU,toJSONObject:NU,isAsyncFn:PU,isThenable:LU,setImmediate:qL,asap:IU,isIterable:jU};function ze(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const KL=ze.prototype,QL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{QL[n]={value:n}});Object.defineProperties(ze,QL);Object.defineProperty(KL,"isAxiosError",{value:!0});ze.from=(n,e,t,r,i,s)=>{const o=Object.create(KL);return ee.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ze.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const BU=null;function Yw(n){return ee.isPlainObject(n)||ee.isArray(n)}function GL(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function n_(n,e,t){return n?n.concat(e).map(function(i,s){return i=GL(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function FU(n){return ee.isArray(n)&&!n.some(Yw)}const zU=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function q0(n,e,t){if(!ee.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!ee.isUndefined(w[v])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(ee.isDate(b))return b.toISOString();if(ee.isBoolean(b))return b.toString();if(!c&&ee.isBlob(b))throw new ze("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(b)||ee.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,v,w){let M=b;if(b&&!w&&typeof b=="object"){if(ee.endsWith(v,"{}"))v=r?v:v.slice(0,-2),b=JSON.stringify(b);else if(ee.isArray(b)&&FU(b)||(ee.isFileList(b)||ee.endsWith(v,"[]"))&&(M=ee.toArray(b)))return v=GL(v),M.forEach(function(E,A){!(ee.isUndefined(E)||E===null)&&e.append(o===!0?n_([v],A,s):o===null?v:v+"[]",d(E))}),!1}return Yw(b)?!0:(e.append(n_(w,v,s),d(b)),!1)}const p=[],m=Object.assign(zU,{defaultVisitor:f,convertValue:d,isVisitable:Yw});function y(b,v){if(!ee.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(b),ee.forEach(b,function(M,k){(!(ee.isUndefined(M)||M===null)&&i.call(e,M,ee.isString(k)?k.trim():k,v,m))===!0&&y(M,v?v.concat(k):[k])}),p.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return y(n),e}function r_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jM(n,e){this._pairs=[],n&&q0(n,this,e)}const XL=jM.prototype;XL.append=function(e,t){this._pairs.push([e,t])};XL.toString=function(e){const t=e?function(r){return e.call(this,r,r_)}:r_;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function VU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JL(n,e,t){if(!e)return n;const r=t&&t.encode||VU;ee.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=ee.isURLSearchParams(e)?e.toString():new jM(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class i_{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HU=typeof URLSearchParams<"u"?URLSearchParams:jM,UU=typeof FormData<"u"?FormData:null,$U=typeof Blob<"u"?Blob:null,YU={isBrowser:!0,classes:{URLSearchParams:HU,FormData:UU,Blob:$U},protocols:["http","https","file","blob","url","data"]},BM=typeof window<"u"&&typeof document<"u",Ww=typeof navigator=="object"&&navigator||void 0,WU=BM&&(!Ww||["ReactNative","NativeScript","NS"].indexOf(Ww.product)<0),qU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",KU=BM&&window.location.href||"http://localhost",QU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:BM,hasStandardBrowserEnv:WU,hasStandardBrowserWebWorkerEnv:qU,navigator:Ww,origin:KU},Symbol.toStringTag,{value:"Module"})),dr={...QU,...YU};function GU(n,e){return q0(n,new dr.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return dr.isNode&&ee.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function XU(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JU(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function eI(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=JU(i[o])),!a)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const t={};return ee.forEachEntry(n,(r,i)=>{e(XU(r),i,t,0)}),t}return null}function ZU(n,e,t){if(ee.isString(n))try{return(e||JSON.parse)(n),ee.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Pp={transitional:ZL,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(eI(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return GU(e,this.formSerializer).toString();if((a=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return q0(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),ZU(e)):e}],transformResponse:[function(e){const t=this.transitional||Pp.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ze.from(a,ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{Pp.headers[n]={}});const e9=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),t9=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&e9[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},s_=Symbol("internals");function qf(n){return n&&String(n).trim().toLowerCase()}function ry(n){return n===!1||n==null?n:ee.isArray(n)?n.map(ry):String(n)}function n9(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const r9=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function a1(n,e,t,r,i){if(ee.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function i9(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function s9(n,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Wr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,c,d){const f=qf(c);if(!f)throw new Error("header name must be a non-empty string");const p=ee.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=ry(a))}const o=(a,c)=>ee.forEach(a,(d,f)=>s(d,f,c));if(ee.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ee.isString(e)&&(e=e.trim())&&!r9(e))o(t9(e),t);else if(ee.isObject(e)&&ee.isIterable(e)){let a={},c,d;for(const f of e){if(!ee.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[d=f[0]]=(c=a[d])?ee.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=qf(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return n9(i);if(ee.isFunction(t))return t.call(this,i,r);if(ee.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qf(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||a1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=qf(o),o){const a=ee.findKey(r,o);a&&(!t||a1(r,r[a],a,t))&&(delete r[a],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||a1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){t[o]=ry(i),delete t[s];return}const a=e?i9(s):String(s).trim();a!==s&&delete t[s],t[a]=ry(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ee.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[s_]=this[s_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=qf(o);r[a]||(s9(i,o),r[a]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}};Wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Wr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ee.freezeMethods(Wr);function l1(n,e){const t=this||Pp,r=e||t,i=Wr.from(r.headers);let s=r.data;return ee.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function tI(n){return!!(n&&n.__CANCEL__)}function Fd(n,e,t){ze.call(this,n??"canceled",ze.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(Fd,ze,{__CANCEL__:!0});function nI(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ze("Request failed with status code "+t.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function o9(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function a9(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),t[i]=c,r[i]=d;let p=s,m=0;for(;p!==i;)m+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),d-o<e)return;const y=f&&d-f;return y?Math.round(m*1e3/y):void 0}}function l9(n,e){let t=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-t;p>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Fy=(n,e,t=3)=>{let r=0;const i=a9(50,250);return l9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&f?(a-o)/d:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(p)},t)},o_=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},a_=n=>(...e)=>ee.asap(()=>n(...e)),c9=dr.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,dr.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,u9=dr.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];ee.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ee.isString(r)&&o.push("path="+r),ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function d9(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function f9(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function rI(n,e,t){let r=!d9(e);return n&&(r||t==!1)?f9(n,e):e}const l_=n=>n instanceof Wr?{...n}:n;function Tc(n,e){e=e||{};const t={};function r(d,f,p,m){return ee.isPlainObject(d)&&ee.isPlainObject(f)?ee.merge.call({caseless:m},d,f):ee.isPlainObject(f)?ee.merge({},f):ee.isArray(f)?f.slice():f}function i(d,f,p,m){if(ee.isUndefined(f)){if(!ee.isUndefined(d))return r(void 0,d,p,m)}else return r(d,f,p,m)}function s(d,f){if(!ee.isUndefined(f))return r(void 0,f)}function o(d,f){if(ee.isUndefined(f)){if(!ee.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function a(d,f,p){if(p in e)return r(d,f);if(p in n)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,f,p)=>i(l_(d),l_(f),p,!0)};return ee.forEach(Object.keys(Object.assign({},n,e)),function(f){const p=c[f]||i,m=p(n[f],e[f],f);ee.isUndefined(m)&&p!==a||(t[f]=m)}),t}const iI=n=>{const e=Tc({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Wr.from(o),e.url=JL(rI(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(ee.isFormData(t)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(dr.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&c9(e.url))){const d=i&&s&&u9.read(s);d&&o.set(i,d)}return e},h9=typeof XMLHttpRequest<"u",p9=h9&&function(n){return new Promise(function(t,r){const i=iI(n);let s=i.data;const o=Wr.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:d}=i,f,p,m,y,b;function v(){y&&y(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function M(){if(!w)return;const E=Wr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:n,request:w};nI(function(N){t(N),v()},function(N){r(N),v()},T),w=null}"onloadend"in w?w.onloadend=M:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(M)},w.onabort=function(){w&&(r(new ze("Request aborted",ze.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new ze("Network Error",ze.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||ZL;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new ze(A,T.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,n,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&ee.forEach(o.toJSON(),function(A,T){w.setRequestHeader(T,A)}),ee.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),d&&([m,b]=Fy(d,!0),w.addEventListener("progress",m)),c&&w.upload&&([p,y]=Fy(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=E=>{w&&(r(!E||E.type?new Fd(null,n,w):E),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const k=o9(i.url);if(k&&dr.protocols.indexOf(k)===-1){r(new ze("Unsupported protocol "+k+":",ze.ERR_BAD_REQUEST,n));return}w.send(s||null)})},m9=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,a();const f=d instanceof Error?d:this.reason;r.abort(f instanceof ze?f:new Fd(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>ee.asap(a),c}},g9=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},y9=async function*(n,e){for await(const t of b9(n))yield*g9(t,e)},b9=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},c_=(n,e,t,r)=>{const i=y9(n,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){a(),c.close();return}let p=f.byteLength;if(t){let m=s+=p;t(m)}c.enqueue(new Uint8Array(f))}catch(d){throw a(d),d}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},K0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sI=K0&&typeof ReadableStream=="function",v9=K0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),oI=(n,...e)=>{try{return!!n(...e)}catch{return!1}},x9=sI&&oI(()=>{let n=!1;const e=new Request(dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),u_=64*1024,qw=sI&&oI(()=>ee.isReadableStream(new Response("").body)),zy={stream:qw&&(n=>n.body)};K0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zy[e]&&(zy[e]=ee.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ze(`Response type '${e}' is not supported`,ze.ERR_NOT_SUPPORT,r)})})})(new Response);const w9=async n=>{if(n==null)return 0;if(ee.isBlob(n))return n.size;if(ee.isSpecCompliantForm(n))return(await new Request(dr.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(n)||ee.isArrayBuffer(n))return n.byteLength;if(ee.isURLSearchParams(n)&&(n=n+""),ee.isString(n))return(await v9(n)).byteLength},S9=async(n,e)=>{const t=ee.toFiniteNumber(n.getContentLength());return t??w9(e)},M9=K0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:m}=iI(n);d=d?(d+"").toLowerCase():"text";let y=m9([i,s&&s.toAbortSignal()],o),b;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let w;try{if(c&&x9&&t!=="get"&&t!=="head"&&(w=await S9(f,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(ee.isFormData(r)&&(P=T.headers.get("content-type"))&&f.setContentType(P),T.body){const[N,_]=o_(w,Fy(a_(c)));r=c_(T.body,u_,N,_)}}ee.isString(p)||(p=p?"include":"omit");const M="credentials"in Request.prototype;b=new Request(e,{...m,signal:y,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:M?p:void 0});let k=await fetch(b,m);const E=qw&&(d==="stream"||d==="response");if(qw&&(a||E&&v)){const T={};["status","statusText","headers"].forEach(L=>{T[L]=k[L]});const P=ee.toFiniteNumber(k.headers.get("content-length")),[N,_]=a&&o_(P,Fy(a_(a),!0))||[];k=new Response(c_(k.body,u_,N,()=>{_&&_(),v&&v()}),T)}d=d||"text";let A=await zy[ee.findKey(zy,d)||"text"](k,n);return!E&&v&&v(),await new Promise((T,P)=>{nI(T,P,{data:A,headers:Wr.from(k.headers),status:k.status,statusText:k.statusText,config:n,request:b})})}catch(M){throw v&&v(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,n,b),{cause:M.cause||M}):ze.from(M,M&&M.code,n,b)}}),Kw={http:BU,xhr:p9,fetch:M9};ee.forEach(Kw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const d_=n=>`- ${n}`,D9=n=>ee.isFunction(n)||n===null||n===!1,aI={getAdapter:n=>{n=ee.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!D9(t)&&(r=Kw[(o=String(t)).toLowerCase()],r===void 0))throw new ze(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(d_).join(`
`):" "+d_(s[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Kw};function c1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fd(null,n)}function f_(n){return c1(n),n.headers=Wr.from(n.headers),n.data=l1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),aI.getAdapter(n.adapter||Pp.adapter)(n).then(function(r){return c1(n),r.data=l1.call(n,n.transformResponse,r),r.headers=Wr.from(r.headers),r},function(r){return tI(r)||(c1(n),r&&r.response&&(r.response.data=l1.call(n,n.transformResponse,r.response),r.response.headers=Wr.from(r.response.headers))),Promise.reject(r)})}const lI="1.10.0",Q0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Q0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const h_={};Q0.transitional=function(e,t,r){function i(s,o){return"[Axios v"+lI+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ze(i(o," has been removed"+(t?" in "+t:"")),ze.ERR_DEPRECATED);return t&&!h_[o]&&(h_[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};Q0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function C9(n,e,t){if(typeof n!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new ze("option "+s+" must be "+c,ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ze("Unknown option "+s,ze.ERR_BAD_OPTION)}}const iy={assertOptions:C9,validators:Q0},fs=iy.validators;let fc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new i_,response:new i_}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Tc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&iy.assertOptions(r,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),i!=null&&(ee.isFunction(i)?t.paramsSerializer={serialize:i}:iy.assertOptions(i,{encode:fs.function,serialize:fs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),iy.assertOptions(t,{baseUrl:fs.spelling("baseURL"),withXsrfToken:fs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[t.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),t.headers=Wr.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let f,p=0,m;if(!c){const b=[f_.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,d),m=b.length,f=Promise.resolve(t);p<m;)f=f.then(b[p++],b[p++]);return f}m=a.length;let y=t;for(p=0;p<m;){const b=a[p++],v=a[p++];try{y=b(y)}catch(w){v.call(this,w);break}}try{f=f_.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,m=d.length;p<m;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=Tc(this.defaults,e);const t=rI(e.baseURL,e.url,e.allowAbsoluteUrls);return JL(t,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){fc.prototype[e]=function(t,r){return this.request(Tc(r||{},{method:e,url:t,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Tc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}fc.prototype[e]=t(),fc.prototype[e+"Form"]=t(!0)});let k9=class cI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Fd(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new cI(function(i){e=i}),cancel:e}}};function E9(n){return function(t){return n.apply(null,t)}}function T9(n){return ee.isObject(n)&&n.isAxiosError===!0}const Qw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qw).forEach(([n,e])=>{Qw[e]=n});function uI(n){const e=new fc(n),t=zL(fc.prototype.request,e);return ee.extend(t,fc.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return uI(Tc(n,i))},t}const Qe=uI(Pp);Qe.Axios=fc;Qe.CanceledError=Fd;Qe.CancelToken=k9;Qe.isCancel=tI;Qe.VERSION=lI;Qe.toFormData=q0;Qe.AxiosError=ze;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=E9;Qe.isAxiosError=T9;Qe.mergeConfig=Tc;Qe.AxiosHeaders=Wr;Qe.formToJSON=n=>eI(ee.isHTMLForm(n)?new FormData(n):n);Qe.getAdapter=aI.getAdapter;Qe.HttpStatusCode=Qw;Qe.default=Qe;const{Axios:rge,AxiosError:ige,CanceledError:sge,isCancel:oge,CancelToken:age,VERSION:lge,all:cge,Cancel:uge,isAxiosError:dge,spread:fge,toFormData:hge,AxiosHeaders:pge,HttpStatusCode:mge,formToJSON:gge,getAdapter:yge,mergeConfig:bge}=Qe,O9=(n,e)=>Qe.get(`/api/timeline?start=${n}&end=${e}`),Wi=n=>{if(!(n instanceof Date)||isNaN(n))return"";const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${r}`},FM=n=>{const e=n.getDay(),t=new Date(n),r=e===0?-6:1-e;return t.setDate(n.getDate()+r),t.setHours(0,0,0,0),t},dI=n=>{const e=FM(n),t=new Date(e);return t.setDate(e.getDate()+6),t.setHours(23,59,59,999),t},u1=(n,e)=>{if(!(n instanceof Date)||isNaN(n))return null;const t=new Date(n);return t.setDate(t.getDate()+e),t},_9=n=>{const[e,t]=D.useState([]),[r,i]=D.useState(!0),s=D.useCallback(async()=>{i(!0);try{const o=n?new Date(n):new Date,a=Wi(FM(o)),c=Wi(dI(o)),d=await O9(a,c);t(d.data||[])}catch(o){console.error("타임라인 데이터 fetch 실패:",o),t([])}finally{i(!1)}},[n]);return D.useEffect(()=>{s()},[s]),{data:e,loading:r,refetch:s}},fI=D.createContext(null),A9=({children:n})=>{const[e,t]=D.useState(null),[r,i]=D.useState(!0);D.useEffect(()=>{const o=window.__USER__||null,a=o&&o.userId!==null&&o.email!==null;t(a?{id:o.userId,email:o.email,nickname:o.nickname,profileImage:o.profileImage}:null),i(!1)},[]);const s={user:e,loading:r};return C.jsx(fI.Provider,{value:s,children:n})},Un=()=>{const n=D.useContext(fI);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n};function Kr(){const{user:n}=Un();function e(){return n?!0:(Je.error("로그인이 필요합니다.",{id:"login-required-toast"}),!1)}return e}function hI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=hI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Zn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=hI(n))&&(r&&(r+=" "),r+=e);return r}const pI=6048e5,R9=864e5,G0=6e4,X0=36e5,N9=1e3,p_=Symbol.for("constructDateFrom");function Ct(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&p_ in n?n[p_](e):n instanceof Date?new n.constructor(e):new Date(e)}function Me(n,e){return Ct(e||n,n)}function Ln(n,e,t){const r=Me(n,t==null?void 0:t.in);return isNaN(e)?Ct((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function hr(n,e,t){const r=Me(n,t==null?void 0:t.in);if(isNaN(e))return Ct(n,NaN);if(!e)return r;const i=r.getDate(),s=Ct(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function mI(n,e,t){return Ct(n,+Me(n)+e)}function P9(n,e,t){return mI(n,e*X0)}let L9={};function Fc(){return L9}function Is(n,e){var a,c,d,f;const t=Fc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Me(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function fd(n,e){return Is(n,{...e,weekStartsOn:1})}function gI(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getFullYear(),i=Ct(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=fd(i),o=Ct(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=fd(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Vy(n){const e=Me(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Vo(n,...e){const t=Ct.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function jo(n,e){const t=Me(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function hd(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e),s=jo(r),o=jo(i),a=+s-Vy(s),c=+o-Vy(o);return Math.round((a-c)/R9)}function I9(n,e){const t=gI(n,e),r=Ct(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),fd(r)}function Gw(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*G0),r}function zM(n,e,t){return hr(n,e*3,t)}function j9(n,e,t){return mI(n,e*1e3)}function Hy(n,e,t){return Ln(n,e*7,t)}function Eo(n,e,t){return hr(n,e*12,t)}function m_(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Ct.bind(null,i));const s=Me(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),Ct(r,t||NaN)}function g_(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Ct.bind(null,i));const s=Me(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),Ct(r,t||NaN)}function B9(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e);return+jo(r)==+jo(i)}function To(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Uy(n){return!(!To(n)&&typeof n!="number"||isNaN(+Me(n)))}function $y(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function hc(n,e){const t=Me(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Yy(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=hc(r)-hc(i);return s*4+o}function Wy(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function F9(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e),s=y_(r,i),o=Math.abs(hd(r,i));r.setDate(r.getDate()-s*o);const a=+(y_(r,i)===-s),c=s*(o-a);return c===0?0:c}function y_(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function yI(n,e){const t=Me(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function VM(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xw(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function HM(n,e){const t=Me(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function bI(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function J0(n,e){const t=Me(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function vI(n,e){var a,c,d,f;const t=Fc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Me(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const z9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V9=(n,e,t)=>{let r;const i=z9[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Wu(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const H9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y9={date:Wu({formats:H9,defaultWidth:"full"}),time:Wu({formats:U9,defaultWidth:"full"}),dateTime:Wu({formats:$9,defaultWidth:"full"})},W9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q9=(n,e,t,r)=>W9[n];function Ss(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const K9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e$=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},t$={ordinalNumber:e$,era:Ss({values:K9,defaultWidth:"wide"}),quarter:Ss({values:Q9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ss({values:G9,defaultWidth:"wide"}),day:Ss({values:X9,defaultWidth:"wide"}),dayPeriod:Ss({values:J9,defaultWidth:"wide",formattingValues:Z9,defaultFormattingWidth:"wide"})};function Ms(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(a)?r$(a,p=>p.test(o)):n$(a,p=>p.test(o));let d;d=n.valueCallback?n.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function n$(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function r$(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function xI(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const i$=/^(\d+)(th|st|nd|rd)?/i,s$=/\d+/i,o$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a$={any:[/^b/i,/^(a|c)/i]},l$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c$={any:[/1/i,/2/i,/3/i,/4/i]},u$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},h$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g$={ordinalNumber:xI({matchPattern:i$,parsePattern:s$,valueCallback:n=>parseInt(n,10)}),era:Ms({matchPatterns:o$,defaultMatchWidth:"wide",parsePatterns:a$,defaultParseWidth:"any"}),quarter:Ms({matchPatterns:l$,defaultMatchWidth:"wide",parsePatterns:c$,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ms({matchPatterns:u$,defaultMatchWidth:"wide",parsePatterns:d$,defaultParseWidth:"any"}),day:Ms({matchPatterns:f$,defaultMatchWidth:"wide",parsePatterns:h$,defaultParseWidth:"any"}),dayPeriod:Ms({matchPatterns:p$,defaultMatchWidth:"any",parsePatterns:m$,defaultParseWidth:"any"})},wI={code:"en-US",formatDistance:V9,formatLong:Y9,formatRelative:q9,localize:t$,match:g$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y$(n,e){const t=Me(n,e==null?void 0:e.in);return hd(t,J0(t))+1}function UM(n,e){const t=Me(n,e==null?void 0:e.in),r=+fd(t)-+I9(t);return Math.round(r/pI)+1}function $M(n,e){var f,p,m,y;const t=Me(n,e==null?void 0:e.in),r=t.getFullYear(),i=Fc(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=Ct((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Is(o,e),c=Ct((e==null?void 0:e.in)||n,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=Is(c,e);return+t>=+a?r+1:+t>=+d?r:r-1}function b$(n,e){var a,c,d,f;const t=Fc(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=$M(n,e),s=Ct((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Is(s,e)}function SI(n,e){const t=Me(n,e==null?void 0:e.in),r=+Is(t,e)-+b$(t,e);return Math.round(r/pI)+1}function Mt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ma={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Mt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Mt(t+1,2)},d(n,e){return Mt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Mt(n.getHours()%12||12,e.length)},H(n,e){return Mt(n.getHours(),e.length)},m(n,e){return Mt(n.getMinutes(),e.length)},s(n,e){return Mt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Mt(i,e.length)}},Eu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},b_={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return ma.y(n,e)},Y:function(n,e,t,r){const i=$M(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Mt(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Mt(s,e.length)},R:function(n,e){const t=gI(n);return Mt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Mt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ma.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=SI(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Mt(i,e.length)},I:function(n,e,t){const r=UM(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ma.d(n,e)},D:function(n,e,t){const r=y$(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Mt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Eu.noon:r===0?i=Eu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Eu.evening:r>=12?i=Eu.afternoon:r>=4?i=Eu.morning:i=Eu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ma.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ma.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ma.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ma.s(n,e)},S:function(n,e){return ma.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return x_(r);case"XXXX":case"XX":return Bl(r);case"XXXXX":case"XXX":default:return Bl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return x_(r);case"xxxx":case"xx":return Bl(r);case"xxxxx":case"xxx":default:return Bl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+v_(r,":");case"OOOO":default:return"GMT"+Bl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+v_(r,":");case"zzzz":default:return"GMT"+Bl(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Mt(r,e.length)},T:function(n,e,t){return Mt(+n,e.length)}};function v_(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Mt(s,2)}function x_(n,e){return n%60===0?(n>0?"-":"+")+Mt(Math.abs(n)/60,2):Bl(n,e)}function Bl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Mt(Math.trunc(r/60),2),s=Mt(r%60,2);return t+i+e+s}const w_=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},MI=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},v$=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return w_(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",w_(r,e)).replace("{{time}}",MI(i,e))},Jw={p:MI,P:v$},x$=/^D+$/,w$=/^Y+$/,S$=["D","DD","YY","YYYY"];function M$(n){return x$.test(n)}function D$(n){return w$.test(n)}function C$(n,e,t){const r=k$(n,e,t);if(console.warn(r),S$.includes(n))throw new RangeError(r)}function k$(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const E$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O$=/^'([^]*?)'?$/,_$=/''/g,A$=/[a-zA-Z]/;function cr(n,e,t){var f,p,m,y,b,v,w,M;const r=Fc(),i=(t==null?void 0:t.locale)??r.locale??wI,s=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((v=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((M=(w=r.locale)==null?void 0:w.options)==null?void 0:M.weekStartsOn)??0,a=Me(n,t==null?void 0:t.in);if(!Uy(a))throw new RangeError("Invalid time value");let c=e.match(T$).map(k=>{const E=k[0];if(E==="p"||E==="P"){const A=Jw[E];return A(k,i.formatLong)}return k}).join("").match(E$).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const E=k[0];if(E==="'")return{isToken:!1,value:R$(k)};if(b_[E])return{isToken:!0,value:k};if(E.match(A$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(k=>{if(!k.isToken)return k.value;const E=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&D$(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&M$(E))&&C$(E,e,String(n));const A=b_[E[0]];return A(a,E,i.localize,d)}).join("")}function R$(n){const e=n.match(O$);return e?e[1].replace(_$,"'"):n}function S_(n,e){return Me(n,e==null?void 0:e.in).getDate()}function N$(n,e){return Me(n,e==null?void 0:e.in).getDay()}function P$(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=Ct(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function L$(){return Object.assign({},Fc())}function Oo(n,e){return Me(n,e==null?void 0:e.in).getHours()}function I$(n,e){const t=Me(n,e==null?void 0:e.in).getDay();return t===0?7:t}function _o(n,e){return Me(n,e==null?void 0:e.in).getMinutes()}function fr(n,e){return Me(n,e==null?void 0:e.in).getMonth()}function Ya(n){return Me(n).getSeconds()}function Zw(n){return+Me(n)}function Ke(n,e){return Me(n,e==null?void 0:e.in).getFullYear()}function el(n,e){return+Me(n)>+Me(e)}function tl(n,e){return+Me(n)<+Me(e)}function DI(n,e){return+Me(n)==+Me(e)}function j$(n,e){const t=B$(e)?new e(0):Ct(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function B$(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const F$=10;class CI{constructor(){X(this,"subPriority",0)}validate(e,t){return!0}}class z$ extends CI{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class V$ extends CI{constructor(t,r){super();X(this,"priority",F$);X(this,"subPriority",-1);this.context=t||(i=>Ct(r,i))}set(t,r){return r.timestampIsSet?t:Ct(t,j$(t,this.context))}}class yt{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new z$(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class H$ extends yt{constructor(){super(...arguments);X(this,"priority",140);X(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ds={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pn(n,e){return n&&{value:e(n.value),rest:n.rest}}function Xt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Cs(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(i*X0+s*G0+o*N9),rest:e.slice(t[0].length)}}function kI(n){return Xt(hn.anyDigitsSigned,n)}function cn(n,e){switch(n){case 1:return Xt(hn.singleDigit,e);case 2:return Xt(hn.twoDigits,e);case 3:return Xt(hn.threeDigits,e);case 4:return Xt(hn.fourDigits,e);default:return Xt(new RegExp("^\\d{1,"+n+"}"),e)}}function qy(n,e){switch(n){case 1:return Xt(hn.singleDigitSigned,e);case 2:return Xt(hn.twoDigitsSigned,e);case 3:return Xt(hn.threeDigitsSigned,e);case 4:return Xt(hn.fourDigitsSigned,e);default:return Xt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function YM(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function EI(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=n>=s%100;i=n+o-(a?100:0)}return t?i:1-i}function TI(n){return n%400===0||n%4===0&&n%100!==0}class U$ extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return pn(cn(4,t),s);case"yo":return pn(i.ordinalNumber(t,{unit:"year"}),s);default:return pn(cn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const a=EI(i.year,s);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class $$ extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return pn(cn(4,t),s);case"Yo":return pn(i.ordinalNumber(t,{unit:"year"}),s);default:return pn(cn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const o=$M(t,s);if(i.isTwoDigitYear){const c=EI(i.year,o);return t.setFullYear(c,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Is(t,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Is(t,s)}}class Y$ extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return qy(r==="R"?4:r.length,t)}set(t,r,i){const s=Ct(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),fd(s)}}class W$ extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return qy(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class q$ extends yt{constructor(){super(...arguments);X(this,"priority",120);X(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return cn(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class K$ extends yt{constructor(){super(...arguments);X(this,"priority",120);X(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return cn(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Q$ extends yt{constructor(){super(...arguments);X(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);X(this,"priority",110)}parse(t,r,i){const s=o=>o-1;switch(r){case"M":return pn(Xt(hn.month,t),s);case"MM":return pn(cn(2,t),s);case"Mo":return pn(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class G$ extends yt{constructor(){super(...arguments);X(this,"priority",110);X(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=o=>o-1;switch(r){case"L":return pn(Xt(hn.month,t),s);case"LL":return pn(cn(2,t),s);case"Lo":return pn(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function X$(n,e,t){const r=Me(n,t==null?void 0:t.in),i=SI(r,t)-e;return r.setDate(r.getDate()-i*7),Me(r,t==null?void 0:t.in)}class J$ extends yt{constructor(){super(...arguments);X(this,"priority",100);X(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Xt(hn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Is(X$(t,i,s),s)}}function Z$(n,e,t){const r=Me(n,t==null?void 0:t.in),i=UM(r,t)-e;return r.setDate(r.getDate()-i*7),r}class eY extends yt{constructor(){super(...arguments);X(this,"priority",100);X(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Xt(hn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return fd(Z$(t,i))}}const tY=[31,28,31,30,31,30,31,31,30,31,30,31],nY=[31,29,31,30,31,30,31,31,30,31,30,31];class rY extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"subPriority",1);X(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Xt(hn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return cn(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=TI(i),o=t.getMonth();return s?r>=1&&r<=nY[o]:r>=1&&r<=tY[o]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class iY extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"subpriority",1);X(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Xt(hn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return cn(r.length,t)}}validate(t,r){const i=t.getFullYear();return TI(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function WM(n,e,t){var p,m,y,b;const r=Fc(),i=(t==null?void 0:t.weekStartsOn)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,s=Me(n,t==null?void 0:t.in),o=s.getDay(),c=(e%7+7)%7,d=7-i,f=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return Ln(s,f,t)}class sY extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=WM(t,i,s),t.setHours(0,0,0,0),t}}class oY extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return pn(cn(r.length,t),o);case"eo":return pn(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=WM(t,i,s),t.setHours(0,0,0,0),t}}class aY extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return pn(cn(r.length,t),o);case"co":return pn(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=WM(t,i,s),t.setHours(0,0,0,0),t}}function lY(n,e,t){const r=Me(n,t==null?void 0:t.in),i=I$(r,t),s=e-i;return Ln(r,s,t)}class cY extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return cn(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return pn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return pn(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return pn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return pn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=lY(t,i),t.setHours(0,0,0,0),t}}class uY extends yt{constructor(){super(...arguments);X(this,"priority",80);X(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(YM(i),0,0,0),t}}class dY extends yt{constructor(){super(...arguments);X(this,"priority",80);X(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(YM(i),0,0,0),t}}class fY extends yt{constructor(){super(...arguments);X(this,"priority",80);X(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(YM(i),0,0,0),t}}class hY extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Xt(hn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class pY extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Xt(hn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class mY extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Xt(hn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class gY extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Xt(hn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class yY extends yt{constructor(){super(...arguments);X(this,"priority",60);X(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Xt(hn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class bY extends yt{constructor(){super(...arguments);X(this,"priority",50);X(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Xt(hn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class vY extends yt{constructor(){super(...arguments);X(this,"priority",30);X(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return pn(cn(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class xY extends yt{constructor(){super(...arguments);X(this,"priority",10);X(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Cs(Ds.basicOptionalMinutes,t);case"XX":return Cs(Ds.basic,t);case"XXXX":return Cs(Ds.basicOptionalSeconds,t);case"XXXXX":return Cs(Ds.extendedOptionalSeconds,t);case"XXX":default:return Cs(Ds.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ct(t,t.getTime()-Vy(t)-i)}}class wY extends yt{constructor(){super(...arguments);X(this,"priority",10);X(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Cs(Ds.basicOptionalMinutes,t);case"xx":return Cs(Ds.basic,t);case"xxxx":return Cs(Ds.basicOptionalSeconds,t);case"xxxxx":return Cs(Ds.extendedOptionalSeconds,t);case"xxx":default:return Cs(Ds.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ct(t,t.getTime()-Vy(t)-i)}}class SY extends yt{constructor(){super(...arguments);X(this,"priority",40);X(this,"incompatibleTokens","*")}parse(t){return kI(t)}set(t,r,i){return[Ct(t,i*1e3),{timestampIsSet:!0}]}}class MY extends yt{constructor(){super(...arguments);X(this,"priority",20);X(this,"incompatibleTokens","*")}parse(t){return kI(t)}set(t,r,i){return[Ct(t,i),{timestampIsSet:!0}]}}const DY={G:new H$,y:new U$,Y:new $$,R:new Y$,u:new W$,Q:new q$,q:new K$,M:new Q$,L:new G$,w:new J$,I:new eY,d:new rY,D:new iY,E:new sY,e:new oY,c:new aY,i:new cY,a:new uY,b:new dY,B:new fY,h:new hY,H:new pY,K:new mY,k:new gY,m:new yY,s:new bY,S:new vY,X:new xY,x:new wY,t:new SY,T:new MY},CY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EY=/^'([^]*?)'?$/,TY=/''/g,OY=/\S/,_Y=/[a-zA-Z]/;function AY(n,e,t,r){var w,M,k,E,A,T,P,N;const i=()=>Ct((r==null?void 0:r.in)||t,NaN),s=L$(),o=(r==null?void 0:r.locale)??s.locale??wI,a=(r==null?void 0:r.firstWeekContainsDate)??((M=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:M.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(k=s.locale)==null?void 0:k.options)==null?void 0:E.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((T=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:T.weekStartsOn)??s.weekStartsOn??((N=(P=s.locale)==null?void 0:P.options)==null?void 0:N.weekStartsOn)??0;if(!e)return n?i():Me(t,r==null?void 0:r.in);const d={firstWeekContainsDate:a,weekStartsOn:c,locale:o},f=[new V$(r==null?void 0:r.in,t)],p=e.match(kY).map(_=>{const L=_[0];if(L in Jw){const I=Jw[L];return I(_,o.formatLong)}return _}).join("").match(CY),m=[];for(let _ of p){const L=_[0],I=DY[L];if(I){const{incompatibleTokens:V}=I;if(Array.isArray(V)){const ae=m.find(de=>V.includes(de.token)||de.token===L);if(ae)throw new RangeError(`The format string mustn't contain \`${ae.fullToken}\` and \`${_}\` at the same time`)}else if(I.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);m.push({token:L,fullToken:_});const q=I.run(n,_,o.match,d);if(!q)return i();f.push(q.setter),n=q.rest}else{if(L.match(_Y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(_==="''"?_="'":L==="'"&&(_=RY(_)),n.indexOf(_)===0)n=n.slice(_.length);else return i()}}if(n.length>0&&OY.test(n))return i();const y=f.map(_=>_.priority).sort((_,L)=>L-_).filter((_,L,I)=>I.indexOf(_)===L).map(_=>f.filter(L=>L.priority===_).sort((L,I)=>I.subPriority-L.subPriority)).map(_=>_[0]);let b=Me(t,r==null?void 0:r.in);if(isNaN(+b))return i();const v={};for(const _ of y){if(!_.validate(b,d))return i();const L=_.set(b,v,d);Array.isArray(L)?(b=L[0],Object.assign(v,L[1])):b=L}return b}function RY(n){return n.match(EY)[1].replace(TY,"'")}function NY(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function PY(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e);return+Xw(r)==+Xw(i)}function LY(n,e,t){const[r,i]=Vo(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function Wh(n,e,t){const r=+Me(n,t==null?void 0:t.in),[i,s]=[+Me(e.start,t==null?void 0:t.in),+Me(e.end,t==null?void 0:t.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function IY(n,e,t){return Ln(n,-1,t)}function jY(n,e){const t=()=>Ct(e==null?void 0:e.in,NaN),i=VY(n);let s;if(i.date){const d=HY(i.date,2);s=UY(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const o=+s;let a=0,c;if(i.time&&(a=$Y(i.time),isNaN(a)))return t();if(i.timezone){if(c=YY(i.timezone),isNaN(c))return t()}else{const d=new Date(o+a),f=Me(0,e==null?void 0:e.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Me(o+a+c,e==null?void 0:e.in)}const mg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function VY(n){const e={},t=n.split(mg.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],mg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(mg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=mg.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function HY(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function UY(n,e){if(e===null)return new Date(NaN);const t=n.match(BY);if(!t)return new Date(NaN);const r=!!t[4],i=Kf(t[1]),s=Kf(t[2])-1,o=Kf(t[3]),a=Kf(t[4]),c=Kf(t[5])-1;if(r)return GY(e,a,c)?WY(e,a,c):new Date(NaN);{const d=new Date(0);return!KY(e,s,o)||!QY(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function Kf(n){return n?parseInt(n):1}function $Y(n){const e=n.match(FY);if(!e)return NaN;const t=d1(e[1]),r=d1(e[2]),i=d1(e[3]);return XY(t,r,i)?t*X0+r*G0+i*1e3:NaN}function d1(n){return n&&parseFloat(n.replace(",","."))||0}function YY(n){if(n==="Z")return 0;const e=n.match(zY);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return JY(r,i)?t*(r*X0+i*G0):NaN}function WY(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const qY=[31,null,31,30,31,30,31,31,30,31,30,31];function OI(n){return n%400===0||n%4===0&&n%100!==0}function KY(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(qY[e]||(OI(n)?29:28))}function QY(n,e){return e>=1&&e<=(OI(n)?366:365)}function GY(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function XY(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function JY(n,e){return e>=0&&e<=59}function ki(n,e,t){const r=Me(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),o=Ct(n,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=P$(o);return r.setMonth(e,Math.min(s,a)),r}function sy(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setHours(e),r}function oy(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Nu(n,e,t){const r=Me(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return ki(r,r.getMonth()+s*3)}function ay(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setSeconds(e),r}function gs(n,e,t){const r=Me(n,t==null?void 0:t.in);return isNaN(+r)?Ct(n,NaN):(r.setFullYear(e),r)}function Wa(n,e,t){return hr(n,-e,t)}function _I(n,e,t){return zM(n,-1,t)}function M_(n,e,t){return Hy(n,-1,t)}function pd(n,e,t){return Eo(n,-e,t)}function Z0(){return typeof window<"u"}function zd(n){return AI(n)?(n.nodeName||"").toLowerCase():"#document"}function ui(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Us(n){var e;return(e=(AI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function AI(n){return Z0()?n instanceof Node||n instanceof ui(n).Node:!1}function Er(n){return Z0()?n instanceof Element||n instanceof ui(n).Element:!1}function js(n){return Z0()?n instanceof HTMLElement||n instanceof ui(n).HTMLElement:!1}function D_(n){return!Z0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ui(n).ShadowRoot}const ZY=new Set(["inline","contents"]);function Lp(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ni(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!ZY.has(i)}const e7=new Set(["table","td","th"]);function t7(n){return e7.has(zd(n))}const n7=[":popover-open",":modal"];function eb(n){return n7.some(e=>{try{return n.matches(e)}catch{return!1}})}const r7=["transform","translate","scale","rotate","perspective"],i7=["transform","translate","scale","rotate","perspective","filter"],s7=["paint","layout","strict","content"];function qM(n){const e=KM(),t=Er(n)?Ni(n):n;return r7.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||i7.some(r=>(t.willChange||"").includes(r))||s7.some(r=>(t.contain||"").includes(r))}function o7(n){let e=nl(n);for(;js(e)&&!md(e);){if(qM(e))return e;if(eb(e))return null;e=nl(e)}return null}function KM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const a7=new Set(["html","body","#document"]);function md(n){return a7.has(zd(n))}function Ni(n){return ui(n).getComputedStyle(n)}function tb(n){return Er(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function nl(n){if(zd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||D_(n)&&n.host||Us(n);return D_(e)?e.host:e}function RI(n){const e=nl(n);return md(e)?n.ownerDocument?n.ownerDocument.body:n.body:js(e)&&Lp(e)?e:RI(e)}function qh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=RI(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ui(i);if(s){const a=eS(o);return e.concat(o,o.visualViewport||[],Lp(i)?i:[],a&&t?qh(a):[])}return e.concat(i,qh(i,[],t))}function eS(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const gd=Math.min,pc=Math.max,Ky=Math.round,gg=Math.floor,_s=n=>({x:n,y:n}),l7={left:"right",right:"left",bottom:"top",top:"bottom"},c7={start:"end",end:"start"};function u7(n,e,t){return pc(n,gd(e,t))}function nb(n,e){return typeof n=="function"?n(e):n}function yd(n){return n.split("-")[0]}function Ip(n){return n.split("-")[1]}function d7(n){return n==="x"?"y":"x"}function QM(n){return n==="y"?"height":"width"}const f7=new Set(["top","bottom"]);function Kl(n){return f7.has(yd(n))?"y":"x"}function GM(n){return d7(Kl(n))}function h7(n,e,t){t===void 0&&(t=!1);const r=Ip(n),i=GM(n),s=QM(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Qy(o)),[o,Qy(o)]}function p7(n){const e=Qy(n);return[tS(n),e,tS(e)]}function tS(n){return n.replace(/start|end/g,e=>c7[e])}const C_=["left","right"],k_=["right","left"],m7=["top","bottom"],g7=["bottom","top"];function y7(n,e,t){switch(n){case"top":case"bottom":return t?e?k_:C_:e?C_:k_;case"left":case"right":return e?m7:g7;default:return[]}}function b7(n,e,t,r){const i=Ip(n);let s=y7(yd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(tS)))),s}function Qy(n){return n.replace(/left|right|bottom|top/g,e=>l7[e])}function v7(n){return{top:0,right:0,bottom:0,left:0,...n}}function NI(n){return typeof n!="number"?v7(n):{top:n,right:n,bottom:n,left:n}}function Gy(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var x7=typeof document<"u",w7=function(){},Xy=x7?D.useLayoutEffect:w7;const S7={...tL},M7=S7.useInsertionEffect,D7=M7||(n=>n());function C7(n){const e=D.useRef(()=>{});return D7(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function E_(n,e,t){let{reference:r,floating:i}=n;const s=Kl(e),o=GM(e),a=QM(o),c=yd(e),d=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let y;switch(c){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(Ip(e)){case"start":y[o]-=m*(t&&d?-1:1);break;case"end":y[o]+=m*(t&&d?-1:1);break}return y}const k7=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:p}=E_(d,r,c),m=r,y={},b=0;for(let v=0;v<a.length;v++){const{name:w,fn:M}=a[v],{x:k,y:E,data:A,reset:T}=await M({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:n,floating:e}});f=k??f,p=E??p,y={...y,[w]:{...y[w],...A}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:f,y:p}=E_(d,m,c)),v=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:y}};async function E7(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=nb(e,n),b=NI(y),w=a[m?p==="floating"?"reference":"floating":p],M=Gy(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),k=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Gy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:E,strategy:c}):k);return{top:(M.top-T.top+b.top)/A.y,bottom:(T.bottom-M.bottom+b.bottom)/A.y,left:(M.left-T.left+b.left)/A.x,right:(T.right-M.right+b.right)/A.x}}const T7=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=nb(n,e)||{};if(d==null)return{};const p=NI(f),m={x:t,y:r},y=GM(i),b=QM(y),v=await o.getDimensions(d),w=y==="y",M=w?"top":"left",k=w?"bottom":"right",E=w?"clientHeight":"clientWidth",A=s.reference[b]+s.reference[y]-m[y]-s.floating[b],T=m[y]-s.reference[y],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=P?P[E]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=a.floating[E]||s.floating[b]);const _=A/2-T/2,L=N/2-v[b]/2-1,I=gd(p[M],L),V=gd(p[k],L),q=I,ae=N-v[b]-V,de=N/2-v[b]/2+_,oe=u7(q,de,ae),F=!c.arrow&&Ip(i)!=null&&de!==oe&&s.reference[b]/2-(de<q?I:V)-v[b]/2<0,U=F?de<q?de-q:de-ae:0;return{[y]:m[y]+U,data:{[y]:oe,centerOffset:de-oe-U,...F&&{alignmentOffset:U}},reset:F}}}),O7=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=nb(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const M=yd(i),k=Kl(a),E=yd(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),T=m||(E||!v?[Qy(a)]:p7(a)),P=b!=="none";!m&&P&&T.push(...b7(a,v,b,A));const N=[a,...T],_=await E7(e,w),L=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(_[M]),p){const de=h7(i,o,A);L.push(_[de[0]],_[de[1]])}if(I=[...I,{placement:i,overflows:L}],!L.every(de=>de<=0)){var V,q;const de=(((V=s.flip)==null?void 0:V.index)||0)+1,oe=N[de];if(oe&&(!(p==="alignment"?k!==Kl(oe):!1)||I.every(J=>J.overflows[0]>0&&Kl(J.placement)===k)))return{data:{index:de,overflows:I},reset:{placement:oe}};let F=(q=I.filter(U=>U.overflows[0]<=0).sort((U,J)=>U.overflows[1]-J.overflows[1])[0])==null?void 0:q.placement;if(!F)switch(y){case"bestFit":{var ae;const U=(ae=I.filter(J=>{if(P){const ce=Kl(J.placement);return ce===k||ce==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ce=>ce>0).reduce((ce,j)=>ce+j,0)]).sort((J,ce)=>J[1]-ce[1])[0])==null?void 0:ae[0];U&&(F=U);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}},_7=new Set(["left","top"]);async function A7(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=yd(t),a=Ip(t),c=Kl(t)==="y",d=_7.has(o)?-1:1,f=s&&c?-1:1,p=nb(e,n);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),c?{x:y*f,y:m*d}:{x:m*d,y:y*f}}const R7=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await A7(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}};function PI(n){const e=Ni(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=js(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Ky(t)!==s||Ky(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function XM(n){return Er(n)?n:n.contextElement}function qu(n){const e=XM(n);if(!js(e))return _s(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=PI(e);let o=(s?Ky(t.width):t.width)/r,a=(s?Ky(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const N7=_s(0);function LI(n){const e=ui(n);return!KM()||!e.visualViewport?N7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P7(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ui(n)?!1:e}function Oc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=XM(n);let o=_s(1);e&&(r?Er(r)&&(o=qu(r)):o=qu(n));const a=P7(s,t,r)?LI(s):_s(0);let c=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const m=ui(s),y=r&&Er(r)?ui(r):r;let b=m,v=eS(b);for(;v&&r&&y!==b;){const w=qu(v),M=v.getBoundingClientRect(),k=Ni(v),E=M.left+(v.clientLeft+parseFloat(k.paddingLeft))*w.x,A=M.top+(v.clientTop+parseFloat(k.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,p*=w.y,c+=E,d+=A,b=ui(v),v=eS(b)}}return Gy({width:f,height:p,x:c,y:d})}function JM(n,e){const t=tb(n).scrollLeft;return e?e.left+t:Oc(Us(n)).left+t}function II(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:JM(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function L7(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Us(r),a=e?eb(e.floating):!1;if(r===o||a&&s)return t;let c={scrollLeft:0,scrollTop:0},d=_s(1);const f=_s(0),p=js(r);if((p||!p&&!s)&&((zd(r)!=="body"||Lp(o))&&(c=tb(r)),js(r))){const y=Oc(r);d=qu(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const m=o&&!p&&!s?II(o,c,!0):_s(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-c.scrollTop*d.y+f.y+m.y}}function I7(n){return Array.from(n.getClientRects())}function j7(n){const e=Us(n),t=tb(n),r=n.ownerDocument.body,i=pc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=pc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+JM(n);const a=-t.scrollTop;return Ni(r).direction==="rtl"&&(o+=pc(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function B7(n,e){const t=ui(n),r=Us(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const d=KM();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const F7=new Set(["absolute","fixed"]);function z7(n,e){const t=Oc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=js(n)?qu(n):_s(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:a,x:c,y:d}}function T_(n,e,t){let r;if(e==="viewport")r=B7(n,t);else if(e==="document")r=j7(Us(n));else if(Er(e))r=z7(e,t);else{const i=LI(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Gy(r)}function jI(n,e){const t=nl(n);return t===e||!Er(t)||md(t)?!1:Ni(t).position==="fixed"||jI(t,e)}function V7(n,e){const t=e.get(n);if(t)return t;let r=qh(n,[],!1).filter(a=>Er(a)&&zd(a)!=="body"),i=null;const s=Ni(n).position==="fixed";let o=s?nl(n):n;for(;Er(o)&&!md(o);){const a=Ni(o),c=qM(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&F7.has(i.position)||Lp(o)&&!c&&jI(n,o))?r=r.filter(f=>f!==o):i=a,o=nl(o)}return e.set(n,r),r}function H7(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?eb(e)?[]:V7(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((d,f)=>{const p=T_(e,f,i);return d.top=pc(p.top,d.top),d.right=gd(p.right,d.right),d.bottom=gd(p.bottom,d.bottom),d.left=pc(p.left,d.left),d},T_(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function U7(n){const{width:e,height:t}=PI(n);return{width:e,height:t}}function $7(n,e,t){const r=js(e),i=Us(e),s=t==="fixed",o=Oc(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=_s(0);function d(){c.x=JM(i)}if(r||!r&&!s)if((zd(e)!=="body"||Lp(i))&&(a=tb(e)),r){const y=Oc(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const f=i&&!r&&!s?II(i,a):_s(0),p=o.left+a.scrollLeft-c.x-f.x,m=o.top+a.scrollTop-c.y-f.y;return{x:p,y:m,width:o.width,height:o.height}}function f1(n){return Ni(n).position==="static"}function O_(n,e){if(!js(n)||Ni(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Us(n)===t&&(t=t.ownerDocument.body),t}function BI(n,e){const t=ui(n);if(eb(n))return t;if(!js(n)){let i=nl(n);for(;i&&!md(i);){if(Er(i)&&!f1(i))return i;i=nl(i)}return t}let r=O_(n,e);for(;r&&t7(r)&&f1(r);)r=O_(r,e);return r&&md(r)&&f1(r)&&!qM(r)?t:r||o7(n)||t}const Y7=async function(n){const e=this.getOffsetParent||BI,t=this.getDimensions,r=await t(n.floating);return{reference:$7(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function W7(n){return Ni(n).direction==="rtl"}const q7={convertOffsetParentRelativeRectToViewportRelativeRect:L7,getDocumentElement:Us,getClippingRect:H7,getOffsetParent:BI,getElementRects:Y7,getClientRects:I7,getDimensions:U7,getScale:qu,isElement:Er,isRTL:W7};function FI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function K7(n,e){let t=null,r;const i=Us(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=n.getBoundingClientRect(),{left:f,top:p,width:m,height:y}=d;if(a||e(),!m||!y)return;const b=gg(p),v=gg(i.clientWidth-(f+m)),w=gg(i.clientHeight-(p+y)),M=gg(f),E={rootMargin:-b+"px "+-v+"px "+-w+"px "+-M+"px",threshold:pc(0,gd(1,c))||1};let A=!0;function T(P){const N=P[0].intersectionRatio;if(N!==c){if(!A)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!FI(d,n.getBoundingClientRect())&&o(),A=!1}try{t=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,E)}t.observe(n)}return o(!0),s}function Q7(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=XM(n),f=i||s?[...d?qh(d):[],...qh(e)]:[];f.forEach(M=>{i&&M.addEventListener("scroll",t,{passive:!0}),s&&M.addEventListener("resize",t)});const p=d&&a?K7(d,t):null;let m=-1,y=null;o&&(y=new ResizeObserver(M=>{let[k]=M;k&&k.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),t()}),d&&!c&&y.observe(d),y.observe(e));let b,v=c?Oc(n):null;c&&w();function w(){const M=Oc(n);v&&!FI(v,M)&&t(),v=M,b=requestAnimationFrame(w)}return t(),()=>{var M;f.forEach(k=>{i&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),p==null||p(),(M=y)==null||M.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const G7=R7,X7=O7,__=T7,J7=(n,e,t)=>{const r=new Map,i={platform:q7,...t},s={...i.platform,_c:r};return k7(n,e,{...i,platform:s})};var Z7=typeof document<"u",eW=function(){},ly=Z7?D.useLayoutEffect:eW;function Jy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Jy(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Jy(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function zI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function A_(n,e){const t=zI(n);return Math.round(e*t)/t}function h1(n){const e=D.useRef(n);return ly(()=>{e.current=n}),e}function tW(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=n,[f,p]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=D.useState(r);Jy(m,r)||y(r);const[b,v]=D.useState(null),[w,M]=D.useState(null),k=D.useCallback(J=>{J!==P.current&&(P.current=J,v(J))},[]),E=D.useCallback(J=>{J!==N.current&&(N.current=J,M(J))},[]),A=s||b,T=o||w,P=D.useRef(null),N=D.useRef(null),_=D.useRef(f),L=c!=null,I=h1(c),V=h1(i),q=h1(d),ae=D.useCallback(()=>{if(!P.current||!N.current)return;const J={placement:e,strategy:t,middleware:m};V.current&&(J.platform=V.current),J7(P.current,N.current,J).then(ce=>{const j={...ce,isPositioned:q.current!==!1};de.current&&!Jy(_.current,j)&&(_.current=j,Yl.flushSync(()=>{p(j)}))})},[m,e,t,V,q]);ly(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(J=>({...J,isPositioned:!1})))},[d]);const de=D.useRef(!1);ly(()=>(de.current=!0,()=>{de.current=!1}),[]),ly(()=>{if(A&&(P.current=A),T&&(N.current=T),A&&T){if(I.current)return I.current(A,T,ae);ae()}},[A,T,ae,I,L]);const oe=D.useMemo(()=>({reference:P,floating:N,setReference:k,setFloating:E}),[k,E]),F=D.useMemo(()=>({reference:A,floating:T}),[A,T]),U=D.useMemo(()=>{const J={position:t,left:0,top:0};if(!F.floating)return J;const ce=A_(F.floating,f.x),j=A_(F.floating,f.y);return a?{...J,transform:"translate("+ce+"px, "+j+"px)",...zI(F.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:j}},[t,a,F.floating,f.x,f.y]);return D.useMemo(()=>({...f,update:ae,refs:oe,elements:F,floatingStyles:U}),[f,ae,oe,F,U])}const nW=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?__({element:r.current,padding:i}).fn(t):{}:r?__({element:r,padding:i}).fn(t):{}}}},rW=(n,e)=>({...G7(n),options:[n,e]}),iW=(n,e)=>({...X7(n),options:[n,e]}),sW=(n,e)=>({...nW(n),options:[n,e]}),oW={...tL};let R_=!1,aW=0;const N_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aW++;function lW(){const[n,e]=D.useState(()=>R_?N_():void 0);return Xy(()=>{n==null&&e(N_())},[]),D.useEffect(()=>{R_=!0},[]),n}const cW=oW.useId,VI=cW||lW,uW=D.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:c=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:p,stroke:m,d:y,style:{transform:b,...v}={},...w}=e,M=VI(),[k,E]=D.useState(!1);if(Xy(()=>{if(!i)return;Ni(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[A,T]=r.split("-"),P=A==="top"||A==="bottom";let N=p;(P&&o!=null&&o.x||!P&&o!=null&&o.y)&&(N=null);const _=f*2,L=_/2,I=a/2*(d/-8+1),V=c/2*d/4,q=!!y,ae=N&&T==="end"?"bottom":"top";let de=N&&T==="end"?"right":"left";N&&k&&(de=T==="end"?"left":"right");const oe=(s==null?void 0:s.x)!=null?N||s.x:"",F=(s==null?void 0:s.y)!=null?N||s.y:"",U=y||"M0,0"+(" H"+a)+(" L"+(a-I)+","+(c-V))+(" Q"+a/2+","+c+" "+I+","+(c-V))+" Z",J={top:q?"rotate(180deg)":"",left:q?"rotate(90deg)":"rotate(-90deg)",bottom:q?"":"rotate(180deg)",right:q?"rotate(-90deg)":"rotate(90deg)"}[A];return C.jsxs("svg",{...w,"aria-hidden":!0,ref:t,width:q?a:a+_,height:a,viewBox:"0 0 "+a+" "+(c>a?c:a),style:{position:"absolute",pointerEvents:"none",[de]:oe,[ae]:F,[A]:P||q?"100%":"calc(100% - "+_/2+"px)",transform:[J,b].filter(ce=>!!ce).join(" "),...v},children:[_>0&&C.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:m,strokeWidth:_+(y?0:1),d:U}),C.jsx("path",{stroke:_&&!y?w.fill:"none",d:U}),C.jsx("clipPath",{id:M,children:C.jsx("rect",{x:-L,y:L*(q?-1:1),width:a+_,height:a})})]})});function dW(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const fW=D.createContext(null),hW=D.createContext(null),pW=()=>{var n;return((n=D.useContext(fW))==null?void 0:n.id)||null},mW=()=>D.useContext(hW);function gW(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=VI(),s=D.useRef({}),[o]=D.useState(()=>dW()),a=pW()!=null,[c,d]=D.useState(r.reference),f=C7((y,b,v)=>{s.current.openEvent=y?b:void 0,o.emit("openchange",{open:y,event:b,reason:v,nested:a}),t==null||t(y,b,v)}),p=D.useMemo(()=>({setPositionReference:d}),[]),m=D.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return D.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:m,events:o,floatingId:i,refs:p}),[e,f,m,o,i,p])}function yW(n){n===void 0&&(n={});const{nodeId:e}=n,t=gW({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=D.useState(null),[a,c]=D.useState(null),f=(i==null?void 0:i.domReference)||s,p=D.useRef(null),m=mW();Xy(()=>{f&&(p.current=f)},[f]);const y=tW({...n,elements:{...i,...a&&{reference:a}}}),b=D.useCallback(E=>{const A=Er(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;c(A),y.refs.setReference(A)},[y.refs]),v=D.useCallback(E=>{(Er(E)||E===null)&&(p.current=E,o(E)),(Er(y.refs.reference.current)||y.refs.reference.current===null||E!==null&&!Er(E))&&y.refs.setReference(E)},[y.refs]),w=D.useMemo(()=>({...y.refs,setReference:v,setPositionReference:b,domReference:p}),[y.refs,v,b]),M=D.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),k=D.useMemo(()=>({...y,...r,refs:w,elements:M,nodeId:e}),[y,w,M,e,r]);return Xy(()=>{r.dataRef.current.floatingContext=k;const E=m==null?void 0:m.nodesRef.current.find(A=>A.id===e);E&&(E.context=k)}),D.useMemo(()=>({...y,context:k,refs:w,elements:M}),[y,w,M,k])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var nS=function(e,t){return nS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},nS(e,t)};function $n(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dt=function(){return dt=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dt.apply(this,arguments)};function ks(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var bW=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return $.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},vW=function(n,e){var t=D.useRef(null),r=D.useRef(n);r.current=n;var i=D.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;t.current&&!t.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return D.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},rb=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,o=n.ignoreClass,a=vW(t,o);return $.createElement("div",{className:r,style:s,ref:function(c){a.current=c,i&&(i.current=c)}},e)},ge;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(ge||(ge={}));function ZM(){var n=typeof window<"u"?window:globalThis;return n}var jp=12;function vt(n){if(n==null)return new Date;var e=typeof n=="string"?jY(n):Me(n);return ib(e)?e:new Date}function p1(n,e,t,r,i){i===void 0&&(i=vt());for(var s=bd(t)||bd(eD()),o=Array.isArray(e)?e:[e],a=0,c=o;a<c.length;a++){var d=c[a],f=AY(n,d,i,{locale:s});if(ib(f)&&(!r||n===Yt(f,d,t)))return f}return null}function ib(n,e){return Uy(n)&&!tl(n,new Date("1/1/1800"))}function Yt(n,e,t){if(t==="en")return cr(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?bd(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||bd(eD()),cr(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ci(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Yt(n,i,r)||""}var HI=" - ";function xW(n,e,t){if(!n)return"";var r=Ci(n,t),i=e?Ci(e,t):"";return"".concat(r).concat(HI).concat(i)}function wW(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?Ci(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=Ci(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function m1(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return sy(oy(ay(n,a),s),r)}function SW(n){return UM(n)}function MW(n,e){return Yt(n,"ddd",e)}function cy(n){return jo(n)}function qa(n,e,t){var r=bd(e||eD());return Is(n,{locale:r,weekStartsOn:t})}function Ao(n){return HM(n)}function lh(n){return J0(n)}function P_(n){return Xw(n)}function L_(){return jo(vt())}function I_(n){return yI(n)}function DW(n){return vI(n)}function CW(n){return VM(n)}function xs(n,e){return n&&e?LY(n,e):!n&&!e}function Cr(n,e){return n&&e?NY(n,e):!n&&!e}function Zy(n,e){return n&&e?PY(n,e):!n&&!e}function ut(n,e){return n&&e?B9(n,e):!n&&!e}function Ql(n,e){return n&&e?DI(n,e):!n&&!e}function ch(n,e,t){var r,i=jo(e),s=yI(t);try{r=Wh(n,{start:i,end:s})}catch{r=!1}return r}function UI(n,e){var t=ZM();t.__localeData__||(t.__localeData__={}),t.__localeData__[n]=e}function eD(){var n=ZM();return n.__localeId__}function bd(n){if(typeof n=="string"){var e=ZM();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function kW(n,e,t){return e(Yt(n,"EEEE",t))}function EW(n,e){return Yt(n,"EEEEEE",e)}function TW(n,e){return Yt(n,"EEE",e)}function tD(n,e){return Yt(ki(vt(),n),"LLLL",e)}function $I(n,e){return Yt(ki(vt(),n),"LLL",e)}function OW(n,e){return Yt(Nu(vt(),n),"QQQ",e)}function Oi(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,c=t.includeDateIntervals,d=t.filterDate;return Bp(n,{minDate:r,maxDate:i})||s&&s.some(function(f){return f instanceof Date?ut(n,f):ut(n,f.date)})||o&&o.some(function(f){var p=f.start,m=f.end;return Wh(n,{start:p,end:m})})||a&&!a.some(function(f){return ut(n,f)})||c&&!c.some(function(f){var p=f.start,m=f.end;return Wh(n,{start:p,end:m})})||d&&!d(vt(n))||!1}function nD(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Wh(n,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?ut(n,s):ut(n,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function YI(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return Bp(n,{minDate:r?HM(r):void 0,maxDate:i?VM(i):void 0})||(s==null?void 0:s.some(function(c){return Cr(n,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Cr(n,c)})||a&&!a(vt(n))||!1}function yg(n,e,t,r){var i=Ke(n),s=fr(n),o=Ke(e),a=fr(e),c=Ke(r);return i===o&&i===c?s<=t&&t<=a:i<o?c===i&&s<=t||c===o&&a>=t||c<o&&c>i:!1}function _W(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates;return Bp(n,{minDate:r,maxDate:i})||s&&s.some(function(a){return Cr(a instanceof Date?a:a.date,n)})||o&&!o.some(function(a){return Cr(a,n)})||!1}function bg(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return Bp(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return Zy(n,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Zy(n,c)})||a&&!a(vt(n))||!1}function vg(n,e,t){if(!e||!t||!Uy(e)||!Uy(t))return!1;var r=Ke(e),i=Ke(t);return r<=n&&i>=n}function uy(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate,c=new Date(n,0,1);return Bp(c,{minDate:r?J0(r):void 0,maxDate:i?bI(i):void 0})||(s==null?void 0:s.some(function(d){return xs(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return xs(c,d)})||a&&!a(vt(c))||!1}function xg(n,e,t,r){var i=Ke(n),s=hc(n),o=Ke(e),a=hc(e),c=Ke(r);return i===o&&i===c?s<=t&&t<=a:i<o?c===i&&s<=t||c===o&&a>=t||c<o&&c>i:!1}function Bp(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&hd(n,i)<0||s&&hd(n,s)>0)!==null&&t!==void 0?t:!1}function j_(n,e){return e.some(function(t){return Oo(t)===Oo(n)&&_o(t)===_o(n)&&Ya(t)===Ya(n)})}function B_(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&j_(n,r)||i&&!j_(n,i)||s&&!s(n)||!1}function F_(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=vt();i=sy(i,Oo(n)),i=oy(i,_o(n)),i=ay(i,Ya(n));var s=vt();s=sy(s,Oo(t)),s=oy(s,_o(t)),s=ay(s,Ya(t));var o=vt();o=sy(o,Oo(r)),o=oy(o,_o(r)),o=ay(o,Ya(r));var a;try{a=!Wh(i,{start:s,end:o})}catch{a=!1}return a}function z_(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Wa(n,1);return r&&$y(r,s)>0||i&&i.every(function(o){return $y(o,s)>0})||!1}function V_(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=hr(n,1);return r&&$y(s,r)>0||i&&i.every(function(o){return $y(s,o)>0})||!1}function AW(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=J0(n),o=_I(s);return r&&Yy(r,o)>0||i&&i.every(function(a){return Yy(a,o)>0})||!1}function RW(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=bI(n),o=zM(s,1);return r&&Yy(o,r)>0||i&&i.every(function(a){return Yy(o,a)>0})||!1}function H_(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=pd(n,1);return r&&Wy(r,s)>0||i&&i.every(function(o){return Wy(o,s)>0})||!1}function NW(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?jp:i,o=lh(pd(n,s)),a=Ia(o,s).endPeriod,c=r&&Ke(r);return c&&c>a||!1}function U_(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Eo(n,1);return r&&Wy(s,r)>0||i&&i.every(function(o){return Wy(s,o)>0})||!1}function PW(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?jp:i,o=Eo(n,s),a=Ia(o,s).startPeriod,c=r&&Ke(r);return c&&c<a||!1}function WI(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return hd(i,e)>=0});return g_(r)}else return t?g_(t):e}function qI(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return hd(i,e)<=0});return m_(r)}else return t?m_(t):e}function $_(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var o=n[i];if(To(o)){var a=Yt(o,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(e)||(c.push(e),r.set(a,c))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",p=o[f];if(typeof f=="string"&&Array.isArray(p))for(var m=0,y=p.length;m<y;m++){var b=p[m];if(b){var a=Yt(b,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(f)||(c.push(f),r.set(a,c))}}}}return r}function LW(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function IW(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(To(i)){var o=Yt(i,"MM.dd.yyyy"),a=t.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&LW(a.holidayNames,[s]))){a.className=e;var c=a.holidayNames;a.holidayNames=c?ks(ks([],c,!0),[s],!1):[s],t.set(o,a)}}}),t}function jW(n,e,t,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var c=n,d=i[a];d&&(c=P9(c,Oo(d)),c=Gw(c,_o(d)),c=j9(c,Ya(d)));var f=Gw(n,(t+1)*r);el(c,e)&&tl(c,f)&&d!=null&&o.push(d)}return o}function Y_(n){return n<10?"0".concat(n):"".concat(n)}function Ia(n,e){e===void 0&&(e=jp);var t=Math.ceil(Ke(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function BW(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function W_(n){var e=n.getSeconds(),t=n.getMilliseconds();return Me(n.getTime()-e*1e3-t)}function FW(n,e){return W_(n).getTime()===W_(e).getTime()}function q_(n){if(!To(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function K_(n,e){if(!To(n)||!To(e))throw new Error("Invalid date received");var t=q_(n),r=q_(e);return tl(t,r)}function KI(n){return n.key===ge.Space}var zW=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=$.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,c=a instanceof Date&&!isNaN(+a),d=c?a:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),p=f[0],m=f[1];d.setHours(Number(p)),d.setMinutes(Number(m))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,d)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,c=s.customTimeInput;return c?D.cloneElement(c,{date:o,value:i,onChange:r.onTimeChange}):$.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return $.createElement("div",{className:"react-datepicker__input-time-container"},$.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),$.createElement("div",{className:"react-datepicker-time__input-container"},$.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(D.Component),VW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=D.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===ge.Space&&(r.preventDefault(),r.key=ge.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return ut(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Oi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return nD(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ut(t.props.day,qa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&ut(r,qa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Yt(i,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Yt(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ch(i,s,o)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,c=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,p=i.endDate,m=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(o||a||c)||!m||!d&&t.isDisabled()?!1:o&&p&&(tl(m,p)||Ql(m,p))?ch(s,m,p):a&&f&&(el(m,f)||Ql(m,f))||c&&f&&!p&&(el(m,f)||Ql(m,f))?ch(s,f,m):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.startDate,a=i.selectsStart,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?ut(s,c):ut(s,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.endDate,a=i.selectsEnd,c=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a||c?ut(s,d):ut(s,o)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ut(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ut(o,i)},t.isWeekend=function(){var r=N$(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===fr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(fr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(vt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return Zn("react-datepicker__day",i,"react-datepicker__day--"+MW(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,c=a===void 0?"Not available":a,d=t.isDisabled()||t.isExcluded()?c:o;return"".concat(d," ").concat(Yt(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,c=Yt(i,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),t.isExcluded()&&d.push(a==null?void 0:a.filter(function(f){return f instanceof Date?ut(f,i):ut(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&ut(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(S_(t.props.day),t.props.day):S_(t.props.day)},t.render=function(){return $.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&$.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(D.Component),HW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=D.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===ge.Space&&(r.preventDefault(),r.key=ge.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ut(t.props.date,t.props.selected)&&ut(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ut(t.props.date,t.props.selected)&&ut(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ut(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&ut(this.props.date,this.props.selected)};return $.createElement("div",{ref:this.weekNumberEl,className:Zn(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(D.Component),UW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return Oi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var o,a,c,d=new Date(r),f=0;f<7;f++){var p=new Date(r);p.setDate(p.getDate()+f);var m=!t.isDisabled(p);if(m){d=p;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(a=t.props).setOpen)===null||c===void 0||c.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):SW(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Ln(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=Ln(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push($.createElement(HW,dt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var c=Ln(r,a);return $.createElement(VW,dt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return qa(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ut(t.startOfWeek(),t.props.selected)&&ut(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ut(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{className:Zn(t)},this.renderDays())},e}(D.Component),Qf,$W=6,Ku={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},g1=(Qf={},Qf[Ku.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Qf[Ku.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Qf[Ku.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Qf),wg=1;function Q_(n,e){return n?Ku.FOUR_COLUMNS:e?Ku.TWO_COLUMNS:Ku.THREE_COLUMNS}var YW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ks([],Array(12),!0).map(function(){return D.createRef()}),t.QUARTER_REFS=ks([],Array(4),!0).map(function(){return D.createRef()}),t.isDisabled=function(r){return Oi(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return nD(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Cr(ki(s,r),o)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Zy(Nu(s,r),o)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Cr(ki(s,r),a)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Zy(Nu(s,r),a)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate,m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||c||d)||!m?!1:a&&p?yg(m,p,r,o):c&&f||d&&f&&!p?yg(f,m,r,o):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.startDate,c=s.selectsStart,d=ki(o,r),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?Cr(d,f):Cr(d,a)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.endDate,c=s.selectsEnd,d=s.selectsRange,f=ki(o,r),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||d?Cr(f,p):Cr(f,a)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate,m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||c||d)||!m?!1:a&&p?xg(m,p,r,o):c&&f||d&&f&&!p?xg(f,m,r,o):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=Ln(r,6);return Cr(r,i)||Cr(s,i)},t.isCurrentMonth=function(r,i){return Ke(r)===Ke(vt())&&i===fr(vt())},t.isCurrentQuarter=function(r,i){return Ke(r)===Ke(vt())&&i===hc(vt())},t.isSelectedMonth=function(r,i,s){return fr(s)===i&&Ke(r)===Ke(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(o){return t.isSelectedMonth(r,i,o)})},t.isSelectedQuarter=function(r,i,s){return hc(r)===i&&Ke(r)===Ke(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,o=r.selectedDates,a=r.selectsMultiple,c=fr(i);return a?o==null?void 0:o.some(function(d){return t.isSelectedMonth(i,c,d)}):!!s&&t.isSelectedMonth(i,c,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,o=!1,a=qa(Ao(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(b){return t.props.showWeekPicker?qa(b,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(b){return t.props.showWeekPicker?qa(b,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,p=t.props.preSelection?c(t.props.preSelection):void 0;r.push($.createElement(UW,dt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:a,month:fr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:p,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,a=Hy(a,1);var m=i&&s>=$W,y=!i&&!t.isWeekInMonth(a);if(m||y)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||t.handleDayClick(Ao(a),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||t.handleDayMouseEnter(Ao(o))},t.handleMonthNavigation=function(r,i){var s,o,a,c;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,s){var o,a=t.props,c=a.selected,d=a.preSelection,f=a.setPreSelection,p=a.minDate,m=a.maxDate,y=a.showFourColumnMonthYearPicker,b=a.showTwoColumnMonthYearPicker;if(d){var v=Q_(y,b),w=t.getVerticalOffset(v),M=(o=g1[v])===null||o===void 0?void 0:o.grid,k=function(N,_,L){var I,V,q=_,ae=L;switch(N){case ge.ArrowRight:q=hr(_,wg),ae=L===11?0:L+wg;break;case ge.ArrowLeft:q=Wa(_,wg),ae=L===0?11:L-wg;break;case ge.ArrowUp:q=Wa(_,w),ae=!((I=M==null?void 0:M[0])===null||I===void 0)&&I.includes(L)?L+12-w:L-w;break;case ge.ArrowDown:q=hr(_,w),ae=!((V=M==null?void 0:M[M.length-1])===null||V===void 0)&&V.includes(L)?L-12+w:L+w;break}return{newCalculatedDate:q,newCalculatedMonth:ae}},E=function(N,_,L){for(var I=40,V=N,q=!1,ae=0,de=k(V,_,L),oe=de.newCalculatedDate,F=de.newCalculatedMonth;!q;){if(ae>=I){oe=_,F=L;break}if(p&&oe<p){V=ge.ArrowRight;var U=k(V,oe,F);oe=U.newCalculatedDate,F=U.newCalculatedMonth}if(m&&oe>m){V=ge.ArrowLeft;var U=k(V,oe,F);oe=U.newCalculatedDate,F=U.newCalculatedMonth}if(_W(oe,t.props)){var U=k(V,oe,F);oe=U.newCalculatedDate,F=U.newCalculatedMonth}else q=!0;ae++}return{newCalculatedDate:oe,newCalculatedMonth:F}};if(i===ge.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),f==null||f(c));return}var A=E(i,d,s),T=A.newCalculatedDate,P=A.newCalculatedMonth;switch(i){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:t.handleMonthNavigation(P,T);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=g1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,c=r.key;c!==ge.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,c,i),a&&a(r)},t.onQuarterClick=function(r,i){var s=Nu(t.props.day,i);bg(s,t.props)||t.handleDayClick(P_(s),r)},t.onQuarterMouseEnter=function(r){var i=Nu(t.props.day,r);bg(i,t.props)||t.handleDayMouseEnter(P_(i))},t.handleQuarterNavigation=function(r,i){var s,o,a,c;t.isDisabled(i)||t.isExcluded(i)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case ge.Enter:t.onQuarterClick(r,i),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case ge.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,zM(t.props.preSelection,1));break;case ge.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,_I(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,o=s.day,a=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,p=ki(o,r);return{isDisabled:(i=(a||c||d||f)&&YI(p,t.props))!==null&&i!==void 0?i:!1,labelDate:p}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,c=i.preSelection,d=i.monthClassName,f=d?d(ki(s,r)):void 0,p=t.getSelection();return Zn("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":p?t.isSelectMonthInList(s,r,p):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(s,r,c)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?yg(o,a,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=fr(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=hc(t.props.preSelection),s=bg(t.props.day,t.props),o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,c=a===void 0?"Not available":a,d=i.day,f=i.locale,p=ki(d,r),m=t.isDisabled(p)||t.isExcluded(p)?c:o;return"".concat(m," ").concat(Yt(p,"MMMM yyyy",f))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,c=i.selected,d=i.minDate,f=i.maxDate,p=i.excludeDates,m=i.includeDates,y=i.filterDate,b=i.preSelection,v=i.disabledKeyboardNavigation,w=(d||f||p||m||y)&&bg(Nu(s,r),t.props);return Zn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&b&&t.isSelectedQuarter(s,r,b)&&!w,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?xg(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,c=i.day,d=$I(r,a),f=tD(r,a);return o?o(r,d,f,c):s?f:d},t.getQuarterContent=function(r){var i,s=t.props,o=s.renderQuarterContent,a=s.locale,c=OW(r,a);return(i=o==null?void 0:o(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,c=i.selected,d=(r=g1[Q_(o,s)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,p){return $.createElement("div",{className:"react-datepicker__month-wrapper",key:p},f.map(function(m,y){return $.createElement("div",{ref:t.MONTH_REFS[m],key:y,onClick:function(b){t.onMonthClick(b,m)},onKeyDown:function(b){KI(b)&&(b.preventDefault(),b.key=ge.Enter),t.onMonthKeyDown(b,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(a,m)?"date":void 0,"aria-selected":c?t.isSelectedMonth(a,m,c):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,o=[1,2,3,4];return $.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,c){return $.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(d){t.onQuarterClick(d,a)},onKeyDown:function(d){t.onQuarterKeyDown(d,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":s?t.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(i,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return Zn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,a=o===void 0?"Month ":o,c=a?a.trim()+" ":"";return $.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Yt(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(D.Component),WW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return $.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?$.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return $.createElement(rb,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(D.Component),qW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return $.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return $.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return $.createElement(WW,dt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return $I(s,t.props.locale)}:function(s){return tD(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return $.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(D.Component);function KW(n,e){for(var t=[],r=Ao(n),i=Ao(e);!el(r,i);)t.push(vt(r)),r=hr(r,1);return t}var QW=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=Zw(i),o=xs(r.props.date,i)&&Cr(r.props.date,i);return $.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?$.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Yt(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:KW(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Zn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return $.createElement(rb,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(D.Component),GW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Ao(t.props.minDate),i=Ao(t.props.maxDate),s=[];!el(r,i);){var o=Zw(r);s.push($.createElement("option",{key:o,value:o},Yt(r,t.props.dateFormat,t.props.locale))),r=hr(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:Zw(Ao(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=Yt(t.props.date,t.props.dateFormat,t.props.locale);return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return $.createElement(QW,dt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=vt(r);xs(t.props.date,i)&&Cr(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(D.Component),XW=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&F_(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&B_(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&FW(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&F_(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&B_(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Oo(r)*3600+_o(r)*60+Ya(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,o;r.key===ge.Space&&(r.preventDefault(),r.key=ge.Enter),(r.key===ge.ArrowUp||r.key===ge.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ge.ArrowDown||r.key===ge.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ge.Enter&&t.handleClick(i),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||vt(),c=cy(a),d=t.props.injectTimes&&t.props.injectTimes.sort(function(w,M){return w.getTime()-M.getTime()}),f=60*BW(a),p=f/o,m=0;m<p;m++){var y=Gw(c,m*o);if(i.push(y),d){var b=jW(c,y,m,o,d);i=i.concat(b)}}var v=i.reduce(function(w,M){return M.getTime()<=a.getTime()?M:w},i[0]);return i.map(function(w){return $.createElement("li",{key:w.valueOf(),onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(M){w===v&&(t.centerLi=M)},onKeyDown:function(M){t.handleOnKeyDown(M,w)},tabIndex:w===v?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},Yt(w,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?$.createElement($.Fragment,null):$.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},$.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return $.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),$.createElement("div",{className:"react-datepicker__time"},$.createElement("div",{className:"react-datepicker__time-box"},$.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(D.Component),G_=3,JW=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ks([],Array(r.props.yearItemNumber),!0).map(function(){return D.createRef()}),r.isDisabled=function(i){return Oi(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return nD(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,c,d,f=r.props,p=f.date,m=f.yearItemNumber;if(!(p===void 0||m===void 0)){var y=Ia(p,m).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-y<0?r.updateFocusOnPaginate(m-(y-i)):i-y>=m?r.updateFocusOnPaginate(Math.abs(m-(i-y))):(d=(c=r.YEAR_REFS[i-y])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,s){return ut(i,s)},r.isCurrentYear=function(i){return i===Ke(vt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&xs(gs(vt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&xs(gs(vt(),i),r.props.endDate)},r.isInRange=function(i){return vg(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate;return!(o||a||c)||!r.selectingDate()?!1:o&&f?vg(i,r.selectingDate(),f):a&&d||c&&d&&!f?vg(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,c=o.selectsStart,d=gs(vt(),i);return c?xs(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):xs(d,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,c=o.selectsEnd,d=o.selectsRange,f=gs(vt(),i);return c||d?xs(f,(s=r.selectingDate())!==null&&s!==void 0?s:null):xs(f,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,c=s.excludeDates,d=s.includeDates,f=s.filterDate,p=lh(gs(r.props.date,i)),m=(o||a||c||d||f)&&uy(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ut(p,lh(r.props.selected))&&ut(p,lh(r.props.preSelection))&&!m}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(d){return i===Ke(d)}):!!a&&i===Ke(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(lh(gs(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,c=i.key,d=r.props,f=d.date,p=d.yearItemNumber,m=d.handleOnKeyDown;if(c!==ge.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case ge.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case ge.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Eo(r.props.preSelection,1));break;case ge.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,pd(r.props.preSelection,1));break;case ge.ArrowUp:{if(f===void 0||p===void 0||r.props.preSelection==null)break;var y=Ia(f,p).startPeriod,b=G_,v=s-b;if(v<y){var w=p%b;s>=y&&s<y+w?b=w:b+=w,v=s-b}r.handleYearNavigation(v,pd(r.props.preSelection,b));break}case ge.ArrowDown:{if(f===void 0||p===void 0||r.props.preSelection==null)break;var M=Ia(f,p).endPeriod,b=G_,v=s+b;if(v>M){var w=p%b;s<=M&&s>M-w?b=w:b+=w,v=s+b}r.handleYearNavigation(v,Eo(r.props.preSelection,b));break}}m&&m(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,p=s.filterDate,m=s.yearClassName;return Zn("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(gs(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||c||d||f||p)&&uy(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=Ke(r.props.preSelection),o=uy(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,c=i.onYearMouseLeave;if(s===void 0)return null;for(var d=Ia(s,o),f=d.startPeriod,p=d.endPeriod,m=function(v){r.push($.createElement("div",{ref:y.YEAR_REFS[v-f],onClick:function(w){t.onYearClick(w,v)},onKeyDown:function(w){KI(w)&&(w.preventDefault(),w.key=ge.Enter),t.onYearKeyDown(w,v)},tabIndex:Number(y.getYearTabIndex(v)),className:y.getYearClassNames(v),onMouseEnter:y.props.usePointerEvent?void 0:function(w){return a(w,v)},onPointerEnter:y.props.usePointerEvent?function(w){return a(w,v)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(w){return c(w,v)},onPointerLeave:y.props.usePointerEvent?function(w){return c(w,v)}:void 0,key:v,"aria-current":y.isCurrentYear(v)?"date":void 0},y.getYearContent(v)))},y=this,b=f;b<=p;b++)m(b);return $.createElement("div",{className:"react-datepicker__year"},$.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(D.Component);function ZW(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var o=n+e-s,a=!0;t&&(a=Ke(t)<=o),r&&a&&(a=Ke(r)>=o),a&&i.push(o)}return i}var eq=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var a=r.props.year,c=r.state.yearsList.map(function(p){return $.createElement("div",{className:a===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:r.onChange.bind(r,p),"aria-selected":a===p?"true":void 0},a===p?$.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",p)}),d=r.props.minDate?Ke(r.props.minDate):null,f=r.props.maxDate?Ke(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(p){return p===f}))&&c.unshift($.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(p){return p===d}))&&c.push($.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var c=r.state.yearsList.map(function(d){return d+a});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:ZW(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=D.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Zn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return $.createElement(rb,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(D.Component),tq=function(n){$n(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Ke(t.props.minDate):1900,i=t.props.maxDate?Ke(t.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push($.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},$.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return $.createElement(eq,dt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(D.Component),nq=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],rq=function(n){var e=(n.className||"").split(/\s+/);return nq.some(function(t){return e.indexOf(t)>=0})},iq=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;rq(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,c=WI(r.props),d=qI(r.props),f=vt(),p=a||o||s;return p||(c&&tl(f,c)?c:d&&el(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:hr(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Wa(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:gs(vt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,c;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(a=r.props).setOpen)===null||c===void 0||c.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Oi(i,r.props))return i;for(var s=Ao(i),o=CW(i),a=F9(o,s),c=null,d=0;d<=a;d++){var f=Ln(s,d);if(!Oi(f,r.props)){c=f;break}}return c},r.handleMonthChange=function(i){var s,o,a,c=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:gs(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:ki(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:gs(ki(o,fr(i)),Ke(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=qa(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push($.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var c=Ln(s,a),d=r.formatWeekday(c,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return $.createElement("div",{key:a,"aria-label":Yt(c,"EEEE",r.props.locale),className:Zn("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?kW(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?TW(i,s):EW(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:pd(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=Wa(r.state.date,d),p;switch(!0){case r.props.showMonthYearPicker:p=H_(r.state.date,r.props);break;case r.props.showYearPicker:p=NW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:p=AW(r.state.date,r.props);break;default:p=z_(f,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&p||r.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),p&&r.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),b=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,M=w.previousMonthButtonLabel,k=M===void 0?e.defaultProps.previousMonthButtonLabel:M,E=w.previousYearButtonLabel,A=E===void 0?e.defaultProps.previousYearButtonLabel:E,T=r.props,P=T.previousMonthAriaLabel,N=P===void 0?typeof k=="string"?k:"Previous Month":P,_=T.previousYearAriaLabel,L=_===void 0?typeof A=="string"?A:"Previous Year":_;return $.createElement("button",{type:"button",className:y.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?L:N},$.createElement("span",{className:m.join(" ")},v?A:k))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Eo(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=U_(r.state.date,r.props);break;case r.props.showYearPicker:s=PW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=RW(r.state.date,r.props);break;default:s=V_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,p=f.nextMonthButtonLabel,m=p===void 0?e.defaultProps.nextMonthButtonLabel:p,y=f.nextYearButtonLabel,b=y===void 0?e.defaultProps.nextYearButtonLabel:y,v=r.props,w=v.nextMonthAriaLabel,M=w===void 0?typeof m=="string"?m:"Next Month":w,k=v.nextYearAriaLabel,E=k===void 0?typeof b=="string"?b:"Next Year":k;return $.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?E:M},$.createElement("span",{className:a.join(" ")},d?b:m))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),$.createElement("h2",{className:s.join(" ")},Yt(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return $.createElement(tq,dt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ke(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return $.createElement(qW,dt({},e.defaultProps,r.props,{month:fr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return $.createElement(GW,dt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(L_(),i),r.props.setPreSelection&&r.props.setPreSelection(L_())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return $.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return $.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),$.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),$.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=z_(r.state.date,r.props),f=V_(r.state.date,r.props),p=H_(r.state.date,r.props),m=U_(r.state.date,r.props),y=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return $.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,dt(dt({},r.state),{customHeaderCount:c,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:p,nextYearButtonDisabled:m})),y&&$.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,f=Ia(s,d),p=f.startPeriod,m=f.endPeriod;return $.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(p," - ").concat(m):Ke(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,c={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Eo(r.state.date,c):Wa(r.state.date,c),f=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,p=0;p<a;++p){var m=p-f+c,y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Eo(d,m):hr(d,m),b="month-".concat(p),v=p<a-1,w=p>0;o.push($.createElement("div",{key:b,ref:function(M){r.monthContainer=M??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:y,i:p}),$.createElement(YW,dt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:y,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:p,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return $.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),$.createElement(JW,dt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return $.createElement(XW,dt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&ib(i)&&!!r.props.selected,o=s?"".concat(Y_(i.getHours()),":").concat(Y_(i.getMinutes())):"";if(r.props.showTimeInput)return $.createElement(zW,dt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Ia(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,c;return r.props.showYearPicker?c="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=Ke(r.state.date):c="".concat(tD(fr(r.state.date),r.props.locale)," ").concat(Ke(r.state.date)),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return $.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=D.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:jp}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!ut(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Cr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ut(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||bW;return $.createElement(rb,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},$.createElement("div",{style:{display:"contents"},ref:this.containerRef},$.createElement(t,{className:Zn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(D.Component),sq=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return $.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if($.isValidElement(e)){var o=e;return $.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return $.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},$.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},QI=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return wL.createPortal(this.props.children,this.el)},e}(D.Component),oq="[tabindex], a, button, input, select, textarea",aq=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},GI=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(oq),1,-1).filter(aq)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=D.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?$.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},$.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,$.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(D.Component);function lq(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=D.useRef(null),o=yW(dt({open:!i,whileElementsMounted:Q7,placement:t.popperPlacement,middleware:ks([iW({padding:15}),rW(10),sW({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=dt(dt({},t),{hidePopper:i,popperProps:dt(dt({},o),{arrowRef:s})});return $.createElement(n,dt({},a))};return e}var cq=function(n){$n(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,f=t.popperOnKeyDown,p=t.portalId,m=t.portalHost,y=t.popperProps,b=t.showArrow,v=void 0;if(!o){var w=Zn("react-datepicker-popper",r);v=$.createElement(GI,{enableTabLoop:d},$.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:w,"data-placement":y.placement,onKeyDown:f},a,b&&$.createElement(uW,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=D.createElement(this.props.popperContainer,{},v)),p&&!o&&(v=$.createElement(QI,{portalId:p,portalHost:m},v));var M=Zn("react-datepicker-wrapper",i);return $.createElement($.Fragment,null,$.createElement("div",{ref:y.refs.setReference,className:M},c),v)},e}(D.Component),uq=lq(cq),X_="react-datepicker-ignore-onclickoutside";function dq(n,e){return n&&e?fr(n)!==fr(e)||Ke(n)!==Ke(e):n!==e}var y1="Date input not valid.",XI=function(n){$n(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:vt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return ib(a)?ks(ks([],s,!0),[dt(dt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=WI(r.props),a=qI(r.props),c=o&&tl(s,cy(o))?o:a&&el(s,I_(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:$_(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(dt(dt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(dt(dt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:b1},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return To(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,c=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=d[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,d),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){r.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:fq});var m=r.props,y=m.selectsRange,b=m.startDate,v=m.endDate,w=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,M=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,k=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(y){var E=k.split(w.includes("-")?HI:"-",2).map(function(V){return V.trim()}),A=E[0],T=E[1],P=p1(A??"",w,r.props.locale,M),N=p1(T??"",w,r.props.locale,M),_=(b==null?void 0:b.getTime())!==(P==null?void 0:P.getTime()),L=(v==null?void 0:v.getTime())!==(N==null?void 0:N.getTime());if(!_&&!L||P&&Oi(P,r.props)||N&&Oi(N,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[P,N],p)}else{var I=p1(k,w,r.props.locale,M,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(I||!k)&&r.setSelected(I,p,!0)}}},r.handleSelect=function(i,s,o){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,c=a.startDate,d=a.endDate;c&&!d&&(r.props.swapRange||!K_(i,c))&&r.setOpen(!1)}}},r.setSelected=function(i,s,o,a){var c,d,f=i;if(r.props.showYearPicker){if(f!==null&&uy(Ke(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&YI(f,r.props))return}else if(f!==null&&Oi(f,r.props))return;var p=r.props,m=p.onChange,y=p.selectsRange,b=p.startDate,v=p.endDate,w=p.selectsMultiple,M=p.selectedDates,k=p.minTime,E=p.swapRange;if(!Ql(r.props.selected,f)||r.props.allowSameDay||y||w)if(f!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=m1(f,{hour:Oo(r.props.selected),minute:_o(r.props.selected),second:Ya(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&k&&(f=m1(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),y){var A=!b&&!v,T=b&&!v,P=b&&v;A?m==null||m([f,null],s):T&&(f===null?m==null||m([null,null],s):K_(f,b)?E?m==null||m([f,b],s):m==null||m([f,null],s):m==null||m([b,f],s)),P&&(m==null||m([f,null],s))}else if(w){if(f!==null)if(!(M!=null&&M.length))m==null||m([f],s);else{var N=M.some(function(L){return ut(L,f)});if(N){var _=M.filter(function(L){return!ut(L,f)});m==null||m(_,s)}else m==null||m(ks(ks([],M,!0),[f],!1),s)}}else m==null||m(f,s);o||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,f,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=To(r.props.minDate),o=To(r.props.maxDate),a=!0;if(i){var c=cy(i);if(s&&o)a=ch(i,r.props.minDate,r.props.maxDate);else if(s){var d=cy(r.props.minDate);a=el(i,d)||Ql(c,d)}else if(o){var f=I_(r.props.maxDate);a=tl(i,f)||Ql(c,f)}}a&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:m1(a,{hour:Oo(i),minute:_o(i)});r.setState({preSelection:c}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,c,d,f;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var p=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(p===ge.ArrowDown||p===ge.ArrowUp||p===ge.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(p===ge.ArrowDown||p===ge.ArrowUp){i.preventDefault();var m=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(m);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var b=vt(r.state.preSelection);p===ge.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===b1?(r.handleSelect(b,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):p===ge.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):p===ge.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:y1})}},r.onPortalKeyDown=function(i){var s=i.key;s===ge.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,c,d,f,p=r.props,m=p.minDate,y=p.maxDate,b=p.disabledKeyboardNavigation,v=p.showWeekPicker,w=p.shouldCloseOnSelect,M=p.locale,k=p.calendarStartDay,E=p.adjustDateOnChange,A=p.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!b){var T=i.key,P=i.shiftKey,N=vt(r.state.preSelection),_=function(oe,F){var U=F;switch(oe){case ge.ArrowRight:U=v?Hy(F,1):Ln(F,1);break;case ge.ArrowLeft:U=v?M_(F):IY(F);break;case ge.ArrowUp:U=M_(F);break;case ge.ArrowDown:U=Hy(F,1);break;case ge.PageUp:U=P?pd(F,1):Wa(F,1);break;case ge.PageDown:U=P?Eo(F,1):hr(F,1);break;case ge.Home:U=qa(F,M,k);break;case ge.End:U=DW(F);break}return U},L=function(oe,F){for(var U=40,J=oe,ce=!1,j=0,Z=_(oe,F);!ce;){if(j>=U){Z=F;break}m&&Z<m&&(J=ge.ArrowRight,Z=Oi(m,r.props)?_(J,Z):m),y&&Z>y&&(J=ge.ArrowLeft,Z=Oi(y,r.props)?_(J,Z):y),Oi(Z,r.props)?((J===ge.PageUp||J===ge.Home)&&(J=ge.ArrowRight),(J===ge.PageDown||J===ge.End)&&(J=ge.ArrowLeft),Z=_(J,Z)):ce=!0,j++}return Z};if(T===ge.Enter){i.preventDefault(),r.handleSelect(N,i),!w&&r.setPreSelection(N);return}else if(T===ge.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(a=r.props).onInputError)===null||c===void 0||c.call(a,{code:1,msg:y1});return}var I=null;switch(T){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:I=L(T,N);break}if(!I){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:y1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:b1}),E&&r.setSelected(I),r.setPreSelection(I),A){var V=fr(N),q=fr(I),ae=Ke(N),de=Ke(I);V!==q||ae!==de?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===ge.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:$.createElement(iq,dt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:IW(r.modifyHolidays()),outsideClickIgnoreClass:X_,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Ci(r.props.startDate,{dateFormat:d,locale:a}),". ").concat(r.props.endDate?"End date: "+Ci(r.props.endDate,{dateFormat:d,locale:a}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Ci(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?f="Selected year: ".concat(Ci(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?f="Selected month: ".concat(Ci(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Ci(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):f="Selected date: ".concat(Ci(r.props.selected,{dateFormat:d,locale:a})),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,s,o,a=Zn(r.props.className,(i={},i[X_]=r.state.open,i)),c=r.props.customInput||$.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,p=f.dateFormat,m=p===void 0?e.defaultProps.dateFormat:p,y=f.locale,b=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?xW(r.props.startDate,r.props.endDate,{dateFormat:m,locale:y}):r.props.selectsMultiple?wW((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:m,locale:y}):Ci(r.props.selected,{dateFormat:m,locale:y});return D.cloneElement(c,(s={},s[d]=function(v){r.input=v},s.value=b,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Zn(c.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,c=i.startDate,d=i.endDate,f=i.clearButtonTitle,p=i.clearButtonClassName,m=p===void 0?"":p,y=i.ariaLabelClose,b=y===void 0?"Close":y,v=i.selectedDates,w=i.readOnly;return s&&!w&&(a!=null||c!=null||d!=null||v!=null&&v.length)?$.createElement("button",{type:"button",className:Zn("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":b,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:jp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,o,a;t.inline&&dq(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:$_(this.props.highlightDates)}),!r.focused&&!Ql(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),$.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&$.createElement(sq,dt({icon:i,className:Zn(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?$.createElement(GI,{enableTabLoop:this.props.enableTabLoop},$.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=$.createElement(QI,dt({portalId:this.props.portalId},this.props),r)),$.createElement("div",null,this.renderInputContainer(),r)}return $.createElement(uq,dt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(D.Component),fq="input",b1="navigate";const hq={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},pq=(n,e,t)=>{let r;const i=hq[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?r+" 후":r+" 전":r},mq={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},gq={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yq={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},bq={date:Wu({formats:mq,defaultWidth:"full"}),time:Wu({formats:gq,defaultWidth:"full"}),dateTime:Wu({formats:yq,defaultWidth:"full"})},vq={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},xq=(n,e,t,r)=>vq[n],wq={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Sq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Mq={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Dq={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},Cq={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},kq={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Eq=(n,e)=>{const t=Number(n);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(t);case"date":return t+"일";default:return t+"번째"}},Tq={ordinalNumber:Eq,era:Ss({values:wq,defaultWidth:"wide"}),quarter:Ss({values:Sq,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ss({values:Mq,defaultWidth:"wide"}),day:Ss({values:Dq,defaultWidth:"wide"}),dayPeriod:Ss({values:Cq,defaultWidth:"wide",formattingValues:kq,defaultFormattingWidth:"wide"})},Oq=/^(\d+)(일|번째)?/i,_q=/\d+/i,Aq={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},Rq={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},Nq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},Pq={any:[/1/i,/2/i,/3/i,/4/i]},Lq={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},Iq={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},jq={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},Bq={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},Fq={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},zq={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Vq={ordinalNumber:xI({matchPattern:Oq,parsePattern:_q,valueCallback:n=>parseInt(n,10)}),era:Ms({matchPatterns:Aq,defaultMatchWidth:"wide",parsePatterns:Rq,defaultParseWidth:"any"}),quarter:Ms({matchPatterns:Nq,defaultMatchWidth:"wide",parsePatterns:Pq,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ms({matchPatterns:Lq,defaultMatchWidth:"wide",parsePatterns:Iq,defaultParseWidth:"any"}),day:Ms({matchPatterns:jq,defaultMatchWidth:"wide",parsePatterns:Bq,defaultParseWidth:"any"}),dayPeriod:Ms({matchPatterns:Fq,defaultMatchWidth:"any",parsePatterns:zq,defaultParseWidth:"any"})},rS={code:"ko",formatDistance:pq,formatLong:bq,formatRelative:xq,localize:Tq,match:Vq,options:{weekStartsOn:0,firstWeekContainsDate:1}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hq={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=(n,e,t,r)=>{const i=D.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:c,className:d,children:f,...p},m)=>D.createElement("svg",{ref:m,...Hq[n],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,d].join(" "),strokeWidth:a,stroke:s,...p},[c&&D.createElement("title",{key:"svg-title"},c),...r.map(([y,b])=>D.createElement(y,b)),...Array.isArray(f)?f:[f]]));return i.displayName=`${t}`,i};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],$q=JI("outline","chevron-left","ChevronLeft",Uq);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],Wq=JI("outline","chevron-right","ChevronRight",Yq),J_={IconChevronLeft:$q,IconChevronRight:Wq};function En({children:n,className:e="",variant:t="default",icon:r,onClick:i,...s}){return C.jsxs("button",{className:`button ${t} ${e}`,onClick:i,...s,children:[r&&$.createElement(r,{className:"button-icon"}),n]})}UI("ko",rS);function qq({data:n=[],selectedDate:e,onSelectDate:t,isLoggedIn:r}){const i=Kr(),s=ts(),o=D.useRef(null),a=e?new Date(e):new Date,c=FM(a);dI(a);const d=Array.from({length:7},(v,w)=>{const M=u1(c,w);return Wi(M)}),f=D.useMemo(()=>{const v={};return Array.isArray(n)&&n.forEach(w=>{const M=typeof w.date=="string"?w.date.slice(0,10):Wi(w.date);v[M]||(v[M]=[]),v[M].push(w)}),v},[n]),p=v=>{i()&&(t&&t(v),s(`/diary/date/${v}`,{state:{animationType:"none"}}))},m=()=>{const v=u1(c,-7),w=Wi(v);t==null||t(w),s(`/diary/date/${w}`,{state:{animationType:"none"}})},y=()=>{const v=u1(c,7),w=Wi(v);t==null||t(w),s(`/diary/date/${w}`,{state:{animationType:"none"}})},b=v=>{if(!v)return;const w=Wi(v);t==null||t(w),s(`/diary/date/${w}`,{state:{animationType:"none"}})};return C.jsxs("div",{className:"timeline-wrapper",children:[C.jsxs("div",{className:"timeline-controls",children:[C.jsxs(En,{variant:"button1",className:"week-range clickable",onClick:()=>{var v;return(v=o.current)==null?void 0:v.setOpen(!0)},children:[a.getFullYear(),"년 ",a.getMonth()+1,"월"]}),C.jsx("div",{className:"calendar-wrapper",children:C.jsx(XI,{selected:a,onChange:b,locale:"ko",maxDate:new Date,withPortal:!0,showPopperArrow:!1,ref:o,customInput:C.jsx(C.Fragment,{})})})]}),C.jsxs("div",{className:"timeline-cards",children:[C.jsx("button",{onClick:m,className:"week-nav-button","aria-label":"이전 주",children:C.jsx(J_.IconChevronLeft,{size:35,color:"var(--primary-color)"})}),d.map(v=>{const w=v===Wi(a),M=f[v]||[],k=M.some(P=>P.type==="diary"),E=M.some(P=>P.type==="sleep"),A=M.some(P=>P.type==="exercise"),T=M.some(P=>P.type==="meal");return C.jsxs("div",{className:`timeline-card ${w?"active":""}`,onClick:()=>p(v),children:[C.jsx("h4",{style:{color:new Date(v).getDay()===0?"#F2B5F1":new Date(v).getDay()===6?"#A2B8D0":"var(--primary-color)"},children:new Date(v).getDate()}),C.jsxs("div",{className:"card-icons",children:[r&&k&&C.jsx("span",{className:"diary",title:"일기"}),r&&E&&C.jsx("span",{className:"sleep",title:"수면"}),r&&A&&C.jsx("span",{className:"exercise",title:"운동"}),r&&T&&C.jsx("span",{className:"meal",title:"식사"})]})]},v)}),C.jsx("button",{onClick:y,className:"week-nav-button","aria-label":"이전 주",children:C.jsx(J_.IconChevronRight,{size:35,color:"var(--primary-color)"})})]})]})}const sb="/api/exercise";async function Kq(n){return(await Qe.get(sb,{params:{date:n}})).data}async function Qq(n){return(await Qe.post(sb,n)).data}async function Gq(n,e){return(await Qe.put(`${sb}/${n}`,e)).data}async function Xq(n){return(await Qe.delete(`${sb}/${n}`)).data}const wo=({placeholder:n,value:e,onChange:t,...r})=>C.jsx("input",{className:"input",type:"text",placeholder:n,value:e,onChange:t,...r});function ZI({date:n,onDataChange:e}){const t=Kr(),{user:r}=Un(),[i,s]=D.useState(!1),[o,a]=D.useState(null),[c,d]=D.useState(!0),[f,p]=D.useState({exerciseType:"",duration:"",intensity:""});D.useEffect(()=>{if(n){if(!r){s(!1),a(null),d(!0),p({exerciseType:"",duration:"",intensity:""});return}s(!0),Kq(n).then(v=>{a(v||null),v?(p({exerciseType:v.exerciseType||"",duration:v.duration||"",intensity:v.intensity||""}),d(!1)):(p({exerciseType:"",duration:"",intensity:""}),d(!0))}).catch(console.error).finally(()=>s(!1))}},[n]);const m=v=>{const{name:w,value:M}=v.target;p(k=>({...k,[w]:M}))},y=async()=>{if(t()){if(!n)return Je.error("날짜가 선택되지 않았습니다.");if(!f.exerciseType||!f.duration)return Je.error("모든 항목을 입력해주세요.");s(!0);try{let v;o&&o.exerciseId?v=await Gq(o.exerciseId,{exerciseDate:n,...f,duration:Number(f.duration),intensity:f.intensity}):v=await Qq({exerciseDate:n,...f,duration:Number(f.duration),intensity:f.intensity}),a(v),d(!1),Je.success("운동 기록이 저장되었습니다!"),typeof e=="function"&&e()}catch(v){console.error(v),Je.error("저장 중 오류가 발생했습니다.")}finally{s(!1)}}},b=async()=>{if(t()&&o!=null&&o.exerciseId&&window.confirm("정말 삭제하시겠습니까?")){s(!0);try{await Xq(o.exerciseId),a(null),d(!0),p({exerciseType:"",duration:"",intensity:""}),Je.success("운동 기록이 삭제되었습니다!"),e==null||e()}catch(v){console.error(v),Je.error("삭제 중 오류가 발생했습니다.")}finally{s(!1)}}};return C.jsxs("div",{className:"widget exercise-widget",children:[C.jsx("h4",{children:"운동기록"}),i&&C.jsx("p",{children:"로딩 중..."}),!i&&!c&&o&&C.jsxs("div",{children:[C.jsxs("div",{className:"exercise-details",children:[C.jsxs("p",{children:["종류: ",o.exerciseType]}),C.jsxs("p",{children:["시간: ",o.duration,"분"]}),C.jsxs("p",{children:["강도: ",o.intensity]})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[C.jsx(En,{variant:"button2",onClick:()=>d(!0),children:"수정"}),C.jsx(En,{variant:"button2",onClick:b,children:"삭제"})]})]}),!i&&(c||!o)&&C.jsxs("div",{children:[C.jsx(wo,{name:"exerciseType",type:"text",placeholder:"운동 종류",value:f.exerciseType,onChange:m}),C.jsx(wo,{name:"duration",type:"number",placeholder:"운동 시간(분)",value:f.duration,onChange:m,min:"1"}),C.jsx("label",{children:C.jsxs("select",{name:"intensity",value:f.intensity,onChange:m,children:[C.jsx("option",{value:"",children:"-- 강도선택 --"}),C.jsx("option",{value:"낮음",children:"낮음"}),C.jsx("option",{value:"중간",children:"중간"}),C.jsx("option",{value:"높음",children:"높음"})]})}),C.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[C.jsx(En,{variant:"button2",onClick:y,children:"저장"}),C.jsx(En,{variant:"button2",onClick:()=>{t()&&(d(!1),o||p({exerciseType:"",duration:"",intensity:""}))},children:"취소"})]})]})]})}const ob="/api/sleep";async function Jq(n){return(await Qe.get(ob,{params:{date:n}})).data}async function Zq(n){return(await Qe.post(ob,n)).data}async function eK(n,e){return(await Qe.put(`${ob}/${n}`,e)).data}async function tK(n){return(await Qe.delete(`${ob}/${n}`)).data}function ej({date:n,onDataChange:e}){const t=Kr(),{user:r}=Un(),[i,s]=D.useState(!1),[o,a]=D.useState(null),[c,d]=D.useState(!0),[f,p]=D.useState({bedtime:"",waketime:""});D.useEffect(()=>{if(n){if(!r){a(null),d(!0),p({bedtime:"",waketime:""}),s(!1);return}s(!0),Jq(n).then(v=>{a(v||null),v?(p({bedtime:v.bedtime||"",waketime:v.waketime||""}),d(!1)):(p({bedtime:"",waketime:""}),d(!0))}).catch(console.error).finally(()=>s(!1))}},[n]);const m=v=>{const{name:w,value:M}=v.target;p(k=>({...k,[w]:M}))},y=async()=>{if(t()){if(!n)return Je.error("날짜가 선택되지 않았습니다.");if(!f.bedtime||!f.waketime)return Je.error("취침 시간과 기상 시간을 모두 입력해주세요.");s(!0);try{let v;o&&o.sleepId?v=await eK(o.sleepId,{sleepDate:n,bedtime:f.bedtime,waketime:f.waketime}):v=await Zq({sleepDate:n,bedtime:f.bedtime,waketime:f.waketime}),a(v),d(!1),Je.success("수면 기록이 저장되었습니다!"),e==null||e()}catch(v){console.error(v),Je.error("저장 중 오류가 발생했습니다.")}finally{s(!1)}}},b=async()=>{if(t()&&o!=null&&o.sleepId&&window.confirm("정말 삭제하시겠습니까?")){s(!0);try{await tK(o.sleepId),a(null),p({bedtime:"",waketime:""}),d(!0),Je.success("수면 기록이 삭제되었습니다!"),e==null||e()}catch(v){console.error(v),Je.error("삭제 중 오류가 발생했습니다.")}finally{s(!1)}}};return C.jsxs("div",{className:"widget sleep-widget",children:[C.jsx("h4",{children:"수면 기록"}),i&&C.jsx("p",{children:"로딩 중..."}),!i&&!c&&o&&C.jsxs("div",{children:[C.jsxs("div",{className:"sleep-details",children:[C.jsxs("p",{children:["취침 시간: ",o.bedtime]}),C.jsxs("p",{children:["기상 시간: ",o.waketime]}),C.jsxs("p",{children:["수면 시간: ",o.totalHours," 시간"]})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[C.jsx(En,{variant:"button2",onClick:()=>d(!0),children:"수정"}),C.jsx(En,{variant:"button2",onClick:b,children:"삭제"})]})]}),!i&&(c||!o)&&C.jsxs("div",{children:[C.jsxs("div",{style:{marginBottom:"10px"},children:[C.jsxs("label",{className:"inline-label",children:[C.jsx("span",{children:"취침 "}),C.jsx(wo,{name:"bedtime",type:"time",value:f.bedtime,onChange:m,placeholder:"취침 시간"})]}),C.jsxs("label",{className:"inline-label",children:[C.jsx("span",{children:"기상 "}),C.jsx(wo,{name:"waketime",type:"time",value:f.waketime,onChange:m})]})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[C.jsx(En,{variant:"button2",onClick:y,children:"저장"}),C.jsx(En,{variant:"button2",onClick:()=>{t()&&(d(!1),o||p({bedtime:"",waketime:""}))},children:"취소"})]})]})]})}const ab="/api/meal";async function nK(n){return(await Qe.get(ab,{params:{date:n}})).data}async function rK(n){return(await Qe.post(ab,n)).data}async function iK(n,e){return(await Qe.put(`${ab}/${n}`,e)).data}async function sK(n){return(await Qe.delete(`${ab}/${n}`)).data}function tj({date:n,onDataChange:e}){const t=Kr(),{user:r}=Un(),[i,s]=D.useState(!1),[o,a]=D.useState(null),[c,d]=D.useState(!0),[f,p]=D.useState({breakfast:"",lunch:"",dinner:"",snack:""});D.useEffect(()=>{if(n){if(!r){s(!1),a(null),d(!0),p({breakfast:"",lunch:"",dinner:"",snack:""});return}s(!0),nK(n).then(v=>{a(v||null),v?(p({breakfast:v.breakfast||"",lunch:v.lunch||"",dinner:v.dinner||"",snack:v.snack||""}),d(!1)):(p({breakfast:"",lunch:"",dinner:"",snack:""}),d(!0))}).catch(console.error).finally(()=>s(!1))}},[n]);const m=v=>{const{name:w,value:M}=v.target;p(k=>({...k,[w]:M}))},y=async()=>{if(!t())return;if(!n)return Je.error("날짜가 선택되지 않았습니다.");if(!Object.values(f).some(w=>w.trim())){Je.error("최소 하나의 식사를 입력해주세요.");return}s(!0);try{let w;o&&o.mealId?w=await iK(o.mealId,{mealDate:n,...f}):w=await rK({mealDate:n,...f}),a(w),d(!1),Je.success("식사 기록이 저장되었습니다!"),e==null||e()}catch(w){console.error(w),Je.error("저장 중 오류가 발생했습니다.")}finally{s(!1)}},b=async()=>{if(t()&&o!=null&&o.mealId&&window.confirm("정말 삭제하시겠습니까?")){s(!0);try{await sK(o.mealId),a(null),p({breakfast:"",lunch:"",dinner:"",snack:""}),d(!0),Je.success("식사 기록이 삭제되었습니다!"),e==null||e()}catch(v){console.error(v),Je.error("삭제 중 오류가 발생했습니다.")}finally{s(!1)}}};return C.jsxs("div",{className:"widget meal-widget",children:[C.jsx("h4",{children:"식사 기록"}),i&&C.jsx("p",{children:"로딩 중..."}),!i&&!c&&o&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"meal-details",children:[o.breakfast&&C.jsxs("p",{children:["아침: ",o.breakfast]}),o.lunch&&C.jsxs("p",{children:["점심: ",o.lunch]}),o.dinner&&C.jsxs("p",{children:["저녁: ",o.dinner]}),o.snack&&C.jsxs("p",{children:["간식: ",o.snack]})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[C.jsx(En,{variant:"button2",onClick:()=>d(!0),children:"수정"}),C.jsx(En,{variant:"button2",onClick:b,children:"삭제"})]})]}),!i&&(c||!o)&&C.jsxs("div",{children:[C.jsx(wo,{name:"breakfast",type:"text",placeholder:"아침",value:f.breakfast,onChange:m}),C.jsx(wo,{name:"lunch",type:"text",placeholder:"점심",value:f.lunch,onChange:m}),C.jsx(wo,{name:"dinner",type:"text",placeholder:"저녁",value:f.dinner,onChange:m}),C.jsx(wo,{name:"snack",type:"text",placeholder:"간식",value:f.snack,onChange:m}),C.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[C.jsx(En,{variant:"button2",onClick:y,children:"저장"}),C.jsx(En,{variant:"button2",onClick:()=>{t()&&(d(!1),o||p({breakfast:"",lunch:"",dinner:"",snack:""}))},children:"취소"})]})]})]})}const en=Qe.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},withCredentials:!0});en.interceptors.response.use(n=>n,n=>(n.response&&n.response.status===401&&window.location.pathname!=="/"&&(alert("세션이 만료되었거나 로그인이 필요합니다. 다시 로그인해주세요."),window.location.href="/"),Promise.reject(n)));const nj=()=>en.get("/api/gallery"),Z_="/images/thumbnail.png",oK=()=>{const[n,e]=D.useState(Z_),t=Kr(),{openGallery:r}=LM();D.useEffect(()=>{nj().then(s=>{const o=s.data;if(o.length>0){const a=o[0],c=a.fileKey?`https://haeil-gallery-images-garamink.s3.ap-northeast-2.amazonaws.com/${a.fileKey}`:Z_;e(c)}}).catch(s=>{console.warn("갤러리 썸네일 로딩 실패 (무시됨)",s)})},[]);const i=()=>{t()&&r()};return C.jsx("div",{className:"gallery-thumbnail-wrapper",onClick:i,children:C.jsx("img",{src:n,alt:"갤러리 썸네일",className:"gallery-thumbnail-image"})})};function aK(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vd(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function rD(n){return"nodeType"in n}function Qr(n){var e,t;return n?Vd(n)?n:rD(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function iD(n){const{Document:e}=Qr(n);return n instanceof e}function Fp(n){return Vd(n)?!1:n instanceof Qr(n).HTMLElement}function rj(n){return n instanceof Qr(n).SVGElement}function Hd(n){return n?Vd(n)?n.document:rD(n)?iD(n)?n:Fp(n)||rj(n)?n.ownerDocument:document:document:document}const Bs=lb?D.useLayoutEffect:D.useEffect;function sD(n){const e=D.useRef(n);return Bs(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function lK(){const n=D.useRef(null),e=D.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=D.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Kh(n,e){e===void 0&&(e=[n]);const t=D.useRef(n);return Bs(()=>{t.current!==n&&(t.current=n)},e),t}function zp(n,e){const t=D.useRef();return D.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function e0(n){const e=sD(n),t=D.useRef(null),r=D.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function iS(n){const e=D.useRef();return D.useEffect(()=>{e.current=n},[n]),e.current}let v1={};function Vp(n,e){return D.useMemo(()=>{if(e)return e;const t=v1[n]==null?0:v1[n]+1;return v1[n]=t,n+"-"+t},[n,e])}function ij(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[c,d]of a){const f=s[c];f!=null&&(s[c]=f+n*d)}return s},{...e})}}const Qu=ij(1),t0=ij(-1);function cK(n){return"clientX"in n&&"clientY"in n}function oD(n){if(!n)return!1;const{KeyboardEvent:e}=Qr(n.target);return e&&n instanceof e}function uK(n){if(!n)return!1;const{TouchEvent:e}=Qr(n.target);return e&&n instanceof e}function sS(n){if(uK(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return cK(n)?{x:n.clientX,y:n.clientY}:null}const Qh=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Qh.Translate.toString(n),Qh.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),eA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dK(n){return n.matches(eA)?n:n.querySelector(eA)}const fK={display:"none"};function hK(n){let{id:e,value:t}=n;return $.createElement("div",{id:e,style:fK},t)}function pK(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function mK(){const[n,e]=D.useState("");return{announce:D.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const sj=D.createContext(null);function gK(n){const e=D.useContext(sj);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function yK(){const[n]=D.useState(()=>new Set),e=D.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[D.useCallback(r=>{let{type:i,event:s}=r;n.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[n]),e]}const bK={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vK={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function xK(n){let{announcements:e=vK,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=bK}=n;const{announce:s,announcement:o}=mK(),a=Vp("DndLiveRegion"),[c,d]=D.useState(!1);if(D.useEffect(()=>{d(!0)},[]),gK(D.useMemo(()=>({onDragStart(p){let{active:m}=p;s(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;e.onDragMove&&s(e.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(e.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(e.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(e.onDragCancel({active:m,over:y}))}}),[s,e])),!c)return null;const f=$.createElement($.Fragment,null,$.createElement(hK,{id:r,value:i.draggable}),$.createElement(pK,{id:a,announcement:o}));return t?Yl.createPortal(f,t):f}var Cn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Cn||(Cn={}));function n0(){}const Ji=Object.freeze({x:0,y:0});function wK(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function SK(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function MK(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function DK(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function tA(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const CK=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=tA(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,c=t.get(a);if(c){const d=wK(tA(c),i);s.push({id:a,data:{droppableContainer:o,value:d}})}}return s.sort(SK)};function kK(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),o=i-r,a=s-t;if(r<i&&t<s){const c=e.width*e.height,d=n.width*n.height,f=o*a,p=f/(c+d-f);return Number(p.toFixed(4))}return 0}const EK=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:o}=s,a=t.get(o);if(a){const c=kK(a,e);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(MK)};function TK(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function oj(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Ji}function OK(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+n*a.y,bottom:o.bottom+n*a.y,left:o.left+n*a.x,right:o.right+n*a.x}),{...t})}}const _K=OK(1);function AK(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function RK(n,e,t){const r=AK(e);if(!r)return n;const{scaleX:i,scaleY:s,x:o,y:a}=r,c=n.left-o-(1-i)*parseFloat(t),d=n.top-a-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),f=i?n.width/i:n.width,p=s?n.height/s:n.height;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c}}const NK={ignoreTransform:!1};function Ud(n,e){e===void 0&&(e=NK);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=Qr(n).getComputedStyle(n);d&&(t=RK(t,d,f))}const{top:r,left:i,width:s,height:o,bottom:a,right:c}=t;return{top:r,left:i,width:s,height:o,bottom:a,right:c}}function nA(n){return Ud(n,{ignoreTransform:!0})}function PK(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function LK(n,e){return e===void 0&&(e=Qr(n).getComputedStyle(n)),e.position==="fixed"}function IK(n,e){e===void 0&&(e=Qr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function aD(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(iD(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Fp(i)||rj(i)||t.includes(i))return t;const s=Qr(n).getComputedStyle(i);return i!==n&&IK(i,s)&&t.push(i),LK(i,s)?t:r(i.parentNode)}return n?r(n):t}function aj(n){const[e]=aD(n,1);return e??null}function x1(n){return!lb||!n?null:Vd(n)?n:rD(n)?iD(n)||n===Hd(n).scrollingElement?window:Fp(n)?n:null:null}function lj(n){return Vd(n)?n.scrollX:n.scrollLeft}function cj(n){return Vd(n)?n.scrollY:n.scrollTop}function oS(n){return{x:lj(n),y:cj(n)}}var Nn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Nn||(Nn={}));function uj(n){return!lb||!n?!1:n===document.scrollingElement}function dj(n){const e={x:0,y:0},t=uj(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,o=n.scrollTop>=r.y,a=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const jK={x:.2,y:.2};function BK(n,e,t,r,i){let{top:s,left:o,right:a,bottom:c}=t;r===void 0&&(r=10),i===void 0&&(i=jK);const{isTop:d,isBottom:f,isLeft:p,isRight:m}=dj(n),y={x:0,y:0},b={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+v.height?(y.y=Nn.Backward,b.y=r*Math.abs((e.top+v.height-s)/v.height)):!f&&c>=e.bottom-v.height&&(y.y=Nn.Forward,b.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!m&&a>=e.right-v.width?(y.x=Nn.Forward,b.x=r*Math.abs((e.right-v.width-a)/v.width)):!p&&o<=e.left+v.width&&(y.x=Nn.Backward,b.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:y,speed:b}}function FK(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function fj(n){return n.reduce((e,t)=>Qu(e,oS(t)),Ji)}function zK(n){return n.reduce((e,t)=>e+lj(t),0)}function VK(n){return n.reduce((e,t)=>e+cj(t),0)}function HK(n,e){if(e===void 0&&(e=Ud),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);aj(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const UK=[["x",["left","right"],zK],["y",["top","bottom"],VK]];class lD{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=aD(t),i=fj(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of UK)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=a(r),f=i[s]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function $K(n){const{EventTarget:e}=Qr(n);return n instanceof e?n:Hd(n)}function w1(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Ei;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ei||(Ei={}));function rA(n){n.preventDefault()}function YK(n){n.stopPropagation()}var gt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(gt||(gt={}));const hj={start:[gt.Space,gt.Enter],cancel:[gt.Esc],end:[gt.Space,gt.Enter,gt.Tab]},WK=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case gt.Right:return{...t,x:t.x+25};case gt.Left:return{...t,x:t.x-25};case gt.Down:return{...t,y:t.y+25};case gt.Up:return{...t,y:t.y-25}}};class pj{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new wh(Hd(t)),this.windowListeners=new wh(Qr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ei.Resize,this.handleCancel),this.windowListeners.add(Ei.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ei.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&HK(r),t(Ji)}handleKeyDown(e){if(oD(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=hj,coordinateGetter:o=WK,scrollBehavior:a="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:Ji;this.referenceCoordinates||(this.referenceCoordinates=f);const p=o(e,{active:t,context:r.current,currentCoordinates:f});if(p){const m=t0(p,f),y={x:0,y:0},{scrollableAncestors:b}=r.current;for(const v of b){const w=e.code,{isTop:M,isRight:k,isLeft:E,isBottom:A,maxScroll:T,minScroll:P}=dj(v),N=FK(v),_={x:Math.min(w===gt.Right?N.right-N.width/2:N.right,Math.max(w===gt.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(w===gt.Down?N.bottom-N.height/2:N.bottom,Math.max(w===gt.Down?N.top:N.top+N.height/2,p.y))},L=w===gt.Right&&!k||w===gt.Left&&!E,I=w===gt.Down&&!A||w===gt.Up&&!M;if(L&&_.x!==p.x){const V=v.scrollLeft+m.x,q=w===gt.Right&&V<=T.x||w===gt.Left&&V>=P.x;if(q&&!m.y){v.scrollTo({left:V,behavior:a});return}q?y.x=v.scrollLeft-V:y.x=w===gt.Right?v.scrollLeft-T.x:v.scrollLeft-P.x,y.x&&v.scrollBy({left:-y.x,behavior:a});break}else if(I&&_.y!==p.y){const V=v.scrollTop+m.y,q=w===gt.Down&&V<=T.y||w===gt.Up&&V>=P.y;if(q&&!m.x){v.scrollTo({top:V,behavior:a});return}q?y.y=v.scrollTop-V:y.y=w===gt.Down?v.scrollTop-T.y:v.scrollTop-P.y,y.y&&v.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,Qu(t0(p,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pj.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=hj,onActivation:i}=e,{active:s}=t;const{code:o}=n.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function iA(n){return!!(n&&"distance"in n)}function sA(n){return!!(n&&"delay"in n)}class cD{constructor(e,t,r){var i;r===void 0&&(r=$K(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:o}=s;this.props=e,this.events=t,this.document=Hd(o),this.documentListeners=new wh(this.document),this.listeners=new wh(r),this.windowListeners=new wh(Qr(o)),this.initialCoordinates=(i=sS(s))!=null?i:Ji,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ei.Resize,this.handleCancel),this.windowListeners.add(Ei.DragStart,rA),this.windowListeners.add(Ei.VisibilityChange,this.handleCancel),this.windowListeners.add(Ei.ContextMenu,rA),this.documentListeners.add(Ei.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sA(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(iA(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ei.Click,YK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ei.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const c=(t=sS(e))!=null?t:Ji,d=t0(i,c);if(!r&&a){if(iA(a)){if(a.tolerance!=null&&w1(d,a.tolerance))return this.handleCancel();if(w1(d,a.distance))return this.handleStart()}if(sA(a)&&w1(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===gt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const qK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mj extends cD{constructor(e){const{event:t}=e,r=Hd(t.target);super(e,qK,r)}}mj.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const KK={move:{name:"mousemove"},end:{name:"mouseup"}};var aS;(function(n){n[n.RightClick=2]="RightClick"})(aS||(aS={}));class QK extends cD{constructor(e){super(e,KK,Hd(e.event.target))}}QK.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===aS.RightClick?!1:(r==null||r({event:t}),!0)}}];const S1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GK extends cD{constructor(e){super(e,S1)}static setup(){return window.addEventListener(S1.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(S1.move.name,e)};function e(){}}}GK.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var Sh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Sh||(Sh={}));var r0;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(r0||(r0={}));function XK(n){let{acceleration:e,activator:t=Sh.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=r0.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:m}=n;const y=ZK({delta:p,disabled:!s}),[b,v]=lK(),w=D.useRef({x:0,y:0}),M=D.useRef({x:0,y:0}),k=D.useMemo(()=>{switch(t){case Sh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Sh.DraggableRect:return i}},[t,i,c]),E=D.useRef(null),A=D.useCallback(()=>{const P=E.current;if(!P)return;const N=w.current.x*M.current.x,_=w.current.y*M.current.y;P.scrollBy(N,_)},[]),T=D.useMemo(()=>a===r0.TreeOrder?[...d].reverse():d,[a,d]);D.useEffect(()=>{if(!s||!d.length||!k){v();return}for(const P of T){if((r==null?void 0:r(P))===!1)continue;const N=d.indexOf(P),_=f[N];if(!_)continue;const{direction:L,speed:I}=BK(P,_,k,e,m);for(const V of["x","y"])y[V][L[V]]||(I[V]=0,L[V]=0);if(I.x>0||I.y>0){v(),E.current=P,b(A,o),w.current=I,M.current=L;return}}w.current={x:0,y:0},M.current={x:0,y:0},v()},[e,A,r,v,s,o,JSON.stringify(k),JSON.stringify(y),b,d,T,f,JSON.stringify(m)])}const JK={x:{[Nn.Backward]:!1,[Nn.Forward]:!1},y:{[Nn.Backward]:!1,[Nn.Forward]:!1}};function ZK(n){let{delta:e,disabled:t}=n;const r=iS(e);return zp(i=>{if(t||!r||!i)return JK;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Nn.Backward]:i.x[Nn.Backward]||s.x===-1,[Nn.Forward]:i.x[Nn.Forward]||s.x===1},y:{[Nn.Backward]:i.y[Nn.Backward]||s.y===-1,[Nn.Forward]:i.y[Nn.Forward]||s.y===1}}},[t,e,r])}function eQ(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return zp(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function tQ(n,e){return D.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...t,...s]},[]),[n,e])}var Gh;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Gh||(Gh={}));var lS;(function(n){n.Optimized="optimized"})(lS||(lS={}));const oA=new Map;function nQ(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,o]=D.useState(null),{frequency:a,measure:c,strategy:d}=i,f=D.useRef(n),p=w(),m=Kh(p),y=D.useCallback(function(M){M===void 0&&(M=[]),!m.current&&o(k=>k===null?M:k.concat(M.filter(E=>!k.includes(E))))},[m]),b=D.useRef(null),v=zp(M=>{if(p&&!t)return oA;if(!M||M===oA||f.current!==n||s!=null){const k=new Map;for(let E of n){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){k.set(E.id,E.rect.current);continue}const A=E.node.current,T=A?new lD(c(A),A):null;E.rect.current=T,T&&k.set(E.id,T)}return k}return M},[n,s,t,p,c]);return D.useEffect(()=>{f.current=n},[n]),D.useEffect(()=>{p||y()},[t,p]),D.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),D.useEffect(()=>{p||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},a))},[a,p,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function w(){switch(d){case Gh.Always:return!1;case Gh.BeforeDragging:return t;default:return!t}}}function gj(n,e){return zp(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function rQ(n,e){return gj(n,e)}function iQ(n){let{callback:e,disabled:t}=n;const r=sD(e),i=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return D.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function cb(n){let{callback:e,disabled:t}=n;const r=sD(e),i=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return D.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function sQ(n){return new lD(Ud(n),n)}function aA(n,e,t){e===void 0&&(e=sQ);const[r,i]=D.useState(null);function s(){i(c=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=c??t)!=null?d:null}const f=e(n);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=iQ({callback(c){if(n)for(const d of c){const{type:f,target:p}=d;if(f==="childList"&&p instanceof HTMLElement&&p.contains(n)){s();break}}}}),a=cb({callback:s});return Bs(()=>{s(),n?(a==null||a.observe(n),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[n]),r}function oQ(n){const e=gj(n);return oj(n,e)}const lA=[];function aQ(n){const e=D.useRef(n),t=zp(r=>n?r&&r!==lA&&n&&e.current&&n.parentNode===e.current.parentNode?r:aD(n):lA,[n]);return D.useEffect(()=>{e.current=n},[n]),t}function lQ(n){const[e,t]=D.useState(null),r=D.useRef(n),i=D.useCallback(s=>{const o=x1(s.target);o&&t(a=>a?(a.set(o,oS(o)),new Map(a)):null)},[]);return D.useEffect(()=>{const s=r.current;if(n!==s){o(s);const a=n.map(c=>{const d=x1(c);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,oS(d)]):null}).filter(c=>c!=null);t(a.length?new Map(a):null),r.current=n}return()=>{o(n),o(s)};function o(a){a.forEach(c=>{const d=x1(c);d==null||d.removeEventListener("scroll",i)})}},[i,n]),D.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,o)=>Qu(s,o),Ji):fj(n):Ji,[n,e])}function cA(n,e){e===void 0&&(e=[]);const t=D.useRef(null);return D.useEffect(()=>{t.current=null},e),D.useEffect(()=>{const r=n!==Ji;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?t0(n,t.current):Ji}function cQ(n){D.useEffect(()=>{if(!lb)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function uQ(n,e){return D.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=o=>{s(o,e)},t},{}),[n,e])}function yj(n){return D.useMemo(()=>n?PK(n):null,[n])}const uA=[];function dQ(n,e){e===void 0&&(e=Ud);const[t]=n,r=yj(t?Qr(t):null),[i,s]=D.useState(uA);function o(){s(()=>n.length?n.map(c=>uj(c)?r:new lD(e(c),c)):uA)}const a=cb({callback:o});return Bs(()=>{a==null||a.disconnect(),o(),n.forEach(c=>a==null?void 0:a.observe(c))},[n]),i}function fQ(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Fp(e)?e:n}function hQ(n){let{measure:e}=n;const[t,r]=D.useState(null),i=D.useCallback(d=>{for(const{target:f}of d)if(Fp(f)){r(p=>{const m=e(f);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),s=cb({callback:i}),o=D.useCallback(d=>{const f=fQ(d);s==null||s.disconnect(),f&&(s==null||s.observe(f)),r(f?e(f):null)},[e,s]),[a,c]=e0(o);return D.useMemo(()=>({nodeRef:a,rect:t,setRef:c}),[t,a,c])}const pQ=[{sensor:mj,options:{}},{sensor:pj,options:{}}],mQ={current:{}},dy={draggable:{measure:nA},droppable:{measure:nA,strategy:Gh.WhileDragging,frequency:lS.Optimized},dragOverlay:{measure:Ud}};class Mh extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const gQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Mh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:n0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dy,measureDroppableContainers:n0,windowRect:null,measuringScheduled:!1},yQ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:n0,draggableNodes:new Map,over:null,measureDroppableContainers:n0},ub=D.createContext(yQ),bj=D.createContext(gQ);function bQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Mh}}}function vQ(n,e){switch(e.type){case Cn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Cn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Cn.DragEnd:case Cn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Cn.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new Mh(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case Cn.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const o=new Mh(n.droppable.containers);return o.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:o}}}case Cn.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new Mh(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function xQ(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=D.useContext(ub),s=iS(r),o=iS(t==null?void 0:t.id);return D.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!oD(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:c,node:d}=a;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const p=dK(f);if(p){p.focus();break}}})}},[r,e,i,o,s]),null}function wQ(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function SQ(n){return D.useMemo(()=>({draggable:{...dy.draggable,...n==null?void 0:n.draggable},droppable:{...dy.droppable,...n==null?void 0:n.droppable},dragOverlay:{...dy.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function MQ(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=D.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Bs(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const f=t(d),p=oj(f,r);if(o||(p.x=0),a||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=aj(d);m&&m.scrollBy({top:p.y,left:p.x})}},[e,o,a,r,t])}const vj=D.createContext({...Ji,scaleX:1,scaleY:1});var wa;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(wa||(wa={}));const DQ=D.memo(function(e){var t,r,i,s;let{id:o,accessibility:a,autoScroll:c=!0,children:d,sensors:f=pQ,collisionDetection:p=EK,measuring:m,modifiers:y,...b}=e;const v=D.useReducer(vQ,void 0,bQ),[w,M]=v,[k,E]=yK(),[A,T]=D.useState(wa.Uninitialized),P=A===wa.Initialized,{draggable:{active:N,nodes:_,translate:L},droppable:{containers:I}}=w,V=N!=null?_.get(N):null,q=D.useRef({initial:null,translated:null}),ae=D.useMemo(()=>{var Pt;return N!=null?{id:N,data:(Pt=V==null?void 0:V.data)!=null?Pt:mQ,rect:q}:null},[N,V]),de=D.useRef(null),[oe,F]=D.useState(null),[U,J]=D.useState(null),ce=Kh(b,Object.values(b)),j=Vp("DndDescribedBy",o),Z=D.useMemo(()=>I.getEnabled(),[I]),se=SQ(m),{droppableRects:le,measureDroppableContainers:he,measuringScheduled:De}=nQ(Z,{dragging:P,dependencies:[L.x,L.y],config:se.droppable}),fe=eQ(_,N),ft=D.useMemo(()=>U?sS(U):null,[U]),Te=Hc(),Ge=rQ(fe,se.draggable.measure);MQ({activeNode:N!=null?_.get(N):null,config:Te.layoutShiftCompensation,initialRect:Ge,measure:se.draggable.measure});const Ae=aA(fe,se.draggable.measure,Ge),Kt=aA(fe?fe.parentElement:null),we=D.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=I.getNodeFor((t=we.current.over)==null?void 0:t.id),pe=hQ({measure:se.dragOverlay.measure}),me=(r=pe.nodeRef.current)!=null?r:fe,Pe=P?(i=pe.rect)!=null?i:Ae:null,Se=!!(pe.nodeRef.current&&pe.rect),Ye=oQ(Se?null:Ae),rt=yj(me?Qr(me):null),Ze=aQ(P?ne??fe:null),Fe=dQ(Ze),Bt=wQ(y,{transform:{x:L.x-Ye.x,y:L.y-Ye.y,scaleX:1,scaleY:1},activatorEvent:U,active:ae,activeNodeRect:Ae,containerNodeRect:Kt,draggingNodeRect:Pe,over:we.current.over,overlayNodeRect:pe.rect,scrollableAncestors:Ze,scrollableAncestorRects:Fe,windowRect:rt}),st=ft?Qu(ft,L):null,Ot=lQ(Ze),Qt=cA(Ot),Rt=cA(Ot,[Ae]),lt=Qu(Bt,Qt),Le=Pe?_K(Pe,Bt):null,Be=ae&&Le?p({active:ae,collisionRect:Le,droppableRects:le,droppableContainers:Z,pointerCoordinates:st}):null,tn=DK(Be,"id"),[Nt,Gr]=D.useState(null),Xr=Se?Bt:Qu(Bt,Rt),ji=TK(Xr,(s=Nt==null?void 0:Nt.rect)!=null?s:null,Ae),Nr=D.useRef(null),vr=D.useCallback((Pt,xr)=>{let{sensor:tr,options:Bi}=xr;if(de.current==null)return;const nr=_.get(de.current);if(!nr)return;const Yn=Pt.nativeEvent,Jr=new tr({active:de.current,activeNode:nr,event:Yn,options:Bi,context:we,onAbort(Lt){if(!_.get(Lt))return;const{onDragAbort:zt}=ce.current,rr={id:Lt};zt==null||zt(rr),k({type:"onDragAbort",event:rr})},onPending(Lt,Ft,zt,rr){if(!_.get(Lt))return;const{onDragPending:ml}=ce.current,ss={id:Lt,constraint:Ft,initialCoordinates:zt,offset:rr};ml==null||ml(ss),k({type:"onDragPending",event:ss})},onStart(Lt){const Ft=de.current;if(Ft==null)return;const zt=_.get(Ft);if(!zt)return;const{onDragStart:rr}=ce.current,Ys={activatorEvent:Yn,active:{id:Ft,data:zt.data,rect:q}};Yl.unstable_batchedUpdates(()=>{rr==null||rr(Ys),T(wa.Initializing),M({type:Cn.DragStart,initialCoordinates:Lt,active:Ft}),k({type:"onDragStart",event:Ys}),F(Nr.current),J(Yn)})},onMove(Lt){M({type:Cn.DragMove,coordinates:Lt})},onEnd:Yo(Cn.DragEnd),onCancel:Yo(Cn.DragCancel)});Nr.current=Jr;function Yo(Lt){return async function(){const{active:zt,collisions:rr,over:Ys,scrollAdjustedTranslate:ml}=we.current;let ss=null;if(zt&&ml){const{cancelDrop:Wo}=ce.current;ss={activatorEvent:Yn,active:zt,collisions:rr,delta:ml,over:Ys},Lt===Cn.DragEnd&&typeof Wo=="function"&&await Promise.resolve(Wo(ss))&&(Lt=Cn.DragCancel)}de.current=null,Yl.unstable_batchedUpdates(()=>{M({type:Lt}),T(wa.Uninitialized),Gr(null),F(null),J(null),Nr.current=null;const Wo=Lt===Cn.DragEnd?"onDragEnd":"onDragCancel";if(ss){const Ws=ce.current[Wo];Ws==null||Ws(ss),k({type:Wo,event:ss})}})}}},[_]),er=D.useCallback((Pt,xr)=>(tr,Bi)=>{const nr=tr.nativeEvent,Yn=_.get(Bi);if(de.current!==null||!Yn||nr.dndKit||nr.defaultPrevented)return;const Jr={active:Yn};Pt(tr,xr.options,Jr)===!0&&(nr.dndKit={capturedBy:xr.sensor},de.current=Bi,vr(tr,xr))},[_,vr]),Uo=tQ(f,er);cQ(f),Bs(()=>{Ae&&A===wa.Initializing&&T(wa.Initialized)},[Ae,A]),D.useEffect(()=>{const{onDragMove:Pt}=ce.current,{active:xr,activatorEvent:tr,collisions:Bi,over:nr}=we.current;if(!xr||!tr)return;const Yn={active:xr,activatorEvent:tr,collisions:Bi,delta:{x:lt.x,y:lt.y},over:nr};Yl.unstable_batchedUpdates(()=>{Pt==null||Pt(Yn),k({type:"onDragMove",event:Yn})})},[lt.x,lt.y]),D.useEffect(()=>{const{active:Pt,activatorEvent:xr,collisions:tr,droppableContainers:Bi,scrollAdjustedTranslate:nr}=we.current;if(!Pt||de.current==null||!xr||!nr)return;const{onDragOver:Yn}=ce.current,Jr=Bi.get(tn),Yo=Jr&&Jr.rect.current?{id:Jr.id,rect:Jr.rect.current,data:Jr.data,disabled:Jr.disabled}:null,Lt={active:Pt,activatorEvent:xr,collisions:tr,delta:{x:nr.x,y:nr.y},over:Yo};Yl.unstable_batchedUpdates(()=>{Gr(Yo),Yn==null||Yn(Lt),k({type:"onDragOver",event:Lt})})},[tn]),Bs(()=>{we.current={activatorEvent:U,active:ae,activeNode:fe,collisionRect:Le,collisions:Be,droppableRects:le,draggableNodes:_,draggingNode:me,draggingNodeRect:Pe,droppableContainers:I,over:Nt,scrollableAncestors:Ze,scrollAdjustedTranslate:lt},q.current={initial:Pe,translated:Le}},[ae,fe,Be,Le,_,me,Pe,le,I,Nt,Ze,lt]),XK({...Te,delta:L,draggingRect:Le,pointerCoordinates:st,scrollableAncestors:Ze,scrollableAncestorRects:Fe});const $o=D.useMemo(()=>({active:ae,activeNode:fe,activeNodeRect:Ae,activatorEvent:U,collisions:Be,containerNodeRect:Kt,dragOverlay:pe,draggableNodes:_,droppableContainers:I,droppableRects:le,over:Nt,measureDroppableContainers:he,scrollableAncestors:Ze,scrollableAncestorRects:Fe,measuringConfiguration:se,measuringScheduled:De,windowRect:rt}),[ae,fe,Ae,U,Be,Kt,pe,_,I,le,Nt,he,Ze,Fe,se,De,rt]),Pr=D.useMemo(()=>({activatorEvent:U,activators:Uo,active:ae,activeNodeRect:Ae,ariaDescribedById:{draggable:j},dispatch:M,draggableNodes:_,over:Nt,measureDroppableContainers:he}),[U,Uo,ae,Ae,M,j,_,Nt,he]);return $.createElement(sj.Provider,{value:E},$.createElement(ub.Provider,{value:Pr},$.createElement(bj.Provider,{value:$o},$.createElement(vj.Provider,{value:ji},d)),$.createElement(xQ,{disabled:(a==null?void 0:a.restoreFocus)===!1})),$.createElement(xK,{...a,hiddenTextDescribedById:j}));function Hc(){const Pt=(oe==null?void 0:oe.autoScrollEnabled)===!1,xr=typeof c=="object"?c.enabled===!1:c===!1,tr=P&&!Pt&&!xr;return typeof c=="object"?{...c,enabled:tr}:{enabled:tr}}}),CQ=D.createContext(null),dA="button",kQ="Draggable";function EQ(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=Vp(kQ),{activators:o,activatorEvent:a,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:m}=D.useContext(ub),{role:y=dA,roleDescription:b="draggable",tabIndex:v=0}=i??{},w=(c==null?void 0:c.id)===e,M=D.useContext(w?vj:CQ),[k,E]=e0(),[A,T]=e0(),P=uQ(o,e),N=Kh(t);Bs(()=>(p.set(e,{id:e,key:s,node:k,activatorNode:A,data:N}),()=>{const L=p.get(e);L&&L.key===s&&p.delete(e)}),[p,e]);const _=D.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":w&&y===dA?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,y,v,w,b,f.draggable]);return{active:c,activatorEvent:a,activeNodeRect:d,attributes:_,isDragging:w,listeners:r?void 0:P,node:k,over:m,setNodeRef:E,setActivatorNodeRef:T,transform:M}}function TQ(){return D.useContext(bj)}const OQ="Droppable",_Q={timeout:25};function AQ(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=Vp(OQ),{active:o,dispatch:a,over:c,measureDroppableContainers:d}=D.useContext(ub),f=D.useRef({disabled:t}),p=D.useRef(!1),m=D.useRef(null),y=D.useRef(null),{disabled:b,updateMeasurementsFor:v,timeout:w}={..._Q,...i},M=Kh(v??r),k=D.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(M.current)?M.current:[M.current]),y.current=null},w)},[w]),E=cb({callback:k,disabled:b||!o}),A=D.useCallback((_,L)=>{E&&(L&&(E.unobserve(L),p.current=!1),_&&E.observe(_))},[E]),[T,P]=e0(A),N=Kh(e);return D.useEffect(()=>{!E||!T.current||(E.disconnect(),p.current=!1,E.observe(T.current))},[T,E]),D.useEffect(()=>(a({type:Cn.RegisterDroppable,element:{id:r,key:s,disabled:t,node:T,rect:m,data:N}}),()=>a({type:Cn.UnregisterDroppable,key:s,id:r})),[r]),D.useEffect(()=>{t!==f.current.disabled&&(a({type:Cn.SetDroppableDisabled,id:r,key:s,disabled:t}),f.current.disabled=t)},[r,s,t,a]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===r,node:T,over:c,setNodeRef:P}}function uD(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function RQ(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function Sg(n){return n!==null&&n>=0}function NQ(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function PQ(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const dD=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=uD(e,r,t),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},xj="Sortable",wj=$.createContext({activeIndex:-1,containerId:xj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:dD,disabled:{draggable:!1,droppable:!1}});function LQ(n){let{children:e,id:t,items:r,strategy:i=dD,disabled:s=!1}=n;const{active:o,dragOverlay:a,droppableRects:c,over:d,measureDroppableContainers:f}=TQ(),p=Vp(xj,t),m=a.rect!==null,y=D.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),b=o!=null,v=o?y.indexOf(o.id):-1,w=d?y.indexOf(d.id):-1,M=D.useRef(y),k=!NQ(y,M.current),E=w!==-1&&v===-1||k,A=PQ(s);Bs(()=>{k&&b&&f(y)},[k,y,b,f]),D.useEffect(()=>{M.current=y},[y]);const T=D.useMemo(()=>({activeIndex:v,containerId:p,disabled:A,disableTransforms:E,items:y,overIndex:w,useDragOverlay:m,sortedRects:RQ(y,c),strategy:i}),[v,p,A.draggable,A.droppable,E,y,w,c,m,i]);return $.createElement(wj.Provider,{value:T},e)}const IQ=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return uD(t,r,i).indexOf(e)},jQ=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:c,transition:d}=n;return!d||!r||a!==s&&i===o?!1:t?!0:o!==i&&e===c},BQ={duration:200,easing:"ease"},Sj="transform",FQ=Qh.Transition.toString({property:Sj,duration:0,easing:"linear"}),zQ={roleDescription:"sortable"};function VQ(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,o]=D.useState(null),a=D.useRef(t);return Bs(()=>{if(!e&&t!==a.current&&r.current){const c=i.current;if(c){const d=Ud(r.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&o(f)}}t!==a.current&&(a.current=t)},[e,t,r,i]),D.useEffect(()=>{s&&o(null)},[s]),s}function HQ(n){let{animateLayoutChanges:e=jQ,attributes:t,disabled:r,data:i,getNewIndex:s=IQ,id:o,strategy:a,resizeObserverConfig:c,transition:d=BQ}=n;const{items:f,containerId:p,activeIndex:m,disabled:y,disableTransforms:b,sortedRects:v,overIndex:w,useDragOverlay:M,strategy:k}=D.useContext(wj),E=UQ(r,y),A=f.indexOf(o),T=D.useMemo(()=>({sortable:{containerId:p,index:A,items:f},...i}),[p,i,A,f]),P=D.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:N,node:_,isOver:L,setNodeRef:I}=AQ({id:o,data:T,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...c}}),{active:V,activatorEvent:q,activeNodeRect:ae,attributes:de,setNodeRef:oe,listeners:F,isDragging:U,over:J,setActivatorNodeRef:ce,transform:j}=EQ({id:o,data:T,attributes:{...zQ,...t},disabled:E.draggable}),Z=aK(I,oe),se=!!V,le=se&&!b&&Sg(m)&&Sg(w),he=!M&&U,De=he&&le?j:null,ft=le?De??(a??k)({rects:v,activeNodeRect:ae,activeIndex:m,overIndex:w,index:A}):null,Te=Sg(m)&&Sg(w)?s({id:o,items:f,activeIndex:m,overIndex:w}):A,Ge=V==null?void 0:V.id,Ae=D.useRef({activeId:Ge,items:f,newIndex:Te,containerId:p}),Kt=f!==Ae.current.items,we=e({active:V,containerId:p,isDragging:U,isSorting:se,id:o,index:A,items:f,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:d,wasDragging:Ae.current.activeId!=null}),ne=VQ({disabled:!we,index:A,node:_,rect:N});return D.useEffect(()=>{se&&Ae.current.newIndex!==Te&&(Ae.current.newIndex=Te),p!==Ae.current.containerId&&(Ae.current.containerId=p),f!==Ae.current.items&&(Ae.current.items=f)},[se,Te,p,f]),D.useEffect(()=>{if(Ge===Ae.current.activeId)return;if(Ge!=null&&Ae.current.activeId==null){Ae.current.activeId=Ge;return}const me=setTimeout(()=>{Ae.current.activeId=Ge},50);return()=>clearTimeout(me)},[Ge]),{active:V,activeIndex:m,attributes:de,data:T,rect:N,index:A,newIndex:Te,items:f,isOver:L,isSorting:se,isDragging:U,listeners:F,node:_,overIndex:w,over:J,setNodeRef:Z,setActivatorNodeRef:ce,setDroppableNodeRef:I,setDraggableNodeRef:oe,transform:ne??ft,transition:pe()};function pe(){if(ne||Kt&&Ae.current.newIndex===A)return FQ;if(!(he&&!oD(q)||!d)&&(se||we))return Qh.Transition.toString({...d,property:Sj})}}function UQ(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}gt.Down,gt.Right,gt.Up,gt.Left;const $Q=({id:n,url:e,diaryId:t,diaryDate:r,onDoubleClick:i})=>{const{attributes:s,listeners:o,setNodeRef:a,transform:c,transition:d}=HQ({id:n}),f={transform:Qh.Transform.toString(c),transition:d};return C.jsxs("div",{ref:a,style:f,...s,...o,onDoubleClick:()=>i(t),className:"sortable-image-container",children:[C.jsx("img",{src:e,alt:`gallery-img-${n}`,className:"gallery-image"}),C.jsx("div",{className:"image-overlay",children:C.jsx("span",{className:"image-date",children:r})})]})},YQ="haeil-gallery-images-garamink",WQ="ap-northeast-2",qQ=()=>{const n=ts(),{isGalleryOpen:e,closeGallery:t}=LM(),r=Kr(),{data:i=[],isLoading:s,error:o,refetch:a}=V0({queryKey:["galleryImages"],queryFn:nj,enabled:e&&r(),select:m=>m.data.map(y=>({...y,url:y.fileKey?`https://${YQ}.s3.${WQ}.amazonaws.com/${y.fileKey}`:y.url||""})),onError:()=>{Je.error("갤러리를 불러오는 중 오류가 발생했습니다."),t()}}),[c,d]=$.useState([]);$.useEffect(()=>{i!=null&&i.length&&d(i)},[i]);const f=m=>{const{active:y,over:b}=m;y.id!==(b==null?void 0:b.id)&&setImages(v=>{const w=v.findIndex(k=>k.fileId===y.id),M=v.findIndex(k=>k.fileId===b.id);return uD(v,w,M)})},p=m=>{n(`/diary/${m}`),t()};return $.useEffect(()=>{e&&!r()&&(Je.error("로그인이 필요합니다."),t())},[e,r]),e?C.jsx("div",{className:"modal-overlay",onClick:t,children:C.jsxs("div",{className:"modal-content gallery-modal-content",onClick:m=>m.stopPropagation(),children:[C.jsxs("div",{className:"gallery-header",children:[C.jsx("h2",{children:"Gallery"}),C.jsxs("div",{className:"gallery-buttons",children:[C.jsx("button",{onClick:()=>setImages(originalImages),children:"원래대로"}),C.jsx("button",{onClick:t,children:"닫기"})]})]}),C.jsx("div",{className:"gallery-grid",children:i.length===0?C.jsx("p",{className:"gallery-empty-message",children:"일기 안에 이미지를 넣어주세요"}):C.jsx(DQ,{collisionDetection:CK,onDragEnd:f,children:C.jsx(LQ,{items:i.map(m=>m.fileId),strategy:dD,children:c.map(m=>C.jsx($Q,{id:m.fileId,url:m.url,diaryId:m.diaryId,diaryDate:m.diaryDate,onDoubleClick:p},m.fileId))})})})]})}):null};function KQ({tags:n,scoreTagFade:e}){return!n||n.length===0?C.jsx("p",{className:"no-tags",children:"태그가 없습니다."}):C.jsxs("div",{className:"mood-tags-container",children:[C.jsx("h3",{children:"태그"}),C.jsx("div",{className:"tags-box",children:C.jsx("ul",{className:`tags-list${e?" fade-in":""}`,children:n.map((t,r)=>C.jsx("li",{className:"tag-item",children:t},r))})})]})}/*!
========
`,fg=16,t9=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:c}=OH(t);return D.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fg,left:fg,right:fg,bottom:fg,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},a.map(d=>{let f=d.position||e,p=c.calculateOffset(d,{reverseOrder:n,gutter:r,defaultPosition:e}),m=ZH(f,p);return D.createElement(JH,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?e9:"",style:m},d.type==="custom"?By(d.message,d):i?i(d):D.createElement(XH,{toast:d,position:f}))}))},hg=Dr;const n9=()=>C.jsx(t9,{position:"top-center",reverseOrder:!1}),Xe={success:(n,e)=>hg.success(n,e),error:(n,e)=>hg.error(n,e),loading:(n,e)=>hg.loading(n,e),promise:(n,{loading:e,success:t,error:r},i)=>hg.promise(n,{loading:e,success:t,error:r},i)},r9=()=>C.jsxs("div",{className:"main-layout-container",children:["  ",C.jsx(n9,{}),C.jsx("header",{className:"app-header",children:C.jsx("h1",{children:C.jsx(_M,{to:"/",children:"해일(Haeil) :: 해석하는 감정 일기"})})}),C.jsx("main",{className:"main-content-area",children:C.jsx(_p,{})})]});function HL(n,e){return function(){return n.apply(e,arguments)}}const{toString:i9}=Object.prototype,{getPrototypeOf:jM}=Object,{iterator:U0,toStringTag:UL}=Symbol,$0=(n=>e=>{const t=i9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ts=n=>(n=n.toLowerCase(),e=>$0(e)===n),Y0=n=>e=>typeof e===n,{isArray:jd}=Array,$h=Y0("undefined");function s9(n){return n!==null&&!$h(n)&&n.constructor!==null&&!$h(n.constructor)&&Ur(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const $L=ts("ArrayBuffer");function o9(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&$L(n.buffer),e}const a9=Y0("string"),Ur=Y0("function"),YL=Y0("number"),W0=n=>n!==null&&typeof n=="object",l9=n=>n===!0||n===!1,ny=n=>{if($0(n)!=="object")return!1;const e=jM(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(UL in n)&&!(U0 in n)},c9=ts("Date"),u9=ts("File"),d9=ts("Blob"),f9=ts("FileList"),h9=n=>W0(n)&&Ur(n.pipe),p9=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ur(n.append)&&((e=$0(n))==="formdata"||e==="object"&&Ur(n.toString)&&n.toString()==="[object FormData]"))},m9=ts("URLSearchParams"),[g9,y9,b9,v9]=["ReadableStream","Request","Response","Headers"].map(ts),x9=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),jd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function WL(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ql=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qL=n=>!$h(n)&&n!==ql;function $w(){const{caseless:n}=qL(this)&&this||{},e={},t=(r,i)=>{const s=n&&WL(e,i)||i;ny(e[s])&&ny(r)?e[s]=$w(e[s],r):ny(r)?e[s]=$w({},r):jd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Rp(arguments[r],t);return e}const w9=(n,e,t,{allOwnKeys:r}={})=>(Rp(e,(i,s)=>{t&&Ur(i)?n[s]=HL(i,t):n[s]=i},{allOwnKeys:r}),n),S9=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),M9=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},D9=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&jM(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},C9=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},k9=n=>{if(!n)return null;if(jd(n))return n;let e=n.length;if(!YL(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},E9=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&jM(Uint8Array)),T9=(n,e)=>{const r=(n&&n[U0]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},O9=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},_9=ts("HTMLFormElement"),A9=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),n_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),R9=ts("RegExp"),KL=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Rp(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},N9=n=>{KL(n,(e,t)=>{if(Ur(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},P9=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return jd(n)?r(n):r(String(n).split(e)),t},L9=()=>{},I9=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function j9(n){return!!(n&&Ur(n.append)&&n[UL]==="FormData"&&n[U0])}const B9=n=>{const e=new Array(10),t=(r,i)=>{if(W0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=jd(r)?[]:{};return Rp(r,(o,a)=>{const c=t(o,i+1);!$h(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},F9=ts("AsyncFunction"),z9=n=>n&&(W0(n)||Ur(n))&&Ur(n.then)&&Ur(n.catch),QL=((n,e)=>n?setImmediate:e?((t,r)=>(ql.addEventListener("message",({source:i,data:s})=>{i===ql&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ql.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ur(ql.postMessage)),V9=typeof queueMicrotask<"u"?queueMicrotask.bind(ql):typeof process<"u"&&process.nextTick||QL,H9=n=>n!=null&&Ur(n[U0]),ee={isArray:jd,isArrayBuffer:$L,isBuffer:s9,isFormData:p9,isArrayBufferView:o9,isString:a9,isNumber:YL,isBoolean:l9,isObject:W0,isPlainObject:ny,isReadableStream:g9,isRequest:y9,isResponse:b9,isHeaders:v9,isUndefined:$h,isDate:c9,isFile:u9,isBlob:d9,isRegExp:R9,isFunction:Ur,isStream:h9,isURLSearchParams:m9,isTypedArray:E9,isFileList:f9,forEach:Rp,merge:$w,extend:w9,trim:x9,stripBOM:S9,inherits:M9,toFlatObject:D9,kindOf:$0,kindOfTest:ts,endsWith:C9,toArray:k9,forEachEntry:T9,matchAll:O9,isHTMLForm:_9,hasOwnProperty:n_,hasOwnProp:n_,reduceDescriptors:KL,freezeMethods:N9,toObjectSet:P9,toCamelCase:A9,noop:L9,toFiniteNumber:I9,findKey:WL,global:ql,isContextDefined:qL,isSpecCompliantForm:j9,toJSONObject:B9,isAsyncFn:F9,isThenable:z9,setImmediate:QL,asap:V9,isIterable:H9};function ze(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const GL=ze.prototype,XL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{XL[n]={value:n}});Object.defineProperties(ze,XL);Object.defineProperty(GL,"isAxiosError",{value:!0});ze.from=(n,e,t,r,i,s)=>{const o=Object.create(GL);return ee.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ze.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const U9=null;function Yw(n){return ee.isPlainObject(n)||ee.isArray(n)}function JL(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function r_(n,e,t){return n?n.concat(e).map(function(i,s){return i=JL(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function $9(n){return ee.isArray(n)&&!n.some(Yw)}const Y9=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function q0(n,e,t){if(!ee.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!ee.isUndefined(w[v])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(ee.isDate(b))return b.toISOString();if(ee.isBoolean(b))return b.toString();if(!c&&ee.isBlob(b))throw new ze("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(b)||ee.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,v,w){let M=b;if(b&&!w&&typeof b=="object"){if(ee.endsWith(v,"{}"))v=r?v:v.slice(0,-2),b=JSON.stringify(b);else if(ee.isArray(b)&&$9(b)||(ee.isFileList(b)||ee.endsWith(v,"[]"))&&(M=ee.toArray(b)))return v=JL(v),M.forEach(function(E,_){!(ee.isUndefined(E)||E===null)&&e.append(o===!0?r_([v],_,s):o===null?v:v+"[]",d(E))}),!1}return Yw(b)?!0:(e.append(r_(w,v,s),d(b)),!1)}const p=[],m=Object.assign(Y9,{defaultVisitor:f,convertValue:d,isVisitable:Yw});function y(b,v){if(!ee.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(b),ee.forEach(b,function(M,k){(!(ee.isUndefined(M)||M===null)&&i.call(e,M,ee.isString(k)?k.trim():k,v,m))===!0&&y(M,v?v.concat(k):[k])}),p.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return y(n),e}function i_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function BM(n,e){this._pairs=[],n&&q0(n,this,e)}const ZL=BM.prototype;ZL.append=function(e,t){this._pairs.push([e,t])};ZL.toString=function(e){const t=e?function(r){return e.call(this,r,i_)}:i_;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function W9(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eI(n,e,t){if(!e)return n;const r=t&&t.encode||W9;ee.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=ee.isURLSearchParams(e)?e.toString():new BM(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class s_{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const tI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q9=typeof URLSearchParams<"u"?URLSearchParams:BM,K9=typeof FormData<"u"?FormData:null,Q9=typeof Blob<"u"?Blob:null,G9={isBrowser:!0,classes:{URLSearchParams:q9,FormData:K9,Blob:Q9},protocols:["http","https","file","blob","url","data"]},FM=typeof window<"u"&&typeof document<"u",Ww=typeof navigator=="object"&&navigator||void 0,X9=FM&&(!Ww||["ReactNative","NativeScript","NS"].indexOf(Ww.product)<0),J9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z9=FM&&window.location.href||"http://localhost",eU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FM,hasStandardBrowserEnv:X9,hasStandardBrowserWebWorkerEnv:J9,navigator:Ww,origin:Z9},Symbol.toStringTag,{value:"Module"})),cr={...eU,...G9};function tU(n,e){return q0(n,new cr.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return cr.isNode&&ee.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nU(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rU(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function nI(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=rU(i[o])),!a)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const t={};return ee.forEachEntry(n,(r,i)=>{e(nU(r),i,t,0)}),t}return null}function iU(n,e,t){if(ee.isString(n))try{return(e||JSON.parse)(n),ee.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Np={transitional:tI,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(nI(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tU(e,this.formSerializer).toString();if((a=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return q0(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),iU(e)):e}],transformResponse:[function(e){const t=this.transitional||Np.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ze.from(a,ze.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cr.classes.FormData,Blob:cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{Np.headers[n]={}});const sU=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oU=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&sU[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},o_=Symbol("internals");function Wf(n){return n&&String(n).trim().toLowerCase()}function ry(n){return n===!1||n==null?n:ee.isArray(n)?n.map(ry):String(n)}function aU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const lU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function a1(n,e,t,r,i){if(ee.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function cU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function uU(n,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let $r=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,c,d){const f=Wf(c);if(!f)throw new Error("header name must be a non-empty string");const p=ee.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=ry(a))}const o=(a,c)=>ee.forEach(a,(d,f)=>s(d,f,c));if(ee.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ee.isString(e)&&(e=e.trim())&&!lU(e))o(oU(e),t);else if(ee.isObject(e)&&ee.isIterable(e)){let a={},c,d;for(const f of e){if(!ee.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[d=f[0]]=(c=a[d])?ee.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Wf(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return aU(i);if(ee.isFunction(t))return t.call(this,i,r);if(ee.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wf(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||a1(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Wf(o),o){const a=ee.findKey(r,o);a&&(!t||a1(r,r[a],a,t))&&(delete r[a],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||a1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){t[o]=ry(i),delete t[s];return}const a=e?cU(s):String(s).trim();a!==s&&delete t[s],t[a]=ry(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ee.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[o_]=this[o_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Wf(o);r[a]||(uU(i,o),r[a]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}};$r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors($r.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ee.freezeMethods($r);function l1(n,e){const t=this||Np,r=e||t,i=$r.from(r.headers);let s=r.data;return ee.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function rI(n){return!!(n&&n.__CANCEL__)}function Bd(n,e,t){ze.call(this,n??"canceled",ze.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(Bd,ze,{__CANCEL__:!0});function iI(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ze("Request failed with status code "+t.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function dU(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function fU(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),t[i]=c,r[i]=d;let p=s,m=0;for(;p!==i;)m+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),d-o<e)return;const y=f&&d-f;return y?Math.round(m*1e3/y):void 0}}function hU(n,e){let t=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-t;p>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Fy=(n,e,t=3)=>{let r=0;const i=fU(50,250);return hU(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&f?(a-o)/d:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(p)},t)},a_=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},l_=n=>(...e)=>ee.asap(()=>n(...e)),pU=cr.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,cr.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(cr.origin),cr.navigator&&/(msie|trident)/i.test(cr.navigator.userAgent)):()=>!0,mU=cr.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];ee.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ee.isString(r)&&o.push("path="+r),ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gU(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yU(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function sI(n,e,t){let r=!gU(e);return n&&(r||t==!1)?yU(n,e):e}const c_=n=>n instanceof $r?{...n}:n;function Tc(n,e){e=e||{};const t={};function r(d,f,p,m){return ee.isPlainObject(d)&&ee.isPlainObject(f)?ee.merge.call({caseless:m},d,f):ee.isPlainObject(f)?ee.merge({},f):ee.isArray(f)?f.slice():f}function i(d,f,p,m){if(ee.isUndefined(f)){if(!ee.isUndefined(d))return r(void 0,d,p,m)}else return r(d,f,p,m)}function s(d,f){if(!ee.isUndefined(f))return r(void 0,f)}function o(d,f){if(ee.isUndefined(f)){if(!ee.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function a(d,f,p){if(p in e)return r(d,f);if(p in n)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,f,p)=>i(c_(d),c_(f),p,!0)};return ee.forEach(Object.keys(Object.assign({},n,e)),function(f){const p=c[f]||i,m=p(n[f],e[f],f);ee.isUndefined(m)&&p!==a||(t[f]=m)}),t}const oI=n=>{const e=Tc({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=$r.from(o),e.url=eI(sI(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(ee.isFormData(t)){if(cr.hasStandardBrowserEnv||cr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(cr.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&pU(e.url))){const d=i&&s&&mU.read(s);d&&o.set(i,d)}return e},bU=typeof XMLHttpRequest<"u",vU=bU&&function(n){return new Promise(function(t,r){const i=oI(n);let s=i.data;const o=$r.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:d}=i,f,p,m,y,b;function v(){y&&y(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function M(){if(!w)return;const E=$r.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:n,request:w};iI(function(N){t(N),v()},function(N){r(N),v()},T),w=null}"onloadend"in w?w.onloadend=M:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(M)},w.onabort=function(){w&&(r(new ze("Request aborted",ze.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new ze("Network Error",ze.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||tI;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new ze(_,T.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,n,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&ee.forEach(o.toJSON(),function(_,T){w.setRequestHeader(T,_)}),ee.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),d&&([m,b]=Fy(d,!0),w.addEventListener("progress",m)),c&&w.upload&&([p,y]=Fy(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=E=>{w&&(r(!E||E.type?new Bd(null,n,w):E),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const k=dU(i.url);if(k&&cr.protocols.indexOf(k)===-1){r(new ze("Unsupported protocol "+k+":",ze.ERR_BAD_REQUEST,n));return}w.send(s||null)})},xU=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,a();const f=d instanceof Error?d:this.reason;r.abort(f instanceof ze?f:new Bd(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>ee.asap(a),c}},wU=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},SU=async function*(n,e){for await(const t of MU(n))yield*wU(t,e)},MU=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},u_=(n,e,t,r)=>{const i=SU(n,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){a(),c.close();return}let p=f.byteLength;if(t){let m=s+=p;t(m)}c.enqueue(new Uint8Array(f))}catch(d){throw a(d),d}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},K0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aI=K0&&typeof ReadableStream=="function",DU=K0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),lI=(n,...e)=>{try{return!!n(...e)}catch{return!1}},CU=aI&&lI(()=>{let n=!1;const e=new Request(cr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),d_=64*1024,qw=aI&&lI(()=>ee.isReadableStream(new Response("").body)),zy={stream:qw&&(n=>n.body)};K0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zy[e]&&(zy[e]=ee.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ze(`Response type '${e}' is not supported`,ze.ERR_NOT_SUPPORT,r)})})})(new Response);const kU=async n=>{if(n==null)return 0;if(ee.isBlob(n))return n.size;if(ee.isSpecCompliantForm(n))return(await new Request(cr.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(n)||ee.isArrayBuffer(n))return n.byteLength;if(ee.isURLSearchParams(n)&&(n=n+""),ee.isString(n))return(await DU(n)).byteLength},EU=async(n,e)=>{const t=ee.toFiniteNumber(n.getContentLength());return t??kU(e)},TU=K0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:m}=oI(n);d=d?(d+"").toLowerCase():"text";let y=xU([i,s&&s.toAbortSignal()],o),b;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let w;try{if(c&&CU&&t!=="get"&&t!=="head"&&(w=await EU(f,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),P;if(ee.isFormData(r)&&(P=T.headers.get("content-type"))&&f.setContentType(P),T.body){const[N,A]=a_(w,Fy(l_(c)));r=u_(T.body,d_,N,A)}}ee.isString(p)||(p=p?"include":"omit");const M="credentials"in Request.prototype;b=new Request(e,{...m,signal:y,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:M?p:void 0});let k=await fetch(b,m);const E=qw&&(d==="stream"||d==="response");if(qw&&(a||E&&v)){const T={};["status","statusText","headers"].forEach(L=>{T[L]=k[L]});const P=ee.toFiniteNumber(k.headers.get("content-length")),[N,A]=a&&a_(P,Fy(l_(a),!0))||[];k=new Response(u_(k.body,d_,N,()=>{A&&A(),v&&v()}),T)}d=d||"text";let _=await zy[ee.findKey(zy,d)||"text"](k,n);return!E&&v&&v(),await new Promise((T,P)=>{iI(T,P,{data:_,headers:$r.from(k.headers),status:k.status,statusText:k.statusText,config:n,request:b})})}catch(M){throw v&&v(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,n,b),{cause:M.cause||M}):ze.from(M,M&&M.code,n,b)}}),Kw={http:U9,xhr:vU,fetch:TU};ee.forEach(Kw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const f_=n=>`- ${n}`,OU=n=>ee.isFunction(n)||n===null||n===!1,cI={getAdapter:n=>{n=ee.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!OU(t)&&(r=Kw[(o=String(t)).toLowerCase()],r===void 0))throw new ze(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(f_).join(`
`):" "+f_(s[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Kw};function c1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bd(null,n)}function h_(n){return c1(n),n.headers=$r.from(n.headers),n.data=l1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),cI.getAdapter(n.adapter||Np.adapter)(n).then(function(r){return c1(n),r.data=l1.call(n,n.transformResponse,r),r.headers=$r.from(r.headers),r},function(r){return rI(r)||(c1(n),r&&r.response&&(r.response.data=l1.call(n,n.transformResponse,r.response),r.response.headers=$r.from(r.response.headers))),Promise.reject(r)})}const uI="1.10.0",Q0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Q0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const p_={};Q0.transitional=function(e,t,r){function i(s,o){return"[Axios v"+uI+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ze(i(o," has been removed"+(t?" in "+t:"")),ze.ERR_DEPRECATED);return t&&!p_[o]&&(p_[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};Q0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function _U(n,e,t){if(typeof n!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new ze("option "+s+" must be "+c,ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ze("Unknown option "+s,ze.ERR_BAD_OPTION)}}const iy={assertOptions:_U,validators:Q0},ds=iy.validators;let fc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new s_,response:new s_}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Tc(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&iy.assertOptions(r,{silentJSONParsing:ds.transitional(ds.boolean),forcedJSONParsing:ds.transitional(ds.boolean),clarifyTimeoutError:ds.transitional(ds.boolean)},!1),i!=null&&(ee.isFunction(i)?t.paramsSerializer={serialize:i}:iy.assertOptions(i,{encode:ds.function,serialize:ds.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),iy.assertOptions(t,{baseUrl:ds.spelling("baseURL"),withXsrfToken:ds.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[t.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),t.headers=$r.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let f,p=0,m;if(!c){const b=[h_.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,d),m=b.length,f=Promise.resolve(t);p<m;)f=f.then(b[p++],b[p++]);return f}m=a.length;let y=t;for(p=0;p<m;){const b=a[p++],v=a[p++];try{y=b(y)}catch(w){v.call(this,w);break}}try{f=h_.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,m=d.length;p<m;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=Tc(this.defaults,e);const t=sI(e.baseURL,e.url,e.allowAbsoluteUrls);return eI(t,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){fc.prototype[e]=function(t,r){return this.request(Tc(r||{},{method:e,url:t,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Tc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}fc.prototype[e]=t(),fc.prototype[e+"Form"]=t(!0)});let AU=class dI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Bd(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dI(function(i){e=i}),cancel:e}}};function RU(n){return function(t){return n.apply(null,t)}}function NU(n){return ee.isObject(n)&&n.isAxiosError===!0}const Qw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qw).forEach(([n,e])=>{Qw[e]=n});function fI(n){const e=new fc(n),t=HL(fc.prototype.request,e);return ee.extend(t,fc.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return fI(Tc(n,i))},t}const Je=fI(Np);Je.Axios=fc;Je.CanceledError=Bd;Je.CancelToken=AU;Je.isCancel=rI;Je.VERSION=uI;Je.toFormData=q0;Je.AxiosError=ze;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=RU;Je.isAxiosError=NU;Je.mergeConfig=Tc;Je.AxiosHeaders=$r;Je.formToJSON=n=>nI(ee.isHTMLForm(n)?new FormData(n):n);Je.getAdapter=cI.getAdapter;Je.HttpStatusCode=Qw;Je.default=Je;const{Axios:hge,AxiosError:pge,CanceledError:mge,isCancel:gge,CancelToken:yge,VERSION:bge,all:vge,Cancel:xge,isAxiosError:wge,spread:Sge,toFormData:Mge,AxiosHeaders:Dge,HttpStatusCode:Cge,formToJSON:kge,getAdapter:Ege,mergeConfig:Tge}=Je,PU=(n,e)=>Je.get(`/api/timeline?start=${n}&end=${e}`),Yi=n=>{if(!(n instanceof Date)||isNaN(n))return"";const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${r}`},zM=n=>{const e=n.getDay(),t=new Date(n),r=e===0?-6:1-e;return t.setDate(n.getDate()+r),t.setHours(0,0,0,0),t},hI=n=>{const e=zM(n),t=new Date(e);return t.setDate(e.getDate()+6),t.setHours(23,59,59,999),t},u1=(n,e)=>{if(!(n instanceof Date)||isNaN(n))return null;const t=new Date(n);return t.setDate(t.getDate()+e),t},LU=n=>{const[e,t]=D.useState([]),[r,i]=D.useState(!0),s=D.useCallback(async()=>{i(!0);try{const o=n?new Date(n):new Date,a=Yi(zM(o)),c=Yi(hI(o)),d=await PU(a,c);t(d.data||[])}catch(o){console.error("타임라인 데이터 fetch 실패:",o),t([])}finally{i(!1)}},[n]);return D.useEffect(()=>{s()},[s]),{data:e,loading:r,refetch:s}},pI=D.createContext(null),IU=({children:n})=>{const[e,t]=D.useState(null),[r,i]=D.useState(!0);D.useEffect(()=>{const o=window.__USER__||null,a=o&&o.userId!==null&&o.email!==null;t(a?{id:o.userId,email:o.email,nickname:o.nickname,profileImage:o.profileImage}:null),i(!1)},[]);const s={user:e,loading:r};return C.jsx(pI.Provider,{value:s,children:n})},Wr=()=>{const n=D.useContext(pI);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n};function qr(){const{user:n}=Wr();function e(){return n?!0:(Xe.error("로그인이 필요합니다.",{id:"login-required-toast"}),!1)}return e}function mI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=mI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Xn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=mI(n))&&(r&&(r+=" "),r+=e);return r}const gI=6048e5,jU=864e5,G0=6e4,X0=36e5,BU=1e3,m_=Symbol.for("constructDateFrom");function Ct(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&m_ in n?n[m_](e):n instanceof Date?new n.constructor(e):new Date(e)}function Me(n,e){return Ct(e||n,n)}function Pn(n,e,t){const r=Me(n,t==null?void 0:t.in);return isNaN(e)?Ct((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function dr(n,e,t){const r=Me(n,t==null?void 0:t.in);if(isNaN(e))return Ct(n,NaN);if(!e)return r;const i=r.getDate(),s=Ct(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function yI(n,e,t){return Ct(n,+Me(n)+e)}function FU(n,e,t){return yI(n,e*X0)}let zU={};function Bc(){return zU}function Is(n,e){var a,c,d,f;const t=Bc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Me(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function dd(n,e){return Is(n,{...e,weekStartsOn:1})}function bI(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getFullYear(),i=Ct(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=dd(i),o=Ct(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=dd(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Vy(n){const e=Me(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function zo(n,...e){const t=Ct.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Io(n,e){const t=Me(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function fd(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e),s=Io(r),o=Io(i),a=+s-Vy(s),c=+o-Vy(o);return Math.round((a-c)/jU)}function VU(n,e){const t=bI(n,e),r=Ct(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),dd(r)}function Gw(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*G0),r}function VM(n,e,t){return dr(n,e*3,t)}function HU(n,e,t){return yI(n,e*1e3)}function Hy(n,e,t){return Pn(n,e*7,t)}function ko(n,e,t){return dr(n,e*12,t)}function g_(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Ct.bind(null,i));const s=Me(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),Ct(r,t||NaN)}function y_(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Ct.bind(null,i));const s=Me(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),Ct(r,t||NaN)}function UU(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e);return+Io(r)==+Io(i)}function Eo(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Uy(n){return!(!Eo(n)&&typeof n!="number"||isNaN(+Me(n)))}function $y(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function hc(n,e){const t=Me(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Yy(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),o=hc(r)-hc(i);return s*4+o}function Wy(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function $U(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e),s=b_(r,i),o=Math.abs(fd(r,i));r.setDate(r.getDate()-s*o);const a=+(b_(r,i)===-s),c=s*(o-a);return c===0?0:c}function b_(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function vI(n,e){const t=Me(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function HM(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xw(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function UM(n,e){const t=Me(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function xI(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function J0(n,e){const t=Me(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function wI(n,e){var a,c,d,f;const t=Bc(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Me(n,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const YU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WU=(n,e,t)=>{let r;const i=YU[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Yu(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const qU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GU={date:Yu({formats:qU,defaultWidth:"full"}),time:Yu({formats:KU,defaultWidth:"full"}),dateTime:Yu({formats:QU,defaultWidth:"full"})},XU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JU=(n,e,t,r)=>XU[n];function ws(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{const o=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const ZU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},e7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},t7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s7=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},o7={ordinalNumber:s7,era:ws({values:ZU,defaultWidth:"wide"}),quarter:ws({values:e7,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ws({values:t7,defaultWidth:"wide"}),day:ws({values:n7,defaultWidth:"wide"}),dayPeriod:ws({values:r7,defaultWidth:"wide",formattingValues:i7,defaultFormattingWidth:"wide"})};function Ss(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(a)?l7(a,p=>p.test(o)):a7(a,p=>p.test(o));let d;d=n.valueCallback?n.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function a7(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function l7(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function SI(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const c7=/^(\d+)(th|st|nd|rd)?/i,u7=/\d+/i,d7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f7={any:[/^b/i,/^(a|c)/i]},h7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},p7={any:[/1/i,/2/i,/3/i,/4/i]},m7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},w7={ordinalNumber:SI({matchPattern:c7,parsePattern:u7,valueCallback:n=>parseInt(n,10)}),era:Ss({matchPatterns:d7,defaultMatchWidth:"wide",parsePatterns:f7,defaultParseWidth:"any"}),quarter:Ss({matchPatterns:h7,defaultMatchWidth:"wide",parsePatterns:p7,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ss({matchPatterns:m7,defaultMatchWidth:"wide",parsePatterns:g7,defaultParseWidth:"any"}),day:Ss({matchPatterns:y7,defaultMatchWidth:"wide",parsePatterns:b7,defaultParseWidth:"any"}),dayPeriod:Ss({matchPatterns:v7,defaultMatchWidth:"any",parsePatterns:x7,defaultParseWidth:"any"})},MI={code:"en-US",formatDistance:WU,formatLong:GU,formatRelative:JU,localize:o7,match:w7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S7(n,e){const t=Me(n,e==null?void 0:e.in);return fd(t,J0(t))+1}function $M(n,e){const t=Me(n,e==null?void 0:e.in),r=+dd(t)-+VU(t);return Math.round(r/gI)+1}function YM(n,e){var f,p,m,y;const t=Me(n,e==null?void 0:e.in),r=t.getFullYear(),i=Bc(),s=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(m=i.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=Ct((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Is(o,e),c=Ct((e==null?void 0:e.in)||n,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=Is(c,e);return+t>=+a?r+1:+t>=+d?r:r-1}function M7(n,e){var a,c,d,f;const t=Bc(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(d=t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=YM(n,e),s=Ct((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Is(s,e)}function DI(n,e){const t=Me(n,e==null?void 0:e.in),r=+Is(t,e)-+M7(t,e);return Math.round(r/gI)+1}function Mt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const pa={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Mt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Mt(t+1,2)},d(n,e){return Mt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Mt(n.getHours()%12||12,e.length)},H(n,e){return Mt(n.getHours(),e.length)},m(n,e){return Mt(n.getMinutes(),e.length)},s(n,e){return Mt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Mt(i,e.length)}},ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v_={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return pa.y(n,e)},Y:function(n,e,t,r){const i=YM(n,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Mt(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Mt(s,e.length)},R:function(n,e){const t=bI(n);return Mt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Mt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return pa.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=DI(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Mt(i,e.length)},I:function(n,e,t){const r=$M(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):pa.d(n,e)},D:function(n,e,t){const r=S7(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Mt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Mt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Mt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=ku.noon:r===0?i=ku.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=ku.evening:r>=12?i=ku.afternoon:r>=4?i=ku.morning:i=ku.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return pa.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):pa.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):pa.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):pa.s(n,e)},S:function(n,e){return pa.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return w_(r);case"XXXX":case"XX":return Bl(r);case"XXXXX":case"XXX":default:return Bl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return w_(r);case"xxxx":case"xx":return Bl(r);case"xxxxx":case"xxx":default:return Bl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+x_(r,":");case"OOOO":default:return"GMT"+Bl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+x_(r,":");case"zzzz":default:return"GMT"+Bl(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Mt(r,e.length)},T:function(n,e,t){return Mt(+n,e.length)}};function x_(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Mt(s,2)}function w_(n,e){return n%60===0?(n>0?"-":"+")+Mt(Math.abs(n)/60,2):Bl(n,e)}function Bl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Mt(Math.trunc(r/60),2),s=Mt(r%60,2);return t+i+e+s}const S_=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},CI=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},D7=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return S_(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",S_(r,e)).replace("{{time}}",CI(i,e))},Jw={p:CI,P:D7},C7=/^D+$/,k7=/^Y+$/,E7=["D","DD","YY","YYYY"];function T7(n){return C7.test(n)}function O7(n){return k7.test(n)}function _7(n,e,t){const r=A7(n,e,t);if(console.warn(r),E7.includes(n))throw new RangeError(r)}function A7(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P7=/^'([^]*?)'?$/,L7=/''/g,I7=/[a-zA-Z]/;function ar(n,e,t){var f,p,m,y,b,v,w,M;const r=Bc(),i=(t==null?void 0:t.locale)??r.locale??MI,s=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((v=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((M=(w=r.locale)==null?void 0:w.options)==null?void 0:M.weekStartsOn)??0,a=Me(n,t==null?void 0:t.in);if(!Uy(a))throw new RangeError("Invalid time value");let c=e.match(N7).map(k=>{const E=k[0];if(E==="p"||E==="P"){const _=Jw[E];return _(k,i.formatLong)}return k}).join("").match(R7).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const E=k[0];if(E==="'")return{isToken:!1,value:j7(k)};if(v_[E])return{isToken:!0,value:k};if(E.match(I7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(k=>{if(!k.isToken)return k.value;const E=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&O7(E)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&T7(E))&&_7(E,e,String(n));const _=v_[E[0]];return _(a,E,i.localize,d)}).join("")}function j7(n){const e=n.match(P7);return e?e[1].replace(L7,"'"):n}function M_(n,e){return Me(n,e==null?void 0:e.in).getDate()}function B7(n,e){return Me(n,e==null?void 0:e.in).getDay()}function F7(n,e){const t=Me(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=Ct(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function z7(){return Object.assign({},Bc())}function To(n,e){return Me(n,e==null?void 0:e.in).getHours()}function V7(n,e){const t=Me(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Oo(n,e){return Me(n,e==null?void 0:e.in).getMinutes()}function ur(n,e){return Me(n,e==null?void 0:e.in).getMonth()}function $a(n){return Me(n).getSeconds()}function Zw(n){return+Me(n)}function Ke(n,e){return Me(n,e==null?void 0:e.in).getFullYear()}function Za(n,e){return+Me(n)>+Me(e)}function el(n,e){return+Me(n)<+Me(e)}function kI(n,e){return+Me(n)==+Me(e)}function H7(n,e){const t=U7(e)?new e(0):Ct(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function U7(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const $7=10;class EI{constructor(){X(this,"subPriority",0)}validate(e,t){return!0}}class Y7 extends EI{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class W7 extends EI{constructor(t,r){super();X(this,"priority",$7);X(this,"subPriority",-1);this.context=t||(i=>Ct(r,i))}set(t,r){return r.timestampIsSet?t:Ct(t,H7(t,this.context))}}class yt{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new Y7(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class q7 extends yt{constructor(){super(...arguments);X(this,"priority",140);X(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const hn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ms={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function pn(n,e){return n&&{value:e(n.value),rest:n.rest}}function Xt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ds(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:r*(i*X0+s*G0+o*BU),rest:e.slice(t[0].length)}}function TI(n){return Xt(hn.anyDigitsSigned,n)}function cn(n,e){switch(n){case 1:return Xt(hn.singleDigit,e);case 2:return Xt(hn.twoDigits,e);case 3:return Xt(hn.threeDigits,e);case 4:return Xt(hn.fourDigits,e);default:return Xt(new RegExp("^\\d{1,"+n+"}"),e)}}function qy(n,e){switch(n){case 1:return Xt(hn.singleDigitSigned,e);case 2:return Xt(hn.twoDigitsSigned,e);case 3:return Xt(hn.threeDigitsSigned,e);case 4:return Xt(hn.fourDigitsSigned,e);default:return Xt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function WM(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function OI(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=n>=s%100;i=n+o-(a?100:0)}return t?i:1-i}function _I(n){return n%400===0||n%4===0&&n%100!==0}class K7 extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return pn(cn(4,t),s);case"yo":return pn(i.ordinalNumber(t,{unit:"year"}),s);default:return pn(cn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const a=OI(i.year,s);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class Q7 extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return pn(cn(4,t),s);case"Yo":return pn(i.ordinalNumber(t,{unit:"year"}),s);default:return pn(cn(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const o=YM(t,s);if(i.isTwoDigitYear){const c=OI(i.year,o);return t.setFullYear(c,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Is(t,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Is(t,s)}}class G7 extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return qy(r==="R"?4:r.length,t)}set(t,r,i){const s=Ct(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),dd(s)}}class X7 extends yt{constructor(){super(...arguments);X(this,"priority",130);X(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return qy(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class J7 extends yt{constructor(){super(...arguments);X(this,"priority",120);X(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return cn(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Z7 extends yt{constructor(){super(...arguments);X(this,"priority",120);X(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return cn(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class e$ extends yt{constructor(){super(...arguments);X(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);X(this,"priority",110)}parse(t,r,i){const s=o=>o-1;switch(r){case"M":return pn(Xt(hn.month,t),s);case"MM":return pn(cn(2,t),s);case"Mo":return pn(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class t$ extends yt{constructor(){super(...arguments);X(this,"priority",110);X(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=o=>o-1;switch(r){case"L":return pn(Xt(hn.month,t),s);case"LL":return pn(cn(2,t),s);case"Lo":return pn(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function n$(n,e,t){const r=Me(n,t==null?void 0:t.in),i=DI(r,t)-e;return r.setDate(r.getDate()-i*7),Me(r,t==null?void 0:t.in)}class r$ extends yt{constructor(){super(...arguments);X(this,"priority",100);X(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Xt(hn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Is(n$(t,i,s),s)}}function i$(n,e,t){const r=Me(n,t==null?void 0:t.in),i=$M(r,t)-e;return r.setDate(r.getDate()-i*7),r}class s$ extends yt{constructor(){super(...arguments);X(this,"priority",100);X(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Xt(hn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return dd(i$(t,i))}}const o$=[31,28,31,30,31,30,31,31,30,31,30,31],a$=[31,29,31,30,31,30,31,31,30,31,30,31];class l$ extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"subPriority",1);X(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Xt(hn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return cn(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=_I(i),o=t.getMonth();return s?r>=1&&r<=a$[o]:r>=1&&r<=o$[o]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class c$ extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"subpriority",1);X(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Xt(hn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return cn(r.length,t)}}validate(t,r){const i=t.getFullYear();return _I(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function qM(n,e,t){var p,m,y,b;const r=Bc(),i=(t==null?void 0:t.weekStartsOn)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,s=Me(n,t==null?void 0:t.in),o=s.getDay(),c=(e%7+7)%7,d=7-i,f=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return Pn(s,f,t)}class u$ extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=qM(t,i,s),t.setHours(0,0,0,0),t}}class d$ extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return pn(cn(r.length,t),o);case"eo":return pn(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=qM(t,i,s),t.setHours(0,0,0,0),t}}class f$ extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const o=a=>{const c=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return pn(cn(r.length,t),o);case"co":return pn(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=qM(t,i,s),t.setHours(0,0,0,0),t}}function h$(n,e,t){const r=Me(n,t==null?void 0:t.in),i=V7(r,t),s=e-i;return Pn(r,s,t)}class p$ extends yt{constructor(){super(...arguments);X(this,"priority",90);X(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return cn(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return pn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return pn(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return pn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return pn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=h$(t,i),t.setHours(0,0,0,0),t}}class m$ extends yt{constructor(){super(...arguments);X(this,"priority",80);X(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(WM(i),0,0,0),t}}class g$ extends yt{constructor(){super(...arguments);X(this,"priority",80);X(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(WM(i),0,0,0),t}}class y$ extends yt{constructor(){super(...arguments);X(this,"priority",80);X(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(WM(i),0,0,0),t}}class b$ extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Xt(hn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class v$ extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Xt(hn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class x$ extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Xt(hn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class w$ extends yt{constructor(){super(...arguments);X(this,"priority",70);X(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Xt(hn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return cn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class S$ extends yt{constructor(){super(...arguments);X(this,"priority",60);X(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Xt(hn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class M$ extends yt{constructor(){super(...arguments);X(this,"priority",50);X(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Xt(hn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return cn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class D$ extends yt{constructor(){super(...arguments);X(this,"priority",30);X(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return pn(cn(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class C$ extends yt{constructor(){super(...arguments);X(this,"priority",10);X(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Ds(Ms.basicOptionalMinutes,t);case"XX":return Ds(Ms.basic,t);case"XXXX":return Ds(Ms.basicOptionalSeconds,t);case"XXXXX":return Ds(Ms.extendedOptionalSeconds,t);case"XXX":default:return Ds(Ms.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ct(t,t.getTime()-Vy(t)-i)}}class k$ extends yt{constructor(){super(...arguments);X(this,"priority",10);X(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Ds(Ms.basicOptionalMinutes,t);case"xx":return Ds(Ms.basic,t);case"xxxx":return Ds(Ms.basicOptionalSeconds,t);case"xxxxx":return Ds(Ms.extendedOptionalSeconds,t);case"xxx":default:return Ds(Ms.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Ct(t,t.getTime()-Vy(t)-i)}}class E$ extends yt{constructor(){super(...arguments);X(this,"priority",40);X(this,"incompatibleTokens","*")}parse(t){return TI(t)}set(t,r,i){return[Ct(t,i*1e3),{timestampIsSet:!0}]}}class T$ extends yt{constructor(){super(...arguments);X(this,"priority",20);X(this,"incompatibleTokens","*")}parse(t){return TI(t)}set(t,r,i){return[Ct(t,i),{timestampIsSet:!0}]}}const O$={G:new q7,y:new K7,Y:new Q7,R:new G7,u:new X7,Q:new J7,q:new Z7,M:new e$,L:new t$,w:new r$,I:new s$,d:new l$,D:new c$,E:new u$,e:new d$,c:new f$,i:new p$,a:new m$,b:new g$,B:new y$,h:new b$,H:new v$,K:new x$,k:new w$,m:new S$,s:new M$,S:new D$,X:new C$,x:new k$,t:new E$,T:new T$},_$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R$=/^'([^]*?)'?$/,N$=/''/g,P$=/\S/,L$=/[a-zA-Z]/;function I$(n,e,t,r){var w,M,k,E,_,T,P,N;const i=()=>Ct((r==null?void 0:r.in)||t,NaN),s=z7(),o=(r==null?void 0:r.locale)??s.locale??MI,a=(r==null?void 0:r.firstWeekContainsDate)??((M=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:M.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(k=s.locale)==null?void 0:k.options)==null?void 0:E.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((T=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:T.weekStartsOn)??s.weekStartsOn??((N=(P=s.locale)==null?void 0:P.options)==null?void 0:N.weekStartsOn)??0;if(!e)return n?i():Me(t,r==null?void 0:r.in);const d={firstWeekContainsDate:a,weekStartsOn:c,locale:o},f=[new W7(r==null?void 0:r.in,t)],p=e.match(A$).map(A=>{const L=A[0];if(L in Jw){const I=Jw[L];return I(A,o.formatLong)}return A}).join("").match(_$),m=[];for(let A of p){const L=A[0],I=O$[L];if(I){const{incompatibleTokens:V}=I;if(Array.isArray(V)){const ae=m.find(de=>V.includes(de.token)||de.token===L);if(ae)throw new RangeError(`The format string mustn't contain \`${ae.fullToken}\` and \`${A}\` at the same time`)}else if(I.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);m.push({token:L,fullToken:A});const q=I.run(n,A,o.match,d);if(!q)return i();f.push(q.setter),n=q.rest}else{if(L.match(L$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(A==="''"?A="'":L==="'"&&(A=j$(A)),n.indexOf(A)===0)n=n.slice(A.length);else return i()}}if(n.length>0&&P$.test(n))return i();const y=f.map(A=>A.priority).sort((A,L)=>L-A).filter((A,L,I)=>I.indexOf(A)===L).map(A=>f.filter(L=>L.priority===A).sort((L,I)=>I.subPriority-L.subPriority)).map(A=>A[0]);let b=Me(t,r==null?void 0:r.in);if(isNaN(+b))return i();const v={};for(const A of y){if(!A.validate(b,d))return i();const L=A.set(b,v,d);Array.isArray(L)?(b=L[0],Object.assign(v,L[1])):b=L}return b}function j$(n){return n.match(R$)[1].replace(N$,"'")}function B$(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function F$(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e);return+Xw(r)==+Xw(i)}function z$(n,e,t){const[r,i]=zo(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function Yh(n,e,t){const r=+Me(n,t==null?void 0:t.in),[i,s]=[+Me(e.start,t==null?void 0:t.in),+Me(e.end,t==null?void 0:t.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function V$(n,e,t){return Pn(n,-1,t)}function H$(n,e){const t=()=>Ct(e==null?void 0:e.in,NaN),i=W$(n);let s;if(i.date){const d=q$(i.date,2);s=K$(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const o=+s;let a=0,c;if(i.time&&(a=Q$(i.time),isNaN(a)))return t();if(i.timezone){if(c=G$(i.timezone),isNaN(c))return t()}else{const d=new Date(o+a),f=Me(0,e==null?void 0:e.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Me(o+a+c,e==null?void 0:e.in)}const pg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},U$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Y$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function W$(n){const e={},t=n.split(pg.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],pg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(pg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=pg.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function q$(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function K$(n,e){if(e===null)return new Date(NaN);const t=n.match(U$);if(!t)return new Date(NaN);const r=!!t[4],i=qf(t[1]),s=qf(t[2])-1,o=qf(t[3]),a=qf(t[4]),c=qf(t[5])-1;if(r)return tY(e,a,c)?X$(e,a,c):new Date(NaN);{const d=new Date(0);return!Z$(e,s,o)||!eY(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function qf(n){return n?parseInt(n):1}function Q$(n){const e=n.match($$);if(!e)return NaN;const t=d1(e[1]),r=d1(e[2]),i=d1(e[3]);return nY(t,r,i)?t*X0+r*G0+i*1e3:NaN}function d1(n){return n&&parseFloat(n.replace(",","."))||0}function G$(n){if(n==="Z")return 0;const e=n.match(Y$);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return rY(r,i)?t*(r*X0+i*G0):NaN}function X$(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const J$=[31,null,31,30,31,30,31,31,30,31,30,31];function AI(n){return n%400===0||n%4===0&&n%100!==0}function Z$(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(J$[e]||(AI(n)?29:28))}function eY(n,e){return e>=1&&e<=(AI(n)?366:365)}function tY(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function nY(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function rY(n,e){return e>=0&&e<=59}function Ci(n,e,t){const r=Me(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),o=Ct(n,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=F7(o);return r.setMonth(e,Math.min(s,a)),r}function sy(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setHours(e),r}function oy(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Ru(n,e,t){const r=Me(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return Ci(r,r.getMonth()+s*3)}function ay(n,e,t){const r=Me(n,t==null?void 0:t.in);return r.setSeconds(e),r}function ms(n,e,t){const r=Me(n,t==null?void 0:t.in);return isNaN(+r)?Ct(n,NaN):(r.setFullYear(e),r)}function Ya(n,e,t){return dr(n,-e,t)}function RI(n,e,t){return VM(n,-1,t)}function D_(n,e,t){return Hy(n,-1,t)}function hd(n,e,t){return ko(n,-e,t)}function Z0(){return typeof window<"u"}function Fd(n){return NI(n)?(n.nodeName||"").toLowerCase():"#document"}function ci(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Us(n){var e;return(e=(NI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function NI(n){return Z0()?n instanceof Node||n instanceof ci(n).Node:!1}function Cr(n){return Z0()?n instanceof Element||n instanceof ci(n).Element:!1}function js(n){return Z0()?n instanceof HTMLElement||n instanceof ci(n).HTMLElement:!1}function C_(n){return!Z0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ci(n).ShadowRoot}const iY=new Set(["inline","contents"]);function Pp(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ri(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!iY.has(i)}const sY=new Set(["table","td","th"]);function oY(n){return sY.has(Fd(n))}const aY=[":popover-open",":modal"];function eb(n){return aY.some(e=>{try{return n.matches(e)}catch{return!1}})}const lY=["transform","translate","scale","rotate","perspective"],cY=["transform","translate","scale","rotate","perspective","filter"],uY=["paint","layout","strict","content"];function KM(n){const e=QM(),t=Cr(n)?Ri(n):n;return lY.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||cY.some(r=>(t.willChange||"").includes(r))||uY.some(r=>(t.contain||"").includes(r))}function dY(n){let e=tl(n);for(;js(e)&&!pd(e);){if(KM(e))return e;if(eb(e))return null;e=tl(e)}return null}function QM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fY=new Set(["html","body","#document"]);function pd(n){return fY.has(Fd(n))}function Ri(n){return ci(n).getComputedStyle(n)}function tb(n){return Cr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function tl(n){if(Fd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||C_(n)&&n.host||Us(n);return C_(e)?e.host:e}function PI(n){const e=tl(n);return pd(e)?n.ownerDocument?n.ownerDocument.body:n.body:js(e)&&Pp(e)?e:PI(e)}function Wh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=PI(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ci(i);if(s){const a=eS(o);return e.concat(o,o.visualViewport||[],Pp(i)?i:[],a&&t?Wh(a):[])}return e.concat(i,Wh(i,[],t))}function eS(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const md=Math.min,pc=Math.max,Ky=Math.round,mg=Math.floor,_s=n=>({x:n,y:n}),hY={left:"right",right:"left",bottom:"top",top:"bottom"},pY={start:"end",end:"start"};function mY(n,e,t){return pc(n,md(e,t))}function nb(n,e){return typeof n=="function"?n(e):n}function gd(n){return n.split("-")[0]}function Lp(n){return n.split("-")[1]}function gY(n){return n==="x"?"y":"x"}function GM(n){return n==="y"?"height":"width"}const yY=new Set(["top","bottom"]);function Kl(n){return yY.has(gd(n))?"y":"x"}function XM(n){return gY(Kl(n))}function bY(n,e,t){t===void 0&&(t=!1);const r=Lp(n),i=XM(n),s=GM(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Qy(o)),[o,Qy(o)]}function vY(n){const e=Qy(n);return[tS(n),e,tS(e)]}function tS(n){return n.replace(/start|end/g,e=>pY[e])}const k_=["left","right"],E_=["right","left"],xY=["top","bottom"],wY=["bottom","top"];function SY(n,e,t){switch(n){case"top":case"bottom":return t?e?E_:k_:e?k_:E_;case"left":case"right":return e?xY:wY;default:return[]}}function MY(n,e,t,r){const i=Lp(n);let s=SY(gd(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(tS)))),s}function Qy(n){return n.replace(/left|right|bottom|top/g,e=>hY[e])}function DY(n){return{top:0,right:0,bottom:0,left:0,...n}}function LI(n){return typeof n!="number"?DY(n):{top:n,right:n,bottom:n,left:n}}function Gy(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var CY=typeof document<"u",kY=function(){},Xy=CY?D.useLayoutEffect:kY;const EY={...rL},TY=EY.useInsertionEffect,OY=TY||(n=>n());function _Y(n){const e=D.useRef(()=>{});return OY(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function T_(n,e,t){let{reference:r,floating:i}=n;const s=Kl(e),o=XM(e),a=GM(o),c=gd(e),d=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let y;switch(c){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(Lp(e)){case"start":y[o]-=m*(t&&d?-1:1);break;case"end":y[o]+=m*(t&&d?-1:1);break}return y}const AY=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:p}=T_(d,r,c),m=r,y={},b=0;for(let v=0;v<a.length;v++){const{name:w,fn:M}=a[v],{x:k,y:E,data:_,reset:T}=await M({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:n,floating:e}});f=k??f,p=E??p,y={...y,[w]:{...y[w],..._}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(d=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:f,y:p}=T_(d,m,c)),v=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:y}};async function RY(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=n,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=nb(e,n),b=LI(y),w=a[m?p==="floating"?"reference":"floating":p],M=Gy(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),k=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Gy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:E,strategy:c}):k);return{top:(M.top-T.top+b.top)/_.y,bottom:(T.bottom-M.bottom+b.bottom)/_.y,left:(M.left-T.left+b.left)/_.x,right:(T.right-M.right+b.right)/_.x}}const NY=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=nb(n,e)||{};if(d==null)return{};const p=LI(f),m={x:t,y:r},y=XM(i),b=GM(y),v=await o.getDimensions(d),w=y==="y",M=w?"top":"left",k=w?"bottom":"right",E=w?"clientHeight":"clientWidth",_=s.reference[b]+s.reference[y]-m[y]-s.floating[b],T=m[y]-s.reference[y],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=P?P[E]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=a.floating[E]||s.floating[b]);const A=_/2-T/2,L=N/2-v[b]/2-1,I=md(p[M],L),V=md(p[k],L),q=I,ae=N-v[b]-V,de=N/2-v[b]/2+A,oe=mY(q,de,ae),F=!c.arrow&&Lp(i)!=null&&de!==oe&&s.reference[b]/2-(de<q?I:V)-v[b]/2<0,U=F?de<q?de-q:de-ae:0;return{[y]:m[y]+U,data:{[y]:oe,centerOffset:de-oe-U,...F&&{alignmentOffset:U}},reset:F}}}),PY=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=nb(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const M=gd(i),k=Kl(a),E=gd(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),T=m||(E||!v?[Qy(a)]:vY(a)),P=b!=="none";!m&&P&&T.push(...MY(a,v,b,_));const N=[a,...T],A=await RY(e,w),L=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(A[M]),p){const de=bY(i,o,_);L.push(A[de[0]],A[de[1]])}if(I=[...I,{placement:i,overflows:L}],!L.every(de=>de<=0)){var V,q;const de=(((V=s.flip)==null?void 0:V.index)||0)+1,oe=N[de];if(oe&&(!(p==="alignment"?k!==Kl(oe):!1)||I.every(J=>J.overflows[0]>0&&Kl(J.placement)===k)))return{data:{index:de,overflows:I},reset:{placement:oe}};let F=(q=I.filter(U=>U.overflows[0]<=0).sort((U,J)=>U.overflows[1]-J.overflows[1])[0])==null?void 0:q.placement;if(!F)switch(y){case"bestFit":{var ae;const U=(ae=I.filter(J=>{if(P){const ce=Kl(J.placement);return ce===k||ce==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ce=>ce>0).reduce((ce,j)=>ce+j,0)]).sort((J,ce)=>J[1]-ce[1])[0])==null?void 0:ae[0];U&&(F=U);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}},LY=new Set(["left","top"]);async function IY(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=gd(t),a=Lp(t),c=Kl(t)==="y",d=LY.has(o)?-1:1,f=s&&c?-1:1,p=nb(e,n);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof b=="number"&&(y=a==="end"?b*-1:b),c?{x:y*f,y:m*d}:{x:m*d,y:y*f}}const jY=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await IY(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}};function II(n){const e=Ri(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=js(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Ky(t)!==s||Ky(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function JM(n){return Cr(n)?n:n.contextElement}function Wu(n){const e=JM(n);if(!js(e))return _s(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=II(e);let o=(s?Ky(t.width):t.width)/r,a=(s?Ky(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const BY=_s(0);function jI(n){const e=ci(n);return!QM()||!e.visualViewport?BY:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FY(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ci(n)?!1:e}function Oc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=JM(n);let o=_s(1);e&&(r?Cr(r)&&(o=Wu(r)):o=Wu(n));const a=FY(s,t,r)?jI(s):_s(0);let c=(i.left+a.x)/o.x,d=(i.top+a.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const m=ci(s),y=r&&Cr(r)?ci(r):r;let b=m,v=eS(b);for(;v&&r&&y!==b;){const w=Wu(v),M=v.getBoundingClientRect(),k=Ri(v),E=M.left+(v.clientLeft+parseFloat(k.paddingLeft))*w.x,_=M.top+(v.clientTop+parseFloat(k.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,p*=w.y,c+=E,d+=_,b=ci(v),v=eS(b)}}return Gy({width:f,height:p,x:c,y:d})}function ZM(n,e){const t=tb(n).scrollLeft;return e?e.left+t:Oc(Us(n)).left+t}function BI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:ZM(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function zY(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Us(r),a=e?eb(e.floating):!1;if(r===o||a&&s)return t;let c={scrollLeft:0,scrollTop:0},d=_s(1);const f=_s(0),p=js(r);if((p||!p&&!s)&&((Fd(r)!=="body"||Pp(o))&&(c=tb(r)),js(r))){const y=Oc(r);d=Wu(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const m=o&&!p&&!s?BI(o,c,!0):_s(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:t.y*d.y-c.scrollTop*d.y+f.y+m.y}}function VY(n){return Array.from(n.getClientRects())}function HY(n){const e=Us(n),t=tb(n),r=n.ownerDocument.body,i=pc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=pc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+ZM(n);const a=-t.scrollTop;return Ri(r).direction==="rtl"&&(o+=pc(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function UY(n,e){const t=ci(n),r=Us(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const d=QM();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const $Y=new Set(["absolute","fixed"]);function YY(n,e){const t=Oc(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=js(n)?Wu(n):_s(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:a,x:c,y:d}}function O_(n,e,t){let r;if(e==="viewport")r=UY(n,t);else if(e==="document")r=HY(Us(n));else if(Cr(e))r=YY(e,t);else{const i=jI(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Gy(r)}function FI(n,e){const t=tl(n);return t===e||!Cr(t)||pd(t)?!1:Ri(t).position==="fixed"||FI(t,e)}function WY(n,e){const t=e.get(n);if(t)return t;let r=Wh(n,[],!1).filter(a=>Cr(a)&&Fd(a)!=="body"),i=null;const s=Ri(n).position==="fixed";let o=s?tl(n):n;for(;Cr(o)&&!pd(o);){const a=Ri(o),c=KM(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&$Y.has(i.position)||Pp(o)&&!c&&FI(n,o))?r=r.filter(f=>f!==o):i=a,o=tl(o)}return e.set(n,r),r}function qY(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?eb(e)?[]:WY(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((d,f)=>{const p=O_(e,f,i);return d.top=pc(p.top,d.top),d.right=md(p.right,d.right),d.bottom=md(p.bottom,d.bottom),d.left=pc(p.left,d.left),d},O_(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KY(n){const{width:e,height:t}=II(n);return{width:e,height:t}}function QY(n,e,t){const r=js(e),i=Us(e),s=t==="fixed",o=Oc(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=_s(0);function d(){c.x=ZM(i)}if(r||!r&&!s)if((Fd(e)!=="body"||Pp(i))&&(a=tb(e)),r){const y=Oc(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const f=i&&!r&&!s?BI(i,a):_s(0),p=o.left+a.scrollLeft-c.x-f.x,m=o.top+a.scrollTop-c.y-f.y;return{x:p,y:m,width:o.width,height:o.height}}function f1(n){return Ri(n).position==="static"}function __(n,e){if(!js(n)||Ri(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Us(n)===t&&(t=t.ownerDocument.body),t}function zI(n,e){const t=ci(n);if(eb(n))return t;if(!js(n)){let i=tl(n);for(;i&&!pd(i);){if(Cr(i)&&!f1(i))return i;i=tl(i)}return t}let r=__(n,e);for(;r&&oY(r)&&f1(r);)r=__(r,e);return r&&pd(r)&&f1(r)&&!KM(r)?t:r||dY(n)||t}const GY=async function(n){const e=this.getOffsetParent||zI,t=this.getDimensions,r=await t(n.floating);return{reference:QY(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XY(n){return Ri(n).direction==="rtl"}const JY={convertOffsetParentRelativeRectToViewportRelativeRect:zY,getDocumentElement:Us,getClippingRect:qY,getOffsetParent:zI,getElementRects:GY,getClientRects:VY,getDimensions:KY,getScale:Wu,isElement:Cr,isRTL:XY};function VI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function ZY(n,e){let t=null,r;const i=Us(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const d=n.getBoundingClientRect(),{left:f,top:p,width:m,height:y}=d;if(a||e(),!m||!y)return;const b=mg(p),v=mg(i.clientWidth-(f+m)),w=mg(i.clientHeight-(p+y)),M=mg(f),E={rootMargin:-b+"px "+-v+"px "+-w+"px "+-M+"px",threshold:pc(0,md(1,c))||1};let _=!0;function T(P){const N=P[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!VI(d,n.getBoundingClientRect())&&o(),_=!1}try{t=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,E)}t.observe(n)}return o(!0),s}function eW(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=JM(n),f=i||s?[...d?Wh(d):[],...Wh(e)]:[];f.forEach(M=>{i&&M.addEventListener("scroll",t,{passive:!0}),s&&M.addEventListener("resize",t)});const p=d&&a?ZY(d,t):null;let m=-1,y=null;o&&(y=new ResizeObserver(M=>{let[k]=M;k&&k.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),t()}),d&&!c&&y.observe(d),y.observe(e));let b,v=c?Oc(n):null;c&&w();function w(){const M=Oc(n);v&&!VI(v,M)&&t(),v=M,b=requestAnimationFrame(w)}return t(),()=>{var M;f.forEach(k=>{i&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),p==null||p(),(M=y)==null||M.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const tW=jY,nW=PY,A_=NY,rW=(n,e,t)=>{const r=new Map,i={platform:JY,...t},s={...i.platform,_c:r};return AY(n,e,{...i,platform:s})};var iW=typeof document<"u",sW=function(){},ly=iW?D.useLayoutEffect:sW;function Jy(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Jy(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Jy(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function HI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function R_(n,e){const t=HI(n);return Math.round(e*t)/t}function h1(n){const e=D.useRef(n);return ly(()=>{e.current=n}),e}function oW(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=n,[f,p]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=D.useState(r);Jy(m,r)||y(r);const[b,v]=D.useState(null),[w,M]=D.useState(null),k=D.useCallback(J=>{J!==P.current&&(P.current=J,v(J))},[]),E=D.useCallback(J=>{J!==N.current&&(N.current=J,M(J))},[]),_=s||b,T=o||w,P=D.useRef(null),N=D.useRef(null),A=D.useRef(f),L=c!=null,I=h1(c),V=h1(i),q=h1(d),ae=D.useCallback(()=>{if(!P.current||!N.current)return;const J={placement:e,strategy:t,middleware:m};V.current&&(J.platform=V.current),rW(P.current,N.current,J).then(ce=>{const j={...ce,isPositioned:q.current!==!1};de.current&&!Jy(A.current,j)&&(A.current=j,Yl.flushSync(()=>{p(j)}))})},[m,e,t,V,q]);ly(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,p(J=>({...J,isPositioned:!1})))},[d]);const de=D.useRef(!1);ly(()=>(de.current=!0,()=>{de.current=!1}),[]),ly(()=>{if(_&&(P.current=_),T&&(N.current=T),_&&T){if(I.current)return I.current(_,T,ae);ae()}},[_,T,ae,I,L]);const oe=D.useMemo(()=>({reference:P,floating:N,setReference:k,setFloating:E}),[k,E]),F=D.useMemo(()=>({reference:_,floating:T}),[_,T]),U=D.useMemo(()=>{const J={position:t,left:0,top:0};if(!F.floating)return J;const ce=R_(F.floating,f.x),j=R_(F.floating,f.y);return a?{...J,transform:"translate("+ce+"px, "+j+"px)",...HI(F.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:j}},[t,a,F.floating,f.x,f.y]);return D.useMemo(()=>({...f,update:ae,refs:oe,elements:F,floatingStyles:U}),[f,ae,oe,F,U])}const aW=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?A_({element:r.current,padding:i}).fn(t):{}:r?A_({element:r,padding:i}).fn(t):{}}}},lW=(n,e)=>({...tW(n),options:[n,e]}),cW=(n,e)=>({...nW(n),options:[n,e]}),uW=(n,e)=>({...aW(n),options:[n,e]}),dW={...rL};let N_=!1,fW=0;const P_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fW++;function hW(){const[n,e]=D.useState(()=>N_?P_():void 0);return Xy(()=>{n==null&&e(P_())},[]),D.useEffect(()=>{N_=!0},[]),n}const pW=dW.useId,UI=pW||hW,mW=D.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:c=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:p,stroke:m,d:y,style:{transform:b,...v}={},...w}=e,M=UI(),[k,E]=D.useState(!1);if(Xy(()=>{if(!i)return;Ri(i).direction==="rtl"&&E(!0)},[i]),!i)return null;const[_,T]=r.split("-"),P=_==="top"||_==="bottom";let N=p;(P&&o!=null&&o.x||!P&&o!=null&&o.y)&&(N=null);const A=f*2,L=A/2,I=a/2*(d/-8+1),V=c/2*d/4,q=!!y,ae=N&&T==="end"?"bottom":"top";let de=N&&T==="end"?"right":"left";N&&k&&(de=T==="end"?"left":"right");const oe=(s==null?void 0:s.x)!=null?N||s.x:"",F=(s==null?void 0:s.y)!=null?N||s.y:"",U=y||"M0,0"+(" H"+a)+(" L"+(a-I)+","+(c-V))+(" Q"+a/2+","+c+" "+I+","+(c-V))+" Z",J={top:q?"rotate(180deg)":"",left:q?"rotate(90deg)":"rotate(-90deg)",bottom:q?"":"rotate(180deg)",right:q?"rotate(-90deg)":"rotate(90deg)"}[_];return C.jsxs("svg",{...w,"aria-hidden":!0,ref:t,width:q?a:a+A,height:a,viewBox:"0 0 "+a+" "+(c>a?c:a),style:{position:"absolute",pointerEvents:"none",[de]:oe,[ae]:F,[_]:P||q?"100%":"calc(100% - "+A/2+"px)",transform:[J,b].filter(ce=>!!ce).join(" "),...v},children:[A>0&&C.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:m,strokeWidth:A+(y?0:1),d:U}),C.jsx("path",{stroke:A&&!y?w.fill:"none",d:U}),C.jsx("clipPath",{id:M,children:C.jsx("rect",{x:-L,y:L*(q?-1:1),width:a+A,height:a})})]})});function gW(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const yW=D.createContext(null),bW=D.createContext(null),vW=()=>{var n;return((n=D.useContext(yW))==null?void 0:n.id)||null},xW=()=>D.useContext(bW);function wW(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=UI(),s=D.useRef({}),[o]=D.useState(()=>gW()),a=vW()!=null,[c,d]=D.useState(r.reference),f=_Y((y,b,v)=>{s.current.openEvent=y?b:void 0,o.emit("openchange",{open:y,event:b,reason:v,nested:a}),t==null||t(y,b,v)}),p=D.useMemo(()=>({setPositionReference:d}),[]),m=D.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return D.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:m,events:o,floatingId:i,refs:p}),[e,f,m,o,i,p])}function SW(n){n===void 0&&(n={});const{nodeId:e}=n,t=wW({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=D.useState(null),[a,c]=D.useState(null),f=(i==null?void 0:i.domReference)||s,p=D.useRef(null),m=xW();Xy(()=>{f&&(p.current=f)},[f]);const y=oW({...n,elements:{...i,...a&&{reference:a}}}),b=D.useCallback(E=>{const _=Cr(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;c(_),y.refs.setReference(_)},[y.refs]),v=D.useCallback(E=>{(Cr(E)||E===null)&&(p.current=E,o(E)),(Cr(y.refs.reference.current)||y.refs.reference.current===null||E!==null&&!Cr(E))&&y.refs.setReference(E)},[y.refs]),w=D.useMemo(()=>({...y.refs,setReference:v,setPositionReference:b,domReference:p}),[y.refs,v,b]),M=D.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),k=D.useMemo(()=>({...y,...r,refs:w,elements:M,nodeId:e}),[y,w,M,e,r]);return Xy(()=>{r.dataRef.current.floatingContext=k;const E=m==null?void 0:m.nodesRef.current.find(_=>_.id===e);E&&(E.context=k)}),D.useMemo(()=>({...y,context:k,refs:w,elements:M}),[y,w,M,k])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var nS=function(e,t){return nS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},nS(e,t)};function Hn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dt=function(){return dt=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},dt.apply(this,arguments)};function ks(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var MW=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,o=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return $.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},DW=function(n,e){var t=D.useRef(null),r=D.useRef(n);r.current=n;var i=D.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;t.current&&!t.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return D.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},rb=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,o=n.ignoreClass,a=DW(t,o);return $.createElement("div",{className:r,style:s,ref:function(c){a.current=c,i&&(i.current=c)}},e)},ge;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(ge||(ge={}));function eD(){var n=typeof window<"u"?window:globalThis;return n}var Ip=12;function vt(n){if(n==null)return new Date;var e=typeof n=="string"?H$(n):Me(n);return ib(e)?e:new Date}function p1(n,e,t,r,i){i===void 0&&(i=vt());for(var s=yd(t)||yd(tD()),o=Array.isArray(e)?e:[e],a=0,c=o;a<c.length;a++){var d=c[a],f=I$(n,d,i,{locale:s});if(ib(f)&&(!r||n===Yt(f,d,t)))return f}return null}function ib(n,e){return Uy(n)&&!el(n,new Date("1/1/1800"))}function Yt(n,e,t){if(t==="en")return ar(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?yd(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||yd(tD()),ar(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Di(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Yt(n,i,r)||""}var $I=" - ";function CW(n,e,t){if(!n)return"";var r=Di(n,t),i=e?Di(e,t):"";return"".concat(r).concat($I).concat(i)}function kW(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?Di(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=Di(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function m1(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return sy(oy(ay(n,a),s),r)}function EW(n){return $M(n)}function TW(n,e){return Yt(n,"ddd",e)}function cy(n){return Io(n)}function Wa(n,e,t){var r=yd(e||tD());return Is(n,{locale:r,weekStartsOn:t})}function _o(n){return UM(n)}function ah(n){return J0(n)}function L_(n){return Xw(n)}function I_(){return Io(vt())}function j_(n){return vI(n)}function OW(n){return wI(n)}function _W(n){return HM(n)}function vs(n,e){return n&&e?z$(n,e):!n&&!e}function Mr(n,e){return n&&e?B$(n,e):!n&&!e}function Zy(n,e){return n&&e?F$(n,e):!n&&!e}function ut(n,e){return n&&e?UU(n,e):!n&&!e}function Ql(n,e){return n&&e?kI(n,e):!n&&!e}function lh(n,e,t){var r,i=Io(e),s=vI(t);try{r=Yh(n,{start:i,end:s})}catch{r=!1}return r}function YI(n,e){var t=eD();t.__localeData__||(t.__localeData__={}),t.__localeData__[n]=e}function tD(){var n=eD();return n.__localeId__}function yd(n){if(typeof n=="string"){var e=eD();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function AW(n,e,t){return e(Yt(n,"EEEE",t))}function RW(n,e){return Yt(n,"EEEEEE",e)}function NW(n,e){return Yt(n,"EEE",e)}function nD(n,e){return Yt(Ci(vt(),n),"LLLL",e)}function WI(n,e){return Yt(Ci(vt(),n),"LLL",e)}function PW(n,e){return Yt(Ru(vt(),n),"QQQ",e)}function Ti(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,a=t.includeDates,c=t.includeDateIntervals,d=t.filterDate;return jp(n,{minDate:r,maxDate:i})||s&&s.some(function(f){return f instanceof Date?ut(n,f):ut(n,f.date)})||o&&o.some(function(f){var p=f.start,m=f.end;return Yh(n,{start:p,end:m})})||a&&!a.some(function(f){return ut(n,f)})||c&&!c.some(function(f){var p=f.start,m=f.end;return Yh(n,{start:p,end:m})})||d&&!d(vt(n))||!1}function rD(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return Yh(n,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?ut(n,s):ut(n,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function qI(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return jp(n,{minDate:r?UM(r):void 0,maxDate:i?HM(i):void 0})||(s==null?void 0:s.some(function(c){return Mr(n,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Mr(n,c)})||a&&!a(vt(n))||!1}function gg(n,e,t,r){var i=Ke(n),s=ur(n),o=Ke(e),a=ur(e),c=Ke(r);return i===o&&i===c?s<=t&&t<=a:i<o?c===i&&s<=t||c===o&&a>=t||c<o&&c>i:!1}function LW(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates;return jp(n,{minDate:r,maxDate:i})||s&&s.some(function(a){return Mr(a instanceof Date?a:a.date,n)})||o&&!o.some(function(a){return Mr(a,n)})||!1}function yg(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate;return jp(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return Zy(n,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Zy(n,c)})||a&&!a(vt(n))||!1}function bg(n,e,t){if(!e||!t||!Uy(e)||!Uy(t))return!1;var r=Ke(e),i=Ke(t);return r<=n&&i>=n}function uy(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,o=t.includeDates,a=t.filterDate,c=new Date(n,0,1);return jp(c,{minDate:r?J0(r):void 0,maxDate:i?xI(i):void 0})||(s==null?void 0:s.some(function(d){return vs(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return vs(c,d)})||a&&!a(vt(c))||!1}function vg(n,e,t,r){var i=Ke(n),s=hc(n),o=Ke(e),a=hc(e),c=Ke(r);return i===o&&i===c?s<=t&&t<=a:i<o?c===i&&s<=t||c===o&&a>=t||c<o&&c>i:!1}function jp(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&fd(n,i)<0||s&&fd(n,s)>0)!==null&&t!==void 0?t:!1}function B_(n,e){return e.some(function(t){return To(t)===To(n)&&Oo(t)===Oo(n)&&$a(t)===$a(n)})}function F_(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&B_(n,r)||i&&!B_(n,i)||s&&!s(n)||!1}function z_(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=vt();i=sy(i,To(n)),i=oy(i,Oo(n)),i=ay(i,$a(n));var s=vt();s=sy(s,To(t)),s=oy(s,Oo(t)),s=ay(s,$a(t));var o=vt();o=sy(o,To(r)),o=oy(o,Oo(r)),o=ay(o,$a(r));var a;try{a=!Yh(i,{start:s,end:o})}catch{a=!1}return a}function V_(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Ya(n,1);return r&&$y(r,s)>0||i&&i.every(function(o){return $y(o,s)>0})||!1}function H_(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=dr(n,1);return r&&$y(s,r)>0||i&&i.every(function(o){return $y(s,o)>0})||!1}function IW(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=J0(n),o=RI(s);return r&&Yy(r,o)>0||i&&i.every(function(a){return Yy(a,o)>0})||!1}function jW(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=xI(n),o=VM(s,1);return r&&Yy(o,r)>0||i&&i.every(function(a){return Yy(o,a)>0})||!1}function U_(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=hd(n,1);return r&&Wy(r,s)>0||i&&i.every(function(o){return Wy(o,s)>0})||!1}function BW(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?Ip:i,o=ah(hd(n,s)),a=La(o,s).endPeriod,c=r&&Ke(r);return c&&c>a||!1}function $_(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=ko(n,1);return r&&Wy(s,r)>0||i&&i.every(function(o){return Wy(s,o)>0})||!1}function FW(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?Ip:i,o=ko(n,s),a=La(o,s).startPeriod,c=r&&Ke(r);return c&&c<a||!1}function KI(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return fd(i,e)>=0});return y_(r)}else return t?y_(t):e}function QI(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return fd(i,e)<=0});return g_(r)}else return t?g_(t):e}function Y_(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var o=n[i];if(Eo(o)){var a=Yt(o,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(e)||(c.push(e),r.set(a,c))}else if(typeof o=="object"){var d=Object.keys(o),f=(t=d[0])!==null&&t!==void 0?t:"",p=o[f];if(typeof f=="string"&&Array.isArray(p))for(var m=0,y=p.length;m<y;m++){var b=p[m];if(b){var a=Yt(b,"MM.dd.yyyy"),c=r.get(a)||[];c.includes(f)||(c.push(f),r.set(a,c))}}}}return r}function zW(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function VW(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(Eo(i)){var o=Yt(i,"MM.dd.yyyy"),a=t.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&zW(a.holidayNames,[s]))){a.className=e;var c=a.holidayNames;a.holidayNames=c?ks(ks([],c,!0),[s],!1):[s],t.set(o,a)}}}),t}function HW(n,e,t,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var c=n,d=i[a];d&&(c=FU(c,To(d)),c=Gw(c,Oo(d)),c=HU(c,$a(d)));var f=Gw(n,(t+1)*r);Za(c,e)&&el(c,f)&&d!=null&&o.push(d)}return o}function W_(n){return n<10?"0".concat(n):"".concat(n)}function La(n,e){e===void 0&&(e=Ip);var t=Math.ceil(Ke(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function UW(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function q_(n){var e=n.getSeconds(),t=n.getMilliseconds();return Me(n.getTime()-e*1e3-t)}function $W(n,e){return q_(n).getTime()===q_(e).getTime()}function K_(n){if(!Eo(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function Q_(n,e){if(!Eo(n)||!Eo(e))throw new Error("Invalid date received");var t=K_(n),r=K_(e);return el(t,r)}function GI(n){return n.key===ge.Space}var YW=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=$.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,c=a instanceof Date&&!isNaN(+a),d=c?a:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),p=f[0],m=f[1];d.setHours(Number(p)),d.setMinutes(Number(m))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,d)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,c=s.customTimeInput;return c?D.cloneElement(c,{date:o,value:i,onChange:r.onTimeChange}):$.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return $.createElement("div",{className:"react-datepicker__input-time-container"},$.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),$.createElement("div",{className:"react-datepicker-time__input-container"},$.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(D.Component),WW=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=D.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===ge.Space&&(r.preventDefault(),r.key=ge.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return ut(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Ti(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return rD(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ut(t.props.day,Wa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&ut(r,Wa(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Yt(i,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Yt(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:lh(i,s,o)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,c=i.selectsRange,d=i.selectsDisabledDaysInRange,f=i.startDate,p=i.endDate,m=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(o||a||c)||!m||!d&&t.isDisabled()?!1:o&&p&&(el(m,p)||Ql(m,p))?lh(s,m,p):a&&f&&(Za(m,f)||Ql(m,f))||c&&f&&!p&&(Za(m,f)||Ql(m,f))?lh(s,f,m):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.startDate,a=i.selectsStart,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a?ut(s,c):ut(s,o)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,o=i.endDate,a=i.selectsEnd,c=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return a||c?ut(s,d):ut(s,o)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ut(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ut(o,i)},t.isWeekend=function(){var r=B7(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===ur(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(ur(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(vt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return Xn("react-datepicker__day",i,"react-datepicker__day--"+TW(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,c=a===void 0?"Not available":a,d=t.isDisabled()||t.isExcluded()?c:o;return"".concat(d," ").concat(Yt(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,c=Yt(i,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),t.isExcluded()&&d.push(a==null?void 0:a.filter(function(f){return f instanceof Date?ut(f,i):ut(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&ut(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(M_(t.props.day),t.props.day):M_(t.props.day)},t.render=function(){return $.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&$.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(D.Component),qW=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=D.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,o=r.key;o===ge.Space&&(r.preventDefault(),r.key=ge.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ut(t.props.date,t.props.selected)&&ut(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ut(t.props.date,t.props.selected)&&ut(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ut(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&ut(this.props.date,this.props.selected)};return $.createElement("div",{ref:this.weekNumberEl,className:Xn(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(D.Component),KW=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return Ti(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var o,a,c,d=new Date(r),f=0;f<7;f++){var p=new Date(r);p.setDate(p.getDate()+f);var m=!t.isDisabled(p);if(m){d=p;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(a=t.props).setOpen)===null||c===void 0||c.call(a,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):EW(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Pn(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=Pn(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push($.createElement(qW,dt({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var c=Pn(r,a);return $.createElement(WW,dt({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return Wa(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ut(t.startOfWeek(),t.props.selected)&&ut(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ut(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return $.createElement("div",{className:Xn(t)},this.renderDays())},e}(D.Component),Kf,QW=6,qu={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},g1=(Kf={},Kf[qu.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Kf[qu.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Kf[qu.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Kf),xg=1;function G_(n,e){return n?qu.FOUR_COLUMNS:e?qu.TWO_COLUMNS:qu.THREE_COLUMNS}var GW=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ks([],Array(12),!0).map(function(){return D.createRef()}),t.QUARTER_REFS=ks([],Array(4),!0).map(function(){return D.createRef()}),t.isDisabled=function(r){return Ti(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return rD(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Mr(Ci(s,r),o)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Zy(Ru(s,r),o)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Mr(Ci(s,r),a)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Zy(Ru(s,r),a)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate,m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||c||d)||!m?!1:a&&p?gg(m,p,r,o):c&&f||d&&f&&!p?gg(f,m,r,o):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.startDate,c=s.selectsStart,d=Ci(o,r),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?Mr(d,f):Mr(d,a)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,o=s.day,a=s.endDate,c=s.selectsEnd,d=s.selectsRange,f=Ci(o,r),p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||d?Mr(f,p):Mr(f,a)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,o=s.day,a=s.selectsStart,c=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate,m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(a||c||d)||!m?!1:a&&p?vg(m,p,r,o):c&&f||d&&f&&!p?vg(f,m,r,o):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=Pn(r,6);return Mr(r,i)||Mr(s,i)},t.isCurrentMonth=function(r,i){return Ke(r)===Ke(vt())&&i===ur(vt())},t.isCurrentQuarter=function(r,i){return Ke(r)===Ke(vt())&&i===hc(vt())},t.isSelectedMonth=function(r,i,s){return ur(s)===i&&Ke(r)===Ke(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(o){return t.isSelectedMonth(r,i,o)})},t.isSelectedQuarter=function(r,i,s){return hc(r)===i&&Ke(r)===Ke(s)},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,o=r.selectedDates,a=r.selectsMultiple,c=ur(i);return a?o==null?void 0:o.some(function(d){return t.isSelectedMonth(i,c,d)}):!!s&&t.isSelectedMonth(i,c,s)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,s=0,o=!1,a=Wa(_o(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(b){return t.props.showWeekPicker?Wa(b,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(b){return t.props.showWeekPicker?Wa(b,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?d(t.props.selected):void 0,p=t.props.preSelection?c(t.props.preSelection):void 0;r.push($.createElement(KW,dt({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:a,month:ur(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:p,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,a=Hy(a,1);var m=i&&s>=QW,y=!i&&!t.isWeekInMonth(a);if(m||y)if(t.props.peekNextMonth)o=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||t.handleDayClick(_o(a),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||t.handleDayMouseEnter(_o(o))},t.handleMonthNavigation=function(r,i){var s,o,a,c;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=t.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,s){var o,a=t.props,c=a.selected,d=a.preSelection,f=a.setPreSelection,p=a.minDate,m=a.maxDate,y=a.showFourColumnMonthYearPicker,b=a.showTwoColumnMonthYearPicker;if(d){var v=G_(y,b),w=t.getVerticalOffset(v),M=(o=g1[v])===null||o===void 0?void 0:o.grid,k=function(N,A,L){var I,V,q=A,ae=L;switch(N){case ge.ArrowRight:q=dr(A,xg),ae=L===11?0:L+xg;break;case ge.ArrowLeft:q=Ya(A,xg),ae=L===0?11:L-xg;break;case ge.ArrowUp:q=Ya(A,w),ae=!((I=M==null?void 0:M[0])===null||I===void 0)&&I.includes(L)?L+12-w:L-w;break;case ge.ArrowDown:q=dr(A,w),ae=!((V=M==null?void 0:M[M.length-1])===null||V===void 0)&&V.includes(L)?L-12+w:L+w;break}return{newCalculatedDate:q,newCalculatedMonth:ae}},E=function(N,A,L){for(var I=40,V=N,q=!1,ae=0,de=k(V,A,L),oe=de.newCalculatedDate,F=de.newCalculatedMonth;!q;){if(ae>=I){oe=A,F=L;break}if(p&&oe<p){V=ge.ArrowRight;var U=k(V,oe,F);oe=U.newCalculatedDate,F=U.newCalculatedMonth}if(m&&oe>m){V=ge.ArrowLeft;var U=k(V,oe,F);oe=U.newCalculatedDate,F=U.newCalculatedMonth}if(LW(oe,t.props)){var U=k(V,oe,F);oe=U.newCalculatedDate,F=U.newCalculatedMonth}else q=!0;ae++}return{newCalculatedDate:oe,newCalculatedMonth:F}};if(i===ge.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),f==null||f(c));return}var _=E(i,d,s),T=_.newCalculatedDate,P=_.newCalculatedMonth;switch(i){case ge.ArrowRight:case ge.ArrowLeft:case ge.ArrowUp:case ge.ArrowDown:t.handleMonthNavigation(P,T);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=g1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,c=r.key;c!==ge.Tab&&r.preventDefault(),o||t.handleKeyboardNavigation(r,c,i),a&&a(r)},t.onQuarterClick=function(r,i){var s=Ru(t.props.day,i);yg(s,t.props)||t.handleDayClick(L_(s),r)},t.onQuarterMouseEnter=function(r){var i=Ru(t.props.day,r);yg(i,t.props)||t.handleDayMouseEnter(L_(i))},t.handleQuarterNavigation=function(r,i){var s,o,a,c;t.isDisabled(i)||t.isExcluded(i)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,i),(c=(a=t.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!t.props.disabledKeyboardNavigation)switch(a){case ge.Enter:t.onQuarterClick(r,i),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case ge.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,VM(t.props.preSelection,1));break;case ge.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,RI(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,o=s.day,a=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,p=Ci(o,r);return{isDisabled:(i=(a||c||d||f)&&qI(p,t.props))!==null&&i!==void 0?i:!1,labelDate:p}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,c=i.preSelection,d=i.monthClassName,f=d?d(Ci(s,r)):void 0,p=t.getSelection();return Xn("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":p?t.isSelectMonthInList(s,r,p):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(s,r,c)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?gg(o,a,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=ur(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=hc(t.props.preSelection),s=yg(t.props.day,t.props),o=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,c=a===void 0?"Not available":a,d=i.day,f=i.locale,p=Ci(d,r),m=t.isDisabled(p)||t.isExcluded(p)?c:o;return"".concat(m," ").concat(Yt(p,"MMMM yyyy",f))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,o=i.startDate,a=i.endDate,c=i.selected,d=i.minDate,f=i.maxDate,p=i.excludeDates,m=i.includeDates,y=i.filterDate,b=i.preSelection,v=i.disabledKeyboardNavigation,w=(d||f||p||m||y)&&yg(Ru(s,r),t.props);return Xn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(s,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&b&&t.isSelectedQuarter(s,r,b)&&!w,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?vg(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,c=i.day,d=WI(r,a),f=nD(r,a);return o?o(r,d,f,c):s?f:d},t.getQuarterContent=function(r){var i,s=t.props,o=s.renderQuarterContent,a=s.locale,c=PW(r,a);return(i=o==null?void 0:o(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,c=i.selected,d=(r=g1[G_(o,s)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(f,p){return $.createElement("div",{className:"react-datepicker__month-wrapper",key:p},f.map(function(m,y){return $.createElement("div",{ref:t.MONTH_REFS[m],key:y,onClick:function(b){t.onMonthClick(b,m)},onKeyDown:function(b){GI(b)&&(b.preventDefault(),b.key=ge.Enter),t.onMonthKeyDown(b,m)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(m)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(m)}:void 0,tabIndex:Number(t.getTabIndex(m)),className:t.getMonthClassNames(m),"aria-disabled":t.isMonthDisabled(m),role:"option","aria-label":t.getAriaLabel(m),"aria-current":t.isCurrentMonth(a,m)?"date":void 0,"aria-selected":c?t.isSelectedMonth(a,m,c):void 0},t.getMonthContent(m))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,o=[1,2,3,4];return $.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,c){return $.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(d){t.onQuarterClick(d,a)},onKeyDown:function(d){t.onQuarterKeyDown(d,a)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(a)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(a)}:void 0,className:t.getQuarterClassNames(a),"aria-selected":s?t.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(t.getQuarterTabIndex(a)),"aria-current":t.isCurrentQuarter(i,a)?"date":void 0},t.getQuarterContent(a))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return Xn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,a=o===void 0?"Month ":o,c=a?a.trim()+" ":"";return $.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Yt(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(D.Component),XW=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return $.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?$.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return $.createElement(rb,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(D.Component),JW=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return $.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return $.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return $.createElement(XW,dt({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return WI(s,t.props.locale)}:function(s){return nD(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return $.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(D.Component);function ZW(n,e){for(var t=[],r=_o(n),i=_o(e);!Za(r,i);)t.push(vt(r)),r=dr(r,1);return t}var eq=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=Zw(i),o=vs(r.props.date,i)&&Mr(r.props.date,i);return $.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?$.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Yt(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:ZW(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Xn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return $.createElement(rb,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(D.Component),tq=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=_o(t.props.minDate),i=_o(t.props.maxDate),s=[];!Za(r,i);){var o=Zw(r);s.push($.createElement("option",{key:o,value:o},Yt(r,t.props.dateFormat,t.props.locale))),r=dr(r,1)}return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:Zw(_o(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=Yt(t.props.date,t.props.dateFormat,t.props.locale);return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},$.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return $.createElement(eq,dt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=vt(r);vs(t.props.date,i)&&Mr(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(D.Component),nq=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&z_(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&F_(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&$W(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&z_(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&F_(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(To(r)*3600+Oo(r)*60+$a(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,o;r.key===ge.Space&&(r.preventDefault(),r.key=ge.Enter),(r.key===ge.ArrowUp||r.key===ge.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ge.ArrowDown||r.key===ge.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ge.Enter&&t.handleClick(i),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=t.props.selected||t.props.openToDate||vt(),c=cy(a),d=t.props.injectTimes&&t.props.injectTimes.sort(function(w,M){return w.getTime()-M.getTime()}),f=60*UW(a),p=f/o,m=0;m<p;m++){var y=Gw(c,m*o);if(i.push(y),d){var b=HW(c,y,m,o,d);i=i.concat(b)}}var v=i.reduce(function(w,M){return M.getTime()<=a.getTime()?M:w},i[0]);return i.map(function(w){return $.createElement("li",{key:w.valueOf(),onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(M){w===v&&(t.centerLi=M)},onKeyDown:function(M){t.handleOnKeyDown(M,w)},tabIndex:w===v?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},Yt(w,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?$.createElement($.Fragment,null):$.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},$.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,i=this.state.height;return $.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),$.createElement("div",{className:"react-datepicker__time"},$.createElement("div",{className:"react-datepicker__time-box"},$.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(D.Component),X_=3,rq=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ks([],Array(r.props.yearItemNumber),!0).map(function(){return D.createRef()}),r.isDisabled=function(i){return Ti(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return rD(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,c,d,f=r.props,p=f.date,m=f.yearItemNumber;if(!(p===void 0||m===void 0)){var y=La(p,m).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-y<0?r.updateFocusOnPaginate(m-(y-i)):i-y>=m?r.updateFocusOnPaginate(Math.abs(m-(i-y))):(d=(c=r.YEAR_REFS[i-y])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,s){return ut(i,s)},r.isCurrentYear=function(i){return i===Ke(vt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&vs(ms(vt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&vs(ms(vt(),i),r.props.endDate)},r.isInRange=function(i){return bg(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,c=s.selectsRange,d=s.startDate,f=s.endDate;return!(o||a||c)||!r.selectingDate()?!1:o&&f?bg(i,r.selectingDate(),f):a&&d||c&&d&&!f?bg(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,c=o.selectsStart,d=ms(vt(),i);return c?vs(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):vs(d,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,c=o.selectsEnd,d=o.selectsRange,f=ms(vt(),i);return c||d?vs(f,(s=r.selectingDate())!==null&&s!==void 0?s:null):vs(f,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,c=s.excludeDates,d=s.includeDates,f=s.filterDate,p=ah(ms(r.props.date,i)),m=(o||a||c||d||f)&&uy(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ut(p,ah(r.props.selected))&&ut(p,ah(r.props.preSelection))&&!m}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(d){return i===Ke(d)}):!!a&&i===Ke(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(ah(ms(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,c=i.key,d=r.props,f=d.date,p=d.yearItemNumber,m=d.handleOnKeyDown;if(c!==ge.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case ge.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case ge.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ko(r.props.preSelection,1));break;case ge.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,hd(r.props.preSelection,1));break;case ge.ArrowUp:{if(f===void 0||p===void 0||r.props.preSelection==null)break;var y=La(f,p).startPeriod,b=X_,v=s-b;if(v<y){var w=p%b;s>=y&&s<y+w?b=w:b+=w,v=s-b}r.handleYearNavigation(v,hd(r.props.preSelection,b));break}case ge.ArrowDown:{if(f===void 0||p===void 0||r.props.preSelection==null)break;var M=La(f,p).endPeriod,b=X_,v=s+b;if(v>M){var w=p%b;s<=M&&s>M-w?b=w:b+=w,v=s+b}r.handleYearNavigation(v,ko(r.props.preSelection,b));break}}m&&m(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,c=s.maxDate,d=s.excludeDates,f=s.includeDates,p=s.filterDate,m=s.yearClassName;return Xn("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(ms(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||c||d||f||p)&&uy(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=Ke(r.props.preSelection),o=uy(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,c=i.onYearMouseLeave;if(s===void 0)return null;for(var d=La(s,o),f=d.startPeriod,p=d.endPeriod,m=function(v){r.push($.createElement("div",{ref:y.YEAR_REFS[v-f],onClick:function(w){t.onYearClick(w,v)},onKeyDown:function(w){GI(w)&&(w.preventDefault(),w.key=ge.Enter),t.onYearKeyDown(w,v)},tabIndex:Number(y.getYearTabIndex(v)),className:y.getYearClassNames(v),onMouseEnter:y.props.usePointerEvent?void 0:function(w){return a(w,v)},onPointerEnter:y.props.usePointerEvent?function(w){return a(w,v)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(w){return c(w,v)},onPointerLeave:y.props.usePointerEvent?function(w){return c(w,v)}:void 0,key:v,"aria-current":y.isCurrentYear(v)?"date":void 0},y.getYearContent(v)))},y=this,b=f;b<=p;b++)m(b);return $.createElement("div",{className:"react-datepicker__year"},$.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(D.Component);function iq(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var o=n+e-s,a=!0;t&&(a=Ke(t)<=o),r&&a&&(a=Ke(r)>=o),a&&i.push(o)}return i}var sq=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var a=r.props.year,c=r.state.yearsList.map(function(p){return $.createElement("div",{className:a===p?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:p,onClick:r.onChange.bind(r,p),"aria-selected":a===p?"true":void 0},a===p?$.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",p)}),d=r.props.minDate?Ke(r.props.minDate):null,f=r.props.maxDate?Ke(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(p){return p===f}))&&c.unshift($.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(p){return p===d}))&&c.push($.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},$.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var c=r.state.yearsList.map(function(d){return d+a});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:iq(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=D.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Xn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return $.createElement(rb,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(D.Component),oq=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Ke(t.props.minDate):1900,i=t.props.maxDate?Ke(t.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push($.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return $.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return $.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},$.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),$.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return $.createElement(sq,dt({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return $.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(D.Component),aq=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],lq=function(n){var e=(n.className||"").split(/\s+/);return aq.some(function(t){return e.indexOf(t)>=0})},cq=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;lq(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,c=KI(r.props),d=QI(r.props),f=vt(),p=a||o||s;return p||(c&&el(f,c)?c:d&&Za(f,d)?d:f)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:dr(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Ya(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:ms(vt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,c;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(a=r.props).setOpen)===null||c===void 0||c.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ti(i,r.props))return i;for(var s=_o(i),o=_W(i),a=$U(o,s),c=null,d=0;d<=a;d++){var f=Pn(s,d);if(!Ti(f,r.props)){c=f;break}}return c},r.handleMonthChange=function(i){var s,o,a,c=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:ms(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:Ci(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:ms(Ci(o,ur(i)),Ke(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Wa(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push($.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var c=Pn(s,a),d=r.formatWeekday(c,r.props.locale),f=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return $.createElement("div",{key:a,"aria-label":Yt(c,"EEEE",r.props.locale),className:Xn("react-datepicker__day-name",f)},d)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?AW(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?NW(i,s):RW(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:hd(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=Ya(r.state.date,d),p;switch(!0){case r.props.showMonthYearPicker:p=U_(r.state.date,r.props);break;case r.props.showYearPicker:p=BW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:p=IW(r.state.date,r.props);break;default:p=V_(f,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&p||r.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),p&&r.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),b=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,M=w.previousMonthButtonLabel,k=M===void 0?e.defaultProps.previousMonthButtonLabel:M,E=w.previousYearButtonLabel,_=E===void 0?e.defaultProps.previousYearButtonLabel:E,T=r.props,P=T.previousMonthAriaLabel,N=P===void 0?typeof k=="string"?k:"Previous Month":P,A=T.previousYearAriaLabel,L=A===void 0?typeof _=="string"?_:"Previous Year":A;return $.createElement("button",{type:"button",className:y.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?L:N},$.createElement("span",{className:m.join(" ")},v?_:k))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:ko(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=$_(r.state.date,r.props);break;case r.props.showYearPicker:s=FW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=jW(r.state.date,r.props);break;default:s=H_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,p=f.nextMonthButtonLabel,m=p===void 0?e.defaultProps.nextMonthButtonLabel:p,y=f.nextYearButtonLabel,b=y===void 0?e.defaultProps.nextYearButtonLabel:y,v=r.props,w=v.nextMonthAriaLabel,M=w===void 0?typeof m=="string"?m:"Next Month":w,k=v.nextYearAriaLabel,E=k===void 0?typeof b=="string"?b:"Next Year":k;return $.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?E:M},$.createElement("span",{className:a.join(" ")},d?b:m))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),$.createElement("h2",{className:s.join(" ")},Yt(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return $.createElement(oq,dt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ke(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return $.createElement(JW,dt({},e.defaultProps,r.props,{month:ur(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return $.createElement(tq,dt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(I_(),i),r.props.setPreSelection&&r.props.setPreSelection(I_())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return $.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return $.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),$.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),$.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=V_(r.state.date,r.props),f=H_(r.state.date,r.props),p=U_(r.state.date,r.props),m=$_(r.state.date,r.props),y=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return $.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,dt(dt({},r.state),{customHeaderCount:c,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:f,prevYearButtonDisabled:p,nextYearButtonDisabled:m})),y&&$.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,f=La(s,d),p=f.startPeriod,m=f.endPeriod;return $.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(p," - ").concat(m):Ke(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,c={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,c=r.props.showPreviousMonths?a-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ko(r.state.date,c):Ya(r.state.date,c),f=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:c,p=0;p<a;++p){var m=p-f+c,y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ko(d,m):dr(d,m),b="month-".concat(p),v=p<a-1,w=p>0;o.push($.createElement("div",{key:b,ref:function(M){r.monthContainer=M??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:y,i:p}),$.createElement(GW,dt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:y,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:p,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:w}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return $.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),$.createElement(rq,dt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return $.createElement(nq,dt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&ib(i)&&!!r.props.selected,o=s?"".concat(W_(i.getHours()),":").concat(W_(i.getMinutes())):"";if(r.props.showTimeInput)return $.createElement(YW,dt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=La(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,c;return r.props.showYearPicker?c="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=Ke(r.state.date):c="".concat(nD(ur(r.state.date),r.props.locale)," ").concat(Ke(r.state.date)),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return $.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=D.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ip}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!ut(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Mr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ut(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||MW;return $.createElement(rb,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},$.createElement("div",{style:{display:"contents"},ref:this.containerRef},$.createElement(t,{className:Xn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(D.Component),uq=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return $.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if($.isValidElement(e)){var o=e;return $.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return $.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},$.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},XI=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return ML.createPortal(this.props.children,this.el)},e}(D.Component),dq="[tabindex], a, button, input, select, textarea",fq=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},JI=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(dq),1,-1).filter(fq)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=D.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?$.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},$.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,$.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(D.Component);function hq(n){var e=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=D.useRef(null),o=SW(dt({open:!i,whileElementsMounted:eW,placement:t.popperPlacement,middleware:ks([cW({padding:15}),lW(10),uW({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),a=dt(dt({},t),{hidePopper:i,popperProps:dt(dt({},o),{arrowRef:s})});return $.createElement(n,dt({},a))};return e}var pq=function(n){Hn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,f=t.popperOnKeyDown,p=t.portalId,m=t.portalHost,y=t.popperProps,b=t.showArrow,v=void 0;if(!o){var w=Xn("react-datepicker-popper",r);v=$.createElement(JI,{enableTabLoop:d},$.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:w,"data-placement":y.placement,onKeyDown:f},a,b&&$.createElement(mW,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=D.createElement(this.props.popperContainer,{},v)),p&&!o&&(v=$.createElement(XI,{portalId:p,portalHost:m},v));var M=Xn("react-datepicker-wrapper",i);return $.createElement($.Fragment,null,$.createElement("div",{ref:y.refs.setReference,className:M},c),v)},e}(D.Component),mq=hq(pq),J_="react-datepicker-ignore-onclickoutside";function gq(n,e){return n&&e?ur(n)!==ur(e)||Ke(n)!==Ke(e):n!==e}var y1="Date input not valid.",ZI=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:vt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return ib(a)?ks(ks([],s,!0),[dt(dt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=KI(r.props),a=QI(r.props),c=o&&el(s,cy(o))?o:a&&Za(s,j_(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:Y_(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(dt(dt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(dt(dt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:b1},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Eo(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,c=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),c&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=d[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,d),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){r.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:yq});var m=r.props,y=m.selectsRange,b=m.startDate,v=m.endDate,w=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,M=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,k=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(y){var E=k.split(w.includes("-")?$I:"-",2).map(function(V){return V.trim()}),_=E[0],T=E[1],P=p1(_??"",w,r.props.locale,M),N=p1(T??"",w,r.props.locale,M),A=(b==null?void 0:b.getTime())!==(P==null?void 0:P.getTime()),L=(v==null?void 0:v.getTime())!==(N==null?void 0:N.getTime());if(!A&&!L||P&&Ti(P,r.props)||N&&Ti(N,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[P,N],p)}else{var I=p1(k,w,r.props.locale,M,(c=r.props.selected)!==null&&c!==void 0?c:void 0);(I||!k)&&r.setSelected(I,p,!0)}}},r.handleSelect=function(i,s,o){if(!r.props.readOnly){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,c=a.startDate,d=a.endDate;c&&!d&&(r.props.swapRange||!Q_(i,c))&&r.setOpen(!1)}}},r.setSelected=function(i,s,o,a){var c,d,f=i;if(r.props.showYearPicker){if(f!==null&&uy(Ke(f),r.props))return}else if(r.props.showMonthYearPicker){if(f!==null&&qI(f,r.props))return}else if(f!==null&&Ti(f,r.props))return;var p=r.props,m=p.onChange,y=p.selectsRange,b=p.startDate,v=p.endDate,w=p.selectsMultiple,M=p.selectedDates,k=p.minTime,E=p.swapRange;if(!Ql(r.props.selected,f)||r.props.allowSameDay||y||w)if(f!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(f=m1(f,{hour:To(r.props.selected),minute:Oo(r.props.selected),second:$a(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&k&&(f=m1(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),r.props.inline||r.setState({preSelection:f}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),y){var _=!b&&!v,T=b&&!v,P=b&&v;_?m==null||m([f,null],s):T&&(f===null?m==null||m([null,null],s):Q_(f,b)?E?m==null||m([f,b],s):m==null||m([f,null],s):m==null||m([b,f],s)),P&&(m==null||m([f,null],s))}else if(w){if(f!==null)if(!(M!=null&&M.length))m==null||m([f],s);else{var N=M.some(function(L){return ut(L,f)});if(N){var A=M.filter(function(L){return!ut(L,f)});m==null||m(A,s)}else m==null||m(ks(ks([],M,!0),[f],!1),s)}}else m==null||m(f,s);o||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,f,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=Eo(r.props.minDate),o=Eo(r.props.maxDate),a=!0;if(i){var c=cy(i);if(s&&o)a=lh(i,r.props.minDate,r.props.maxDate);else if(s){var d=cy(r.props.minDate);a=Za(i,d)||Ql(c,d)}else if(o){var f=j_(r.props.maxDate);a=el(i,f)||Ql(c,f)}}a&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:m1(a,{hour:To(i),minute:Oo(i)});r.setState({preSelection:c}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,c,d,f;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var p=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(p===ge.ArrowDown||p===ge.ArrowUp||p===ge.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(p===ge.ArrowDown||p===ge.ArrowUp){i.preventDefault();var m=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(m);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var b=vt(r.state.preSelection);p===ge.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===b1?(r.handleSelect(b,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):p===ge.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):p===ge.Tab&&r.setOpen(!1),r.inputOk()||(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:y1})}},r.onPortalKeyDown=function(i){var s=i.key;s===ge.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,c,d,f,p=r.props,m=p.minDate,y=p.maxDate,b=p.disabledKeyboardNavigation,v=p.showWeekPicker,w=p.shouldCloseOnSelect,M=p.locale,k=p.calendarStartDay,E=p.adjustDateOnChange,_=p.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!b){var T=i.key,P=i.shiftKey,N=vt(r.state.preSelection),A=function(oe,F){var U=F;switch(oe){case ge.ArrowRight:U=v?Hy(F,1):Pn(F,1);break;case ge.ArrowLeft:U=v?D_(F):V$(F);break;case ge.ArrowUp:U=D_(F);break;case ge.ArrowDown:U=Hy(F,1);break;case ge.PageUp:U=P?hd(F,1):Ya(F,1);break;case ge.PageDown:U=P?ko(F,1):dr(F,1);break;case ge.Home:U=Wa(F,M,k);break;case ge.End:U=OW(F);break}return U},L=function(oe,F){for(var U=40,J=oe,ce=!1,j=0,Z=A(oe,F);!ce;){if(j>=U){Z=F;break}m&&Z<m&&(J=ge.ArrowRight,Z=Ti(m,r.props)?A(J,Z):m),y&&Z>y&&(J=ge.ArrowLeft,Z=Ti(y,r.props)?A(J,Z):y),Ti(Z,r.props)?((J===ge.PageUp||J===ge.Home)&&(J=ge.ArrowRight),(J===ge.PageDown||J===ge.End)&&(J=ge.ArrowLeft),Z=A(J,Z)):ce=!0,j++}return Z};if(T===ge.Enter){i.preventDefault(),r.handleSelect(N,i),!w&&r.setPreSelection(N);return}else if(T===ge.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(a=r.props).onInputError)===null||c===void 0||c.call(a,{code:1,msg:y1});return}var I=null;switch(T){case ge.ArrowLeft:case ge.ArrowRight:case ge.ArrowUp:case ge.ArrowDown:case ge.PageUp:case ge.PageDown:case ge.Home:case ge.End:I=L(T,N);break}if(!I){(f=(d=r.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:y1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:b1}),E&&r.setSelected(I),r.setPreSelection(I),_){var V=ur(N),q=ur(I),ae=Ke(N),de=Ke(I);V!==q||ae!==de?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===ge.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:$.createElement(cq,dt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:VW(r.modifyHolidays()),outsideClickIgnoreClass:J_,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",f;return r.props.selectsRange?f="Selected start date: ".concat(Di(r.props.startDate,{dateFormat:d,locale:a}),". ").concat(r.props.endDate?"End date: "+Di(r.props.endDate,{dateFormat:d,locale:a}):""):r.props.showTimeSelectOnly?f="Selected time: ".concat(Di(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?f="Selected year: ".concat(Di(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?f="Selected month: ".concat(Di(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?f="Selected quarter: ".concat(Di(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):f="Selected date: ".concat(Di(r.props.selected,{dateFormat:d,locale:a})),$.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},f)},r.renderDateInput=function(){var i,s,o,a=Xn(r.props.className,(i={},i[J_]=r.state.open,i)),c=r.props.customInput||$.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",f=r.props,p=f.dateFormat,m=p===void 0?e.defaultProps.dateFormat:p,y=f.locale,b=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?CW(r.props.startDate,r.props.endDate,{dateFormat:m,locale:y}):r.props.selectsMultiple?kW((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:m,locale:y}):Di(r.props.selected,{dateFormat:m,locale:y});return D.cloneElement(c,(s={},s[d]=function(v){r.input=v},s.value=b,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Xn(c.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,c=i.startDate,d=i.endDate,f=i.clearButtonTitle,p=i.clearButtonClassName,m=p===void 0?"":p,y=i.ariaLabelClose,b=y===void 0?"Close":y,v=i.selectedDates,w=i.readOnly;return s&&!w&&(a!=null||c!=null||d!=null||v!=null&&v.length)?$.createElement("button",{type:"button",className:Xn("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":b,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ip,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,o,a;t.inline&&gq(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Y_(this.props.highlightDates)}),!r.focused&&!Ql(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,a=t.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),$.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&$.createElement(uq,dt({icon:i,className:Xn(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?$.createElement(JI,{enableTabLoop:this.props.enableTabLoop},$.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=$.createElement(XI,dt({portalId:this.props.portalId},this.props),r)),$.createElement("div",null,this.renderInputContainer(),r)}return $.createElement(mq,dt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(D.Component),yq="input",b1="navigate";const bq={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},vq=(n,e,t)=>{let r;const i=bq[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?r+" 후":r+" 전":r},xq={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},wq={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Sq={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Mq={date:Yu({formats:xq,defaultWidth:"full"}),time:Yu({formats:wq,defaultWidth:"full"}),dateTime:Yu({formats:Sq,defaultWidth:"full"})},Dq={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},Cq=(n,e,t,r)=>Dq[n],kq={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Eq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Tq={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Oq={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},_q={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Aq={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Rq=(n,e)=>{const t=Number(n);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(t);case"date":return t+"일";default:return t+"번째"}},Nq={ordinalNumber:Rq,era:ws({values:kq,defaultWidth:"wide"}),quarter:ws({values:Eq,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ws({values:Tq,defaultWidth:"wide"}),day:ws({values:Oq,defaultWidth:"wide"}),dayPeriod:ws({values:_q,defaultWidth:"wide",formattingValues:Aq,defaultFormattingWidth:"wide"})},Pq=/^(\d+)(일|번째)?/i,Lq=/\d+/i,Iq={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},jq={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},Bq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},Fq={any:[/1/i,/2/i,/3/i,/4/i]},zq={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},Vq={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Hq={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},Uq={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},$q={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},Yq={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Wq={ordinalNumber:SI({matchPattern:Pq,parsePattern:Lq,valueCallback:n=>parseInt(n,10)}),era:Ss({matchPatterns:Iq,defaultMatchWidth:"wide",parsePatterns:jq,defaultParseWidth:"any"}),quarter:Ss({matchPatterns:Bq,defaultMatchWidth:"wide",parsePatterns:Fq,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ss({matchPatterns:zq,defaultMatchWidth:"wide",parsePatterns:Vq,defaultParseWidth:"any"}),day:Ss({matchPatterns:Hq,defaultMatchWidth:"wide",parsePatterns:Uq,defaultParseWidth:"any"}),dayPeriod:Ss({matchPatterns:$q,defaultMatchWidth:"any",parsePatterns:Yq,defaultParseWidth:"any"})},rS={code:"ko",formatDistance:vq,formatLong:Mq,formatRelative:Cq,localize:Nq,match:Wq,options:{weekStartsOn:0,firstWeekContainsDate:1}};YI("ko",rS);function qq({data:n=[],selectedDate:e,onSelectDate:t,isLoggedIn:r}){const i=qr(),s=es(),o=e?new Date(e):new Date,a=zM(o);hI(o);const c=Array.from({length:7},(v,w)=>{const M=u1(a,w);return Yi(M)}),d=D.useMemo(()=>{const v={};return Array.isArray(n)&&n.forEach(w=>{const M=typeof w.date=="string"?w.date.slice(0,10):Yi(w.date);v[M]||(v[M]=[]),v[M].push(w)}),v},[n]),f=v=>{i()&&(t&&t(v),s(`/diary/date/${v}`,{state:{animationType:"none"}}))},p=()=>{const v=u1(a,-7),w=Yi(v);t==null||t(w),s(`/diary/date/${w}`,{state:{animationType:"none"}})},m=()=>{const v=u1(a,7),w=Yi(v);t==null||t(w),s(`/diary/date/${w}`,{state:{animationType:"none"}})},y=v=>{if(!v)return;const w=Yi(v);t==null||t(w),s(`/diary/date/${w}`,{state:{animationType:"none"}})},b=D.forwardRef(({value:v,onClick:w},M)=>C.jsx("button",{type:"button",onClick:w,ref:M,"aria-label":"달력 열기",children:"📆"}));return C.jsxs("div",{className:"timeline-wrapper",children:[C.jsxs("div",{className:"timeline-controls",children:[C.jsx("button",{onClick:p,"aria-label":"이전 주",children:"◀"}),C.jsxs("span",{className:"week-range",children:[o.getFullYear(),"년 ",o.getMonth()+1,"월"]}),C.jsx("button",{onClick:m,"aria-label":"다음 주",children:"▶"}),C.jsx("div",{className:"calendar-wrapper",children:C.jsx(ZI,{selected:o,onChange:y,locale:"ko",maxDate:new Date,withPortal:!0,showPopperArrow:!1,customInput:C.jsx(b,{})})})]}),C.jsx("div",{className:"timeline-cards",children:c.map(v=>{const w=v===Yi(o),M=d[v]||[],k=M.some(P=>P.type==="diary"),E=M.some(P=>P.type==="sleep"),_=M.some(P=>P.type==="exercise"),T=M.some(P=>P.type==="meal");return C.jsxs("div",{className:`timeline-card ${w?"active":""}`,onClick:()=>f(v),children:[C.jsx("h4",{children:new Date(v).getDate()}),C.jsxs("div",{className:"card-icons",children:[r&&k&&C.jsx("span",{title:"일기",children:"📝"}),r&&E&&C.jsx("span",{title:"수면",children:"💤"}),r&&_&&C.jsx("span",{title:"운동",children:"🏋️"}),r&&T&&C.jsx("span",{title:"식사",children:"🍽️"})]})]},v)})})]})}const sb="/api/exercise";async function Kq(n){return(await Je.get(sb,{params:{date:n}})).data}async function Qq(n){return(await Je.post(sb,n)).data}async function Gq(n,e){return(await Je.put(`${sb}/${n}`,e)).data}async function Xq(n){return(await Je.delete(`${sb}/${n}`)).data}function ej({date:n,onDataChange:e}){const t=qr(),[r,i]=D.useState(!1),[s,o]=D.useState(null),[a,c]=D.useState(!0),[d,f]=D.useState({exerciseType:"",duration:"",intensity:""});D.useEffect(()=>{n&&(i(!0),Kq(n).then(b=>{o(b||null),f(b?{exerciseType:b.exerciseType||"",duration:b.duration||"",intensity:b.intensity||""}:{exerciseType:"",duration:"",intensity:""})}).catch(console.error).finally(()=>i(!1)))},[n]);const p=b=>{const{name:v,value:w}=b.target;f(M=>({...M,[v]:w}))},m=async()=>{if(t()){if(!n)return Xe.error("날짜가 선택되지 않았습니다.");if(!d.exerciseType||!d.duration)return Xe.error("모든 항목을 입력해주세요.");i(!0);try{let b;s&&s.exerciseId?b=await Gq(s.exerciseId,{exerciseDate:n,...d,duration:Number(d.duration),intensity:d.intensity}):b=await Qq({exerciseDate:n,...d,duration:Number(d.duration),intensity:d.intensity}),o(b),c(!1),Xe.success("운동 기록이 저장되었습니다!"),typeof e=="function"&&e()}catch(b){console.error(b),Xe.error("저장 중 오류가 발생했습니다.")}finally{i(!1)}}},y=async()=>{if(t()&&s!=null&&s.exerciseId&&window.confirm("정말 삭제하시겠습니까?")){i(!0);try{await Xq(s.exerciseId),o(null),c(!0),Xe.success("운동 기록이 삭제되었습니다!"),e==null||e()}catch(b){console.error(b),Xe.error("삭제 중 오류가 발생했습니다.")}finally{i(!1)}}};return C.jsxs("div",{className:"widget exercise-widget",children:[C.jsxs("h4",{children:["🏋️ 운동 (",n,")"]}),r&&C.jsx("p",{children:"로딩 중..."}),!r&&!a&&s&&C.jsxs("div",{children:[C.jsxs("p",{children:["종류: ",s.exerciseType]}),C.jsxs("p",{children:["시간: ",s.duration,"분"]}),C.jsxs("p",{children:["강도: ",s.intensity]}),C.jsx("button",{onClick:()=>c(!0),children:"수정하기"}),C.jsx("button",{onClick:y,children:"삭제하기"})]}),!r&&(a||!s)&&C.jsxs("div",{children:[C.jsx("input",{name:"exerciseType",type:"text",placeholder:"운동 종류",value:d.exerciseType,onChange:p}),C.jsx("input",{name:"duration",type:"number",placeholder:"운동 시간(분)",value:d.duration,onChange:p,min:"1"}),C.jsx("label",{children:C.jsxs("select",{name:"intensity",value:d.intensity,onChange:p,children:[C.jsx("option",{value:"",children:"-- 강도선택 --"}),C.jsx("option",{value:"낮음",children:"낮음"}),C.jsx("option",{value:"중간",children:"중간"}),C.jsx("option",{value:"높음",children:"높음"})]})}),C.jsx("button",{onClick:m,children:"저장"}),C.jsx("button",{onClick:()=>{t()&&(c(!1),s||f({exerciseType:"",duration:"",intensity:""}))},children:"취소"})]})]})}const ob="/api/sleep";async function Jq(n){return(await Je.get(ob,{params:{date:n}})).data}async function Zq(n){return(await Je.post(ob,n)).data}async function eK(n,e){return(await Je.put(`${ob}/${n}`,e)).data}async function tK(n){return(await Je.delete(`${ob}/${n}`)).data}function tj({date:n,onDataChange:e}){const t=qr(),[r,i]=D.useState(!1),[s,o]=D.useState(null),[a,c]=D.useState(!0),[d,f]=D.useState({bedtime:"",waketime:""});D.useEffect(()=>{n&&(i(!0),Jq(n).then(b=>{o(b||null),f(b?{bedtime:b.bedtime||"",waketime:b.waketime||""}:{bedtime:"",waketime:""})}).catch(console.error).finally(()=>i(!1)))},[n]);const p=b=>{const{name:v,value:w}=b.target;f(M=>({...M,[v]:w}))},m=async()=>{if(t()){if(!n)return Xe.error("날짜가 선택되지 않았습니다.");if(!d.bedtime||!d.waketime)return Xe.error("취침 시간과 기상 시간을 모두 입력해주세요.");i(!0);try{let b;s&&s.sleepId?b=await eK(s.sleepId,{sleepDate:n,bedtime:d.bedtime,waketime:d.waketime}):b=await Zq({sleepDate:n,bedtime:d.bedtime,waketime:d.waketime}),o(b),c(!1),Xe.success("수면 기록이 저장되었습니다!"),e==null||e()}catch(b){console.error(b),Xe.error("저장 중 오류가 발생했습니다.")}finally{i(!1)}}},y=async()=>{if(t()&&s!=null&&s.sleepId&&window.confirm("정말 삭제하시겠습니까?")){i(!0);try{await tK(s.sleepId),o(null),f({bedtime:"",waketime:""}),c(!0),Xe.success("수면 기록이 삭제되었습니다!"),e==null||e()}catch(b){console.error(b),Xe.error("삭제 중 오류가 발생했습니다.")}finally{i(!1)}}};return C.jsxs("div",{className:"widget sleep-widget",children:[C.jsxs("h4",{children:["💤 수면 (",n,")"]}),r&&C.jsx("p",{children:"로딩 중..."}),!r&&!a&&s&&C.jsxs(C.Fragment,{children:[C.jsxs("p",{children:["취침 시간: ",s.bedtime]}),C.jsxs("p",{children:["기상 시간: ",s.waketime]}),C.jsxs("p",{children:["수면 시간: ",s.totalHours," 시간"]}),C.jsx("button",{onClick:()=>c(!0),children:"수정하기"}),C.jsx("button",{onClick:y,children:"삭제하기"})]}),!r&&(a||!s)&&C.jsxs("div",{children:[C.jsxs("label",{children:["취침 시간:",C.jsx("input",{name:"bedtime",type:"time",value:d.bedtime,onChange:p})]}),C.jsxs("label",{children:["기상 시간:",C.jsx("input",{name:"waketime",type:"time",value:d.waketime,onChange:p})]}),C.jsx("button",{onClick:m,children:"저장"}),C.jsx("button",{onClick:()=>{t()&&(c(!1),s||f({bedtime:"",waketime:""}))},children:"취소"})]})]})}const ab="/api/meal";async function nK(n){return(await Je.get(ab,{params:{date:n}})).data}async function rK(n){return(await Je.post(ab,n)).data}async function iK(n,e){return(await Je.put(`${ab}/${n}`,e)).data}async function sK(n){return(await Je.delete(`${ab}/${n}`)).data}function nj({date:n,onDataChange:e}){const t=qr(),[r,i]=D.useState(!1),[s,o]=D.useState(null),[a,c]=D.useState(!0),[d,f]=D.useState({breakfast:"",lunch:"",dinner:"",snack:""});D.useEffect(()=>{n&&(i(!0),nK(n).then(b=>{o(b||null),b?f({breakfast:b.breakfast||"",lunch:b.lunch||"",dinner:b.dinner||"",snack:b.snack||""}):(f({breakfast:"",lunch:"",dinner:"",snack:""}),c(!0))}).catch(console.error).finally(()=>i(!1)))},[n]);const p=b=>{const{name:v,value:w}=b.target;f(M=>({...M,[v]:w}))},m=async()=>{if(!t())return;if(!n)return Xe.error("날짜가 선택되지 않았습니다.");if(!Object.values(d).some(v=>v.trim())){Xe.error("최소 하나의 식사를 입력해주세요.");return}i(!0);try{let v;s&&s.mealId?v=await iK(s.mealId,{mealDate:n,...d}):v=await rK({mealDate:n,...d}),o(v),c(!1),Xe.success("식사 기록이 저장되었습니다!"),e==null||e()}catch(v){console.error(v),Xe.error("저장 중 오류가 발생했습니다.")}finally{i(!1)}},y=async()=>{if(t()&&s!=null&&s.mealId&&window.confirm("정말 삭제하시겠습니까?")){i(!0);try{await sK(s.mealId),o(null),f({breakfast:"",lunch:"",dinner:"",snack:""}),c(!0),Xe.success("식사 기록이 삭제되었습니다!"),e==null||e()}catch(b){console.error(b),Xe.error("삭제 중 오류가 발생했습니다.")}finally{i(!1)}}};return C.jsxs("div",{className:"widget meal-widget",children:[C.jsxs("h4",{children:["🍽️ 식사 (",n,")"]}),r&&C.jsx("p",{children:"로딩 중..."}),!r&&!a&&s&&C.jsxs(C.Fragment,{children:[s.breakfast&&C.jsxs("p",{children:["아침: ",s.breakfast]}),s.lunch&&C.jsxs("p",{children:["점심: ",s.lunch]}),s.dinner&&C.jsxs("p",{children:["저녁: ",s.dinner]}),s.snack&&C.jsxs("p",{children:["간식: ",s.snack]}),C.jsx("button",{onClick:()=>c(!0),children:"수정하기"}),C.jsx("button",{onClick:y,children:"삭제하기"})]}),!r&&(a||!s)&&C.jsxs("div",{children:[C.jsx("input",{name:"breakfast",type:"text",placeholder:"아침",value:d.breakfast,onChange:p}),C.jsx("input",{name:"lunch",type:"text",placeholder:"점심",value:d.lunch,onChange:p}),C.jsx("input",{name:"dinner",type:"text",placeholder:"저녁",value:d.dinner,onChange:p}),C.jsx("input",{name:"snack",type:"text",placeholder:"간식",value:d.snack,onChange:p}),C.jsx("button",{onClick:m,children:"저장"}),C.jsx("button",{onClick:()=>{t()&&(c(!1),s||f({breakfast:"",lunch:"",dinner:"",snack:""}))},children:"취소"})]})]})}const en=Je.create({baseURL:void 0,headers:{"Content-Type":"application/json"},withCredentials:!0});en.interceptors.response.use(n=>n,n=>(n.response&&n.response.status===401&&window.location.pathname!=="/"&&(alert("세션이 만료되었거나 로그인이 필요합니다. 다시 로그인해주세요."),window.location.href="/"),Promise.reject(n)));const rj=()=>en.get("/api/gallery"),Z_="/images/Thumbnail.JPG",oK=()=>{const[n,e]=D.useState(Z_),t=qr(),{openGallery:r}=IM();D.useEffect(()=>{rj().then(s=>{const o=s.data;if(o.length>0){const a=o[0],c=a.fileKey?`https://undefined.s3.undefined.amazonaws.com/${a.fileKey}`:Z_;e(c)}}).catch(s=>{console.warn("갤러리 썸네일 로딩 실패 (무시됨)",s)})},[]);const i=()=>{t()&&r()};return C.jsx("div",{className:"gallery-thumbnail-wrapper",onClick:i,children:C.jsx("img",{src:n,alt:"갤러리 썸네일",className:"gallery-thumbnail-image"})})};function aK(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return D.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zd(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function iD(n){return"nodeType"in n}function Kr(n){var e,t;return n?zd(n)?n:iD(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function sD(n){const{Document:e}=Kr(n);return n instanceof e}function Bp(n){return zd(n)?!1:n instanceof Kr(n).HTMLElement}function ij(n){return n instanceof Kr(n).SVGElement}function Vd(n){return n?zd(n)?n.document:iD(n)?sD(n)?n:Bp(n)||ij(n)?n.ownerDocument:document:document:document}const Bs=lb?D.useLayoutEffect:D.useEffect;function oD(n){const e=D.useRef(n);return Bs(()=>{e.current=n}),D.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function lK(){const n=D.useRef(null),e=D.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=D.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function qh(n,e){e===void 0&&(e=[n]);const t=D.useRef(n);return Bs(()=>{t.current!==n&&(t.current=n)},e),t}function Fp(n,e){const t=D.useRef();return D.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function e0(n){const e=oD(n),t=D.useRef(null),r=D.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function iS(n){const e=D.useRef();return D.useEffect(()=>{e.current=n},[n]),e.current}let v1={};function zp(n,e){return D.useMemo(()=>{if(e)return e;const t=v1[n]==null?0:v1[n]+1;return v1[n]=t,n+"-"+t},[n,e])}function sj(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[c,d]of a){const f=s[c];f!=null&&(s[c]=f+n*d)}return s},{...e})}}const Ku=sj(1),t0=sj(-1);function cK(n){return"clientX"in n&&"clientY"in n}function aD(n){if(!n)return!1;const{KeyboardEvent:e}=Kr(n.target);return e&&n instanceof e}function uK(n){if(!n)return!1;const{TouchEvent:e}=Kr(n.target);return e&&n instanceof e}function sS(n){if(uK(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return cK(n)?{x:n.clientX,y:n.clientY}:null}const Kh=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Kh.Translate.toString(n),Kh.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),eA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dK(n){return n.matches(eA)?n:n.querySelector(eA)}const fK={display:"none"};function hK(n){let{id:e,value:t}=n;return $.createElement("div",{id:e,style:fK},t)}function pK(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function mK(){const[n,e]=D.useState("");return{announce:D.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const oj=D.createContext(null);function gK(n){const e=D.useContext(oj);D.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function yK(){const[n]=D.useState(()=>new Set),e=D.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[D.useCallback(r=>{let{type:i,event:s}=r;n.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[n]),e]}const bK={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vK={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function xK(n){let{announcements:e=vK,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=bK}=n;const{announce:s,announcement:o}=mK(),a=zp("DndLiveRegion"),[c,d]=D.useState(!1);if(D.useEffect(()=>{d(!0)},[]),gK(D.useMemo(()=>({onDragStart(p){let{active:m}=p;s(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:y}=p;e.onDragMove&&s(e.onDragMove({active:m,over:y}))},onDragOver(p){let{active:m,over:y}=p;s(e.onDragOver({active:m,over:y}))},onDragEnd(p){let{active:m,over:y}=p;s(e.onDragEnd({active:m,over:y}))},onDragCancel(p){let{active:m,over:y}=p;s(e.onDragCancel({active:m,over:y}))}}),[s,e])),!c)return null;const f=$.createElement($.Fragment,null,$.createElement(hK,{id:r,value:i.draggable}),$.createElement(pK,{id:a,announcement:o}));return t?Yl.createPortal(f,t):f}var Cn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Cn||(Cn={}));function n0(){}const Xi=Object.freeze({x:0,y:0});function wK(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function SK(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function MK(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function DK(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function tA(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const CK=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=tA(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,c=t.get(a);if(c){const d=wK(tA(c),i);s.push({id:a,data:{droppableContainer:o,value:d}})}}return s.sort(SK)};function kK(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),o=i-r,a=s-t;if(r<i&&t<s){const c=e.width*e.height,d=n.width*n.height,f=o*a,p=f/(c+d-f);return Number(p.toFixed(4))}return 0}const EK=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:o}=s,a=t.get(o);if(a){const c=kK(a,e);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(MK)};function TK(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function aj(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Xi}function OK(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+n*a.y,bottom:o.bottom+n*a.y,left:o.left+n*a.x,right:o.right+n*a.x}),{...t})}}const _K=OK(1);function AK(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function RK(n,e,t){const r=AK(e);if(!r)return n;const{scaleX:i,scaleY:s,x:o,y:a}=r,c=n.left-o-(1-i)*parseFloat(t),d=n.top-a-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),f=i?n.width/i:n.width,p=s?n.height/s:n.height;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c}}const NK={ignoreTransform:!1};function Hd(n,e){e===void 0&&(e=NK);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:f}=Kr(n).getComputedStyle(n);d&&(t=RK(t,d,f))}const{top:r,left:i,width:s,height:o,bottom:a,right:c}=t;return{top:r,left:i,width:s,height:o,bottom:a,right:c}}function nA(n){return Hd(n,{ignoreTransform:!0})}function PK(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function LK(n,e){return e===void 0&&(e=Kr(n).getComputedStyle(n)),e.position==="fixed"}function IK(n,e){e===void 0&&(e=Kr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function lD(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(sD(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Bp(i)||ij(i)||t.includes(i))return t;const s=Kr(n).getComputedStyle(i);return i!==n&&IK(i,s)&&t.push(i),LK(i,s)?t:r(i.parentNode)}return n?r(n):t}function lj(n){const[e]=lD(n,1);return e??null}function x1(n){return!lb||!n?null:zd(n)?n:iD(n)?sD(n)||n===Vd(n).scrollingElement?window:Bp(n)?n:null:null}function cj(n){return zd(n)?n.scrollX:n.scrollLeft}function uj(n){return zd(n)?n.scrollY:n.scrollTop}function oS(n){return{x:cj(n),y:uj(n)}}var Rn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Rn||(Rn={}));function dj(n){return!lb||!n?!1:n===document.scrollingElement}function fj(n){const e={x:0,y:0},t=dj(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,o=n.scrollTop>=r.y,a=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const jK={x:.2,y:.2};function BK(n,e,t,r,i){let{top:s,left:o,right:a,bottom:c}=t;r===void 0&&(r=10),i===void 0&&(i=jK);const{isTop:d,isBottom:f,isLeft:p,isRight:m}=fj(n),y={x:0,y:0},b={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+v.height?(y.y=Rn.Backward,b.y=r*Math.abs((e.top+v.height-s)/v.height)):!f&&c>=e.bottom-v.height&&(y.y=Rn.Forward,b.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!m&&a>=e.right-v.width?(y.x=Rn.Forward,b.x=r*Math.abs((e.right-v.width-a)/v.width)):!p&&o<=e.left+v.width&&(y.x=Rn.Backward,b.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:y,speed:b}}function FK(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function hj(n){return n.reduce((e,t)=>Ku(e,oS(t)),Xi)}function zK(n){return n.reduce((e,t)=>e+cj(t),0)}function VK(n){return n.reduce((e,t)=>e+uj(t),0)}function HK(n,e){if(e===void 0&&(e=Hd),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);lj(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const UK=[["x",["left","right"],zK],["y",["top","bottom"],VK]];class cD{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=lD(t),i=hj(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of UK)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=a(r),f=i[s]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function $K(n){const{EventTarget:e}=Kr(n);return n instanceof e?n:Vd(n)}function w1(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var ki;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ki||(ki={}));function rA(n){n.preventDefault()}function YK(n){n.stopPropagation()}var gt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(gt||(gt={}));const pj={start:[gt.Space,gt.Enter],cancel:[gt.Esc],end:[gt.Space,gt.Enter,gt.Tab]},WK=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case gt.Right:return{...t,x:t.x+25};case gt.Left:return{...t,x:t.x-25};case gt.Down:return{...t,y:t.y+25};case gt.Up:return{...t,y:t.y-25}}};class mj{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new xh(Vd(t)),this.windowListeners=new xh(Kr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ki.Resize,this.handleCancel),this.windowListeners.add(ki.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ki.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&HK(r),t(Xi)}handleKeyDown(e){if(aD(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=pj,coordinateGetter:o=WK,scrollBehavior:a="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:Xi;this.referenceCoordinates||(this.referenceCoordinates=f);const p=o(e,{active:t,context:r.current,currentCoordinates:f});if(p){const m=t0(p,f),y={x:0,y:0},{scrollableAncestors:b}=r.current;for(const v of b){const w=e.code,{isTop:M,isRight:k,isLeft:E,isBottom:_,maxScroll:T,minScroll:P}=fj(v),N=FK(v),A={x:Math.min(w===gt.Right?N.right-N.width/2:N.right,Math.max(w===gt.Right?N.left:N.left+N.width/2,p.x)),y:Math.min(w===gt.Down?N.bottom-N.height/2:N.bottom,Math.max(w===gt.Down?N.top:N.top+N.height/2,p.y))},L=w===gt.Right&&!k||w===gt.Left&&!E,I=w===gt.Down&&!_||w===gt.Up&&!M;if(L&&A.x!==p.x){const V=v.scrollLeft+m.x,q=w===gt.Right&&V<=T.x||w===gt.Left&&V>=P.x;if(q&&!m.y){v.scrollTo({left:V,behavior:a});return}q?y.x=v.scrollLeft-V:y.x=w===gt.Right?v.scrollLeft-T.x:v.scrollLeft-P.x,y.x&&v.scrollBy({left:-y.x,behavior:a});break}else if(I&&A.y!==p.y){const V=v.scrollTop+m.y,q=w===gt.Down&&V<=T.y||w===gt.Up&&V>=P.y;if(q&&!m.x){v.scrollTo({top:V,behavior:a});return}q?y.y=v.scrollTop-V:y.y=w===gt.Down?v.scrollTop-T.y:v.scrollTop-P.y,y.y&&v.scrollBy({top:-y.y,behavior:a});break}}this.handleMove(e,Ku(t0(p,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}mj.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=pj,onActivation:i}=e,{active:s}=t;const{code:o}=n.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function iA(n){return!!(n&&"distance"in n)}function sA(n){return!!(n&&"delay"in n)}class uD{constructor(e,t,r){var i;r===void 0&&(r=$K(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:o}=s;this.props=e,this.events=t,this.document=Vd(o),this.documentListeners=new xh(this.document),this.listeners=new xh(r),this.windowListeners=new xh(Kr(o)),this.initialCoordinates=(i=sS(s))!=null?i:Xi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ki.Resize,this.handleCancel),this.windowListeners.add(ki.DragStart,rA),this.windowListeners.add(ki.VisibilityChange,this.handleCancel),this.windowListeners.add(ki.ContextMenu,rA),this.documentListeners.add(ki.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sA(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(iA(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ki.Click,YK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ki.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const c=(t=sS(e))!=null?t:Xi,d=t0(i,c);if(!r&&a){if(iA(a)){if(a.tolerance!=null&&w1(d,a.tolerance))return this.handleCancel();if(w1(d,a.distance))return this.handleStart()}if(sA(a)&&w1(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}e.cancelable&&e.preventDefault(),o(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===gt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const qK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gj extends uD{constructor(e){const{event:t}=e,r=Vd(t.target);super(e,qK,r)}}gj.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const KK={move:{name:"mousemove"},end:{name:"mouseup"}};var aS;(function(n){n[n.RightClick=2]="RightClick"})(aS||(aS={}));class QK extends uD{constructor(e){super(e,KK,Vd(e.event.target))}}QK.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===aS.RightClick?!1:(r==null||r({event:t}),!0)}}];const S1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GK extends uD{constructor(e){super(e,S1)}static setup(){return window.addEventListener(S1.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(S1.move.name,e)};function e(){}}}GK.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var wh;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(wh||(wh={}));var r0;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(r0||(r0={}));function XK(n){let{acceleration:e,activator:t=wh.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=r0.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:p,threshold:m}=n;const y=ZK({delta:p,disabled:!s}),[b,v]=lK(),w=D.useRef({x:0,y:0}),M=D.useRef({x:0,y:0}),k=D.useMemo(()=>{switch(t){case wh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case wh.DraggableRect:return i}},[t,i,c]),E=D.useRef(null),_=D.useCallback(()=>{const P=E.current;if(!P)return;const N=w.current.x*M.current.x,A=w.current.y*M.current.y;P.scrollBy(N,A)},[]),T=D.useMemo(()=>a===r0.TreeOrder?[...d].reverse():d,[a,d]);D.useEffect(()=>{if(!s||!d.length||!k){v();return}for(const P of T){if((r==null?void 0:r(P))===!1)continue;const N=d.indexOf(P),A=f[N];if(!A)continue;const{direction:L,speed:I}=BK(P,A,k,e,m);for(const V of["x","y"])y[V][L[V]]||(I[V]=0,L[V]=0);if(I.x>0||I.y>0){v(),E.current=P,b(_,o),w.current=I,M.current=L;return}}w.current={x:0,y:0},M.current={x:0,y:0},v()},[e,_,r,v,s,o,JSON.stringify(k),JSON.stringify(y),b,d,T,f,JSON.stringify(m)])}const JK={x:{[Rn.Backward]:!1,[Rn.Forward]:!1},y:{[Rn.Backward]:!1,[Rn.Forward]:!1}};function ZK(n){let{delta:e,disabled:t}=n;const r=iS(e);return Fp(i=>{if(t||!r||!i)return JK;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Rn.Backward]:i.x[Rn.Backward]||s.x===-1,[Rn.Forward]:i.x[Rn.Forward]||s.x===1},y:{[Rn.Backward]:i.y[Rn.Backward]||s.y===-1,[Rn.Forward]:i.y[Rn.Forward]||s.y===1}}},[t,e,r])}function eQ(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Fp(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function tQ(n,e){return D.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...t,...s]},[]),[n,e])}var Qh;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Qh||(Qh={}));var lS;(function(n){n.Optimized="optimized"})(lS||(lS={}));const oA=new Map;function nQ(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,o]=D.useState(null),{frequency:a,measure:c,strategy:d}=i,f=D.useRef(n),p=w(),m=qh(p),y=D.useCallback(function(M){M===void 0&&(M=[]),!m.current&&o(k=>k===null?M:k.concat(M.filter(E=>!k.includes(E))))},[m]),b=D.useRef(null),v=Fp(M=>{if(p&&!t)return oA;if(!M||M===oA||f.current!==n||s!=null){const k=new Map;for(let E of n){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){k.set(E.id,E.rect.current);continue}const _=E.node.current,T=_?new cD(c(_),_):null;E.rect.current=T,T&&k.set(E.id,T)}return k}return M},[n,s,t,p,c]);return D.useEffect(()=>{f.current=n},[n]),D.useEffect(()=>{p||y()},[t,p]),D.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),D.useEffect(()=>{p||typeof a!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},a))},[a,p,y,...r]),{droppableRects:v,measureDroppableContainers:y,measuringScheduled:s!=null};function w(){switch(d){case Qh.Always:return!1;case Qh.BeforeDragging:return t;default:return!t}}}function yj(n,e){return Fp(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function rQ(n,e){return yj(n,e)}function iQ(n){let{callback:e,disabled:t}=n;const r=oD(e),i=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return D.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function cb(n){let{callback:e,disabled:t}=n;const r=oD(e),i=D.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return D.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function sQ(n){return new cD(Hd(n),n)}function aA(n,e,t){e===void 0&&(e=sQ);const[r,i]=D.useState(null);function s(){i(c=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=c??t)!=null?d:null}const f=e(n);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=iQ({callback(c){if(n)for(const d of c){const{type:f,target:p}=d;if(f==="childList"&&p instanceof HTMLElement&&p.contains(n)){s();break}}}}),a=cb({callback:s});return Bs(()=>{s(),n?(a==null||a.observe(n),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[n]),r}function oQ(n){const e=yj(n);return aj(n,e)}const lA=[];function aQ(n){const e=D.useRef(n),t=Fp(r=>n?r&&r!==lA&&n&&e.current&&n.parentNode===e.current.parentNode?r:lD(n):lA,[n]);return D.useEffect(()=>{e.current=n},[n]),t}function lQ(n){const[e,t]=D.useState(null),r=D.useRef(n),i=D.useCallback(s=>{const o=x1(s.target);o&&t(a=>a?(a.set(o,oS(o)),new Map(a)):null)},[]);return D.useEffect(()=>{const s=r.current;if(n!==s){o(s);const a=n.map(c=>{const d=x1(c);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,oS(d)]):null}).filter(c=>c!=null);t(a.length?new Map(a):null),r.current=n}return()=>{o(n),o(s)};function o(a){a.forEach(c=>{const d=x1(c);d==null||d.removeEventListener("scroll",i)})}},[i,n]),D.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,o)=>Ku(s,o),Xi):hj(n):Xi,[n,e])}function cA(n,e){e===void 0&&(e=[]);const t=D.useRef(null);return D.useEffect(()=>{t.current=null},e),D.useEffect(()=>{const r=n!==Xi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?t0(n,t.current):Xi}function cQ(n){D.useEffect(()=>{if(!lb)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function uQ(n,e){return D.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=o=>{s(o,e)},t},{}),[n,e])}function bj(n){return D.useMemo(()=>n?PK(n):null,[n])}const uA=[];function dQ(n,e){e===void 0&&(e=Hd);const[t]=n,r=bj(t?Kr(t):null),[i,s]=D.useState(uA);function o(){s(()=>n.length?n.map(c=>dj(c)?r:new cD(e(c),c)):uA)}const a=cb({callback:o});return Bs(()=>{a==null||a.disconnect(),o(),n.forEach(c=>a==null?void 0:a.observe(c))},[n]),i}function fQ(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Bp(e)?e:n}function hQ(n){let{measure:e}=n;const[t,r]=D.useState(null),i=D.useCallback(d=>{for(const{target:f}of d)if(Bp(f)){r(p=>{const m=e(f);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),s=cb({callback:i}),o=D.useCallback(d=>{const f=fQ(d);s==null||s.disconnect(),f&&(s==null||s.observe(f)),r(f?e(f):null)},[e,s]),[a,c]=e0(o);return D.useMemo(()=>({nodeRef:a,rect:t,setRef:c}),[t,a,c])}const pQ=[{sensor:gj,options:{}},{sensor:mj,options:{}}],mQ={current:{}},dy={draggable:{measure:nA},droppable:{measure:nA,strategy:Qh.WhileDragging,frequency:lS.Optimized},dragOverlay:{measure:Hd}};class Sh extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const gQ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Sh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:n0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dy,measureDroppableContainers:n0,windowRect:null,measuringScheduled:!1},yQ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:n0,draggableNodes:new Map,over:null,measureDroppableContainers:n0},ub=D.createContext(yQ),vj=D.createContext(gQ);function bQ(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Sh}}}function vQ(n,e){switch(e.type){case Cn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Cn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Cn.DragEnd:case Cn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Cn.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new Sh(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case Cn.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const o=new Sh(n.droppable.containers);return o.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:o}}}case Cn.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new Sh(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function xQ(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=D.useContext(ub),s=iS(r),o=iS(t==null?void 0:t.id);return D.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!aD(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:c,node:d}=a;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const p=dK(f);if(p){p.focus();break}}})}},[r,e,i,o,s]),null}function wQ(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function SQ(n){return D.useMemo(()=>({draggable:{...dy.draggable,...n==null?void 0:n.draggable},droppable:{...dy.droppable,...n==null?void 0:n.droppable},dragOverlay:{...dy.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function MQ(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=D.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Bs(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const f=t(d),p=aj(f,r);if(o||(p.x=0),a||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=lj(d);m&&m.scrollBy({top:p.y,left:p.x})}},[e,o,a,r,t])}const xj=D.createContext({...Xi,scaleX:1,scaleY:1});var xa;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(xa||(xa={}));const DQ=D.memo(function(e){var t,r,i,s;let{id:o,accessibility:a,autoScroll:c=!0,children:d,sensors:f=pQ,collisionDetection:p=EK,measuring:m,modifiers:y,...b}=e;const v=D.useReducer(vQ,void 0,bQ),[w,M]=v,[k,E]=yK(),[_,T]=D.useState(xa.Uninitialized),P=_===xa.Initialized,{draggable:{active:N,nodes:A,translate:L},droppable:{containers:I}}=w,V=N!=null?A.get(N):null,q=D.useRef({initial:null,translated:null}),ae=D.useMemo(()=>{var Pt;return N!=null?{id:N,data:(Pt=V==null?void 0:V.data)!=null?Pt:mQ,rect:q}:null},[N,V]),de=D.useRef(null),[oe,F]=D.useState(null),[U,J]=D.useState(null),ce=qh(b,Object.values(b)),j=zp("DndDescribedBy",o),Z=D.useMemo(()=>I.getEnabled(),[I]),se=SQ(m),{droppableRects:le,measureDroppableContainers:he,measuringScheduled:De}=nQ(Z,{dragging:P,dependencies:[L.x,L.y],config:se.droppable}),fe=eQ(A,N),ft=D.useMemo(()=>U?sS(U):null,[U]),Te=Vc(),Qe=rQ(fe,se.draggable.measure);MQ({activeNode:N!=null?A.get(N):null,config:Te.layoutShiftCompensation,initialRect:Qe,measure:se.draggable.measure});const Ae=aA(fe,se.draggable.measure,Qe),Kt=aA(fe?fe.parentElement:null),we=D.useRef({activatorEvent:null,active:null,activeNode:fe,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ne=I.getNodeFor((t=we.current.over)==null?void 0:t.id),pe=hQ({measure:se.dragOverlay.measure}),me=(r=pe.nodeRef.current)!=null?r:fe,Pe=P?(i=pe.rect)!=null?i:Ae:null,Se=!!(pe.nodeRef.current&&pe.rect),Ye=oQ(Se?null:Ae),rt=bj(me?Kr(me):null),Ze=aQ(P?ne??fe:null),Fe=dQ(Ze),Bt=wQ(y,{transform:{x:L.x-Ye.x,y:L.y-Ye.y,scaleX:1,scaleY:1},activatorEvent:U,active:ae,activeNodeRect:Ae,containerNodeRect:Kt,draggingNodeRect:Pe,over:we.current.over,overlayNodeRect:pe.rect,scrollableAncestors:Ze,scrollableAncestorRects:Fe,windowRect:rt}),st=ft?Ku(ft,L):null,Ot=lQ(Ze),Qt=cA(Ot),Rt=cA(Ot,[Ae]),lt=Ku(Bt,Qt),Le=Pe?_K(Pe,Bt):null,Be=ae&&Le?p({active:ae,collisionRect:Le,droppableRects:le,droppableContainers:Z,pointerCoordinates:st}):null,tn=DK(Be,"id"),[Nt,Qr]=D.useState(null),Gr=Se?Bt:Ku(Bt,Rt),Ii=TK(Gr,(s=Nt==null?void 0:Nt.rect)!=null?s:null,Ae),Ar=D.useRef(null),yr=D.useCallback((Pt,br)=>{let{sensor:Zn,options:ji}=br;if(de.current==null)return;const er=A.get(de.current);if(!er)return;const Un=Pt.nativeEvent,Xr=new Zn({active:de.current,activeNode:er,event:Un,options:ji,context:we,onAbort(Lt){if(!A.get(Lt))return;const{onDragAbort:zt}=ce.current,tr={id:Lt};zt==null||zt(tr),k({type:"onDragAbort",event:tr})},onPending(Lt,Ft,zt,tr){if(!A.get(Lt))return;const{onDragPending:ml}=ce.current,is={id:Lt,constraint:Ft,initialCoordinates:zt,offset:tr};ml==null||ml(is),k({type:"onDragPending",event:is})},onStart(Lt){const Ft=de.current;if(Ft==null)return;const zt=A.get(Ft);if(!zt)return;const{onDragStart:tr}=ce.current,Ys={activatorEvent:Un,active:{id:Ft,data:zt.data,rect:q}};Yl.unstable_batchedUpdates(()=>{tr==null||tr(Ys),T(xa.Initializing),M({type:Cn.DragStart,initialCoordinates:Lt,active:Ft}),k({type:"onDragStart",event:Ys}),F(Ar.current),J(Un)})},onMove(Lt){M({type:Cn.DragMove,coordinates:Lt})},onEnd:$o(Cn.DragEnd),onCancel:$o(Cn.DragCancel)});Ar.current=Xr;function $o(Lt){return async function(){const{active:zt,collisions:tr,over:Ys,scrollAdjustedTranslate:ml}=we.current;let is=null;if(zt&&ml){const{cancelDrop:Yo}=ce.current;is={activatorEvent:Un,active:zt,collisions:tr,delta:ml,over:Ys},Lt===Cn.DragEnd&&typeof Yo=="function"&&await Promise.resolve(Yo(is))&&(Lt=Cn.DragCancel)}de.current=null,Yl.unstable_batchedUpdates(()=>{M({type:Lt}),T(xa.Uninitialized),Qr(null),F(null),J(null),Ar.current=null;const Yo=Lt===Cn.DragEnd?"onDragEnd":"onDragCancel";if(is){const Ws=ce.current[Yo];Ws==null||Ws(is),k({type:Yo,event:is})}})}}},[A]),Jn=D.useCallback((Pt,br)=>(Zn,ji)=>{const er=Zn.nativeEvent,Un=A.get(ji);if(de.current!==null||!Un||er.dndKit||er.defaultPrevented)return;const Xr={active:Un};Pt(Zn,br.options,Xr)===!0&&(er.dndKit={capturedBy:br.sensor},de.current=ji,yr(Zn,br))},[A,yr]),Ho=tQ(f,Jn);cQ(f),Bs(()=>{Ae&&_===xa.Initializing&&T(xa.Initialized)},[Ae,_]),D.useEffect(()=>{const{onDragMove:Pt}=ce.current,{active:br,activatorEvent:Zn,collisions:ji,over:er}=we.current;if(!br||!Zn)return;const Un={active:br,activatorEvent:Zn,collisions:ji,delta:{x:lt.x,y:lt.y},over:er};Yl.unstable_batchedUpdates(()=>{Pt==null||Pt(Un),k({type:"onDragMove",event:Un})})},[lt.x,lt.y]),D.useEffect(()=>{const{active:Pt,activatorEvent:br,collisions:Zn,droppableContainers:ji,scrollAdjustedTranslate:er}=we.current;if(!Pt||de.current==null||!br||!er)return;const{onDragOver:Un}=ce.current,Xr=ji.get(tn),$o=Xr&&Xr.rect.current?{id:Xr.id,rect:Xr.rect.current,data:Xr.data,disabled:Xr.disabled}:null,Lt={active:Pt,activatorEvent:br,collisions:Zn,delta:{x:er.x,y:er.y},over:$o};Yl.unstable_batchedUpdates(()=>{Qr($o),Un==null||Un(Lt),k({type:"onDragOver",event:Lt})})},[tn]),Bs(()=>{we.current={activatorEvent:U,active:ae,activeNode:fe,collisionRect:Le,collisions:Be,droppableRects:le,draggableNodes:A,draggingNode:me,draggingNodeRect:Pe,droppableContainers:I,over:Nt,scrollableAncestors:Ze,scrollAdjustedTranslate:lt},q.current={initial:Pe,translated:Le}},[ae,fe,Be,Le,A,me,Pe,le,I,Nt,Ze,lt]),XK({...Te,delta:L,draggingRect:Le,pointerCoordinates:st,scrollableAncestors:Ze,scrollableAncestorRects:Fe});const Uo=D.useMemo(()=>({active:ae,activeNode:fe,activeNodeRect:Ae,activatorEvent:U,collisions:Be,containerNodeRect:Kt,dragOverlay:pe,draggableNodes:A,droppableContainers:I,droppableRects:le,over:Nt,measureDroppableContainers:he,scrollableAncestors:Ze,scrollableAncestorRects:Fe,measuringConfiguration:se,measuringScheduled:De,windowRect:rt}),[ae,fe,Ae,U,Be,Kt,pe,A,I,le,Nt,he,Ze,Fe,se,De,rt]),Rr=D.useMemo(()=>({activatorEvent:U,activators:Ho,active:ae,activeNodeRect:Ae,ariaDescribedById:{draggable:j},dispatch:M,draggableNodes:A,over:Nt,measureDroppableContainers:he}),[U,Ho,ae,Ae,M,j,A,Nt,he]);return $.createElement(oj.Provider,{value:E},$.createElement(ub.Provider,{value:Rr},$.createElement(vj.Provider,{value:Uo},$.createElement(xj.Provider,{value:Ii},d)),$.createElement(xQ,{disabled:(a==null?void 0:a.restoreFocus)===!1})),$.createElement(xK,{...a,hiddenTextDescribedById:j}));function Vc(){const Pt=(oe==null?void 0:oe.autoScrollEnabled)===!1,br=typeof c=="object"?c.enabled===!1:c===!1,Zn=P&&!Pt&&!br;return typeof c=="object"?{...c,enabled:Zn}:{enabled:Zn}}}),CQ=D.createContext(null),dA="button",kQ="Draggable";function EQ(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=zp(kQ),{activators:o,activatorEvent:a,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:p,over:m}=D.useContext(ub),{role:y=dA,roleDescription:b="draggable",tabIndex:v=0}=i??{},w=(c==null?void 0:c.id)===e,M=D.useContext(w?xj:CQ),[k,E]=e0(),[_,T]=e0(),P=uQ(o,e),N=qh(t);Bs(()=>(p.set(e,{id:e,key:s,node:k,activatorNode:_,data:N}),()=>{const L=p.get(e);L&&L.key===s&&p.delete(e)}),[p,e]);const A=D.useMemo(()=>({role:y,tabIndex:v,"aria-disabled":r,"aria-pressed":w&&y===dA?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[r,y,v,w,b,f.draggable]);return{active:c,activatorEvent:a,activeNodeRect:d,attributes:A,isDragging:w,listeners:r?void 0:P,node:k,over:m,setNodeRef:E,setActivatorNodeRef:T,transform:M}}function TQ(){return D.useContext(vj)}const OQ="Droppable",_Q={timeout:25};function AQ(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=zp(OQ),{active:o,dispatch:a,over:c,measureDroppableContainers:d}=D.useContext(ub),f=D.useRef({disabled:t}),p=D.useRef(!1),m=D.useRef(null),y=D.useRef(null),{disabled:b,updateMeasurementsFor:v,timeout:w}={..._Q,...i},M=qh(v??r),k=D.useCallback(()=>{if(!p.current){p.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(M.current)?M.current:[M.current]),y.current=null},w)},[w]),E=cb({callback:k,disabled:b||!o}),_=D.useCallback((A,L)=>{E&&(L&&(E.unobserve(L),p.current=!1),A&&E.observe(A))},[E]),[T,P]=e0(_),N=qh(e);return D.useEffect(()=>{!E||!T.current||(E.disconnect(),p.current=!1,E.observe(T.current))},[T,E]),D.useEffect(()=>(a({type:Cn.RegisterDroppable,element:{id:r,key:s,disabled:t,node:T,rect:m,data:N}}),()=>a({type:Cn.UnregisterDroppable,key:s,id:r})),[r]),D.useEffect(()=>{t!==f.current.disabled&&(a({type:Cn.SetDroppableDisabled,id:r,key:s,disabled:t}),f.current.disabled=t)},[r,s,t,a]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===r,node:T,over:c,setNodeRef:P}}function dD(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function RQ(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function wg(n){return n!==null&&n>=0}function NQ(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function PQ(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const fD=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=dD(e,r,t),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},wj="Sortable",Sj=$.createContext({activeIndex:-1,containerId:wj,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fD,disabled:{draggable:!1,droppable:!1}});function LQ(n){let{children:e,id:t,items:r,strategy:i=fD,disabled:s=!1}=n;const{active:o,dragOverlay:a,droppableRects:c,over:d,measureDroppableContainers:f}=TQ(),p=zp(wj,t),m=a.rect!==null,y=D.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),b=o!=null,v=o?y.indexOf(o.id):-1,w=d?y.indexOf(d.id):-1,M=D.useRef(y),k=!NQ(y,M.current),E=w!==-1&&v===-1||k,_=PQ(s);Bs(()=>{k&&b&&f(y)},[k,y,b,f]),D.useEffect(()=>{M.current=y},[y]);const T=D.useMemo(()=>({activeIndex:v,containerId:p,disabled:_,disableTransforms:E,items:y,overIndex:w,useDragOverlay:m,sortedRects:RQ(y,c),strategy:i}),[v,p,_.draggable,_.droppable,E,y,w,c,m,i]);return $.createElement(Sj.Provider,{value:T},e)}const IQ=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return dD(t,r,i).indexOf(e)},jQ=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:c,transition:d}=n;return!d||!r||a!==s&&i===o?!1:t?!0:o!==i&&e===c},BQ={duration:200,easing:"ease"},Mj="transform",FQ=Kh.Transition.toString({property:Mj,duration:0,easing:"linear"}),zQ={roleDescription:"sortable"};function VQ(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,o]=D.useState(null),a=D.useRef(t);return Bs(()=>{if(!e&&t!==a.current&&r.current){const c=i.current;if(c){const d=Hd(r.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&o(f)}}t!==a.current&&(a.current=t)},[e,t,r,i]),D.useEffect(()=>{s&&o(null)},[s]),s}function HQ(n){let{animateLayoutChanges:e=jQ,attributes:t,disabled:r,data:i,getNewIndex:s=IQ,id:o,strategy:a,resizeObserverConfig:c,transition:d=BQ}=n;const{items:f,containerId:p,activeIndex:m,disabled:y,disableTransforms:b,sortedRects:v,overIndex:w,useDragOverlay:M,strategy:k}=D.useContext(Sj),E=UQ(r,y),_=f.indexOf(o),T=D.useMemo(()=>({sortable:{containerId:p,index:_,items:f},...i}),[p,i,_,f]),P=D.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:N,node:A,isOver:L,setNodeRef:I}=AQ({id:o,data:T,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...c}}),{active:V,activatorEvent:q,activeNodeRect:ae,attributes:de,setNodeRef:oe,listeners:F,isDragging:U,over:J,setActivatorNodeRef:ce,transform:j}=EQ({id:o,data:T,attributes:{...zQ,...t},disabled:E.draggable}),Z=aK(I,oe),se=!!V,le=se&&!b&&wg(m)&&wg(w),he=!M&&U,De=he&&le?j:null,ft=le?De??(a??k)({rects:v,activeNodeRect:ae,activeIndex:m,overIndex:w,index:_}):null,Te=wg(m)&&wg(w)?s({id:o,items:f,activeIndex:m,overIndex:w}):_,Qe=V==null?void 0:V.id,Ae=D.useRef({activeId:Qe,items:f,newIndex:Te,containerId:p}),Kt=f!==Ae.current.items,we=e({active:V,containerId:p,isDragging:U,isSorting:se,id:o,index:_,items:f,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:d,wasDragging:Ae.current.activeId!=null}),ne=VQ({disabled:!we,index:_,node:A,rect:N});return D.useEffect(()=>{se&&Ae.current.newIndex!==Te&&(Ae.current.newIndex=Te),p!==Ae.current.containerId&&(Ae.current.containerId=p),f!==Ae.current.items&&(Ae.current.items=f)},[se,Te,p,f]),D.useEffect(()=>{if(Qe===Ae.current.activeId)return;if(Qe!=null&&Ae.current.activeId==null){Ae.current.activeId=Qe;return}const me=setTimeout(()=>{Ae.current.activeId=Qe},50);return()=>clearTimeout(me)},[Qe]),{active:V,activeIndex:m,attributes:de,data:T,rect:N,index:_,newIndex:Te,items:f,isOver:L,isSorting:se,isDragging:U,listeners:F,node:A,overIndex:w,over:J,setNodeRef:Z,setActivatorNodeRef:ce,setDroppableNodeRef:I,setDraggableNodeRef:oe,transform:ne??ft,transition:pe()};function pe(){if(ne||Kt&&Ae.current.newIndex===_)return FQ;if(!(he&&!aD(q)||!d)&&(se||we))return Kh.Transition.toString({...d,property:Mj})}}function UQ(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}gt.Down,gt.Right,gt.Up,gt.Left;const $Q=({id:n,url:e,diaryId:t,diaryDate:r,onDoubleClick:i})=>{const{attributes:s,listeners:o,setNodeRef:a,transform:c,transition:d}=HQ({id:n}),f={transform:Kh.Transform.toString(c),transition:d};return C.jsxs("div",{ref:a,style:f,...s,...o,onDoubleClick:()=>i(t),className:"sortable-image-container",children:[C.jsx("img",{src:e,alt:`gallery-img-${n}`,className:"gallery-image"}),C.jsx("div",{className:"image-overlay",children:C.jsx("span",{className:"image-date",children:r})})]})},YQ=void 0,WQ=void 0,qQ=()=>{const n=es(),{isGalleryOpen:e,closeGallery:t}=IM(),r=qr(),{data:i=[],isLoading:s,error:o,refetch:a}=V0({queryKey:["galleryImages"],queryFn:rj,enabled:e&&r(),select:m=>m.data.map(y=>({...y,url:y.fileKey?`https://${YQ}.s3.${WQ}.amazonaws.com/${y.fileKey}`:y.url||""})),onError:()=>{Xe.error("갤러리를 불러오는 중 오류가 발생했습니다."),t()}}),[c,d]=$.useState([]);$.useEffect(()=>{i!=null&&i.length&&d(i)},[i]);const f=m=>{const{active:y,over:b}=m;y.id!==(b==null?void 0:b.id)&&setImages(v=>{const w=v.findIndex(k=>k.fileId===y.id),M=v.findIndex(k=>k.fileId===b.id);return dD(v,w,M)})},p=m=>{n(`/diary/${m}`),t()};return $.useEffect(()=>{e&&!r()&&(Xe.error("로그인이 필요합니다."),t())},[e,r]),e?C.jsx("div",{className:"modal-overlay",onClick:t,children:C.jsxs("div",{className:"modal-content gallery-modal-content",onClick:m=>m.stopPropagation(),children:[C.jsxs("div",{className:"gallery-header",children:[C.jsx("h2",{children:"Gallery"}),C.jsxs("div",{className:"gallery-buttons",children:[C.jsx("button",{onClick:()=>setImages(originalImages),children:"원래대로"}),C.jsx("button",{onClick:t,children:"닫기"})]})]}),C.jsx("div",{className:"gallery-grid",children:i.length===0?C.jsx("p",{className:"gallery-empty-message",children:"일기 안에 이미지를 넣어주세요"}):C.jsx(DQ,{collisionDetection:CK,onDragEnd:f,children:C.jsx(LQ,{items:i.map(m=>m.fileId),strategy:fD,children:c.map(m=>C.jsx($Q,{id:m.fileId,url:m.url,diaryId:m.diaryId,diaryDate:m.diaryDate,onDoubleClick:p},m.fileId))})})})]})}):null};function KQ({tags:n,scoreTagFade:e}){return!n||n.length===0?C.jsx("p",{className:"no-tags",children:"태그가 없습니다."}):C.jsxs("div",{className:"mood-tags-container",children:[C.jsx("h3",{children:"태그"}),C.jsx("div",{className:"tags-box",children:C.jsx("ul",{className:`tags-list${e?" fade-in":""}`,children:n.map((t,r)=>C.jsx("li",{className:"tag-item",children:t},r))})})]})}/*!
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vp(n){return n+.5|0}const Ia=(n,e,t)=>Math.max(Math.min(n,t),e);function ch(n){return Ia(Vp(n*2.55),0,255)}function qa(n){return Ia(Vp(n*255),0,255)}function bo(n){return Ia(Vp(n/2.55)/100,0,1)}function fA(n){return Ia(Vp(n*100),0,100)}const xi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cS=[..."0123456789ABCDEF"],QQ=n=>cS[n&15],GQ=n=>cS[(n&240)>>4]+cS[n&15],Sg=n=>(n&240)>>4===(n&15),XQ=n=>Sg(n.r)&&Sg(n.g)&&Sg(n.b)&&Sg(n.a);function JQ(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&xi[n[1]]*17,g:255&xi[n[2]]*17,b:255&xi[n[3]]*17,a:e===5?xi[n[4]]*17:255}:(e===7||e===9)&&(t={r:xi[n[1]]<<4|xi[n[2]],g:xi[n[3]]<<4|xi[n[4]],b:xi[n[5]]<<4|xi[n[6]],a:e===9?xi[n[7]]<<4|xi[n[8]]:255})),t}const ZQ=(n,e)=>n<255?e(n):"";function eG(n){var e=XQ(n)?QQ:GQ;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ZQ(n.a,e):void 0}const tG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dj(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function nG(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function rG(n,e,t){const r=Dj(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function iG(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function hD(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;let c,d,f;return s!==o&&(f=s-o,d=a>.5?f/(2-s-o):f/(s+o),c=iG(t,r,i,f,s),c=c*60+.5),[c|0,d||0,a]}function pD(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(qa)}function mD(n,e,t){return pD(Dj,n,e,t)}function sG(n,e,t){return pD(rG,n,e,t)}function oG(n,e,t){return pD(nG,n,e,t)}function Cj(n){return(n%360+360)%360}function aG(n){const e=tG.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?ch(+e[5]):qa(+e[5]));const i=Cj(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=sG(i,s,o):e[1]==="hsv"?r=oG(i,s,o):r=mD(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}function lG(n,e){var t=hD(n);t[0]=Cj(t[0]+e),t=mD(t),n.r=t[0],n.g=t[1],n.b=t[2]}function cG(n){if(!n)return;const e=hD(n),t=e[0],r=fA(e[1]),i=fA(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${bo(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const hA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uG(){const n={},e=Object.keys(pA),t=Object.keys(hA);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<t.length;i++)s=t[i],a=a.replace(s,hA[s]);s=parseInt(pA[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}let Mg;function dG(n){Mg||(Mg=uG(),Mg.transparent=[0,0,0,0]);const e=Mg[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hG(n){const e=fG.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?ch(o):Ia(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?ch(r):Ia(r,0,255)),i=255&(e[4]?ch(i):Ia(i,0,255)),s=255&(e[6]?ch(s):Ia(s,0,255)),{r,g:i,b:s,a:t}}}function pG(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${bo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const M1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Eu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function mG(n,e,t){const r=Eu(bo(n.r)),i=Eu(bo(n.g)),s=Eu(bo(n.b));return{r:qa(M1(r+t*(Eu(bo(e.r))-r))),g:qa(M1(i+t*(Eu(bo(e.g))-i))),b:qa(M1(s+t*(Eu(bo(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Dg(n,e,t){if(n){let r=hD(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=mD(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function kj(n,e){return n&&Object.assign(e||{},n)}function mA(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=qa(n[3]))):(e=kj(n,{r:0,g:0,b:0,a:1}),e.a=qa(e.a)),e}function gG(n){return n.charAt(0)==="r"?hG(n):aG(n)}let Ej=class uS{constructor(e){if(e instanceof uS)return e;const t=typeof e;let r;t==="object"?r=mA(e):t==="string"&&(r=JQ(e)||dG(e)||gG(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=kj(this._rgb);return e&&(e.a=bo(e.a)),e}set rgb(e){this._rgb=mA(e)}rgbString(){return this._valid?pG(this._rgb):void 0}hexString(){return this._valid?eG(this._rgb):void 0}hslString(){return this._valid?cG(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,c=r.a-i.a,d=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=mG(this._rgb,e._rgb,t)),this}clone(){return new uS(this.rgb)}alpha(e){return this._rgb.a=qa(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Vp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dg(this._rgb,2,e),this}darken(e){return Dg(this._rgb,2,-e),this}saturate(e){return Dg(this._rgb,1,e),this}desaturate(e){return Dg(this._rgb,1,-e),this}rotate(e){return lG(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
 */function co(){}const yG=(()=>{let n=0;return()=>n++})();function nt(n){return n==null}function $t(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function it(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ln(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function oi(n,e){return ln(n)?n:e}function je(n,e){return typeof n>"u"?e:n}const bG=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ej=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function jt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Dt(n,e,t,r){let i,s,o;if($t(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(it(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function i0(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function s0(n){if($t(n))return n.map(s0);if(it(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=s0(n[t[i]]);return e}return n}function Tj(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function vG(n,e,t,r){if(!Tj(n))return;const i=e[n],s=t[n];it(i)&&it(s)?Xh(i,s,r):e[n]=s0(s)}function Xh(n,e,t){const r=$t(e)?e:[e],i=r.length;if(!it(n))return n;t=t||{};const s=t.merger||vG;let o;for(let a=0;a<i;++a){if(o=r[a],!it(o))continue;const c=Object.keys(o);for(let d=0,f=c.length;d<f;++d)s(c[d],n,o,t)}return n}function Dh(n,e){return Xh(n,e,{merger:xG})}function xG(n,e,t){if(!Tj(n))return;const r=e[n],i=t[n];it(r)&&it(i)?Dh(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=s0(i))}const gA={"":n=>n,x:n=>n.x,y:n=>n.y};function wG(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function SG(n){const e=wG(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function rl(n,e){return(gA[e]||(gA[e]=SG(e)))(n)}function mD(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Jh=n=>typeof n<"u",il=n=>typeof n=="function",yA=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function MG(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const pt=Math.PI,Ht=2*pt,DG=Ht+pt,o0=Number.POSITIVE_INFINITY,CG=pt/180,mn=pt/2,Nl=pt/4,bA=pt*2/3,Ba=Math.log10,As=Math.sign;function Ch(n,e,t){return Math.abs(n-e)<t}function vA(n){const e=Math.round(n);n=Ch(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Ba(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function kG(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function EG(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function vd(n){return!EG(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function TG(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Oj(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Qi(n){return n*(pt/180)}function gD(n){return n*(180/pt)}function xA(n){if(!ln(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function _j(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*pt&&(s+=Ht),{angle:s,distance:i}}function dS(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function OG(n,e){return(n-e+DG)%Ht-pt}function ur(n){return(n%Ht+Ht)%Ht}function Zh(n,e,t,r){const i=ur(n),s=ur(e),o=ur(t),a=ur(s-i),c=ur(o-i),d=ur(i-s),f=ur(i-o);return i===s||i===o||r&&s===o||a>c&&d<f}function jn(n,e,t){return Math.max(e,Math.min(t,n))}function _G(n){return jn(n,-32768,32767)}function So(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function yD(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const Mo=(n,e,t,r)=>yD(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),AG=(n,e,t)=>yD(n,t,r=>n[r][e]>=t);function RG(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Aj=["push","pop","shift","splice","unshift"];function NG(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Aj.forEach(t=>{const r="_onData"+mD(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function wA(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Aj.forEach(s=>{delete n[s]}),delete n._chartjs)}function Rj(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Nj=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Pj(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Nj.call(window,()=>{r=!1,n.apply(e,t)}))}}function PG(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const bD=n=>n==="start"?"left":n==="end"?"right":"center",ar=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,LG=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function Lj(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,vScale:a,_parsed:c}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=o.axis,{min:p,max:m,minDefined:y,maxDefined:b}=o.getUserBounds();if(y){if(i=Math.min(Mo(c,f,p).lo,t?r:Mo(e,f,o.getPixelForValue(p)).lo),d){const v=c.slice(0,i+1).reverse().findIndex(w=>!nt(w[a.axis]));i-=Math.max(0,v)}i=jn(i,0,r-1)}if(b){let v=Math.max(Mo(c,o.axis,m,!0).hi+1,t?0:Mo(e,f,o.getPixelForValue(m),!0).hi+1);if(d){const w=c.slice(v-1).findIndex(M=>!nt(M[a.axis]));v+=Math.max(0,w)}s=jn(v,i,r)-i}else s=r-i}return{start:i,count:s}}function Ij(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const kg=n=>n===0||n===1,SA=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ht/t)),MA=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ht/t)+1,kh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*mn)+1,easeOutSine:n=>Math.sin(n*mn),easeInOutSine:n=>-.5*(Math.cos(pt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>kg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>kg(n)?n:SA(n,.075,.3),easeOutElastic:n=>kg(n)?n:MA(n,.075,.3),easeInOutElastic(n){return kg(n)?n:n<.5?.5*SA(n*2,.1125,.45):.5+.5*MA(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-kh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?kh.easeInBounce(n*2)*.5:kh.easeOutBounce(n*2-1)*.5+.5};function vD(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function DA(n){return vD(n)?n:new kj(n)}function D1(n){return vD(n)?n:new kj(n).saturate(.5).darken(.1).hexString()}const IG=["x","y","borderWidth","radius","tension"],jG=["color","borderColor","backgroundColor"];function BG(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:jG},numbers:{type:"number",properties:IG}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FG(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CA=new Map;function zG(n,e){e=e||{};const t=n+JSON.stringify(e);let r=CA.get(t);return r||(r=new Intl.NumberFormat(n,e),CA.set(t,r)),r}function Up(n,e,t){return zG(e,t).format(n)}const jj={values(n){return $t(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=VG(n,t)}const o=Ba(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Up(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(Ba(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?jj.numeric.call(this,n,e,t):""}};function VG(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var db={formatters:jj};function HG(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:db.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _c=Object.create(null),fS=Object.create(null);function Eh(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function C1(n,e,t){return typeof e=="string"?Xh(Eh(n,e),t):Xh(Eh(n,""),e)}class UG{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>D1(i.backgroundColor),this.hoverBorderColor=(r,i)=>D1(i.borderColor),this.hoverColor=(r,i)=>D1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return C1(this,e,t)}get(e){return Eh(this,e)}describe(e,t){return C1(fS,e,t)}override(e,t){return C1(_c,e,t)}route(e,t,r,i){const s=Eh(this,e),o=Eh(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[a],d=o[i];return it(c)?Object.assign({},d,c):je(c,d)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}}var Wt=new UG({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BG,FG,HG]);function $G(n){return!n||nt(n.size)||nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function a0(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function YG(n,e,t,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0;const a=t.length;let c,d,f,p,m;for(c=0;c<a;c++)if(p=t[c],p!=null&&!$t(p))o=a0(n,i,s,o,p);else if($t(p))for(d=0,f=p.length;d<f;d++)m=p[d],m!=null&&!$t(m)&&(o=a0(n,i,s,o,m));n.restore();const y=s.length/2;if(y>t.length){for(c=0;c<y;c++)delete i[s[c]];s.splice(0,y)}return o}function Pl(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function kA(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function hS(n,e,t,r){Bj(n,e,t,r,null)}function Bj(n,e,t,r,i){let s,o,a,c,d,f,p,m;const y=e.pointStyle,b=e.rotation,v=e.radius;let w=(b||0)*CG;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(w),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),y){default:i?n.ellipse(t,r,i/2,v,0,0,Ht):n.arc(t,r,v,0,Ht),n.closePath();break;case"triangle":f=i?i/2:v,n.moveTo(t+Math.sin(w)*f,r-Math.cos(w)*v),w+=bA,n.lineTo(t+Math.sin(w)*f,r-Math.cos(w)*v),w+=bA,n.lineTo(t+Math.sin(w)*f,r-Math.cos(w)*v),n.closePath();break;case"rectRounded":d=v*.516,c=v-d,o=Math.cos(w+Nl)*c,p=Math.cos(w+Nl)*(i?i/2-d:c),a=Math.sin(w+Nl)*c,m=Math.sin(w+Nl)*(i?i/2-d:c),n.arc(t-p,r-a,d,w-pt,w-mn),n.arc(t+m,r-o,d,w-mn,w),n.arc(t+p,r+a,d,w,w+mn),n.arc(t-m,r+o,d,w+mn,w+pt),n.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*v,f=i?i/2:c,n.rect(t-f,r-c,2*f,2*c);break}w+=Nl;case"rectRot":p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+m,r-o),n.lineTo(t+p,r+a),n.lineTo(t-m,r+o),n.closePath();break;case"crossRot":w+=Nl;case"cross":p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+m,r-o),n.lineTo(t-m,r+o);break;case"star":p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+m,r-o),n.lineTo(t-m,r+o),w+=Nl,p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+m,r-o),n.lineTo(t-m,r+o);break;case"line":o=i?i/2:Math.cos(w)*v,a=Math.sin(w)*v,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(w)*(i?i/2:v),r+Math.sin(w)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Do(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function fb(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function hb(n){n.restore()}function WG(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function qG(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function KG(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),nt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function QG(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,f=i.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,f),n.lineTo(a,f),n.stroke()}}function GG(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ac(n,e,t,r,i,s={}){const o=$t(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(n.save(),n.font=i.string,KG(n,s),c=0;c<o.length;++c)d=o[c],s.backdrop&&GG(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),nt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,r,s.maxWidth)),n.fillText(d,t,r,s.maxWidth),QG(n,t,r,d,s),r+=Number(i.lineHeight);n.restore()}function ep(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*pt,pt,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,pt,mn,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,mn,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-mn,!0),n.lineTo(t+o.topLeft,r)}const XG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZG(n,e){const t=(""+n).match(XG);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const eX=n=>+n||0;function xD(n,e){const t={},r=it(e),i=r?Object.keys(e):e,s=it(n)?r?o=>je(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=eX(s(o));return t}function Fj(n){return xD(n,{top:"y",right:"x",bottom:"y",left:"x"})}function mc(n){return xD(n,["topLeft","topRight","bottomLeft","bottomRight"])}function yr(n){const e=Fj(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(n,e){n=n||{},e=e||Wt.font;let t=je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=je(n.style,e.style);r&&!(""+r).match(JG)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:je(n.family,e.family),lineHeight:ZG(je(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:je(n.weight,e.weight),string:""};return i.string=$G(i),i}function dh(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function tX(n,e,t){const{min:r,max:i}=n,s=Ej(e,(i-r)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ul(n,e){return Object.assign(Object.create(n),e)}function wD(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=Uj("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>wD([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return Vj(a,c,()=>cX(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return TA(a).includes(c)},ownKeys(a){return TA(a)},set(a,c,d){const f=a._storage||(a._storage=i());return a[c]=f[c]=d,delete a._keys,!0}})}function xd(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:zj(n,r),setContext:s=>xd(n,s,t,r),override:s=>xd(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return Vj(s,o,()=>rX(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function zj(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:il(t)?t:()=>t,isIndexable:il(r)?r:()=>r}}const nX=(n,e)=>n?n+mD(e):e,SD=(n,e)=>it(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vj(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function rX(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return il(a)&&o.isScriptable(e)&&(a=iX(e,a,n,t)),$t(a)&&a.length&&(a=sX(e,a,n,o.isIndexable)),SD(e,a)&&(a=xd(a,i,s&&s[e],o)),a}function iX(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(s,o||r);return a.delete(n),SD(n,c)&&(c=MD(i._scopes,i,n,c)),c}function sX(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(it(e[0])){const c=e,d=i._scopes.filter(f=>f!==c);e=[];for(const f of c){const p=MD(d,i,n,f);e.push(xd(p,s,o&&o[n],a))}}return e}function Hj(n,e,t){return il(n)?n(e,t):n}const oX=(n,e)=>n===!0?e:typeof n=="string"?rl(e,n):void 0;function aX(n,e,t,r,i){for(const s of e){const o=oX(t,s);if(o){n.add(o);const a=Hj(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function MD(n,e,t,r){const i=e._rootScopes,s=Hj(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let c=EA(a,o,t,s||t,r);return c===null||typeof s<"u"&&s!==t&&(c=EA(a,o,s,c,r),c===null)?!1:wD(Array.from(a),[""],i,s,()=>lX(e,t,r))}function EA(n,e,t,r,i){for(;t;)t=aX(n,e,t,r,i);return t}function lX(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return $t(i)&&it(t)?t:i||{}}function cX(n,e,t,r){let i;for(const s of e)if(i=Uj(nX(s,n),t),typeof i<"u")return SD(n,i)?MD(t,r,n,i):i}function Uj(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function TA(n){let e=n._keys;return e||(e=n._keys=uX(n._scopes)),e}function uX(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function $j(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r);let a,c,d,f;for(a=0,c=r;a<c;++a)d=a+t,f=e[d],o[a]={r:i.parse(rl(f,s),d)};return o}const dX=Number.EPSILON||1e-14,wd=(n,e)=>e<n.length&&!n[e].skip&&n[e],Yj=n=>n==="x"?"y":"x";function fX(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=dS(s,i),c=dS(o,s);let d=a/(a+c),f=c/(a+c);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const p=r*d,m=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+m*(o.x-i.x),y:s.y+m*(o.y-i.y)}}}function hX(n,e,t){const r=n.length;let i,s,o,a,c,d=wd(n,0);for(let f=0;f<r-1;++f)if(c=d,d=wd(n,f+1),!(!c||!d)){if(Ch(e[f],0,dX)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],s=t[f+1]/e[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[f]=i*o*e[f],t[f+1]=s*o*e[f])}}function pX(n,e,t="x"){const r=Yj(t),i=n.length;let s,o,a,c=wd(n,0);for(let d=0;d<i;++d){if(o=a,a=c,c=wd(n,d+1),!a)continue;const f=a[t],p=a[r];o&&(s=(f-o[t])/3,a[`cp1${t}`]=f-s,a[`cp1${r}`]=p-s*e[d]),c&&(s=(c[t]-f)/3,a[`cp2${t}`]=f+s,a[`cp2${r}`]=p+s*e[d])}}function mX(n,e="x"){const t=Yj(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,c,d=wd(n,0);for(o=0;o<r;++o)if(a=c,c=d,d=wd(n,o+1),!!c){if(d){const f=d[e]-c[e];i[o]=f!==0?(d[t]-c[t])/f:0}s[o]=a?d?As(i[o-1])!==As(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}hX(n,i,s),pX(n,s,e)}function Eg(n,e,t){return Math.max(Math.min(n,t),e)}function gX(n,e){let t,r,i,s,o,a=Do(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&Do(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=Eg(i.cp1x,e.left,e.right),i.cp1y=Eg(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Eg(i.cp2x,e.left,e.right),i.cp2y=Eg(i.cp2y,e.top,e.bottom)))}function yX(n,e,t,r,i){let s,o,a,c;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")mX(n,i);else{let d=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],c=fX(d,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,d=a}e.capBezierPoints&&gX(n,t)}function DD(){return typeof window<"u"&&typeof document<"u"}function CD(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function l0(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const pb=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function bX(n,e){return pb(n).getPropertyValue(e)}const vX=["top","right","bottom","left"];function gc(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=vX[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const xX=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function wX(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,c;if(xX(i,s,n.target))a=i,c=s;else{const d=e.getBoundingClientRect();a=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:a,y:c,box:o}}function Fl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=pb(t),s=i.boxSizing==="border-box",o=gc(i,"padding"),a=gc(i,"border","width"),{x:c,y:d,box:f}=wX(n,t),p=o.left+(f&&a.left),m=o.top+(f&&a.top);let{width:y,height:b}=e;return s&&(y-=o.width+a.width,b-=o.height+a.height),{x:Math.round((c-p)/y*t.width/r),y:Math.round((d-m)/b*t.height/r)}}function SX(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&CD(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=pb(s),c=gc(a,"border","width"),d=gc(a,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,r=l0(a.maxWidth,s,"clientWidth"),i=l0(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||o0,maxHeight:i||o0}}const Tg=n=>Math.round(n*10)/10;function MX(n,e,t,r){const i=pb(n),s=gc(i,"margin"),o=l0(i.maxWidth,n,"clientWidth")||o0,a=l0(i.maxHeight,n,"clientHeight")||o0,c=SX(n,e,t);let{width:d,height:f}=c;if(i.boxSizing==="content-box"){const m=gc(i,"border","width"),y=gc(i,"padding");d-=y.width+m.width,f-=y.height+m.height}return d=Math.max(0,d-s.width),f=Math.max(0,r?d/r:f-s.height),d=Tg(Math.min(d,o,c.maxWidth)),f=Tg(Math.min(f,a,c.maxHeight)),d&&!f&&(f=Tg(d/2)),(e!==void 0||t!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,d=Tg(Math.floor(f*r))),{width:d,height:f}}function OA(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const DX=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};DD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function _A(n,e){const t=bX(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function zl(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function CX(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function kX(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=zl(n,i,t),a=zl(i,s,t),c=zl(s,e,t),d=zl(o,a,t),f=zl(a,c,t);return zl(d,f,t)}const EX=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},TX=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Gu(n,e,t){return n?EX(e,t):TX()}function Wj(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function qj(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Kj(n){return n==="angle"?{between:Zh,compare:OG,normalize:ur}:{between:So,compare:(e,t)=>e-t,normalize:e=>e}}function AA({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function OX(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=Kj(r),c=e.length;let{start:d,end:f,loop:p}=n,m,y;if(p){for(d+=c,f+=c,m=0,y=c;m<y&&o(a(e[d%c][r]),i,s);++m)d--,f--;d%=c,f%=c}return f<d&&(f+=c),{start:d,end:f,loop:p,style:n.style}}function Qj(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:c,normalize:d}=Kj(r),{start:f,end:p,loop:m,style:y}=OX(n,e,t),b=[];let v=!1,w=null,M,k,E;const A=()=>c(i,E,M)&&a(i,E)!==0,T=()=>a(s,M)===0||c(s,E,M),P=()=>v||A(),N=()=>!v||T();for(let _=f,L=f;_<=p;++_)k=e[_%o],!k.skip&&(M=d(k[r]),M!==E&&(v=c(M,i,s),w===null&&P()&&(w=a(M,i)===0?_:L),w!==null&&N()&&(b.push(AA({start:w,end:_,loop:m,count:o,style:y})),w=null),L=_,E=M));return w!==null&&b.push(AA({start:w,end:p,loop:m,count:o,style:y})),b}function Gj(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Qj(r[i],n.points,e);s.length&&t.push(...s)}return t}function _X(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function AX(n,e,t,r){const i=n.length,s=[];let o=e,a=n[e],c;for(c=e+1;c<=t;++c){const d=n[c%i];d.skip||d.stop?a.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=d.stop?c:null):(o=c,a.skip&&(e=c)),a=d}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function RX(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=_X(t,i,s,r);if(r===!0)return RA(n,[{start:o,end:a,loop:s}],t,e);const c=a<o?a+i:a,d=!!n._fullLoop&&o===0&&a===i-1;return RA(n,AX(t,o,c,d),t,e)}function RA(n,e,t,r){return!r||!r.setContext||!t?e:NX(n,e,t,r)}function NX(n,e,t,r){const i=n._chart.getContext(),s=NA(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=t.length,d=[];let f=s,p=e[0].start,m=p;function y(b,v,w,M){const k=a?-1:1;if(b!==v){for(b+=c;t[b%c].skip;)b-=k;for(;t[v%c].skip;)v+=k;b%c!==v%c&&(d.push({start:b%c,end:v%c,loop:w,style:M}),f=M,p=v%c)}}for(const b of e){p=a?p:b.start;let v=t[p%c],w;for(m=p+1;m<=b.end;m++){const M=t[m%c];w=NA(r.setContext(ul(i,{type:"segment",p0:v,p1:M,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),PX(w,f)&&y(p,m-1,b.loop,f),v=M,f=w}p<m-1&&y(p,m-1,b.loop,f)}return d}function NA(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function PX(n,e){if(!e)return!1;const t=[],r=function(i,s){return vD(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Og(n,e,t){return n.options.clip?n[t]:e[t]}function LX(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Og(t,e,"left"),right:Og(t,e,"right"),top:Og(r,e,"top"),bottom:Og(r,e,"bottom")}:e}function Xj(n,e){const t=e._clip;if(t.disabled)return!1;const r=LX(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
========
 */function co(){}const yG=(()=>{let n=0;return()=>n++})();function nt(n){return n==null}function $t(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function it(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ln(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function si(n,e){return ln(n)?n:e}function je(n,e){return typeof n>"u"?e:n}const bG=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Tj=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function jt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Dt(n,e,t,r){let i,s,o;if($t(n))for(s=n.length,i=0;i<s;i++)e.call(t,n[i],i);else if(it(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function i0(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function s0(n){if($t(n))return n.map(s0);if(it(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=s0(n[t[i]]);return e}return n}function Oj(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function vG(n,e,t,r){if(!Oj(n))return;const i=e[n],s=t[n];it(i)&&it(s)?Gh(i,s,r):e[n]=s0(s)}function Gh(n,e,t){const r=$t(e)?e:[e],i=r.length;if(!it(n))return n;t=t||{};const s=t.merger||vG;let o;for(let a=0;a<i;++a){if(o=r[a],!it(o))continue;const c=Object.keys(o);for(let d=0,f=c.length;d<f;++d)s(c[d],n,o,t)}return n}function Mh(n,e){return Gh(n,e,{merger:xG})}function xG(n,e,t){if(!Oj(n))return;const r=e[n],i=t[n];it(r)&&it(i)?Mh(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=s0(i))}const gA={"":n=>n,x:n=>n.x,y:n=>n.y};function wG(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function SG(n){const e=wG(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function nl(n,e){return(gA[e]||(gA[e]=SG(e)))(n)}function gD(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Xh=n=>typeof n<"u",rl=n=>typeof n=="function",yA=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function MG(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const pt=Math.PI,Ht=2*pt,DG=Ht+pt,o0=Number.POSITIVE_INFINITY,CG=pt/180,mn=pt/2,Nl=pt/4,bA=pt*2/3,ja=Math.log10,As=Math.sign;function Dh(n,e,t){return Math.abs(n-e)<t}function vA(n){const e=Math.round(n);n=Dh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ja(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function kG(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function EG(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bd(n){return!EG(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function TG(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function _j(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ki(n){return n*(pt/180)}function yD(n){return n*(180/pt)}function xA(n){if(!ln(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Aj(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*pt&&(s+=Ht),{angle:s,distance:i}}function dS(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function OG(n,e){return(n-e+DG)%Ht-pt}function lr(n){return(n%Ht+Ht)%Ht}function Jh(n,e,t,r){const i=lr(n),s=lr(e),o=lr(t),a=lr(s-i),c=lr(o-i),d=lr(i-s),f=lr(i-o);return i===s||i===o||r&&s===o||a>c&&d<f}function In(n,e,t){return Math.max(e,Math.min(t,n))}function _G(n){return In(n,-32768,32767)}function wo(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function bD(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const So=(n,e,t,r)=>bD(n,t,r?i=>{const s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),AG=(n,e,t)=>bD(n,t,r=>n[r][e]>=t);function RG(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Rj=["push","pop","shift","splice","unshift"];function NG(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Rj.forEach(t=>{const r="_onData"+gD(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function wA(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Rj.forEach(s=>{delete n[s]}),delete n._chartjs)}function Nj(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Pj=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Lj(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Pj.call(window,()=>{r=!1,n.apply(e,t)}))}}function PG(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const vD=n=>n==="start"?"left":n==="end"?"right":"center",sr=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,LG=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function Ij(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,vScale:a,_parsed:c}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=o.axis,{min:p,max:m,minDefined:y,maxDefined:b}=o.getUserBounds();if(y){if(i=Math.min(So(c,f,p).lo,t?r:So(e,f,o.getPixelForValue(p)).lo),d){const v=c.slice(0,i+1).reverse().findIndex(w=>!nt(w[a.axis]));i-=Math.max(0,v)}i=In(i,0,r-1)}if(b){let v=Math.max(So(c,o.axis,m,!0).hi+1,t?0:So(e,f,o.getPixelForValue(m),!0).hi+1);if(d){const w=c.slice(v-1).findIndex(M=>!nt(M[a.axis]));v+=Math.max(0,w)}s=In(v,i,r)-i}else s=r-i}return{start:i,count:s}}function jj(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const Cg=n=>n===0||n===1,SA=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ht/t)),MA=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ht/t)+1,Ch={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*mn)+1,easeOutSine:n=>Math.sin(n*mn),easeInOutSine:n=>-.5*(Math.cos(pt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cg(n)?n:SA(n,.075,.3),easeOutElastic:n=>Cg(n)?n:MA(n,.075,.3),easeInOutElastic(n){return Cg(n)?n:n<.5?.5*SA(n*2,.1125,.45):.5+.5*MA(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Ch.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ch.easeInBounce(n*2)*.5:Ch.easeOutBounce(n*2-1)*.5+.5};function xD(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function DA(n){return xD(n)?n:new Ej(n)}function D1(n){return xD(n)?n:new Ej(n).saturate(.5).darken(.1).hexString()}const IG=["x","y","borderWidth","radius","tension"],jG=["color","borderColor","backgroundColor"];function BG(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:jG},numbers:{type:"number",properties:IG}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FG(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const CA=new Map;function zG(n,e){e=e||{};const t=n+JSON.stringify(e);let r=CA.get(t);return r||(r=new Intl.NumberFormat(n,e),CA.set(t,r)),r}function Hp(n,e,t){return zG(e,t).format(n)}const Bj={values(n){return $t(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=VG(n,t)}const o=ja(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Hp(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(ja(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?Bj.numeric.call(this,n,e,t):""}};function VG(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var db={formatters:Bj};function HG(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:db.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _c=Object.create(null),fS=Object.create(null);function kh(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function C1(n,e,t){return typeof e=="string"?Gh(kh(n,e),t):Gh(kh(n,""),e)}class UG{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>D1(i.backgroundColor),this.hoverBorderColor=(r,i)=>D1(i.borderColor),this.hoverColor=(r,i)=>D1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return C1(this,e,t)}get(e){return kh(this,e)}describe(e,t){return C1(fS,e,t)}override(e,t){return C1(_c,e,t)}route(e,t,r,i){const s=kh(this,e),o=kh(this,r),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[a],d=o[i];return it(c)?Object.assign({},d,c):je(c,d)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}}var Wt=new UG({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BG,FG,HG]);function $G(n){return!n||nt(n.size)||nt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function a0(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function YG(n,e,t,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0;const a=t.length;let c,d,f,p,m;for(c=0;c<a;c++)if(p=t[c],p!=null&&!$t(p))o=a0(n,i,s,o,p);else if($t(p))for(d=0,f=p.length;d<f;d++)m=p[d],m!=null&&!$t(m)&&(o=a0(n,i,s,o,m));n.restore();const y=s.length/2;if(y>t.length){for(c=0;c<y;c++)delete i[s[c]];s.splice(0,y)}return o}function Pl(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function kA(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function hS(n,e,t,r){Fj(n,e,t,r,null)}function Fj(n,e,t,r,i){let s,o,a,c,d,f,p,m;const y=e.pointStyle,b=e.rotation,v=e.radius;let w=(b||0)*CG;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(w),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),y){default:i?n.ellipse(t,r,i/2,v,0,0,Ht):n.arc(t,r,v,0,Ht),n.closePath();break;case"triangle":f=i?i/2:v,n.moveTo(t+Math.sin(w)*f,r-Math.cos(w)*v),w+=bA,n.lineTo(t+Math.sin(w)*f,r-Math.cos(w)*v),w+=bA,n.lineTo(t+Math.sin(w)*f,r-Math.cos(w)*v),n.closePath();break;case"rectRounded":d=v*.516,c=v-d,o=Math.cos(w+Nl)*c,p=Math.cos(w+Nl)*(i?i/2-d:c),a=Math.sin(w+Nl)*c,m=Math.sin(w+Nl)*(i?i/2-d:c),n.arc(t-p,r-a,d,w-pt,w-mn),n.arc(t+m,r-o,d,w-mn,w),n.arc(t+p,r+a,d,w,w+mn),n.arc(t-m,r+o,d,w+mn,w+pt),n.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*v,f=i?i/2:c,n.rect(t-f,r-c,2*f,2*c);break}w+=Nl;case"rectRot":p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+m,r-o),n.lineTo(t+p,r+a),n.lineTo(t-m,r+o),n.closePath();break;case"crossRot":w+=Nl;case"cross":p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+m,r-o),n.lineTo(t-m,r+o);break;case"star":p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+m,r-o),n.lineTo(t-m,r+o),w+=Nl,p=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,m=Math.sin(w)*(i?i/2:v),n.moveTo(t-p,r-a),n.lineTo(t+p,r+a),n.moveTo(t+m,r-o),n.lineTo(t-m,r+o);break;case"line":o=i?i/2:Math.cos(w)*v,a=Math.sin(w)*v,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(w)*(i?i/2:v),r+Math.sin(w)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Mo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function fb(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function hb(n){n.restore()}function WG(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function qG(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function KG(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),nt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function QG(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,f=i.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,f),n.lineTo(a,f),n.stroke()}}function GG(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ac(n,e,t,r,i,s={}){const o=$t(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let c,d;for(n.save(),n.font=i.string,KG(n,s),c=0;c<o.length;++c)d=o[c],s.backdrop&&GG(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),nt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,r,s.maxWidth)),n.fillText(d,t,r,s.maxWidth),QG(n,t,r,d,s),r+=Number(i.lineHeight);n.restore()}function Zh(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*pt,pt,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,pt,mn,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,mn,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-mn,!0),n.lineTo(t+o.topLeft,r)}const XG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZG(n,e){const t=(""+n).match(XG);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const eX=n=>+n||0;function wD(n,e){const t={},r=it(e),i=r?Object.keys(e):e,s=it(n)?r?o=>je(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=eX(s(o));return t}function zj(n){return wD(n,{top:"y",right:"x",bottom:"y",left:"x"})}function mc(n){return wD(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mr(n){const e=zj(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function En(n,e){n=n||{},e=e||Wt.font;let t=je(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=je(n.style,e.style);r&&!(""+r).match(JG)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:je(n.family,e.family),lineHeight:ZG(je(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:je(n.weight,e.weight),string:""};return i.string=$G(i),i}function uh(n,e,t,r){let i,s,o;for(i=0,s=n.length;i<s;++i)if(o=n[i],o!==void 0&&o!==void 0)return o}function tX(n,e,t){const{min:r,max:i}=n,s=Tj(e,(i-r)/2),o=(a,c)=>t&&a===0?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function cl(n,e){return Object.assign(Object.create(n),e)}function SD(n,e=[""],t,r,i=()=>n[0]){const s=t||n;typeof r>"u"&&(r=$j("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>SD([a,...n],e,s,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return Hj(a,c,()=>cX(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return TA(a).includes(c)},ownKeys(a){return TA(a)},set(a,c,d){const f=a._storage||(a._storage=i());return a[c]=f[c]=d,delete a._keys,!0}})}function vd(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Vj(n,r),setContext:s=>vd(n,s,t,r),override:s=>vd(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return Hj(s,o,()=>rX(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function Vj(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:rl(t)?t:()=>t,isIndexable:rl(r)?r:()=>r}}const nX=(n,e)=>n?n+gD(e):e,MD=(n,e)=>it(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Hj(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function rX(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let a=r[e];return rl(a)&&o.isScriptable(e)&&(a=iX(e,a,n,t)),$t(a)&&a.length&&(a=sX(e,a,n,o.isIndexable)),MD(e,a)&&(a=vd(a,i,s&&s[e],o)),a}function iX(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(s,o||r);return a.delete(n),MD(n,c)&&(c=DD(i._scopes,i,n,c)),c}function sX(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&r(n))return e[s.index%e.length];if(it(e[0])){const c=e,d=i._scopes.filter(f=>f!==c);e=[];for(const f of c){const p=DD(d,i,n,f);e.push(vd(p,s,o&&o[n],a))}}return e}function Uj(n,e,t){return rl(n)?n(e,t):n}const oX=(n,e)=>n===!0?e:typeof n=="string"?nl(e,n):void 0;function aX(n,e,t,r,i){for(const s of e){const o=oX(t,s);if(o){n.add(o);const a=Uj(o._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function DD(n,e,t,r){const i=e._rootScopes,s=Uj(e._fallback,t,r),o=[...n,...i],a=new Set;a.add(r);let c=EA(a,o,t,s||t,r);return c===null||typeof s<"u"&&s!==t&&(c=EA(a,o,s,c,r),c===null)?!1:SD(Array.from(a),[""],i,s,()=>lX(e,t,r))}function EA(n,e,t,r,i){for(;t;)t=aX(n,e,t,r,i);return t}function lX(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return $t(i)&&it(t)?t:i||{}}function cX(n,e,t,r){let i;for(const s of e)if(i=$j(nX(s,n),t),typeof i<"u")return MD(n,i)?DD(t,r,n,i):i}function $j(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function TA(n){let e=n._keys;return e||(e=n._keys=uX(n._scopes)),e}function uX(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Yj(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r);let a,c,d,f;for(a=0,c=r;a<c;++a)d=a+t,f=e[d],o[a]={r:i.parse(nl(f,s),d)};return o}const dX=Number.EPSILON||1e-14,xd=(n,e)=>e<n.length&&!n[e].skip&&n[e],Wj=n=>n==="x"?"y":"x";function fX(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,a=dS(s,i),c=dS(o,s);let d=a/(a+c),f=c/(a+c);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const p=r*d,m=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+m*(o.x-i.x),y:s.y+m*(o.y-i.y)}}}function hX(n,e,t){const r=n.length;let i,s,o,a,c,d=xd(n,0);for(let f=0;f<r-1;++f)if(c=d,d=xd(n,f+1),!(!c||!d)){if(Dh(e[f],0,dX)){t[f]=t[f+1]=0;continue}i=t[f]/e[f],s=t[f+1]/e[f],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[f]=i*o*e[f],t[f+1]=s*o*e[f])}}function pX(n,e,t="x"){const r=Wj(t),i=n.length;let s,o,a,c=xd(n,0);for(let d=0;d<i;++d){if(o=a,a=c,c=xd(n,d+1),!a)continue;const f=a[t],p=a[r];o&&(s=(f-o[t])/3,a[`cp1${t}`]=f-s,a[`cp1${r}`]=p-s*e[d]),c&&(s=(c[t]-f)/3,a[`cp2${t}`]=f+s,a[`cp2${r}`]=p+s*e[d])}}function mX(n,e="x"){const t=Wj(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,a,c,d=xd(n,0);for(o=0;o<r;++o)if(a=c,c=d,d=xd(n,o+1),!!c){if(d){const f=d[e]-c[e];i[o]=f!==0?(d[t]-c[t])/f:0}s[o]=a?d?As(i[o-1])!==As(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}hX(n,i,s),pX(n,s,e)}function kg(n,e,t){return Math.max(Math.min(n,t),e)}function gX(n,e){let t,r,i,s,o,a=Mo(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=a,a=t<r-1&&Mo(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=kg(i.cp1x,e.left,e.right),i.cp1y=kg(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=kg(i.cp2x,e.left,e.right),i.cp2y=kg(i.cp2y,e.top,e.bottom)))}function yX(n,e,t,r,i){let s,o,a,c;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")mX(n,i);else{let d=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],c=fX(d,a,n[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,d=a}e.capBezierPoints&&gX(n,t)}function CD(){return typeof window<"u"&&typeof document<"u"}function kD(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function l0(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const pb=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function bX(n,e){return pb(n).getPropertyValue(e)}const vX=["top","right","bottom","left"];function gc(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=vX[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const xX=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function wX(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let o=!1,a,c;if(xX(i,s,n.target))a=i,c=s;else{const d=e.getBoundingClientRect();a=r.clientX-d.left,c=r.clientY-d.top,o=!0}return{x:a,y:c,box:o}}function Fl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=pb(t),s=i.boxSizing==="border-box",o=gc(i,"padding"),a=gc(i,"border","width"),{x:c,y:d,box:f}=wX(n,t),p=o.left+(f&&a.left),m=o.top+(f&&a.top);let{width:y,height:b}=e;return s&&(y-=o.width+a.width,b-=o.height+a.height),{x:Math.round((c-p)/y*t.width/r),y:Math.round((d-m)/b*t.height/r)}}function SX(n,e,t){let r,i;if(e===void 0||t===void 0){const s=n&&kD(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),a=pb(s),c=gc(a,"border","width"),d=gc(a,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,r=l0(a.maxWidth,s,"clientWidth"),i=l0(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||o0,maxHeight:i||o0}}const Eg=n=>Math.round(n*10)/10;function MX(n,e,t,r){const i=pb(n),s=gc(i,"margin"),o=l0(i.maxWidth,n,"clientWidth")||o0,a=l0(i.maxHeight,n,"clientHeight")||o0,c=SX(n,e,t);let{width:d,height:f}=c;if(i.boxSizing==="content-box"){const m=gc(i,"border","width"),y=gc(i,"padding");d-=y.width+m.width,f-=y.height+m.height}return d=Math.max(0,d-s.width),f=Math.max(0,r?d/r:f-s.height),d=Eg(Math.min(d,o,c.maxWidth)),f=Eg(Math.min(f,a,c.maxHeight)),d&&!f&&(f=Eg(d/2)),(e!==void 0||t!==void 0)&&r&&c.height&&f>c.height&&(f=c.height,d=Eg(Math.floor(f*r))),{width:d,height:f}}function OA(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const DX=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};CD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function _A(n,e){const t=bX(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function zl(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function CX(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function kX(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=zl(n,i,t),a=zl(i,s,t),c=zl(s,e,t),d=zl(o,a,t),f=zl(a,c,t);return zl(d,f,t)}const EX=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},TX=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Qu(n,e,t){return n?EX(e,t):TX()}function qj(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Kj(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Qj(n){return n==="angle"?{between:Jh,compare:OG,normalize:lr}:{between:wo,compare:(e,t)=>e-t,normalize:e=>e}}function AA({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function OX(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:a}=Qj(r),c=e.length;let{start:d,end:f,loop:p}=n,m,y;if(p){for(d+=c,f+=c,m=0,y=c;m<y&&o(a(e[d%c][r]),i,s);++m)d--,f--;d%=c,f%=c}return f<d&&(f+=c),{start:d,end:f,loop:p,style:n.style}}function Gj(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:a,between:c,normalize:d}=Qj(r),{start:f,end:p,loop:m,style:y}=OX(n,e,t),b=[];let v=!1,w=null,M,k,E;const _=()=>c(i,E,M)&&a(i,E)!==0,T=()=>a(s,M)===0||c(s,E,M),P=()=>v||_(),N=()=>!v||T();for(let A=f,L=f;A<=p;++A)k=e[A%o],!k.skip&&(M=d(k[r]),M!==E&&(v=c(M,i,s),w===null&&P()&&(w=a(M,i)===0?A:L),w!==null&&N()&&(b.push(AA({start:w,end:A,loop:m,count:o,style:y})),w=null),L=A,E=M));return w!==null&&b.push(AA({start:w,end:p,loop:m,count:o,style:y})),b}function Xj(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=Gj(r[i],n.points,e);s.length&&t.push(...s)}return t}function _X(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function AX(n,e,t,r){const i=n.length,s=[];let o=e,a=n[e],c;for(c=e+1;c<=t;++c){const d=n[c%i];d.skip||d.stop?a.skip||(r=!1,s.push({start:e%i,end:(c-1)%i,loop:r}),e=o=d.stop?c:null):(o=c,a.skip&&(e=c)),a=d}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function RX(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:a}=_X(t,i,s,r);if(r===!0)return RA(n,[{start:o,end:a,loop:s}],t,e);const c=a<o?a+i:a,d=!!n._fullLoop&&o===0&&a===i-1;return RA(n,AX(t,o,c,d),t,e)}function RA(n,e,t,r){return!r||!r.setContext||!t?e:NX(n,e,t,r)}function NX(n,e,t,r){const i=n._chart.getContext(),s=NA(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,c=t.length,d=[];let f=s,p=e[0].start,m=p;function y(b,v,w,M){const k=a?-1:1;if(b!==v){for(b+=c;t[b%c].skip;)b-=k;for(;t[v%c].skip;)v+=k;b%c!==v%c&&(d.push({start:b%c,end:v%c,loop:w,style:M}),f=M,p=v%c)}}for(const b of e){p=a?p:b.start;let v=t[p%c],w;for(m=p+1;m<=b.end;m++){const M=t[m%c];w=NA(r.setContext(cl(i,{type:"segment",p0:v,p1:M,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),PX(w,f)&&y(p,m-1,b.loop,f),v=M,f=w}p<m-1&&y(p,m-1,b.loop,f)}return d}function NA(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function PX(n,e){if(!e)return!1;const t=[],r=function(i,s){return xD(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Tg(n,e,t){return n.options.clip?n[t]:e[t]}function LX(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Tg(t,e,"left"),right:Tg(t,e,"right"),top:Tg(r,e,"top"),bottom:Tg(r,e,"bottom")}:e}function Jj(n,e){const t=e._clip;if(t.disabled)return!1;const r=LX(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
 */class IX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Nj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var po=new IX;const PA="transparent",jX={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=DA(n||PA),i=r.valid&&DA(e||PA);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class BX{constructor(e,t,r,i){const s=t[r];i=dh([e.to,i,s,e.from]);const o=dh([e.from,s,i]);this._active=!0,this._fn=e.fn||jX[e.type||typeof o],this._easing=kh[e.easing]||kh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=dh([e.to,t,i,e.from]),this._from=dh([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let c;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Jj{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!it(e))return;const t=Object.keys(Wt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!it(s))return;const o={};for(const a of t)o[a]=s[a];($t(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=zX(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&FX(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const f=t[d];let p=s[d];const m=r.get(d);if(p)if(m&&p.active()){p.update(m,f,a);continue}else p.cancel();if(!m||!m.duration){e[d]=f;continue}s[d]=p=new BX(m,e,d,f),i.push(p)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return po.add(this._chart,r),!0}}function FX(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function zX(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function LA(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function VX(n,e,t){if(t===!1)return!1;const r=LA(n,t),i=LA(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function HX(n){let e,t,r,i;return it(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function Zj(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function IA(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,a,c,d;if(e===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===t){if(f=!0,r.all)continue;break}d=n.values[c],ln(d)&&(s||e===0||As(e)===As(d))&&(e+=d)}return!f&&!r.all?0:e}function UX(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let c,d,f;for(c=0,d=o.length;c<d;++c)f=o[c],a[c]={[i]:f,[s]:n[f]};return a}function k1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function $X(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function YX(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function WX(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function jA(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function BA(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,d=o.axis,f=$X(s,o,r),p=e.length;let m;for(let y=0;y<p;++y){const b=e[y],{[c]:v,[d]:w}=b,M=b._stacks||(b._stacks={});m=M[d]=WX(i,f,v),m[a]=w,m._top=jA(m,o,!0,r.type),m._bottom=jA(m,o,!1,r.type);const k=m._visualValues||(m._visualValues={});k[a]=w}}function E1(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function qX(n,e){return ul(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function KX(n,e,t){return ul(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Gf(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const T1=n=>n==="reset"||n==="none",FA=(n,e)=>e?n:Object.assign({},n),QX=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Zj(t,!0),values:null};class Gi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=k1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Gf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(p,m,y,b)=>p==="x"?m:p==="r"?b:y,s=t.xAxisID=je(r.xAxisID,E1(e,"x")),o=t.yAxisID=je(r.yAxisID,E1(e,"y")),a=t.rAxisID=je(r.rAxisID,E1(e,"r")),c=t.indexAxis,d=t.iAxisID=i(c,s,o,a),f=t.vAxisID=i(c,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wA(this._data,this),e._stacked&&Gf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(it(t)){const i=this._cachedMeta;this._data=UX(t,i)}else if(r!==t){if(r){wA(r,this);const i=this._cachedMeta;Gf(i),i._parsed=[]}t&&Object.isExtensible(t)&&NG(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=k1(t.vScale,t),t.stack!==r.stack&&(i=!0,Gf(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(BA(this,t._parsed),t._stacked=k1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let c=e===0&&t===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,p,m;if(this._parsing===!1)r._parsed=i,r._sorted=!0,m=i;else{$t(i[e])?m=this.parseArrayData(r,i,e,t):it(i[e])?m=this.parseObjectData(r,i,e,t):m=this.parsePrimitiveData(r,i,e,t);const y=()=>p[a]===null||d&&p[a]<d[a];for(f=0;f<t;++f)r._parsed[f+e]=p=m[f],c&&(y()&&(c=!1),d=p);r._sorted=c}o&&BA(this,m)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,c=o.axis,d=s.getLabels(),f=s===o,p=new Array(i);let m,y,b;for(m=0,y=i;m<y;++m)b=m+r,p[m]={[a]:f||s.parse(d[b],b),[c]:o.parse(t[b],b)};return p}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let c,d,f,p;for(c=0,d=i;c<d;++c)f=c+r,p=t[f],a[c]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let f,p,m,y;for(f=0,p=i;f<p;++f)m=f+r,y=t[m],d[f]={x:s.parse(rl(y,a),m),y:o.parse(rl(y,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:Zj(i,!0),values:t._stacks[e.axis]._visualValues};return IA(a,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=IA(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),c=QX(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=YX(a);let m,y;function b(){y=i[m];const v=y[a.axis];return!ln(y[e.axis])||f>v||p<v}for(m=0;m<o&&!(!b()&&(this.updateRangeFromParsed(d,e,y,c),s));++m);if(s){for(m=o-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(d,e,y,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ln(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=HX(je(this.options.clip,VX(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,a,c),f=a;f<a+c;++f){const p=i[f];p.hidden||(p.active&&d?o.push(p):p.draw(e,s))}for(f=0;f<o.length;++f)o[f].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=KX(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=qX(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],c=this.enableOptionSharing&&Jh(r);if(a)return FA(a,c);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),f),y=Object.keys(Wt.elements[e]),b=()=>this.getContext(r,i,t),v=d.resolveNamedOptions(m,y,b,p);return v.$shared&&(v.$shared=c,s[o]=Object.freeze(FA(v,c))),v}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let c;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,t),m=f.getOptionScopes(this.getDataset(),p);c=f.createResolver(m,this.getContext(e,r,t))}const d=new Jj(i,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||T1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){T1(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!T1(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,c,d]of this._syncList)this[a](c,d);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const c=d=>{for(d.length+=t,a=d.length-1;a>=o;a--)d[a]=d[a-t]};for(c(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Gf(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(Gi,"defaults",{}),X(Gi,"datasetElementType",null),X(Gi,"dataElementType",null);function GX(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=Rj(r.sort((i,s)=>i-s))}return n._cache.$bar}function XX(n){const e=n.iScale,t=GX(e,n.type);let r=e._length,i,s,o,a;const c=()=>{o===32767||o===-32768||(Jh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function JX(n,e,t,r){const i=t.barThickness;let s,o;return nt(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}function ZX(n,e,t,r){const i=e.pixels,s=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const d=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:t.barPercentage,start:d}}function eJ(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s);let c=o,d=a;Math.abs(o)>Math.abs(a)&&(c=a,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:i,end:s,min:o,max:a}}function eB(n,e,t,r){return $t(n)?eJ(n,e,t,r):e[t.axis]=t.parse(n,r),e}function zA(n,e,t,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,c=[];let d,f,p,m;for(d=t,f=t+r;d<f;++d)m=e[d],p={},p[i.axis]=a||i.parse(o[d],d),c.push(eB(m,p,s,d));return c}function O1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tJ(n,e,t){return n!==0?As(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nJ(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function rJ(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:d,bottom:f}=nJ(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=d:(t._bottom||0)===r?i=f:(s[VA(f,o,a,c)]=!0,i=d)),s[VA(i,o,a,c)]=!0,n.borderSkipped=s}function VA(n,e,t,r){return r?(n=iJ(n,e,t),n=HA(n,t,e)):n=HA(n,e,t),n}function iJ(n,e,t){return n===e?t:n===t?e:n}function HA(n,e,t){return n==="start"?e:n==="end"?t:n}function sJ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Th extends Gi{parsePrimitiveData(e,t,r,i){return zA(e,t,r,i)}parseArrayData(e,t,r,i){return zA(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?a:c,f=o.axis==="x"?a:c,p=[];let m,y,b,v;for(m=r,y=r+i;m<y;++m)v=t[m],b={},b[s.axis]=s.parse(rl(v,d),m),p.push(eB(rl(v,f),b,o,m));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),o=s._custom,a=O1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),d=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,i);for(let y=t;y<t+r;y++){const b=this.getParsed(y),v=s||nt(b[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),w=this._calculateBarIndexPixels(y,f),M=(b._stacks||{})[a.axis],k={horizontal:d,base:v.base,enableBorderRadius:!M||O1(b._custom)||o===M._top||o===M._bottom,x:d?v.head:w.center,y:d?w.center:v.head,height:d?w.size:Math.abs(v.size),width:d?Math.abs(v.size):w.size};m&&(k.options=p||this.resolveDataElementOptions(y,e[y].active?"active":i));const E=k.options||e[y].options;rJ(k,E,M,o),sJ(k,E,f.ratio),this.updateElement(e[y],y,k,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),c=a&&a[r.axis],d=f=>{const p=f._parsed.find(y=>y[r.axis]===c),m=p&&p[f.vScale.axis];if(nt(m)||isNaN(m))return!0};for(const f of i)if(!(t!==void 0&&d(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[je(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,o;for(s=0,o=t.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||XX(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,c=this.getParsed(e),d=c._custom,f=O1(d);let p=c[t.axis],m=0,y=r?this.applyStack(t,c,r):p,b,v;y!==p&&(m=y-p,y=p),f&&(p=d.barStart,y=d.barEnd-d.barStart,p!==0&&As(p)!==As(d.barEnd)&&(m=0),m+=p);const w=!nt(s)&&!f?s:m;let M=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(m+y):b=M,v=b-M,Math.abs(v)<o){v=tJ(v,t,a)*o,p===a&&(M-=v/2);const k=t.getPixelForDecimal(0),E=t.getPixelForDecimal(1),A=Math.min(k,E),T=Math.max(k,E);M=Math.max(Math.min(M,T),A),b=M+v,r&&!f&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(b)-t.getValueForPixel(M))}if(M===t.getPixelForValue(a)){const k=As(v)*t.getLineWidthForValue(a)/2;M+=k,v-=k}return{size:v,base:M,head:b,center:b+v/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,o=je(i.maxBarThickness,1/0);let a,c;const d=this._getAxisCount();if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?ZX(e,t,i,f*d):JX(e,t,i,f*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(je(m,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+y;a=p.start+p.chunk*b+p.chunk/2,c=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(o,t.min*t.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}X(Th,"id","bar"),X(Th,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),X(Th,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class fy extends Gi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){const s=super.parsePrimitiveData(e,t,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,t,r,i){const s=super.parseArrayData(e,t,r,i);for(let o=0;o<s.length;o++){const a=t[r+o];s[o]._custom=je(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,t,r,i){const s=super.parseObjectData(e,t,r,i);for(let o=0;o<s.length;o++){const a=t[r+o];s[o]._custom=je(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),c=s.getLabelForValue(o.y),d=o._custom;return{label:r[e]||"",value:"("+a+", "+c+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,i),f=o.axis,p=a.axis;for(let m=t;m<t+r;m++){const y=e[m],b=!s&&this.getParsed(m),v={},w=v[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(b[f]),M=v[p]=s?a.getBasePixel():a.getPixelForValue(b[p]);v.skip=isNaN(w)||isNaN(M),d&&(v.options=c||this.resolveDataElementOptions(m,y.active?"active":i),s&&(v.options.radius=0)),this.updateElement(y,m,v,i)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=je(r&&r._custom,s),i}}X(fy,"id","bubble"),X(fy,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),X(fy,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function oJ(n,e,t){let r=1,i=1,s=0,o=0;if(e<Ht){const a=n,c=a+e,d=Math.cos(a),f=Math.sin(a),p=Math.cos(c),m=Math.sin(c),y=(E,A,T)=>Zh(E,a,c,!0)?1:Math.max(A,A*t,T,T*t),b=(E,A,T)=>Zh(E,a,c,!0)?-1:Math.min(A,A*t,T,T*t),v=y(0,d,p),w=y(mn,f,m),M=b(pt,d,p),k=b(pt+mn,f,m);r=(v-M)/2,i=(w-k)/2,s=-(v+M)/2,o=-(w+k)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Fa extends Gi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=c=>+r[c];if(it(r[e])){const{key:c="value"}=this._parsing;s=d=>+rl(r[d],c)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Qi(this.options.rotation-90)}_getCircumference(){return Qi(this.options.circumference)}_getRotationExtents(){let e=Ht,t=-Ht;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(bG(this.options.cutout,a),1),d=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:b,offsetY:v}=oJ(p,f,c),w=(r.width-o)/m,M=(r.height-o)/y,k=Math.max(Math.min(w,M)/2,0),E=Ej(this.options.radius,k),A=Math.max(E*c,0),T=(E-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*E,this.offsetY=v*E,i.total=this.calculateTotal(),this.outerRadius=E-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Ht)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,d=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,m=s&&d.animateScale,y=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(t,i);let M=this._getRotation(),k;for(k=0;k<t;++k)M+=this._circumference(k,s);for(k=t;k<t+r;++k){const E=this._circumference(k,s),A=e[k],T={x:f+this.offsetX,y:p+this.offsetY,startAngle:M,endAngle:M+E,circumference:E,outerRadius:b,innerRadius:y};w&&(T.options=v||this.resolveDataElementOptions(k,A.active?"active":i)),M+=E,this.updateElement(A,k,T,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ht*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Up(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,c;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}X(Fa,"id","doughnut"),X(Fa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),X(Fa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),X(Fa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Oh extends Gi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:a,count:c}=Lj(t,i,o);this._drawStart=a,this._drawCount=c,Ij(t)&&(a=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},e),this.updateElements(i,a,c,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i),m=o.axis,y=a.axis,{spanGaps:b,segment:v}=this.options,w=vd(b)?b:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||s||i==="none",k=t+r,E=e.length;let A=t>0&&this.getParsed(t-1);for(let T=0;T<E;++T){const P=e[T],N=M?P:{};if(T<t||T>=k){N.skip=!0;continue}const _=this.getParsed(T),L=nt(_[y]),I=N[m]=o.getPixelForValue(_[m],T),V=N[y]=s||L?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,_,c):_[y],T);N.skip=isNaN(I)||isNaN(V)||L,N.stop=T>0&&Math.abs(_[m]-A[m])>w,v&&(N.parsed=_,N.raw=d.data[T]),p&&(N.options=f||this.resolveDataElementOptions(T,P.active?"active":i)),M||this.updateElement(P,T,N,i),A=_}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}X(Oh,"id","line"),X(Oh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X(Oh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _h extends Gi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Up(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return $j.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,p=d.yCenter,m=d.getIndexAngle(0)-.5*pt;let y=m,b;const v=360/this.countVisibleElements();for(b=0;b<t;++b)y+=this._computeAngle(b,i,v);for(b=t;b<t+r;b++){const w=e[b];let M=y,k=y+this._computeAngle(b,i,v),E=o.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=k,s&&(c.animateScale&&(E=0),c.animateRotate&&(M=k=m));const A={x:f,y:p,innerRadius:0,outerRadius:E,startAngle:M,endAngle:k,options:this.resolveDataElementOptions(b,w.active?"active":i)};this.updateElement(w,b,A,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?Qi(this.resolveDataElementOptions(e,t).angle||r):0}}X(_h,"id","polarArea"),X(_h,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),X(_h,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class pS extends Fa{}X(pS,"id","pie"),X(pS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ah extends Gi{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return $j.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=t;a<t+r;a++){const c=e[a],d=this.resolveDataElementOptions(a,c.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,m=o?s.yCenter:f.y,y={x:p,y:m,angle:f.angle,skip:isNaN(p)||isNaN(m),options:d};this.updateElement(c,a,y,i)}}}X(Ah,"id","radar"),X(Ah,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),X(Ah,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hy extends Gi{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),c=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+c+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:o}=Lj(t,r,i);if(this._drawStart=s,this._drawCount=o,Ij(t)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(t,i),p=this.getSharedOptions(f),m=this.includeOptions(i,p),y=o.axis,b=a.axis,{spanGaps:v,segment:w}=this.options,M=vd(v)?v:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||i==="none";let E=t>0&&this.getParsed(t-1);for(let A=t;A<t+r;++A){const T=e[A],P=this.getParsed(A),N=k?T:{},_=nt(P[b]),L=N[y]=o.getPixelForValue(P[y],A),I=N[b]=s||_?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,P,c):P[b],A);N.skip=isNaN(L)||isNaN(I)||_,N.stop=A>0&&Math.abs(P[y]-E[y])>M,w&&(N.parsed=P,N.raw=d.data[A]),m&&(N.options=p||this.resolveDataElementOptions(A,T.active?"active":i)),k||this.updateElement(T,A,N,i),E=P}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let c=t.length-1;c>=0;--c)a=Math.max(a,t[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,o)/2}}X(hy,"id","scatter"),X(hy,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),X(hy,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var aJ=Object.freeze({__proto__:null,BarController:Th,BubbleController:fy,DoughnutController:Fa,LineController:Oh,PieController:pS,PolarAreaController:_h,RadarController:Ah,ScatterController:hy});function Ll(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kD{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(kD.prototype,e)}init(){}formats(){return Ll()}parse(){return Ll()}format(){return Ll()}add(){return Ll()}diff(){return Ll()}startOf(){return Ll()}endOf(){return Ll()}}var lJ={_date:kD};function cJ(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const d=a._reversePixels?AG:Mo;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const m=d(s,e,t-p),y=d(s,e,t+p);return{lo:m.lo,hi:y.hi}}}}else{const f=d(s,e,t);if(c){const{vScale:p}=i._cachedMeta,{_parsed:m}=n,y=m.slice(0,f.lo+1).reverse().findIndex(v=>!nt(v[p.axis]));f.lo-=Math.max(0,y);const b=m.slice(f.hi).findIndex(v=>!nt(v[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function mb(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=s.length;a<c;++a){const{index:d,data:f}=s[a],{lo:p,hi:m}=cJ(s[a],e,o,i);for(let y=p;y<=m;++y){const b=f[y];b.skip||r(b,d,y)}}}function uJ(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _1(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||mb(n,t,e,function(a,c,d){!i&&!Do(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:d})},!0),s}function dJ(n,e,t,r){let i=[];function s(o,a,c){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=_j(o,{x:e.x,y:e.y});Zh(p,d,f)&&i.push({element:o,datasetIndex:a,index:c})}return mb(n,t,e,s),i}function fJ(n,e,t,r,i,s){let o=[];const a=uJ(t);let c=Number.POSITIVE_INFINITY;function d(f,p,m){const y=f.inRange(e.x,e.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||n.isPointInArea(b))&&!y)return;const w=a(e,b);w<c?(o=[{element:f,datasetIndex:p,index:m}],c=w):w===c&&o.push({element:f,datasetIndex:p,index:m})}return mb(n,t,e,d),o}function A1(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?dJ(n,e,t,i):fJ(n,e,t,r,i,s)}function UA(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return mb(n,t,e,(c,d,f)=>{c[o]&&c[o](e[t],i)&&(s.push({element:c,datasetIndex:d,index:f}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var hJ={modes:{index(n,e,t,r){const i=Fl(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?_1(n,i,s,r,o):A1(n,i,s,!1,r,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const f=a[0].index,p=d.data[f];p&&!p.skip&&c.push({element:p,datasetIndex:d.index,index:f})}),c):[]},dataset(n,e,t,r){const i=Fl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?_1(n,i,s,r,o):A1(n,i,s,!1,r,o);if(a.length>0){const c=a[0].datasetIndex,d=n.getDatasetMeta(c).data;a=[];for(let f=0;f<d.length;++f)a.push({element:d[f],datasetIndex:c,index:f})}return a},point(n,e,t,r){const i=Fl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return _1(n,i,s,r,o)},nearest(n,e,t,r){const i=Fl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return A1(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=Fl(e,n);return UA(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Fl(e,n);return UA(n,i,"y",t.intersect,r)}}};const tB=["left","top","right","bottom"];function Xf(n,e){return n.filter(t=>t.pos===e)}function $A(n,e){return n.filter(t=>tB.indexOf(t.pos)===-1&&t.box.axis===e)}function Jf(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function pJ(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function mJ(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!tB.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function gJ(n,e){const t=mJ(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:c}=a.box,d=t[a.stack],f=d&&a.stackWeight/d.weight;a.horizontal?(a.width=f?f*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:c&&e.availableHeight)}return t}function yJ(n){const e=pJ(n),t=Jf(e.filter(d=>d.box.fullSize),!0),r=Jf(Xf(e,"left"),!0),i=Jf(Xf(e,"right")),s=Jf(Xf(e,"top"),!0),o=Jf(Xf(e,"bottom")),a=$A(e,"x"),c=$A(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Xf(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function YA(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function nB(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function bJ(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!it(i)){t.size&&(n[i]-=t.size);const p=r[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?s.height:s.width),t.size=p.size/p.count,n[i]+=t.size}s.getPadding&&nB(o,s.getPadding());const a=Math.max(0,e.outerWidth-YA(o,n,"left","right")),c=Math.max(0,e.outerHeight-YA(o,n,"top","bottom")),d=a!==n.w,f=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:d,other:f}:{same:f,other:d}}function vJ(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function xJ(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function fh(n,e,t,r){const i=[];let s,o,a,c,d,f;for(s=0,o=n.length,d=0;s<o;++s){a=n[s],c=a.box,c.update(a.width||e.w,a.height||e.h,xJ(a.horizontal,e));const{same:p,other:m}=bJ(e,t,a,r);d|=p&&i.length,f=f||m,c.fullSize||i.push(a)}return d&&fh(i,e,t,r)||f}function _g(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function WA(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const c=a.box,d=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/d.weight||1;if(a.horizontal){const p=e.w*f,m=d.size||c.height;Jh(d.start)&&(o=d.start),c.fullSize?_g(c,i.left,o,t.outerWidth-i.right-i.left,m):_g(c,e.left+d.placed,o,p,m),d.start=o,d.placed+=p,o=c.bottom}else{const p=e.h*f,m=d.size||c.width;Jh(d.start)&&(s=d.start),c.fullSize?_g(c,s,i.top,m,t.outerHeight-i.bottom-i.top):_g(c,s,e.top+d.placed,m,p),d.start=s,d.placed+=p,s=c.right}}e.x=s,e.y=o}var pr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=yr(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=yJ(n.boxes),c=a.vertical,d=a.horizontal;Dt(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const f=c.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),m=Object.assign({},i);nB(m,yr(r));const y=Object.assign({maxPadding:m,w:s,h:o,x:i.left,y:i.top},i),b=gJ(c.concat(d),p);fh(a.fullSize,y,p,b),fh(c,y,p,b),fh(d,y,p,b)&&fh(c,y,p,b),vJ(y),WA(a.leftAndTop,y,p,b),y.x+=y.w,y.y+=y.h,WA(a.rightAndBottom,y,p,b),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Dt(a.chartArea,v=>{const w=v.box;Object.assign(w,n.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class rB{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class wJ extends rB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const py="$chartjs",SJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qA=n=>n===null||n==="";function MJ(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[py]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",qA(i)){const s=_A(n,"width");s!==void 0&&(n.width=s)}if(qA(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=_A(n,"height");s!==void 0&&(n.height=s)}return n}const iB=DX?{passive:!0}:!1;function DJ(n,e,t){n&&n.addEventListener(e,t,iB)}function CJ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,iB)}function kJ(n,e){const t=SJ[n.type]||n.type,{x:r,y:i}=Fl(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function c0(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function EJ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||c0(a.addedNodes,r),o=o&&!c0(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function TJ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||c0(a.removedNodes,r),o=o&&!c0(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const tp=new Map;let KA=0;function sB(){const n=window.devicePixelRatio;n!==KA&&(KA=n,tp.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function OJ(n,e){tp.size||window.addEventListener("resize",sB),tp.set(n,e)}function _J(n){tp.delete(n),tp.size||window.removeEventListener("resize",sB)}function AJ(n,e,t){const r=n.canvas,i=r&&CD(r);if(!i)return;const s=Pj((a,c)=>{const d=i.clientWidth;t(a,c),d<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const c=a[0],d=c.contentRect.width,f=c.contentRect.height;d===0&&f===0||s(d,f)});return o.observe(i),OJ(n,s),o}function R1(n,e,t){t&&t.disconnect(),e==="resize"&&_J(n)}function RJ(n,e,t){const r=n.canvas,i=Pj(s=>{n.ctx!==null&&t(kJ(s,n))},n);return DJ(r,e,i),i}class NJ extends rB{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(MJ(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[py])return!1;const r=t[py].initial;["height","width"].forEach(s=>{const o=r[s];nt(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[py],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:EJ,detach:TJ,resize:AJ}[t]||RJ;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:R1,detach:R1,resize:R1}[t]||CJ)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return MX(e,t,r,i)}isAttached(e){const t=e&&CD(e);return!!(t&&t.isConnected)}}function PJ(n){return!DD()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?wJ:NJ}var Xg;let Ho=(Xg=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return vd(this.x)&&vd(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},X(Xg,"defaults",{}),X(Xg,"defaultRoutes"),Xg);function LJ(n,e){const t=n.options.ticks,r=IJ(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?BJ(e):[],o=s.length,a=s[0],c=s[o-1],d=[];if(o>i)return FJ(e,d,s,o/i),d;const f=jJ(s,e,i);if(o>0){let p,m;const y=o>1?Math.round((c-a)/(o-1)):null;for(Ag(e,d,f,nt(y)?0:a-y,a),p=0,m=o-1;p<m;p++)Ag(e,d,f,s[p],s[p+1]);return Ag(e,d,f,c,nt(y)?e.length:c+y),d}return Ag(e,d,f),d}function IJ(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function jJ(n,e,t){const r=zJ(n),i=e.length/t;if(!r)return Math.max(i,1);const s=kG(r);for(let o=0,a=s.length-1;o<a;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}function BJ(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function FJ(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function Ag(n,e,t,r,i){const s=je(r,0),o=Math.min(je(i,n.length),n.length);let a=0,c,d,f;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),f=s;f<0;)a++,f=Math.round(s+a*t);for(d=Math.max(s,0);d<o;d++)d===f&&(e.push(n[d]),a++,f=Math.round(s+a*t))}function zJ(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const VJ=n=>n==="left"?"right":n==="right"?"left":n,QA=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,GA=(n,e)=>Math.min(e||n,n);function XA(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function HJ(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let c=n.getPixelForTick(i),d;if(!(t&&(r===1?d=Math.max(c-s,o-c):e===0?d=(n.getPixelForTick(1)-c)/2:d=(c-n.getPixelForTick(i-1))/2,c+=i<e?d:-d,c<s-a||c>o+a)))return c}function UJ(n,e){Dt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Zf(n){return n.drawTicks?n.tickLength:0}function JA(n,e){if(!n.display)return 0;const t=Tn(n.font,e),r=yr(n.padding);return($t(n.text)?n.text.length:1)*t.lineHeight+r.height}function $J(n,e){return ul(n,{scale:e,type:"scale"})}function YJ(n,e,t){return ul(n,{tick:t,index:e,type:"tick"})}function WJ(n,e,t){let r=bD(n);return(t&&e!=="right"||!t&&e==="right")&&(r=VJ(r)),r}function qJ(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:c}=n,{chartArea:d,scales:f}=c;let p=0,m,y,b;const v=o-i,w=a-s;if(n.isHorizontal()){if(y=ar(r,s,a),it(t)){const M=Object.keys(t)[0],k=t[M];b=f[M].getPixelForValue(k)+v-e}else t==="center"?b=(d.bottom+d.top)/2+v-e:b=QA(n,t,e);m=a-s}else{if(it(t)){const M=Object.keys(t)[0],k=t[M];y=f[M].getPixelForValue(k)-w+e}else t==="center"?y=(d.left+d.right)/2-w+e:y=QA(n,t,e);b=ar(r,o,i),p=t==="left"?-mn:mn}return{titleX:y,titleY:b,maxWidth:m,rotation:p}}class zc extends Ho{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=oi(e,Number.POSITIVE_INFINITY),t=oi(t,Number.NEGATIVE_INFINITY),r=oi(r,Number.POSITIVE_INFINITY),i=oi(i,Number.NEGATIVE_INFINITY),{min:oi(e,r),max:oi(t,i),minDefined:ln(e),maxDefined:ln(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let c=0,d=a.length;c<d;++c)o=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:oi(t,oi(r,t)),max:oi(r,oi(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tX(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?XA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=LJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=jt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=GA(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,a,c,d;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,m=f.highest.height,y=jn(this.chart.width-p,0,this.maxWidth);a=e.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(e.offset?.5:1)),c=this.maxHeight-Zf(e.grid)-t.padding-JA(e.title,this.chart.options.font),d=Math.sqrt(p*p+m*m),o=gD(Math.min(Math.asin(jn((f.highest.height+6)/a,-1,1)),Math.asin(jn(c/d,-1,1))-Math.asin(jn(m/d,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=JA(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Zf(s)+c):(e.height=this.maxHeight,e.width=Zf(s)+c),r.display&&this.ticks.length){const{first:d,last:f,widest:p,highest:m}=this._getLabelSizes(),y=r.padding*2,b=Qi(this.labelRotation),v=Math.cos(b),w=Math.sin(b);if(a){const M=r.mirror?0:w*p.width+v*m.height;e.height=Math.min(this.maxHeight,e.height+M+y)}else{const M=r.mirror?0:v*p.width+w*m.height;e.width=Math.min(this.maxWidth,e.width+M+y)}this._calculatePadding(d,f,w,v)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,y=0;c?d?(m=i*e.width,y=r*t.height):(m=r*e.height,y=i*t.width):s==="start"?y=t.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,y=t.width/2),this.paddingLeft=Math.max((m-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=t.height/2,p=e.height/2;s==="start"?(f=0,p=e.height):s==="end"&&(f=t.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)nt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=XA(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(t/GA(t,r));let d=0,f=0,p,m,y,b,v,w,M,k,E,A,T;for(p=0;p<t;p+=c){if(b=e[p].label,v=this._resolveTickFontOptions(p),i.font=w=v.string,M=s[w]=s[w]||{data:{},gc:[]},k=v.lineHeight,E=A=0,!nt(b)&&!$t(b))E=a0(i,M.data,M.gc,E,b),A=k;else if($t(b))for(m=0,y=b.length;m<y;++m)T=b[m],!nt(T)&&!$t(T)&&(E=a0(i,M.data,M.gc,E,T),A+=k);o.push(E),a.push(A),d=Math.max(E,d),f=Math.max(A,f)}UJ(s,t);const P=o.indexOf(d),N=a.indexOf(f),_=L=>({width:o[L]||0,height:a[L]||0});return{first:_(0),last:_(t-1),widest:_(P),highest:_(N),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _G(this._alignToPixels?Pl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=YJ(this.getContext(),e,r))}return this.$context||(this.$context=$J(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Qi(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,d=this.isHorizontal(),p=this.ticks.length+(c?1:0),m=Zf(s),y=[],b=a.setContext(this.getContext()),v=b.display?b.width:0,w=v/2,M=function(F){return Pl(r,F,v)};let k,E,A,T,P,N,_,L,I,V,q,ae;if(o==="top")k=M(this.bottom),N=this.bottom-m,L=k-w,V=M(e.top)+w,ae=e.bottom;else if(o==="bottom")k=M(this.top),V=e.top,ae=M(e.bottom)-w,N=k+w,L=this.top+m;else if(o==="left")k=M(this.right),P=this.right-m,_=k-w,I=M(e.left)+w,q=e.right;else if(o==="right")k=M(this.left),I=e.left,q=M(e.right)-w,P=k+w,_=this.left+m;else if(t==="x"){if(o==="center")k=M((e.top+e.bottom)/2+.5);else if(it(o)){const F=Object.keys(o)[0],U=o[F];k=M(this.chart.scales[F].getPixelForValue(U))}V=e.top,ae=e.bottom,N=k+w,L=N+m}else if(t==="y"){if(o==="center")k=M((e.left+e.right)/2);else if(it(o)){const F=Object.keys(o)[0],U=o[F];k=M(this.chart.scales[F].getPixelForValue(U))}P=k-w,_=P-m,I=e.left,q=e.right}const de=je(i.ticks.maxTicksLimit,p),oe=Math.max(1,Math.ceil(p/de));for(E=0;E<p;E+=oe){const F=this.getContext(E),U=s.setContext(F),J=a.setContext(F),ce=U.lineWidth,j=U.color,Z=J.dash||[],se=J.dashOffset,le=U.tickWidth,he=U.tickColor,De=U.tickBorderDash||[],fe=U.tickBorderDashOffset;A=HJ(this,E,c),A!==void 0&&(T=Pl(r,A,ce),d?P=_=I=q=T:N=L=V=ae=T,y.push({tx1:P,ty1:N,tx2:_,ty2:L,x1:I,y1:V,x2:q,y2:ae,width:ce,color:j,borderDash:Z,borderDashOffset:se,tickWidth:le,tickColor:he,tickBorderDash:De,tickBorderDashOffset:fe}))}return this._ticksLength=p,this._borderValue=k,y}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:d,padding:f,mirror:p}=s,m=Zf(r.grid),y=m+f,b=p?-f:y,v=-Qi(this.labelRotation),w=[];let M,k,E,A,T,P,N,_,L,I,V,q,ae="middle";if(i==="top")P=this.bottom-b,N=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+b,N=this._getXAxisLabelAlignment();else if(i==="left"){const oe=this._getYAxisLabelAlignment(m);N=oe.textAlign,T=oe.x}else if(i==="right"){const oe=this._getYAxisLabelAlignment(m);N=oe.textAlign,T=oe.x}else if(t==="x"){if(i==="center")P=(e.top+e.bottom)/2+y;else if(it(i)){const oe=Object.keys(i)[0],F=i[oe];P=this.chart.scales[oe].getPixelForValue(F)+y}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")T=(e.left+e.right)/2-y;else if(it(i)){const oe=Object.keys(i)[0],F=i[oe];T=this.chart.scales[oe].getPixelForValue(F)}N=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(c==="start"?ae="top":c==="end"&&(ae="bottom"));const de=this._getLabelSizes();for(M=0,k=a.length;M<k;++M){E=a[M],A=E.label;const oe=s.setContext(this.getContext(M));_=this.getPixelForTick(M)+s.labelOffset,L=this._resolveTickFontOptions(M),I=L.lineHeight,V=$t(A)?A.length:1;const F=V/2,U=oe.color,J=oe.textStrokeColor,ce=oe.textStrokeWidth;let j=N;o?(T=_,N==="inner"&&(M===k-1?j=this.options.reverse?"left":"right":M===0?j=this.options.reverse?"right":"left":j="center"),i==="top"?d==="near"||v!==0?q=-V*I+I/2:d==="center"?q=-de.highest.height/2-F*I+I:q=-de.highest.height+I/2:d==="near"||v!==0?q=I/2:d==="center"?q=de.highest.height/2-F*I:q=de.highest.height-V*I,p&&(q*=-1),v!==0&&!oe.showLabelBackdrop&&(T+=I/2*Math.sin(v))):(P=_,q=(1-V)*I/2);let Z;if(oe.showLabelBackdrop){const se=yr(oe.backdropPadding),le=de.heights[M],he=de.widths[M];let De=q-se.top,fe=0-se.left;switch(ae){case"middle":De-=le/2;break;case"bottom":De-=le;break}switch(N){case"center":fe-=he/2;break;case"right":fe-=he;break;case"inner":M===k-1?fe-=he:M>0&&(fe-=he/2);break}Z={left:fe,top:De,width:he+se.width,height:le+se.height,color:oe.backdropColor}}w.push({label:A,font:L,textOffset:q,options:{rotation:v,color:U,strokeColor:J,strokeWidth:ce,textAlign:j,textBaseline:ae,translation:[T,P],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Qi(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width;let d,f;return t==="left"?i?(f=this.right+s,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f+=c)):(f=this.right-a,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f=this.left)):t==="right"?i?(f=this.left+s,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f-=c)):(f=this.left+a,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(c,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const c=i[s];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,f,p,m;this.isHorizontal()?(d=Pl(e,this.left,o)-o/2,f=Pl(e,this.right,a)+a/2,p=m=c):(p=Pl(e,this.top,o)-o/2,m=Pl(e,this.bottom,a)+a/2,d=f=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,p),t.lineTo(f,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&fb(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,c=o.font,d=o.label,f=o.textOffset;Ac(r,d,0,f,c,a)}i&&hb(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Tn(r.font),o=yr(r.padding),a=r.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||it(t)?(c+=o.bottom,$t(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:f,maxWidth:p,rotation:m}=qJ(this,c,t,a);Ac(e,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:m,textAlign:WJ(a,t,i),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=je(e.grid&&e.grid.z,-1),i=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==zc.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Tn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rg{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;GJ(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,KJ(e,o,r),this.override&&Wt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Wt[i]&&(delete Wt[i][r],this.override&&delete _c[r])}}function KJ(n,e,t){const r=Xh(Object.create(null),[t?Wt.get(t):{},Wt.get(e),n.defaults]);Wt.set(e,r),n.defaultRoutes&&QJ(e,n.defaultRoutes),n.descriptors&&Wt.describe(e,n.descriptors)}function QJ(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");Wt.route(s,i,c,a)})}function GJ(n){return"id"in n&&"defaults"in n}class XJ{constructor(){this.controllers=new Rg(Gi,"datasets",!0),this.elements=new Rg(Ho,"elements"),this.plugins=new Rg(Object,"plugins"),this.scales=new Rg(zc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Dt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=mD(e);jt(r["before"+i],[],r),t[e](r),jt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ps=new XJ;class JJ{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],c=[t,i,s.options];if(jt(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=je(r.options&&r.options.plugins,{}),s=ZJ(r);return i===!1&&!t?[]:tZ(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function ZJ(n){const e={},t=[],r=Object.keys(ps.plugins.items);for(let s=0;s<r.length;s++)t.push(ps.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function eZ(n,e){return!e&&n===!1?null:n===!0?{}:n}function tZ(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const c=a.id,d=eZ(r[c],i);d!==null&&s.push({plugin:a,options:nZ(n.config,{plugin:a,local:t[c]},d,o)})}return s}function nZ(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mS(n,e){const t=Wt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function rZ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function iZ(n,e){return n===e?"_index_":"_value_"}function ZA(n){if(n==="x"||n==="y"||n==="r")return n}function sZ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gS(n,...e){if(ZA(n))return n;for(const t of e){const r=t.axis||sZ(t.position)||n.length>1&&ZA(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function eR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function oZ(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return eR(n,"x",t[0])||eR(n,"y",t[0])}return{}}function aZ(n,e){const t=_c[n.type]||{scales:{}},r=e.scales||{},i=mS(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!it(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=gS(o,a,oZ(o,n),Wt.scales[a.type]),d=iZ(c,i),f=t.scales||{};s[o]=Dh(Object.create(null),[{axis:c},a,f[c],f[d]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,c=o.indexAxis||mS(a,e),f=(_c[a]||{}).scales||{};Object.keys(f).forEach(p=>{const m=rZ(p,c),y=o[m+"AxisID"]||m;s[y]=s[y]||Object.create(null),Dh(s[y],[{axis:m},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Dh(a,[Wt.scales[a.type],Wt.scale])}),s}function oB(n){const e=n.options||(n.options={});e.plugins=je(e.plugins,{}),e.scales=aZ(n,e)}function aB(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function lZ(n){return n=n||{},n.data=aB(n.data),oB(n),n}const tR=new Map,lB=new Set;function Ng(n,e){let t=tR.get(n);return t||(t=e(),tR.set(n,t),lB.add(t)),t}const eh=(n,e,t)=>{const r=rl(e,t);r!==void 0&&n.add(r)};class cZ{constructor(e){this._config=lZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=aB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ng(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ng(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ng(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Ng(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const c=new Set;t.forEach(f=>{e&&(c.add(e),f.forEach(p=>eh(c,e,p))),f.forEach(p=>eh(c,i,p)),f.forEach(p=>eh(c,_c[s]||{},p)),f.forEach(p=>eh(c,Wt,p)),f.forEach(p=>eh(c,fS,p))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),lB.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,_c[t]||{},Wt.datasets[t]||{},{type:t},Wt,fS]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=nR(this._resolverCache,e,i);let c=o;if(dZ(o,t)){s.$shared=!1,r=il(r)?r():r;const d=this.createResolver(e,r,a);c=xd(o,r,d)}for(const d of t)s[d]=c[d];return s}createResolver(e,t,r=[""],i){const{resolver:s}=nR(this._resolverCache,e,r);return it(t)?xd(s,t,void 0,i):s}}function nR(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:wD(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const uZ=n=>it(n)&&Object.getOwnPropertyNames(n).some(e=>il(n[e]));function dZ(n,e){const{isScriptable:t,isIndexable:r}=zj(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(il(a)||uZ(a))||o&&$t(a))return!0}return!1}var fZ="4.5.0";const hZ=["top","bottom","left","right","chartArea"];function rR(n,e){return n==="top"||n==="bottom"||hZ.indexOf(n)===-1&&e==="x"}function iR(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function sR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),jt(t&&t.onComplete,[n],e)}function pZ(n){const e=n.chart,t=e.options.animation;jt(t&&t.onProgress,[n],e)}function cB(n){return DD()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const my={},oR=n=>{const e=cB(n);return Object.values(my).filter(t=>t.canvas===e).pop()};function mZ(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function gZ(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var ga;let Pi=(ga=class{static register(...e){ps.add(...e),aR()}static unregister(...e){ps.remove(...e),aR()}constructor(e,t){const r=this.config=new cZ(t),i=cB(e),s=oR(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||PJ(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,d=c&&c.height,f=c&&c.width;if(this.id=yG(),this.ctx=a,this.canvas=c,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PG(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],my[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}po.listen(this,"complete",sR),po.listen(this,"progress",pZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return nt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ps}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():OA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kA(this.canvas,this.ctx),this}stop(){return po.stop(this),this}resize(e,t){po.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,OA(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),jt(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Dt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],c=gS(o,a),d=c==="r",f=c==="x";return{options:a,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),Dt(s,o=>{const a=o.options,c=a.id,d=gS(c,a),f=je(a.type,o.dtype);(a.position===void 0||rR(a.position,d)!==rR(o.dposition))&&(a.position=o.dposition),i[c]=!0;let p=null;if(c in r&&r[c].type===f)p=r[c];else{const m=ps.getScale(f);p=new m({id:c,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,e)}),Dt(i,(o,a)=>{o||delete r[a]}),Dt(r,o=>{pr.configure(this,o,o.options),pr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(iR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||mS(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=ps.getController(a),{datasetElementType:d,dataElementType:f}=Wt.datasets[a];Object.assign(c,{dataElementType:ps.getElement(f),datasetElementType:d&&ps.getElement(d)}),o.controller=new c(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Dt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:p}=this.getDatasetMeta(d),m=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(m),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Dt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(iR("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Dt(this.scales,e=>{pr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!yA(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;mZ(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!yA(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pr.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Dt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,il(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(po.has(this)?this.attached&&!po.running(this)&&po.start(this):(this.draw(),sR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Xj(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&fb(t,i),e.controller.draw(),i&&hb(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Do(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=hJ.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ul(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Jh(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),po.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kA(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete my[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Dt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},i=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Dt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Dt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!i0(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(c,d)=>c.filter(f=>!d.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,a=this._getActiveElements(e,i,r,o),c=MG(e),d=gZ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,jt(s.onHover,[e,a,this],this),c&&jt(s.onClick,[e,a,this],this));const f=!i0(a,i);return(f||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=d,f}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},X(ga,"defaults",Wt),X(ga,"instances",my),X(ga,"overrides",_c),X(ga,"registry",ps),X(ga,"version",fZ),X(ga,"getChart",oR),ga);function aR(){return Dt(Pi.instances,n=>n._plugins.invalidate())}function yZ(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:d,borderJoinStyle:f}=c,p=Math.min(d/o,ur(r-t));if(n.beginPath(),n.arc(i,s,o-d/2,r+p/2,t-p/2),a>0){const m=Math.min(d/a,ur(r-t));n.arc(i,s,a+d/2,t-m/2,r+m/2,!0)}else{const m=Math.min(d/2,o*ur(r-t));if(f==="round")n.arc(i,s,m,t-pt/2,r+pt/2,!0);else if(f==="bevel"){const y=2*m*m,b=-y*Math.cos(t+pt/2)+i,v=-y*Math.sin(t+pt/2)+s,w=y*Math.cos(r+pt/2)+i,M=y*Math.sin(r+pt/2)+s;n.lineTo(b,v),n.lineTo(w,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function bZ(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e;let d=i/a;n.beginPath(),n.arc(s,o,a,r-d,t+d),c>i?(d=i/c,n.arc(s,o,c,t+d,r-d,!0)):n.arc(s,o,i,t+mn,r-mn),n.closePath(),n.clip()}function vZ(n){return xD(n,["outerStart","outerEnd","innerStart","innerEnd"])}function xZ(n,e,t,r){const i=vZ(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=c=>{const d=(t-Math.min(s,c))*r/2;return jn(c,0,Math.min(s,d))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:jn(i.innerStart,0,o),innerEnd:jn(i.innerEnd,0,o)}}function Ou(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function u0(n,e,t,r,i,s){const{x:o,y:a,startAngle:c,pixelMargin:d,innerRadius:f}=e,p=Math.max(e.outerRadius+r+t-d,0),m=f>0?f+r+t+d:0;let y=0;const b=i-c;if(r){const oe=f>0?f-r:0,F=p>0?p-r:0,U=(oe+F)/2,J=U!==0?b*U/(U+r):b;y=(b-J)/2}const v=Math.max(.001,b*p-t/pt)/p,w=(b-v)/2,M=c+w+y,k=i-w-y,{outerStart:E,outerEnd:A,innerStart:T,innerEnd:P}=xZ(e,m,p,k-M),N=p-E,_=p-A,L=M+E/N,I=k-A/_,V=m+T,q=m+P,ae=M+T/V,de=k-P/q;if(n.beginPath(),s){const oe=(L+I)/2;if(n.arc(o,a,p,L,oe),n.arc(o,a,p,oe,I),A>0){const ce=Ou(_,I,o,a);n.arc(ce.x,ce.y,A,I,k+mn)}const F=Ou(q,k,o,a);if(n.lineTo(F.x,F.y),P>0){const ce=Ou(q,de,o,a);n.arc(ce.x,ce.y,P,k+mn,de+Math.PI)}const U=(k-P/m+(M+T/m))/2;if(n.arc(o,a,m,k-P/m,U,!0),n.arc(o,a,m,U,M+T/m,!0),T>0){const ce=Ou(V,ae,o,a);n.arc(ce.x,ce.y,T,ae+Math.PI,M-mn)}const J=Ou(N,M,o,a);if(n.lineTo(J.x,J.y),E>0){const ce=Ou(N,L,o,a);n.arc(ce.x,ce.y,E,M-mn,L)}}else{n.moveTo(o,a);const oe=Math.cos(L)*p+o,F=Math.sin(L)*p+a;n.lineTo(oe,F);const U=Math.cos(I)*p+o,J=Math.sin(I)*p+a;n.lineTo(U,J)}n.closePath()}function wZ(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let c=e.endAngle;if(s){u0(n,e,t,r,c,i);for(let d=0;d<s;++d)n.fill();isNaN(a)||(c=o+(a%Ht||Ht))}return u0(n,e,t,r,c,i),n.fill(),c}function SZ(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:d,borderJoinStyle:f,borderDash:p,borderDashOffset:m,borderRadius:y}=c,b=c.borderAlign==="inner";if(!d)return;n.setLineDash(p||[]),n.lineDashOffset=m,b?(n.lineWidth=d*2,n.lineJoin=f||"round"):(n.lineWidth=d,n.lineJoin=f||"bevel");let v=e.endAngle;if(s){u0(n,e,t,r,v,i);for(let w=0;w<s;++w)n.stroke();isNaN(a)||(v=o+(a%Ht||Ht))}b&&bZ(n,e,v),c.selfJoin&&v-o>=pt&&y===0&&f!=="miter"&&yZ(n,e,v),s||(u0(n,e,t,r,v,i),n.stroke())}class Iu extends Ho{constructor(t){super();X(this,"circumference");X(this,"endAngle");X(this,"fullCircles");X(this,"innerRadius");X(this,"outerRadius");X(this,"pixelMargin");X(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=_j(s,{x:t,y:r}),{startAngle:c,endAngle:d,innerRadius:f,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,b=je(m,d-c),v=Zh(o,c,d)&&c!==d,w=b>=Ht||v,M=So(a,f+y,p+y);return w&&M}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:f}=this.options,p=(s+o)/2,m=(a+c+f+d)/2;return{x:r+Math.cos(p)*m,y:i+Math.sin(p)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ht?Math.floor(i/Ht):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(pt,i||0)),f=s*d;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,wZ(t,this,f,o,a),SZ(t,this,f,o,a),t.restore()}}X(Iu,"id","arc"),X(Iu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),X(Iu,"defaultRoutes",{backgroundColor:"backgroundColor"}),X(Iu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function uB(n,e,t=e){n.lineCap=je(t.borderCapStyle,e.borderCapStyle),n.setLineDash(je(t.borderDash,e.borderDash)),n.lineDashOffset=je(t.borderDashOffset,e.borderDashOffset),n.lineJoin=je(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=je(t.borderWidth,e.borderWidth),n.strokeStyle=je(t.borderColor,e.borderColor)}function MZ(n,e,t){n.lineTo(t.x,t.y)}function DZ(n){return n.stepped?WG:n.tension||n.cubicInterpolationMode==="monotone"?qG:MZ}function dB(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,c=Math.max(i,o),d=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:d<c&&!f?r+d-c:d-c}}function CZ(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:d}=dB(i,t,r),f=DZ(s);let{move:p=!0,reverse:m}=r||{},y,b,v;for(y=0;y<=d;++y)b=i[(a+(m?d-y:y))%o],!b.skip&&(p?(n.moveTo(b.x,b.y),p=!1):f(n,v,b,m,s.stepped),v=b);return c&&(b=i[(a+(m?d:0))%o],f(n,v,b,m,s.stepped)),!!c}function kZ(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=dB(i,t,r),{move:c=!0,reverse:d}=r||{};let f=0,p=0,m,y,b,v,w,M;const k=A=>(o+(d?a-A:A))%s,E=()=>{v!==w&&(n.lineTo(f,w),n.lineTo(f,v),n.lineTo(f,M))};for(c&&(y=i[k(0)],n.moveTo(y.x,y.y)),m=0;m<=a;++m){if(y=i[k(m)],y.skip)continue;const A=y.x,T=y.y,P=A|0;P===b?(T<v?v=T:T>w&&(w=T),f=(p*f+A)/++p):(E(),n.lineTo(A,T),b=P,p=0,v=w=T),M=T}E()}function yS(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?kZ:CZ}function EZ(n){return n.stepped?CX:n.tension||n.cubicInterpolationMode==="monotone"?kX:zl}function TZ(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),uB(n,e.options),n.stroke(i)}function OZ(n,e,t,r){const{segments:i,options:s}=e,o=yS(e);for(const a of i)uB(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const _Z=typeof Path2D=="function";function AZ(n,e,t,r){_Z&&!e.options.segment?TZ(n,e,t,r):OZ(n,e,t,r)}class Es extends Ho{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;yX(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RX(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Gj(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],c=EZ(r);let d,f;for(d=0,f=o.length;d<f;++d){const{start:p,end:m}=o[d],y=s[p],b=s[m];if(y===b){a.push(y);continue}const v=Math.abs((i-y[t])/(b[t]-y[t])),w=c(y,b,v,r.stepped);w[t]=e[t],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,t,r){return yS(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=yS(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),AZ(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(Es,"id","line"),X(Es,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(Es,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(Es,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function lR(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Rh extends Ho{constructor(t){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return lR(this,t,"x",r)}inYRange(t,r){return lR(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!Do(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,hS(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}X(Rh,"id","point"),X(Rh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(Rh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function fB(n,e){const{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let a,c,d,f,p;return n.horizontal?(p=o/2,a=Math.min(t,i),c=Math.max(t,i),d=r-p,f=r+p):(p=s/2,a=t-p,c=t+p,d=Math.min(r,i),f=Math.max(r,i)),{left:a,top:d,right:c,bottom:f}}function za(n,e,t,r){return n?0:jn(e,t,r)}function RZ(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=Fj(r);return{t:za(i.top,s.top,0,t),r:za(i.right,s.right,0,e),b:za(i.bottom,s.bottom,0,t),l:za(i.left,s.left,0,e)}}function NZ(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=mc(i),o=Math.min(e,t),a=n.borderSkipped,c=r||it(i);return{topLeft:za(!c||a.top||a.left,s.topLeft,0,o),topRight:za(!c||a.top||a.right,s.topRight,0,o),bottomLeft:za(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:za(!c||a.bottom||a.right,s.bottomRight,0,o)}}function PZ(n){const e=fB(n),t=e.right-e.left,r=e.bottom-e.top,i=RZ(n,t/2,r/2),s=NZ(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function N1(n,e,t,r){const i=e===null,s=t===null,a=n&&!(i&&s)&&fB(n,r);return a&&(i||So(e,a.left,a.right))&&(s||So(t,a.top,a.bottom))}function LZ(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function IZ(n,e){n.rect(e.x,e.y,e.w,e.h)}function P1(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}class Xu extends Ho{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=PZ(this),a=LZ(o.radius)?ep:IZ;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,P1(o,t,s)),e.clip(),a(e,P1(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,P1(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return N1(this,e,t,r)}inXRange(e,t){return N1(this,e,null,t)}inYRange(e,t){return N1(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}X(Xu,"id","bar"),X(Xu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(Xu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var jZ=Object.freeze({__proto__:null,ArcElement:Iu,BarElement:Xu,LineElement:Es,PointElement:Rh});const bS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cR=bS.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function hB(n){return bS[n%bS.length]}function pB(n){return cR[n%cR.length]}function BZ(n,e){return n.borderColor=hB(e),n.backgroundColor=pB(e),++e}function FZ(n,e){return n.backgroundColor=n.data.map(()=>hB(e++)),e}function zZ(n,e){return n.backgroundColor=n.data.map(()=>pB(e++)),e}function VZ(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof Fa?e=FZ(t,e):i instanceof _h?e=zZ(t,e):i&&(e=BZ(t,e))}}function uR(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function HZ(n){return n&&(n.borderColor||n.backgroundColor)}function UZ(){return Wt.borderColor!=="rgba(0,0,0,0.1)"||Wt.backgroundColor!=="rgba(0,0,0,0.1)"}var $Z={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,o=uR(r)||HZ(i)||s&&uR(s)||UZ();if(!t.forceOverride&&o)return;const a=VZ(n);r.forEach(a)}};function YZ(n,e,t,r,i){const s=i.samples||r;if(s>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(s-2);let c=0;const d=e+t-1;let f=e,p,m,y,b,v;for(o[c++]=n[f],p=0;p<s-2;p++){let w=0,M=0,k;const E=Math.floor((p+1)*a)+1+e,A=Math.min(Math.floor((p+2)*a)+1,t)+e,T=A-E;for(k=E;k<A;k++)w+=n[k].x,M+=n[k].y;w/=T,M/=T;const P=Math.floor(p*a)+1+e,N=Math.min(Math.floor((p+1)*a)+1,t)+e,{x:_,y:L}=n[f];for(y=b=-1,k=P;k<N;k++)b=.5*Math.abs((_-w)*(n[k].y-L)-(_-n[k].x)*(M-L)),b>y&&(y=b,m=n[k],v=k);o[c++]=m,f=v}return o[c++]=n[d],o}function WZ(n,e,t,r){let i=0,s=0,o,a,c,d,f,p,m,y,b,v;const w=[],M=e+t-1,k=n[e].x,A=n[M].x-k;for(o=e;o<e+t;++o){a=n[o],c=(a.x-k)/A*r,d=a.y;const T=c|0;if(T===f)d<b?(b=d,p=o):d>v&&(v=d,m=o),i=(s*i+a.x)/++s;else{const P=o-1;if(!nt(p)&&!nt(m)){const N=Math.min(p,m),_=Math.max(p,m);N!==y&&N!==P&&w.push({...n[N],x:i}),_!==y&&_!==P&&w.push({...n[_],x:i})}o>0&&P!==y&&w.push(n[P]),w.push(a),f=T,s=0,b=v=d,p=m=y=o}}return w}function mB(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function dR(n){n.data.datasets.forEach(e=>{mB(e)})}function qZ(n,e){const t=e.length;let r=0,i;const{iScale:s}=n,{min:o,max:a,minDefined:c,maxDefined:d}=s.getUserBounds();return c&&(r=jn(Mo(e,s.axis,o).lo,0,t-1)),d?i=jn(Mo(e,s.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var KZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){dR(n);return}const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,c=n.getDatasetMeta(s),d=o||i.data;if(dh([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const f=n.scales[c.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:p,count:m}=qZ(c,d);const y=t.threshold||4*r;if(m<=y){mB(i);return}nt(o)&&(i._data=d,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let b;switch(t.algorithm){case"lttb":b=YZ(d,p,m,r,t);break;case"min-max":b=WZ(d,p,m,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=b})},destroy(n){dR(n)}};function QZ(n,e,t){const r=n.segments,i=n.points,s=e.points,o=[];for(const a of r){let{start:c,end:d}=a;d=gb(c,d,i);const f=vS(t,i[c],i[d],a.loop);if(!e.segments){o.push({source:a,target:f,start:i[c],end:i[d]});continue}const p=Gj(e,f);for(const m of p){const y=vS(t,s[m.start],s[m.end],m.loop),b=Qj(a,i,y);for(const v of b)o.push({source:v,target:m,start:{[t]:fR(f,y,"start",Math.max)},end:{[t]:fR(f,y,"end",Math.min)}})}}return o}function vS(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=ur(i),s=ur(s)),{property:n,start:i,end:s}}function GZ(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=gb(o,a,i);const c=i[o],d=i[a];r!==null?(s.push({x:c.x,y:r}),s.push({x:d.x,y:r})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:d.y}))}),s}function gb(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function fR(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function gB(n,e){let t=[],r=!1;return $t(n)?(r=!0,t=n):t=GZ(n,e),t.length?new Es({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function hR(n){return n&&n.fill!==!1}function XZ(n,e,t){let i=n[e].fill;const s=[e];let o;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ln(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function JZ(n,e,t){const r=nee(n);if(it(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ln(i)&&Math.floor(i)===i?ZZ(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ZZ(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function eee(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:it(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function tee(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:it(n)?r=n.value:r=e.getBaseValue(),r}function nee(n){const e=n.options,t=e.fill;let r=je(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ree(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,a=iee(e,t);a.push(gB({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){const d=s[c];for(let f=d.start;f<=d.end;f++)see(i,o[f],a)}return new Es({points:i,options:{}})}function iee(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function see(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:o,last:a,point:c}=oee(s,e,"x");if(!(!c||o&&a)){if(o)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function oee(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,o=n.points;let a=!1,c=!1;for(let d=0;d<s.length;d++){const f=s[d],p=o[f.start][t],m=o[f.end][t];if(So(i,p,m)){a=i===p,c=i===m;break}}return{first:a,last:c,point:r}}class yB{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:o}=this;return t=t||{start:0,end:Ht},e.arc(i,s,o,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function aee(n){const{chart:e,fill:t,line:r}=n;if(ln(t))return lee(e,t);if(t==="stack")return ree(n);if(t==="shape")return!0;const i=cee(n);return i instanceof yB?i:gB(i,r)}function lee(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function cee(n){return(n.scale||{}).getPointPositionForValue?dee(n):uee(n)}function uee(n){const{scale:e={},fill:t}=n,r=eee(t,e);if(ln(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function dee(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=tee(t,e,s),a=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,s);return new yB({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function L1(n,e,t){const r=aee(e),{chart:i,index:s,line:o,scale:a,axis:c}=e,d=o.options,f=d.fill,p=d.backgroundColor,{above:m=p,below:y=p}=f||{},b=i.getDatasetMeta(s),v=Xj(i,b);r&&o.points.length&&(fb(n,t),fee(n,{line:o,target:r,above:m,below:y,area:t,scale:a,axis:c,clip:v}),hb(n))}function fee(n,e){const{line:t,target:r,above:i,below:s,area:o,scale:a,clip:c}=e,d=t._loop?"angle":e.axis;n.save();let f=s;s!==i&&(d==="x"?(pR(n,r,o.top),I1(n,{line:t,target:r,color:i,scale:a,property:d,clip:c}),n.restore(),n.save(),pR(n,r,o.bottom)):d==="y"&&(mR(n,r,o.left),I1(n,{line:t,target:r,color:s,scale:a,property:d,clip:c}),n.restore(),n.save(),mR(n,r,o.right),f=i)),I1(n,{line:t,target:r,color:f,scale:a,property:d,clip:c}),n.restore()}function pR(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:c,end:d}=a,f=i[c],p=i[gb(c,d,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(p.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function mR(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:c,end:d}=a,f=i[c],p=i[gb(c,d,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(t,f.y),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(t,p.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function I1(n,e){const{line:t,target:r,property:i,color:s,scale:o,clip:a}=e,c=QZ(t,r,i);for(const{source:d,target:f,start:p,end:m}of c){const{style:{backgroundColor:y=s}={}}=d,b=r!==!0;n.save(),n.fillStyle=y,hee(n,o,a,b&&vS(i,p,m)),n.beginPath();const v=!!t.pathSegment(n,d);let w;if(b){v?n.closePath():gR(n,r,m,i);const M=!!r.pathSegment(n,f,{move:v,reverse:!0});w=v&&M,w||gR(n,r,p,i)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function hee(n,e,t,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let c,d,f,p;s==="x"?(c=o,d=i.top,f=a,p=i.bottom):(c=i.left,d=o,f=i.right,p=a),n.beginPath(),t&&(c=Math.max(c,t.left),f=Math.min(f,t.right),d=Math.max(d,t.top),p=Math.min(p,t.bottom)),n.rect(c,d,f-c,p-d),n.clip()}}function gR(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var bB={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,o,a,c;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Es&&(c={visible:n.isDatasetVisible(o),index:o,fill:JZ(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=XZ(i,o,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&L1(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;hR(s)&&L1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!hR(r)||t.drawTime!=="beforeDatasetDraw"||L1(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yR=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},pee=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class bR extends Ho{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=jt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Tn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=yR(r,s);let d,f;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,s,a,c)+10):(f=this.maxHeight,d=this._fitCols(o,i,a,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+a;let p=e;s.textAlign="left",s.textBaseline="middle";let m=-1,y=-f;return this.legendItems.forEach((b,v)=>{const w=r+t/2+s.measureText(b.text).width;(v===0||d[d.length-1]+w+2*a>o)&&(p+=f,d[d.length-(v>0?0:1)]=0,y+=f,m++),c[v]={left:0,top:y,row:m,width:w,height:i},d[d.length-1]+=w+a}),p}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-e;let p=a,m=0,y=0,b=0,v=0;return this.legendItems.forEach((w,M)=>{const{itemWidth:k,itemHeight:E}=mee(r,t,s,w,i);M>0&&y+E+2*a>f&&(p+=m+a,d.push({width:m,height:y}),b+=m+a,v++,m=y=0),c[M]={left:b,top:y,col:v,width:k,height:E},m=Math.max(m,k),y+=E+a}),p+=m,d.push({width:m,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Gu(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=ar(r,this.left+i,this.right-this.lineWidths[a]);for(const d of t)a!==d.row&&(a=d.row,c=ar(r,this.left+i,this.right-this.lineWidths[a])),d.top+=this.top+e+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let a=0,c=ar(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const d of t)d.col!==a&&(a=d.col,c=ar(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;fb(e,this),this._draw(),hb(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Wt.color,c=Gu(e.rtl,this.left,this.width),d=Tn(o.font),{padding:f}=o,p=d.size,m=p/2;let y;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:v,itemHeight:w}=yR(o,p),M=function(P,N,_){if(isNaN(b)||b<=0||isNaN(v)||v<0)return;i.save();const L=je(_.lineWidth,1);if(i.fillStyle=je(_.fillStyle,a),i.lineCap=je(_.lineCap,"butt"),i.lineDashOffset=je(_.lineDashOffset,0),i.lineJoin=je(_.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=je(_.strokeStyle,a),i.setLineDash(je(_.lineDash,[])),o.usePointStyle){const I={radius:v*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:L},V=c.xPlus(P,b/2),q=N+m;Bj(i,I,V,q,o.pointStyleWidth&&b)}else{const I=N+Math.max((p-v)/2,0),V=c.leftForLtr(P,b),q=mc(_.borderRadius);i.beginPath(),Object.values(q).some(ae=>ae!==0)?ep(i,{x:V,y:I,w:b,h:v,radius:q}):i.rect(V,I,b,v),i.fill(),L!==0&&i.stroke()}i.restore()},k=function(P,N,_){Ac(i,_.text,P,N+w/2,d,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},E=this.isHorizontal(),A=this._computeTitleHeight();E?y={x:ar(s,this.left+f,this.right-r[0]),y:this.top+f+A,line:0}:y={x:this.left+f,y:ar(s,this.top+A+f,this.bottom-t[0].height),line:0},Wj(this.ctx,e.textDirection);const T=w+f;this.legendItems.forEach((P,N)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const _=i.measureText(P.text).width,L=c.textAlign(P.textAlign||(P.textAlign=o.textAlign)),I=b+m+_;let V=y.x,q=y.y;c.setWidth(this.width),E?N>0&&V+I+f>this.right&&(q=y.y+=T,y.line++,V=y.x=ar(s,this.left+f,this.right-r[y.line])):N>0&&q+T>this.bottom&&(V=y.x=V+t[y.line].width+f,y.line++,q=y.y=ar(s,this.top+A+f,this.bottom-t[y.line].height));const ae=c.x(V);if(M(ae,q,P),V=LG(L,V+b+m,E?V+I:this.right,e.rtl),k(c.x(V),q,P),E)y.x+=I+f;else if(typeof P.text!="string"){const de=d.lineHeight;y.y+=vB(P,de)+f}else y.y+=T}),qj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Tn(t.font),i=yr(t.padding);if(!t.display)return;const s=Gu(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=r.size/2,d=i.top+c;let f,p=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),f=this.top+d,p=ar(e.align,p,this.right-m);else{const b=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);f=d+ar(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const y=ar(a,p,p+m);o.textAlign=s.textAlign(bD(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,Ac(o,t.text,y,f,r)}_computeTitleHeight(){const e=this.options.title,t=Tn(e.font),r=yr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(So(e,this.left,this.right)&&So(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],So(e,i.left,i.left+i.width)&&So(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!bee(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=pee(i,r);i&&!s&&jt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&jt(t.onHover,[e,r,this],this)}else r&&jt(t.onClick,[e,r,this],this)}}function mee(n,e,t,r,i){const s=gee(r,n,e,t),o=yee(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function gee(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function yee(n,e,t){let r=n;return typeof e.text!="string"&&(r=vB(e,t)),r}function vB(n,e){const t=n.text?n.text.length:0;return e*t}function bee(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var $p={id:"legend",_element:bR,start(n,e,t){const r=n.legend=new bR({ctx:n.ctx,options:t,chart:n});pr.configure(n,r,t),pr.addBox(n,r)},stop(n){pr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;pr.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),f=yr(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(a||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class ED extends Ho{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=$t(r.text)?r.text.length:1;this._padding=yr(r.padding);const s=i*Tn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let c=0,d,f,p;return this.isHorizontal()?(f=ar(a,r,s),p=t+e,d=s-r):(o.position==="left"?(f=r+e,p=ar(a,i,t),c=pt*-.5):(f=s-e,p=ar(a,t,i),c=pt*.5),d=i-t),{titleX:f,titleY:p,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Tn(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:d}=this._drawArgs(s);Ac(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:d,textAlign:bD(t.align),textBaseline:"middle",translation:[o,a]})}}function vee(n,e){const t=new ED({ctx:n.ctx,options:e,chart:n});pr.configure(n,t,e),pr.addBox(n,t),n.titleBlock=t}var xB={id:"title",_element:ED,start(n,e,t){vee(n,t)},stop(n){const e=n.titleBlock;pr.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;pr.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pg=new WeakMap;var xee={id:"subtitle",start(n,e,t){const r=new ED({ctx:n.ctx,options:t,chart:n});pr.configure(n,r,t),pr.addBox(n,r),Pg.set(n,r)},stop(n){pr.removeBox(n,Pg.get(n)),Pg.delete(n)},beforeUpdate(n,e,t){const r=Pg.get(n);pr.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),f=dS(e,d);f<i&&(i=f,a=c)}}if(a){const c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function hs(n,e){return e&&($t(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function mo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function wee(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function vR(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,c=Tn(e.bodyFont),d=Tn(e.titleFont),f=Tn(e.footerFont),p=s.length,m=i.length,y=r.length,b=yr(e.padding);let v=b.height,w=0,M=r.reduce((A,T)=>A+T.before.length+T.lines.length+T.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,p&&(v+=p*d.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),M){const A=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=y*A+(M-y)*c.lineHeight+(M-1)*e.bodySpacing}m&&(v+=e.footerMarginTop+m*f.lineHeight+(m-1)*e.footerSpacing);let k=0;const E=function(A){w=Math.max(w,t.measureText(A).width+k)};return t.save(),t.font=d.string,Dt(n.title,E),t.font=c.string,Dt(n.beforeBody.concat(n.afterBody),E),k=e.displayColors?o+2+e.boxPadding:0,Dt(r,A=>{Dt(A.before,E),Dt(A.lines,E),Dt(A.after,E)}),k=0,t.font=f.string,Dt(n.footer,E),t.restore(),w+=b.width,{width:w,height:v}}function See(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Mee(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function Dee(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:c}}=n;let d="center";return r==="center"?d=i<=(a+c)/2?"left":"right":i<=s/2?d="left":i>=o-s/2&&(d="right"),Mee(d,n,e,t)&&(d="center"),d}function xR(n,e,t){const r=t.yAlign||e.yAlign||See(n,t);return{xAlign:t.xAlign||e.xAlign||Dee(n,e,t,r),yAlign:r}}function Cee(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function kee(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function wR(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:c}=t,d=i+s,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:y}=mc(o);let b=Cee(e,a);const v=kee(e,c,d);return c==="center"?a==="left"?b+=d:a==="right"&&(b-=d):a==="left"?b-=Math.max(f,m)+i:a==="right"&&(b+=Math.max(p,y)+i),{x:jn(b,0,r.width-e.width),y:jn(v,0,r.height-e.height)}}function Lg(n,e,t){const r=yr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function SR(n){return hs([],mo(n))}function Eee(n,e,t){return ul(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function MR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const wB={beforeTitle:co,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:co,beforeBody:co,beforeLabel:co,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return nt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:co,afterBody:co,beforeFooter:co,footer:co,afterFooter:co};function Fr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?wB[e].call(t,r):i}var kw;let DR=(kw=class extends Ho{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new Jj(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Eee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Fr(r,"beforeTitle",this,e),s=Fr(r,"title",this,e),o=Fr(r,"afterTitle",this,e);let a=[];return a=hs(a,mo(i)),a=hs(a,mo(s)),a=hs(a,mo(o)),a}getBeforeBody(e,t){return SR(Fr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Dt(e,s=>{const o={before:[],lines:[],after:[]},a=MR(r,s);hs(o.before,mo(Fr(a,"beforeLabel",this,s))),hs(o.lines,Fr(a,"label",this,s)),hs(o.after,mo(Fr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return SR(Fr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Fr(r,"beforeFooter",this,e),s=Fr(r,"footer",this,e),o=Fr(r,"afterFooter",this,e);let a=[];return a=hs(a,mo(i)),a=hs(a,mo(s)),a=hs(a,mo(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],c,d;for(c=0,d=t.length;c<d;++c)a.push(wee(this.chart,t[c]));return e.filter&&(a=a.filter((f,p,m)=>e.filter(f,p,m,r))),e.itemSort&&(a=a.sort((f,p)=>e.itemSort(f,p,r))),Dt(a,f=>{const p=MR(e.callbacks,f);i.push(Fr(p,"labelColor",this,f)),s.push(Fr(p,"labelPointStyle",this,f)),o.push(Fr(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=hh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=vR(this,r),d=Object.assign({},a,c),f=xR(this.chart,r,d),p=wR(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=mc(a),{x:m,y}=e,{width:b,height:v}=t;let w,M,k,E,A,T;return s==="center"?(A=y+v/2,i==="left"?(w=m,M=w-o,E=A+o,T=A-o):(w=m+b,M=w+o,E=A-o,T=A+o),k=w):(i==="left"?M=m+Math.max(c,f)+o:i==="right"?M=m+b-Math.max(d,p)-o:M=this.caretX,s==="top"?(E=y,A=E-o,w=M-o,k=M+o):(E=y+v,A=E+o,w=M+o,k=M-o),T=E),{x1:w,x2:M,x3:k,y1:E,y2:A,y3:T}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,c;if(s){const d=Gu(r.rtl,this.x,this.width);for(e.x=Lg(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",o=Tn(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(i[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,f=Tn(s.bodyFont),p=Lg(this,"left",s),m=i.x(p),y=c<f.lineHeight?(f.lineHeight-c)/2:0,b=t.y+y;if(s.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(m,d)+d/2,M=b+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,hS(e,v,w,M),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hS(e,v,w,M)}else{e.lineWidth=it(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(m,d),w=i.leftForLtr(i.xPlus(m,1),d-2),M=mc(o.borderRadius);Object.values(M).some(k=>k!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ep(e,{x:v,y:b,w:d,h:c,radius:M}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ep(e,{x:w,y:b+1,w:d-2,h:c-2,radius:M}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,b,d,c),e.strokeRect(v,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(w,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:d,boxPadding:f}=r,p=Tn(r.bodyFont);let m=p.lineHeight,y=0;const b=Gu(r.rtl,this.x,this.width),v=function(_){t.fillText(_,b.x(e.x+y),e.y+m/2),e.y+=m+s},w=b.textAlign(o);let M,k,E,A,T,P,N;for(t.textAlign=o,t.textBaseline="middle",t.font=p.string,e.x=Lg(this,w,r),t.fillStyle=r.bodyColor,Dt(this.beforeBody,v),y=a&&w!=="right"?o==="center"?d/2+f:d+2+f:0,A=0,P=i.length;A<P;++A){for(M=i[A],k=this.labelTextColors[A],t.fillStyle=k,Dt(M.before,v),E=M.lines,a&&E.length&&(this._drawColorBox(t,e,A,b,r),m=Math.max(p.lineHeight,c)),T=0,N=E.length;T<N;++T)v(E[T]),m=p.lineHeight;Dt(M.after,v)}y=0,m=p.lineHeight,Dt(this.afterBody,v),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const c=Gu(r.rtl,this.x,this.width);for(e.x=Lg(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",o=Tn(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:c}=e,{width:d,height:f}=r,{topLeft:p,topRight:m,bottomLeft:y,bottomRight:b}=mc(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+p,c),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+d-m,c),t.quadraticCurveTo(a+d,c,a+d,c+m),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+d,c+f-b),t.quadraticCurveTo(a+d,c+f,a+d-b,c+f),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+y,c+f),t.quadraticCurveTo(a,c+f,a,c+f-y),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,c+p),t.quadraticCurveTo(a,c,a+p,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=hh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=vR(this,e),c=Object.assign({},o,this._size),d=xR(t,e,c),f=wR(e,c,d,t);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=yr(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),Wj(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),qj(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:c})=>{const d=this.chart.getDatasetMeta(a);if(!d)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:d.data[c],index:c}}),s=!i0(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),c=t||!i0(o,s)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=hh[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}},X(kw,"positioners",hh),kw);var Yp={id:"tooltip",_element:DR,positioners:hh,afterInit(n,e,t){t&&(n.tooltip=new DR({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Tee=Object.freeze({__proto__:null,Colors:$Z,Decimation:KZ,Filler:bB,Legend:$p,SubTitle:xee,Title:xB,Tooltip:Yp});const Oee=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function _ee(n,e,t,r){const i=n.indexOf(e);if(i===-1)return Oee(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const Aee=(n,e)=>n===null?null:jn(Math.round(n),0,e);function CR(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Rc extends zc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(nt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:_ee(r,e,je(t,e),this._addedLabels),Aee(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return CR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(Rc,"id","category"),X(Rc,"defaults",{ticks:{callback:CR}});function Ree(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:c,count:d,maxTicks:f,maxDigits:p,includeBounds:m}=n,y=s||1,b=f-1,{min:v,max:w}=e,M=!nt(o),k=!nt(a),E=!nt(d),A=(w-v)/(p+1);let T=vA((w-v)/b/y)*y,P,N,_,L;if(T<1e-14&&!M&&!k)return[{value:v},{value:w}];L=Math.ceil(w/T)-Math.floor(v/T),L>b&&(T=vA(L*T/b/y)*y),nt(c)||(P=Math.pow(10,c),T=Math.ceil(T*P)/P),i==="ticks"?(N=Math.floor(v/T)*T,_=Math.ceil(w/T)*T):(N=v,_=w),M&&k&&s&&TG((a-o)/s,T/1e3)?(L=Math.round(Math.min((a-o)/T,f)),T=(a-o)/L,N=o,_=a):E?(N=M?o:N,_=k?a:_,L=d-1,T=(_-N)/L):(L=(_-N)/T,Ch(L,Math.round(L),T/1e3)?L=Math.round(L):L=Math.ceil(L));const I=Math.max(xA(T),xA(N));P=Math.pow(10,nt(c)?I:c),N=Math.round(N*P)/P,_=Math.round(_*P)/P;let V=0;for(M&&(m&&N!==o?(t.push({value:o}),N<o&&V++,Ch(Math.round((N+V*T)*P)/P,o,kR(o,A,n))&&V++):N<o&&V++);V<L;++V){const q=Math.round((N+V*T)*P)/P;if(k&&q>a)break;t.push({value:q})}return k&&m&&_!==a?t.length&&Ch(t[t.length-1].value,a,kR(a,A,n))?t[t.length-1].value=a:t.push({value:a}):(!k||_===a)&&t.push({value:_}),t}function kR(n,e,{horizontal:t,minRotation:r}){const i=Qi(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class d0 extends zc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=t?i:c,a=c=>s=r?s:c;if(e){const c=As(i),d=As(s);c<0&&d<0?a(0):c>0&&d>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=Ree(i,s);return e.bounds==="ticks"&&Oj(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Up(e,this.chart.options.locale,this.options.ticks.format)}}class sl extends d0{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ln(e)?e:0,this.max=ln(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Qi(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(sl,"id","linear"),X(sl,"defaults",{ticks:{callback:db.formatters.numeric}});const np=n=>Math.floor(Ba(n)),Il=(n,e)=>Math.pow(10,np(n)+e);function ER(n){return n/Math.pow(10,np(n))===1}function TR(n,e,t){const r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function Nee(n,e){const t=e-n;let r=np(t);for(;TR(n,e,r)>10;)r++;for(;TR(n,e,r)<10;)r--;return Math.min(r,np(n))}function Pee(n,{min:e,max:t}){e=oi(n.min,e);const r=[],i=np(e);let s=Nee(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,d=Math.round((e-c)*o)/o,f=Math.floor((e-c)/a/10)*a*10;let p=Math.floor((d-f)/Math.pow(10,s)),m=oi(n.min,Math.round((c+f+p*Math.pow(10,s))*o)/o);for(;m<t;)r.push({value:m,major:ER(m),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),m=Math.round((c+f+p*Math.pow(10,s))*o)/o;const y=oi(n.max,m);return r.push({value:y,major:ER(y),significand:p}),r}class xS extends zc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=d0.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return ln(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ln(e)?Math.max(0,e):null,this.max=ln(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ln(this._userMin)&&(this.min=e===Il(this.min,0)?Il(this.min,-1):Il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=t?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Il(r,-1)),o(Il(i,1)))),r<=0&&s(Il(i,-1)),i<=0&&o(Il(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=Pee(t,this);return e.bounds==="ticks"&&Oj(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Up(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ba(e),this._valueRange=Ba(this.max)-Ba(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ba(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}X(xS,"id","logarithmic"),X(xS,"defaults",{ticks:{callback:db.formatters.logarithmic,major:{enabled:!0}}});function wS(n){const e=n.ticks;if(e.display&&n.display){const t=yr(e.backdropPadding);return je(e.font&&e.font.size,Wt.font.size)+t.height}return 0}function Lee(n,e,t){return t=$t(t)?t:[t],{w:YG(n,e.string,t),h:t.length*e.lineHeight}}function OR(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function Iee(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?pt/s:0;for(let c=0;c<s;c++){const d=o.setContext(n.getPointLabelContext(c));i[c]=d.padding;const f=n.getPointPosition(c,n.drawingArea+i[c],a),p=Tn(d.font),m=Lee(n.ctx,p,n._pointLabels[c]);r[c]=m;const y=ur(n.getIndexAngle(c)+a),b=Math.round(gD(y)),v=OR(b,f.x,m.w,0,180),w=OR(b,f.y,m.h,90,270);jee(t,e,y,v,w)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=zee(n,r,i)}function jee(n,e,t,r,i){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function Bee(n,e,t){const r=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=t,c=n.getPointPosition(e,r+i+o,s),d=Math.round(gD(ur(c.angle+mn))),f=Uee(c.y,a.h,d),p=Vee(d),m=Hee(c.x,a.w,p);return{visible:!0,x:c.x,y:f,textAlign:p,left:m,top:f,right:m+a.w,bottom:f+a.h}}function Fee(n,e){if(!e)return!0;const{left:t,top:r,right:i,bottom:s}=n;return!(Do({x:t,y:r},e)||Do({x:t,y:s},e)||Do({x:i,y:r},e)||Do({x:i,y:s},e))}function zee(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:wS(s)/2,additionalAngle:o?pt/i:0};let d;for(let f=0;f<i;f++){c.padding=t[f],c.size=e[f];const p=Bee(n,f,c);r.push(p),a==="auto"&&(p.visible=Fee(p,d),p.visible&&(d=p))}return r}function Vee(n){return n===0||n===180?"center":n<180?"left":"right"}function Hee(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Uee(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function $ee(n,e,t){const{left:r,top:i,right:s,bottom:o}=t,{backdropColor:a}=e;if(!nt(a)){const c=mc(e.borderRadius),d=yr(e.backdropPadding);n.fillStyle=a;const f=r-d.left,p=i-d.top,m=s-r+d.width,y=o-i+d.height;Object.values(c).some(b=>b!==0)?(n.beginPath(),ep(n,{x:f,y:p,w:m,h:y,radius:c}),n.fill()):n.fillRect(f,p,m,y)}}function Yee(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=n._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(n.getPointLabelContext(i));$ee(t,o,s);const a=Tn(o.font),{x:c,y:d,textAlign:f}=s;Ac(t,n._pointLabels[i],c,d+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function SB(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Ht);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Wee(n,e,t,r,i){const s=n.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),SB(n,t,o,r),s.closePath(),s.stroke(),s.restore())}function qee(n,e,t){return ul(n,{label:t,index:e,type:"pointLabel"})}class ju extends d0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=yr(wS(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ln(e)&&!isNaN(e)?e:0,this.max=ln(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wS(this.options))}generateTickLabels(e){d0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=jt(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Iee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){const t=Ht/(this._pointLabels.length||1),r=this.options.startAngle||0;return ur(e*t+Qi(r))}getDistanceFromCenterForValue(e){if(nt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(nt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return qee(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-mn+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),SB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,o=this._pointLabels.length;let a,c,d;if(t.pointLabels.display&&Yee(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){c=this.getDistanceFromCenterForValue(f.value);const m=this.getContext(p),y=i.setContext(m),b=s.setContext(m);Wee(this,y,c,o,b)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:m}=f;!m||!p||(e.lineWidth=m,e.strokeStyle=p,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const d=r.setContext(this.getContext(c)),f=Tn(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=f.string,o=e.measureText(a.label).width,e.fillStyle=d.backdropColor;const p=yr(d.backdropPadding);e.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}Ac(e,a.label,0,-s,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}X(ju,"id","radialLinear"),X(ju,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:db.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),X(ju,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),X(ju,"descriptors",{angleLines:{_fallback:"grid"}});const yb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(yb);function _R(n,e){return n-e}function AR(n,e){if(nt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ln(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(vd(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function RR(n,e,t,r){const i=Hr.length;for(let s=Hr.indexOf(n);s<i-1;++s){const o=yb[Hr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Hr[s]}return Hr[i-1]}function Kee(n,e,t,r,i){for(let s=Hr.length-1;s>=Hr.indexOf(t);s--){const o=Hr[s];if(yb[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Hr[t?Hr.indexOf(t):0]}function Qee(n){for(let e=Hr.indexOf(n)+1,t=Hr.length;e<t;++e)if(yb[Hr[e]].common)return Hr[e]}function NR(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=yD(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function Gee(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function PR(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:Gee(n,r,i,t)}class rp extends zc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new lJ._date(e.adapters.date);i.init(t),Dh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:AR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!a&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ln(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ln(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=RG(i,s,o);return this._unit=t.unit||(r.autoSkip?RR(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):Kee(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Qee(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),PR(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=jn(t,0,o),r=jn(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||RR(s.minUnit,t,r,this._getLabelCapacity(t)),a=je(i.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,d=vd(c)||c===!0,f={};let p=t,m,y;if(d&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,d?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(m=p,y=0;m<r;m=+e.add(m,a,o),y++)NR(f,m,b);return(m===r||i.bounds==="ticks"||y===1)&&NR(f,m,b),Object.keys(f).sort(_R).map(v=>+v)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return jt(o,[e,t,r],this);const a=s.time.displayFormats,c=this._unit,d=this._majorUnit,f=c&&a[c],p=d&&a[d],m=r[t],y=d&&p&&m&&m.major;return this._adapter.format(e,i||(y?p:f))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Qi(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,PR(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(AR(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Rj(e.sort(_R))}}X(rp,"id","time"),X(rp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ig(n,e,t){let r=0,i=n.length-1,s,o,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Mo(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Mo(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:c}=n[i]);const d=o-s;return d?a+(c-a)*(e-s)/d:a}class SS extends rp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ig(t,this.min),this._tableRange=Ig(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,c,d,f;for(o=0,a=e.length;o<a;++o)d=e[o],d>=t&&d<=r&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],c=i[o-1],d=i[o],Math.round((f+c)/2)!==d&&s.push({time:d,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ig(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Ig(this._table,r*this._tableRange+this._minPos,!0)}}X(SS,"id","timeseries"),X(SS,"defaults",rp.defaults);var Xee=Object.freeze({__proto__:null,CategoryScale:Rc,LinearScale:sl,LogarithmicScale:xS,RadialLinearScale:ju,TimeScale:rp,TimeSeriesScale:SS});const Jee=[aJ,jZ,Tee,Xee],MB="label";function LR(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Zee(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function DB(n,e){n.labels=e}function CB(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MB;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(o=>o[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function ete(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MB;const t={labels:[],datasets:[]};return DB(t,n.labels),CB(t,n.datasets,e),t}function tte(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:c,plugins:d=[],fallbackContent:f,updateMode:p,...m}=n,y=D.useRef(null),b=D.useRef(null),v=()=>{y.current&&(b.current=new Pi(y.current,{type:o,data:ete(a,s),options:c&&{...c},plugins:d}),LR(e,b.current))},w=()=>{LR(e,null),b.current&&(b.current.destroy(),b.current=null)};return D.useEffect(()=>{!i&&b.current&&c&&Zee(b.current,c)},[i,c]),D.useEffect(()=>{!i&&b.current&&DB(b.current.config.data,a.labels)},[i,a.labels]),D.useEffect(()=>{!i&&b.current&&a.datasets&&CB(b.current.config.data,a.datasets,s)},[i,a.datasets]),D.useEffect(()=>{b.current&&(i?(w(),setTimeout(v)):b.current.update(p))},[i,c,a.labels,a.datasets,p]),D.useEffect(()=>{b.current&&(w(),setTimeout(v))},[o]),D.useEffect(()=>(v(),()=>w()),[]),$.createElement("canvas",{ref:y,role:"img",height:t,width:r,...m},f)}const nte=D.forwardRef(tte);function bb(n,e){return Pi.register(e),D.forwardRef((t,r)=>$.createElement(nte,{...t,ref:r,type:n}))}const rte=bb("line",Oh),kB=bb("bar",Th),ite=bb("radar",Ah),ste=bb("doughnut",Fa);Pi.register(Iu,sl);function ote({result:n}){const{details:e,mood_score:t,tags:r}=n,[i,s]=D.useState(!1),[o,a]=D.useState({}),[c,d]=D.useState(0),f=D.useRef(!0),[p,m]=D.useState(!1),[y,b]=D.useState(0);D.useEffect(()=>{if(e&&e.length>0){const M=e.reduce((k,E)=>E.percentage>k.percentage?E:k);a({label:M.mood_type,moodType:Vl(M.mood_type).moodType,percentage:M.percentage})}},[e]),D.useEffect(()=>{s(!1);const M=requestAnimationFrame(()=>s(!0));return()=>cancelAnimationFrame(M)},[t,r]),D.useEffect(()=>{if(!o||typeof o.percentage!="number")return;let M;const k=th.durRatio*o.percentage,E=performance.now(),A=f.current?0:Math.round(o.percentage/th.startRatio),T=P=>{const N=P-E,_=Math.min(N/k,1),L=Math.round(A+(o.percentage-A)*_);d(L),_<1?M=requestAnimationFrame(T):(d(o.percentage),f.current=!1)};return M=requestAnimationFrame(T),()=>{cancelAnimationFrame(M)}},[o]),D.useEffect(()=>{if(!o.moodType)return;m(!1);const M=requestAnimationFrame(()=>{m(!0)});return()=>{cancelAnimationFrame(M)}},[o.moodType,y]);const v=D.useMemo(()=>({labels:e.map(M=>Vl(M.mood_type).moodType),datasets:[{data:e.map(M=>M.percentage),backgroundColor:e.map(M=>Vl(M.mood_type).color),borderWidth:at.chartBorderWidth,borderColor:at.chartBorderColor,hoverOffset:at.chartHoverOffset,hoverBorderWidth:at.chartHoverBorderWidth,hoverBorderColor:e.map(M=>Vl(M.mood_type).hoverBorderColor)}]}),[e]),w=D.useMemo(()=>({animation:{duration:th.animateDuration,easing:th.animateEasing,animateRotate:th.animateRotate},layout:{padding:{top:at.canvasPadding,bottom:at.canvasPadding,left:at.canvasPadding,right:at.canvasPadding}},plugins:{legend:!1},responsive:at.canvasResponsive,maintainAspectRatio:at.canvasMaintainAspectRatio,onClick:(M,k)=>{if(k.length>0){const E=k[0].index;a({label:e[E].mood_type,moodType:Vl(e[E].mood_type).moodType,percentage:e[E].percentage}),b(A=>A+1)}}}),[e]);return C.jsxs("div",{className:"mood-results",children:[C.jsxs("div",{className:"mood-wrapper",children:[C.jsxs("div",{className:`mood-score${i?" fade-in":""}`,children:[C.jsx("p",{children:lte(t)})," "]}),C.jsxs("div",{className:"mood-details",children:[C.jsx("div",{className:"doughnut-chart",style:{position:"relative"},children:C.jsx(ste,{data:v,options:w,plugins:[ate]})}),C.jsx("div",{className:"percentage-box",style:{font:at.perFont,color:Vl(o.label).color},children:c}),o.moodType&&C.jsx("div",{className:`selected-mood-info${p?" fade-in":""}`,children:C.jsx("p",{children:o.moodType})})]})]}),C.jsx(KQ,{tags:r,scoreTagFade:i})]})}const at={chartBorderWidth:2,chartBorderColor:"#fff",chartHoverOffset:15,chartHoverBorderWidth:3,perFont:"bold 30px 'NPSfont'",canvasResponsive:!0,canvasMaintainAspectRatio:!1,canvasPadding:13,joy:"기쁨 | 행복",anger:"분노 | 짜증",anxiety:"불안 | 걱정",sadness:"슬픔 | 우울",boredom:"지루 | 권태",comfort:"평온 | 만족",etc:"중립 | 기타",joyColor:"#fbc02d",angerColor:"#e53935",anxietyColor:"#8e24aa",sadnessColor:"#1e88e5",boredomColor:"#90a4ae",comfortColor:"#43a047",etcColor:"#ee3",joyHBC:"#fbc02d",angerHBC:"#e53935",anxietyHBC:"#8e24aa",sadnessHBC:"#1e88e5",boredomHBC:"#90a4ae",comfortHBC:"#43a047",etcHBC:"#ee3"},th={durRatio:20,startRatio:3,animateDuration:2200,animateEasing:"easeInOutQuart",animateRotate:!0},Vl=n=>{switch(n){case"기쁨/행복":return{moodType:at.joy,color:at.joyColor,hoverBorderColor:at.joyHBC};case"분노/짜증":return{moodType:at.anger,color:at.angerColor,hoverBorderColor:at.angerHBC};case"불안/걱정":return{moodType:at.anxiety,color:at.anxietyColor,hoverBorderColor:at.anxietyHBC};case"슬픔/우울":return{moodType:at.sadness,color:at.sadnessColor,hoverBorderColor:at.sadnessHBC};case"지루/권태":return{moodType:at.boredom,color:at.boredomColor,hoverBorderColor:at.boredomHBC};case"평온/만족":return{moodType:at.comfort,color:at.comfortColor,hoverBorderColor:at.comfortHBC};default:return{moodType:at.etc,color:at.etcColor,hoverBorderColor:at.etcHBC}}},ate={id:"centerPercentage",afterDraw(n){var c;const{ctx:e,width:t,height:r}=n,i=((c=n.options.plugins)==null?void 0:c.centerPercentage)||{},{label:s,percentage:o}=i;if(!s||o===void 0)return;const a=Vl(s).color;e.save(),e.textAlign=at.perTextAlign,e.textBaseline=at.perTextBaseline,e.font=at.perFont,e.fillStyle=a,e.fillText(`${o}`,t/2,r/2-5),e.restore()}},lte=n=>n>=80&&n<=100?"마치 햇살이 바다를 황금빛으로 물들이는 것처럼 오늘 하루가 빛나네요! 🏄‍♀️✨":n>=50&&n<=79?"맑은 바다에서 수영하는 것처럼 즐거워 보여요 🏊‍♀️":n>=16&&n<=49?"잔잔한 파도처럼 마음도 평온해 보여요 나쁘지 않은 하루네요 🏖️":n>=-15&&n<=15?"평온하지만 조금 흐린 바다 같은  기분이시군요 그런 날도 있죠 🌫️":n>=-49&&n<=-16?"조금 힘든 하루였나 봐요 때로는 파도가 거칠어도 괜찮아요 곧 잠잠해질 테니까 ️🌊":n>=-79&&n<=-50?"마음이 많이 무겁네요 폭풍 후의 바다처럼... 이런 날도 지나갈 거예요 🚶‍♀️":"많이 힘드셨겠어요 가장 깊은 바다 밑에서도 언젠가는 다시 수면으로 떠오르게 되어 있어요 ⚓",cte=n=>n?en.get(`/api/analyze/${n}`):Promise.reject(new Error("일기 ID가 필요합니다."));function ute({selectedDiaryId:n,refreshKey:e}){const[t,r]=D.useState(!1),[i,s]=D.useState(null),[o,a]=D.useState(null),{user:c}=Un(),d=i&&Array.isArray(i.details)&&i.details.length>0;return D.useEffect(()=>{if(s(null),a(null),!c||!n){r(!1);return}r(!0),a(null),cte(n).then(f=>{const p=f==null?void 0:f.data;!p||!p.details||p.details.length===0?s(null):s(p)}).catch(f=>{console.error("감정 분석 조회 실패:",f),a("감정 분석 결과를 불러오는 데 실패했습니다.")}).finally(()=>{r(!1)})},[c,n,e]),t?C.jsx("p",{children:"분석 결과 불러오는 중..."}):o?C.jsx("p",{style:{color:"red"},children:o}):n?d?C.jsx(ote,{result:i}):C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"mood-wrapper",children:C.jsx("p",{children:"일기를 작성해주세요."})}),C.jsx("div",{className:"mood-tags-container",children:C.jsx("div",{className:"tags-box",children:C.jsx("p",{children:"일기 작성 후 태그를 확인해보세요!"})})})]}):C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"mood-wrapper",children:C.jsx("p",{children:"일기를 작성해주세요."})}),C.jsx("div",{className:"mood-tags-container",children:C.jsx("div",{className:"tags-box",children:C.jsx("p",{children:"일기 작성 후 태그를 확인해보세요!"})})})]})}const EB=n=>n?en.get(`/api/diary?date=${n}`):Promise.reject(new Error("Date string is required")),dte=n=>en.post("/api/diary",n),fte=(n,e)=>en.put(`/api/diary/${n}`,e),hte=n=>n?en.delete(`/api/diary/${n}`):Promise.reject(new Error("Diary ID is required")),pte=n=>en.get(`/api/diary/${n}`),mte=()=>{const{user:n}=Un(),e=ts(),[t,r]=D.useState(Wi(new Date)),[i,s]=D.useState(null),[o,a]=D.useState(!1),c=D.useCallback(m=>{if(!n){Je.error("로그인이 필요합니다.");return}const y=Wi(m);r(y),e(`/diary/date/${y}`)},[e,n]),d=D.useCallback(async m=>{a(!0);try{const y=await EB(m);s(y.data)}catch{s(null)}finally{a(!1)}},[]);D.useEffect(()=>{t&&(s(null),d(t))},[t,d]);const f=D.useCallback(()=>{t&&d(t)},[t,d]),p=(i==null?void 0:i.diaryId)||null;return{user:n,selectedDate:t,selectedDiaryId:p,setSelectedDate:r,diaryForDate:i,isLoading:o,handleDateClick:c,fetchDiaryForDate:d,handleDiaryUpdated:f}},IR=()=>{const{date:n}=DM(),e=Kr(),{user:t,selectedDate:r,setSelectedDate:i,selectedDiaryId:s,diaryForDate:o,isLoading:a,handleDiaryUpdated:c}=mte(),[d,f]=D.useState(0),[p,m]=D.useState(null);D.useEffect(()=>{m(s)},[s]),D.useEffect(()=>{n&&n!==r&&i(n)},[n,r,i]);const{data:y,loading:b,refetch:v}=_9(r),w=E=>{e()&&i(E)},M=()=>{v==null||v()},k=()=>{f(E=>E+1),c()};return C.jsxs("div",{className:"diary-wrapper",children:[C.jsx("div",{className:"timeline-container",children:b?C.jsx("p",{children:"로딩 중..."}):C.jsx(qq,{data:y,onSelectDate:w,selectedDate:r,isLoggedIn:!!t,setSelectedDate:i})}),C.jsxs("div",{className:"diary-body",children:[C.jsxs("div",{className:"left-panel-1",children:[C.jsx(ute,{refreshKey:d,selectedDiaryId:p}),C.jsx(oK,{})]}),C.jsx("div",{className:"center-panel",children:C.jsx(Ap,{context:{initialDiary:o,selectedDate:r,setSelectedDate:i,isLoading:a,onDiaryUpdated:c,onEmotionUpdated:k,onDataChange:M}})}),C.jsxs("div",{className:"right-panel-1",children:[C.jsx(ZI,{date:r,onDataChange:M}),C.jsx(ej,{date:r,onDataChange:M}),C.jsx(tj,{date:r,onDataChange:M})]}),C.jsx(qQ,{})]})]})};function Qn(n){this.content=n}Qn.prototype={constructor:Qn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new Qn(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Qn(t)},addToStart:function(n,e){return new Qn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Qn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new Qn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Qn.from(n),n.size?new Qn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Qn.from(n),n.size?new Qn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Qn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Qn.from=function(n){if(n instanceof Qn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Qn(e)};function TB(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=TB(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function OB(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),c=o.nodeSize;if(o==a){t-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let d=0,f=Math.min(o.text.length,a.text.length);for(;d<f&&o.text[o.text.length-d-1]==a.text[a.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let d=OB(o.content,a.content,t-1,r-1);if(d)return d}t-=c,r-=c}}class ue{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let c=this.content[o],d=a+c.nodeSize;if(d>e&&r(c,i+a,s||null,o)!==!1&&c.content.size){let f=a+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,t-f),r,i+f)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,c)=>{let d=a.isText?a.text.slice(Math.max(e,c)-c,t-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ue(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],c=o+a.nodeSize;c>e&&((o<e||c>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=c}return new ue(r,i)}cutByIndex(e,t){return e==t?ue.empty:e==0&&t==this.content.length?this:new ue(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ue(i,s)}addToStart(e){return new ue([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ue(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return TB(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return OB(this,e,t,r)}findIndex(e,t=-1){if(e==0)return jg(0,e);if(e==this.size)return jg(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?jg(r+1,o):jg(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ue.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ue(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ue.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ue(t||e,r)}static from(e){if(!e)return ue.empty;if(e instanceof ue)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ue([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ue.empty=new ue([],0);const j1={index:0,offset:0};function jg(n,e){return j1.index=n,j1.offset=e,j1}function f0(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!f0(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!f0(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let At=class MS{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&f0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return MS.none;if(e instanceof MS)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};At.none=[];class h0 extends Error{}class ye{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=AB(this.content,e+this.openStart,t);return r&&new ye(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ye(_B(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ye.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(ue.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new ye(e,r,i)}}ye.empty=new ye(ue.empty,0,0);function _B(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(_B(s.content,e-i-1,t-i-1)))}function AB(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=AB(o.content,e-s-1,t);return a&&n.replaceChild(i,o.copy(a))}function gte(n,e,t){if(t.openStart>n.depth)throw new h0("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new h0("Inconsistent open depths");return RB(n,e,t,0)}function RB(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=RB(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return bc(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=yte(t,n);return bc(s,PB(n,o,a,e,r))}else return bc(s,p0(n,e,r))}function NB(n,e){if(!e.type.compatibleContent(n.type))throw new h0("Cannot join "+e.type.name+" onto "+n.type.name)}function DS(n,e,t){let r=n.node(t);return NB(r,e.node(t)),r}function yc(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Nh(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(yc(n.nodeAfter,r),s++));for(let a=s;a<o;a++)yc(i.child(a),r);e&&e.depth==t&&e.textOffset&&yc(e.nodeBefore,r)}function bc(n,e){return n.type.checkContent(e),n.copy(e)}function PB(n,e,t,r,i){let s=n.depth>i&&DS(n,e,i+1),o=r.depth>i&&DS(t,r,i+1),a=[];return Nh(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(NB(s,o),yc(bc(s,PB(n,e,t,r,i+1)),a)):(s&&yc(bc(s,p0(n,e,i+1)),a),Nh(e,t,i,a),o&&yc(bc(o,p0(t,r,i+1)),a)),Nh(r,null,i,a),new ue(a)}function p0(n,e,t){let r=[];if(Nh(null,n,t,r),n.depth>t){let i=DS(n,e,t+1);yc(bc(i,p0(n,e,t+1)),r)}return Nh(e,null,t,r),new ue(r)}function yte(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(ue.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class ip{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return At.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new m0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:c}=o.content.findIndex(s),d=s-c;if(r.push(o,a,i+c),!d||(o=o.child(a),o.isText))break;s=d-1,i+=c+1}return new ip(t,r,s)}static resolveCached(e,t){let r=jR.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else jR.set(e,r=new bte);let i=r.elts[r.i]=ip.resolve(e,t);return r.i=(r.i+1)%vte,i}}class bte{constructor(){this.elts=[],this.i=0}}const vte=12,jR=new WeakMap;class m0{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xte=Object.create(null);let Qa=class CS{constructor(e,t,r,i=At.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ue.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&f0(this.attrs,t||e.defaultAttrs||xte)&&At.sameSet(this.marks,r||At.none)}copy(e=null){return e==this.content?this:new CS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new CS(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ye.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),d=i.node(o).content.cut(i.pos-a,s.pos-a);return new ye(d,i.depth-o,s.depth-o)}replace(e,t,r){return gte(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return ip.resolveCached(this,e)}resolveNoCache(e){return ip.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),LB(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ue.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=At.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!At.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ue.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Qa.prototype.text=void 0;class g0 extends Qa{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):LB(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new g0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new g0(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function LB(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Nc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new wte(e,t);if(r.next==null)return Nc.empty;let i=IB(r);r.next&&r.err("Unexpected trailing text");let s=Tte(Ete(i));return Ote(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let c=o.matchFragment(e,r);if(c&&(!t||c.validEnd))return ue.from(a.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:p}=o.next[d];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let m=s(p,a.concat(f));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Nc.empty=new Nc(!0);class wte{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function IB(n){let e=[];do e.push(Ste(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ste(n){let e=[];do e.push(Mte(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Mte(n){let e=kte(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Dte(n,e);else break;return e}function BR(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Dte(n,e){let t=BR(n),r=t;return n.eat(",")&&(n.next!="}"?r=BR(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Cte(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function kte(n){if(n.eat("(")){let e=IB(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Cte(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ete(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,c){let d={term:c,to:a};return e[o].push(d),d}function i(o,a){o.forEach(c=>c.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(s(d,a)),[]);if(o.type=="seq")for(let c=0;;c++){let d=s(o.exprs[c],a);if(c==o.exprs.length-1)return d;i(d,a=t())}else if(o.type=="star"){let c=t();return r(a,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=t();return i(s(o.expr,a),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let c=a;for(let d=0;d<o.min;d++){let f=t();i(s(o.expr,c),f),c=f}if(o.max==-1)i(s(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let f=t();r(c,f),i(s(o.expr,c),f),c=f}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function jB(n,e){return e-n}function FR(n,e){let t=[];return r(e),t.sort(jB);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:c}=s[o];!a&&t.indexOf(c)==-1&&r(c)}}}function Tte(n){let e=Object.create(null);return t(FR(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:c})=>{if(!a)return;let d;for(let f=0;f<i.length;f++)i[f][0]==a&&(d=i[f][1]);FR(n,c).forEach(f=>{d||i.push([a,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let s=e[r.join(",")]=new Nc(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(jB);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function Ote(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:d}=i.next[a];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function BB(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function FB(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function zB(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function VB(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Ate(n,r,e[r]);return t}let zR=class HB{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=VB(e,r.attrs),this.defaultAttrs=BB(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Nc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:FB(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qa(this,this.computeAttrs(e),ue.from(t),At.setFrom(r))}createChecked(e=null,t,r){return t=ue.from(t),this.checkContent(t),new Qa(this,this.computeAttrs(e),t,At.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ue.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(ue.empty,!0);return s?new Qa(this,e,t.append(s),At.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){zB(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:At.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new HB(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function _te(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class Ate{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?_te(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class vb{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=VB(e,i.attrs),this.excluded=null;let s=BB(this.attrs);this.instance=s?new At(this,s):null}create(e=null){return!e&&this.instance?this.instance:new At(this,FB(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new vb(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){zB(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class UB{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Qn.from(e.nodes),t.marks=Qn.from(e.marks||{}),this.nodes=zR.compile(this.spec.nodes,this),this.marks=vb.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Nc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?VR(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:VR(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof zR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new g0(r,r.defaultAttrs,e,At.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Qa.fromJSON(this,e)}markFromJSON(e){return At.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function VR(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let c=n.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Rte(n){return n.tag!=null}function Nte(n){return n.style!=null}class Ga{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Rte(i))this.tags.push(i);else if(Nte(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new UR(this,t,!1);return r.addAll(e,At.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new UR(this,t,!0);return r.addAll(e,At.none,t.from,t.to),ye.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Ite(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=$R(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=$R(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ga(e,Ga.schemaRules(e)))}}const $B={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Pte={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},YB={ol:!0,ul:!0},sp=1,kS=2,Ph=4;function HR(n,e,t){return e!=null?(e?sp:0)|(e==="full"?kS:0):n&&n.whitespace=="pre"?sp|kS:t&~Ph}class Bg{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=At.none,this.match=s||(o&Ph?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ue.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&sp)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=ue.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ue.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$B.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class UR{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=HR(null,t.preserveWhitespace,0)|(r?Ph:0);i?s=new Bg(i.type,i.attrs,At.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new Bg(null,null,At.none,!0,null,o):s=new Bg(e.schema.topNodeType,null,At.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&kS?"full":this.localPreserveWS||(i.options&sp)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;YB.hasOwnProperty(o)&&this.parser.normalizeLists&&Lte(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(c?c.ignore:Pte.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,f=this.needsBlock;if($B.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let p=c&&c.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),d&&this.sync(s),this.needsBlock=f}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,c,d,c.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(s,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(d=>!c.clearMark(d)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(o,t.attrs||null,r,t.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[t.mark];r=r.concat(c.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!i||i.length>d.length+a)&&(i=d,s=c,!d.length))break;if(c.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=At.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):YR(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=HR(e,s,o.options);o.options&Ph&&o.content.length==0&&(a|=Ph);let c=At.none;return r=r.filter(d=>(o.type?o.type.allowsMarkType(d.type):YR(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new Bg(e,t,c,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=sp)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let d=t[a];if(d==""){if(a==t.length-1||a==0)continue;for(;c>=s;c--)if(o(a-1,c))return!0;return!1}else{let f=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;c--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Lte(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&YB.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Ite(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function $R(n){let e={};for(let t in n)e[t]=n[t];return e}function YR(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let c=0;c<a.edgeCount;c++){let{type:d,next:f}=a.edge(c);if(d==e||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class Vc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=B1(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,c=0;for(;a<s.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[a][0])||d.type.spec.spanning===!1)break;a++,c++}for(;a<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],f=this.serializeMark(d,o.isInline,t);f&&(s.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=gy(B1(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&gy(B1(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return gy(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Vc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=WR(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return WR(e.marks)}}function WR(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function B1(n){return n.document||window.document}const qR=new WeakMap;function jte(n){let e=qR.get(n);return e===void 0&&qR.set(n,e=Bte(n)),e}function Bte(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function gy(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=jte(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,c=t?n.createElementNS(t,i):n.createElement(i),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let m=p.indexOf(" ");m>0?c.setAttributeNS(p.slice(0,m),p.slice(m+1),d[p]):c.setAttribute(p,d[p])}}for(let p=f;p<e.length;p++){let m=e[p];if(m===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:y,contentDOM:b}=gy(n,m,t,r);if(c.appendChild(y),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:c,contentDOM:a}}const WB=65535,qB=Math.pow(2,16);function Fte(n,e){return n+e*qB}function KR(n){return n&WB}function zte(n){return(n-(n&WB))/qB}const KB=1,QB=2,yy=4,GB=8;class ES{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&GB)>0}get deletedBefore(){return(this.delInfo&(KB|yy))>0}get deletedAfter(){return(this.delInfo&(QB|yy))>0}get deletedAcross(){return(this.delInfo&yy)>0}}class li{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&li.empty)return li.empty}recover(e){let t=0,r=KR(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+zte(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>e)break;let d=this.ranges[a+s],f=this.ranges[a+o],p=c+d;if(e<=p){let m=d?e==c?-1:e==p?1:t:t,y=c+i+(m<0?0:f);if(r)return y;let b=e==(t<0?c:p)?null:Fte(a/3,e-c),v=e==c?QB:e==p?KB:yy;return(t<0?e!=c:e!=p)&&(v|=GB),new ES(y,v,b)}i+=f-d}return r?e+i:new ES(e+i,0,null)}touches(e,t){let r=0,i=KR(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[a+s],f=c+d;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+o]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),c=o+(this.inverted?0:s),d=this.ranges[i+t],f=this.ranges[i+r];e(a,a+d,c,c+f),s+=f-d}}invert(){return new li(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?li.empty:new li(e<0?[0,-e,0]:[0,0,e])}}li.empty=new li([]);class op{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new op(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new op;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new ES(e,i,null)}}const F1=Object.create(null);class br{getMap(){return li.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=F1[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in F1)throw new RangeError("Duplicate use of step JSON ID "+e);return F1[e]=t,t.prototype.jsonID=e,t}}class Sn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Sn(e,null)}static fail(e){return new Sn(null,e)}static fromReplace(e,t,r,i){try{return Sn.ok(e.replace(t,r,i))}catch(s){if(s instanceof h0)return Sn.fail(s.message);throw s}}}function TD(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(TD(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return ue.fromArray(r)}class Va extends br{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ye(TD(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Sn.fromReplace(e,this.from,this.to,s)}invert(){return new Ts(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Va(t.pos,r.pos,this.mark)}merge(e){return e instanceof Va&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Va(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Va(t.from,t.to,e.markFromJSON(t.mark))}}br.jsonID("addMark",Va);class Ts extends br{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ye(TD(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Sn.fromReplace(e,this.from,this.to,r)}invert(){return new Va(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ts(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ts&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ts(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ts(t.from,t.to,e.markFromJSON(t.mark))}}br.jsonID("removeMark",Ts);class Ha extends br{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Sn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Sn.fromReplace(e,this.pos,this.pos+1,new ye(ue.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Ha(this.pos,t.marks[i]);return new Ha(this.pos,this.mark)}}return new Pc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ha(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ha(t.pos,e.markFromJSON(t.mark))}}br.jsonID("addNodeMark",Ha);class Pc extends br{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Sn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Sn.fromReplace(e,this.pos,this.pos+1,new ye(ue.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ha(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Pc(t.pos,e.markFromJSON(t.mark))}}br.jsonID("removeNodeMark",Pc);class In extends br{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&TS(e,this.from,this.to)?Sn.fail("Structure replace would overwrite content"):Sn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new li([this.from,this.to-this.from,this.slice.size])}invert(e){return new In(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new In(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof In)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ye.empty:new ye(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new In(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ye.empty:new ye(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new In(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new In(t.from,t.to,ye.fromJSON(e,t.slice),!!t.structure)}}br.jsonID("replace",In);class Bn extends br{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(TS(e,this.from,this.gapFrom)||TS(e,this.gapTo,this.to)))return Sn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Sn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Sn.fromReplace(e,this.from,this.to,r):Sn.fail("Content does not fit in gap")}getMap(){return new li([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Bn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Bn(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Bn(t.from,t.to,t.gapFrom,t.gapTo,ye.fromJSON(e,t.slice),t.insert,!!t.structure)}}br.jsonID("replaceAround",Bn);function TS(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Vte(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(c,d,f)=>{if(!c.isInline)return;let p=c.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let m=Math.max(d,e),y=Math.min(d+c.nodeSize,t),b=r.addToSet(p);for(let v=0;v<p.length;v++)p[v].isInSet(b)||(o&&o.to==m&&o.mark.eq(p[v])?o.to=y:i.push(o=new Ts(m,y,p[v])));a&&a.to==m?a.to=y:s.push(a=new Va(m,y,r))}}),i.forEach(c=>n.step(c)),s.forEach(c=>n.step(c))}function Hte(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof vb){let d=o.marks,f;for(;f=r.isInSet(d);)(c||(c=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let d=Math.min(a+o.nodeSize,t);for(let f=0;f<c.length;f++){let p=c[f],m;for(let y=0;y<i.length;y++){let b=i[y];b.step==s-1&&p.eq(i[y].style)&&(m=b)}m?(m.to=d,m.step=s):i.push({style:p,from:Math.max(a,e),to:d,step:s})}}}),i.forEach(o=>n.step(new Ts(o.from,o.to,o.style)))}function OD(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),f=a+d.nodeSize,p=r.matchType(d.type);if(!p)o.push(new In(a,f,ye.empty));else{r=p;for(let m=0;m<d.marks.length;m++)t.allowsMarkType(d.marks[m].type)||n.step(new Ts(a,f,d.marks[m]));if(i&&d.isText&&t.whitespace!="pre"){let m,y=/\r?\n|\r/g,b;for(;m=y.exec(d.text);)b||(b=new ye(ue.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),o.push(new In(a+m.index,a+m.index+m[0].length,b))}}a=f}if(!r.validEnd){let c=r.fillBefore(ue.empty,!0);n.replace(a,a,new ye(c,0,0))}for(let c=o.length-1;c>=0;c--)n.step(o[c])}function Ute(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function $d(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!Ute(i,s,o))break}return null}function $te(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),c=o,d=a,f=ue.empty,p=0;for(let b=s,v=!1;b>t;b--)v||r.index(b)>0?(v=!0,f=ue.from(r.node(b).copy(f)),p++):c--;let m=ue.empty,y=0;for(let b=s,v=!1;b>t;b--)v||i.after(b+1)<i.end(b)?(v=!0,m=ue.from(i.node(b).copy(m)),y++):d++;n.step(new Bn(c,d,o,a,new ye(f.append(m),p,y),f.size-p,!0))}function _D(n,e,t=null,r=n){let i=Yte(n,e),s=i&&Wte(r,e);return s?i.map(QR).concat({type:e,attrs:t}).concat(s.map(QR)):null}function QR(n){return{type:n,attrs:null}}function Yte(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Wte(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=r;c&&d<i;d++)c=c.matchType(t.child(d).type);return!c||!c.validEnd?null:o}function qte(n,e,t){let r=ue.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ue.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new Bn(i,s,i,s,new ye(r,0,0),t.length,!0))}function Kte(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,c)&&Qte(n.doc,n.mapping.slice(s).map(a),r)){let d=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?d=!1:!y&&b&&(d=!0)}d===!1&&JB(n,o,a,s),OD(n,n.mapping.slice(s).map(a,1),r,void 0,d===null);let f=n.mapping.slice(s),p=f.map(a,1),m=f.map(a+o.nodeSize,1);return n.step(new Bn(p,m,p+1,m-1,new ye(ue.from(r.create(c,null,o.marks)),0,0),1,!0)),d===!0&&XB(n,o,a,s),!1}})}function XB(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function JB(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Qte(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Gte(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Bn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ye(ue.from(o),0,0),1,!0))}function Ro(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=t-2;d>s;d--,f--){let p=i.node(d),m=i.index(d);if(p.type.spec.isolating)return!1;let y=p.content.cutByIndex(m,p.childCount),b=r&&r[f+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let v=r&&r[f]||p;if(!p.canReplace(m+1,p.childCount)||!v.type.validContent(y))return!1}let a=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(a,a,c?c.type:i.node(s+1).type)}function Xte(n,e,t=1,r){let i=n.doc.resolve(e),s=ue.empty,o=ue.empty;for(let a=i.depth,c=i.depth-t,d=t-1;a>c;a--,d--){s=ue.from(i.node(a).copy(s));let f=r&&r[d];o=ue.from(f?f.type.create(f.attrs,o):i.node(a).copy(o))}n.step(new In(e,e,new ye(s.append(o),t,t),!0))}function dl(n,e){let t=n.resolve(e),r=t.index();return ZB(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Jte(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function ZB(n,e){return!!(n&&e&&!n.isLeaf&&Jte(n,e))}function xb(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&ZB(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Zte(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",p=!!o.contentMatch.matchType(i);f&&!p?r=!1:!f&&p&&(r=!0)}let a=n.steps.length;if(r===!1){let f=n.doc.resolve(e+t);JB(n,f.node(),f.before(),a)}o.inlineContent&&OD(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let c=n.mapping.slice(a),d=c.map(e-t);if(n.step(new In(d,c.map(e+t,-1),ye.empty,!0)),r===!0){let f=n.doc.resolve(d);XB(n,f.node(),f.before(),n.steps.length)}return n}function ene(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function eF(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),d=r.node(o),f=!1;if(s==1)f=d.canReplace(c,c,i);else{let p=d.contentMatchAt(c).findWrapping(i.firstChild.type);f=p&&d.canReplaceWith(c,c,p[0])}if(f)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function wb(n,e,t=e,r=ye.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return tF(i,s,r)?new In(e,t,r):new tne(i,s,r).fit()}function tF(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class tne{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ue.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ue.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let c=new ye(s,o,a);return e>-1?new Bn(r.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||r.pos!=this.$to.pos?new In(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=z1(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:d}=this.frontier[a],f,p=null;if(t==1&&(o?d.matchType(o.type)||(p=d.fillBefore(ue.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:p};if(t==2&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=z1(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ye(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=z1(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new ye(ph(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new ye(ph(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-e,d=0,f=[],{match:p,type:m}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)f.push(i.child(v));p=p.matchFragment(i)}let y=a.size+e-(o.content.size-o.openEnd);for(;d<a.childCount;){let v=a.child(d),w=p.matchType(v.type);if(!w)break;d++,(d>1||c==0||v.content.size)&&(p=w,f.push(nF(v.mark(m.allowedMarks(v.marks)),d==1?c:0,d==a.childCount?y:-1)))}let b=d==a.childCount;b||(y=-1),this.placed=mh(this.placed,t,ue.from(f)),this.frontier[t].match=p,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,w=a;v<y;v++){let M=w.lastChild;this.frontier.push({type:M.type,match:M.contentMatchAt(M.childCount)}),w=M.content}this.unplaced=b?e==0?ye.empty:new ye(ph(o.content,e-1,1),e-1,y<0?o.openEnd:e-1):new ye(ph(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!V1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=V1(e,t,i,r,s);if(o){for(let a=t-1;a>=0;a--){let{match:c,type:d}=this.frontier[a],f=V1(e,a,d,c,!0);if(!f||f.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=mh(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=mh(this.placed,this.depth,ue.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ue.empty,!0);t.childCount&&(this.placed=mh(this.placed,this.frontier.length,t))}}function ph(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ph(n.firstChild.content,e-1,t)))}function mh(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(mh(n.lastChild.content,e-1,t)))}function z1(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function nF(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,nF(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ue.empty,!0)))),n.copy(r)}function V1(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!nne(t,s.content,o)?a:null}function nne(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function rne(n){return n.spec.defining||n.spec.definingForContent}function ine(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(tF(i,s,r))return n.step(new In(e,t,r));let o=iF(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let m=i.depth,y=i.pos-1;m>0;m--,y--){let b=i.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(m)>-1?a=m:i.before(m)==y&&o.splice(1,0,-m)}let c=o.indexOf(a),d=[],f=r.openStart;for(let m=r.content,y=0;;y++){let b=m.firstChild;if(d.push(b),y==r.openStart)break;m=b.content}for(let m=f-1;m>=0;m--){let y=d[m],b=rne(y.type);if(b&&!y.sameMarkup(i.node(Math.abs(a)-1)))f=m;else if(b||!y.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let y=(m+f+1)%(r.openStart+1),b=d[y];if(b)for(let v=0;v<o.length;v++){let w=o[(v+c)%o.length],M=!0;w<0&&(M=!1,w=-w);let k=i.node(w-1),E=i.index(w-1);if(k.canReplaceWith(E,E,b.type,b.marks))return n.replace(i.before(w),M?s.after(w):t,new ye(rF(r.content,0,r.openStart,y),y,r.openEnd))}}let p=n.steps.length;for(let m=o.length-1;m>=0&&(n.replace(e,t,r),!(n.steps.length>p));m--){let y=o[m];y<0||(e=i.before(y),t=s.after(y))}}function rF(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(rF(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(ue.empty,!0))}return n}function sne(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=ene(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ye(ue.from(r),0,0))}function one(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=iF(r,i);for(let o=0;o<s.length;o++){let a=s[o],c=o==s.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function iF(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class Ju extends br{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Sn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Sn.fromReplace(e,this.pos,this.pos+1,new ye(ue.from(i),0,t.isLeaf?0:1))}getMap(){return li.empty}invert(e){return new Ju(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ju(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ju(t.pos,t.attr,t.value)}}br.jsonID("attr",Ju);class ap extends br{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Sn.ok(r)}getMap(){return li.empty}invert(e){return new ap(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ap(t.attr,t.value)}}br.jsonID("docAttr",ap);let Sd=class extends Error{};Sd=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Sd.prototype=Object.create(Error.prototype);Sd.prototype.constructor=Sd;Sd.prototype.name="TransformError";class ane{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new op}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Sd(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ye.empty){let i=wb(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ye(ue.from(r),0,0))}delete(e,t){return this.replace(e,t,ye.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return ine(this,e,t,r),this}replaceRangeWith(e,t,r){return sne(this,e,t,r),this}deleteRange(e,t){return one(this,e,t),this}lift(e,t){return $te(this,e,t),this}join(e,t=1){return Zte(this,e,t),this}wrap(e,t){return qte(this,e,t),this}setBlockType(e,t=e,r,i=null){return Kte(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Gte(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Ju(e,t,r)),this}setDocAttribute(e,t){return this.step(new ap(e,t)),this}addNodeMark(e,t){return this.step(new Ha(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof At)t.isInSet(r.marks)&&this.step(new Pc(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new Pc(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return Xte(this,e,t,r),this}addMark(e,t,r){return Vte(this,e,t,r),this}removeMark(e,t,r){return Hte(this,e,t,r),this}clearIncompatible(e,t,r){return OD(this,e,t,r),this}}const H1=Object.create(null);class He{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new lne(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ye.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:d}=o[a],f=e.mapping.slice(s);e.replaceRange(f.map(c.pos),f.map(d.pos),a?ye.empty:t),a==0&&JR(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],c=e.mapping.slice(r),d=c.map(o.pos),f=c.map(a.pos);s?e.deleteRange(d,f):(e.replaceRangeWith(d,f,t),JR(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Ie(e):Pu(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Pu(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Pu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new di(e.node(0))}static atStart(e){return Pu(e,e,0,0,1)||new di(e)}static atEnd(e){return Pu(e,e,e.content.size,e.childCount,-1)||new di(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=H1[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in H1)throw new RangeError("Duplicate use of selection JSON ID "+e);return H1[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ie.between(this.$anchor,this.$head).getBookmark()}}He.prototype.visible=!0;class lne{constructor(e,t){this.$from=e,this.$to=t}}let GR=!1;function XR(n){!GR&&!n.parent.inlineContent&&(GR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ie extends He{constructor(e,t=e){XR(e),XR(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return He.near(r);let i=e.resolve(t.map(this.anchor));return new Ie(i.parent.inlineContent?i:r,r)}replace(e,t=ye.empty){if(super.replace(e,t),t==ye.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ie&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Sb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ie(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=He.findFrom(t,r,!0)||He.findFrom(t,-r,!0);if(s)t=s.$head;else return He.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(He.findFrom(e,-r,!0)||He.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ie(e,t)}}He.jsonID("text",Ie);class Sb{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Sb(e.map(this.anchor),e.map(this.head))}resolve(e){return Ie.between(e.resolve(this.anchor),e.resolve(this.head))}}class ke extends He{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?He.near(s):new ke(s)}content(){return new ye(ue.from(this.node),0,0)}eq(e){return e instanceof ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new AD(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ke(e.resolve(t.anchor))}static create(e,t){return new ke(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ke.prototype.visible=!1;He.jsonID("node",ke);class AD{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Sb(r,r):new AD(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ke.isSelectable(r)?new ke(t):He.near(t)}}class di extends He{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ye.empty){if(t==ye.empty){e.delete(0,e.doc.content.size);let r=He.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new di(e)}map(e){return new di(e)}eq(e){return e instanceof di}getBookmark(){return cne}}He.jsonID("all",di);const cne={map(){return this},resolve(n){return new di(n)}};function Pu(n,e,t,r,i,s=!1){if(e.inlineContent)return Ie.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ke.isSelectable(a))return ke.create(n,t-(i<0?a.nodeSize:0))}else{let c=Pu(n,a,t+i,i<0?a.childCount:0,i,s);if(c)return c}t+=a.nodeSize*i}return null}function JR(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof In||i instanceof Bn))return;let s=n.mapping.maps[r],o;s.forEach((a,c,d,f)=>{o==null&&(o=f)}),n.setSelection(He.near(n.doc.resolve(o),t))}const ZR=1,Fg=2,eN=4;class une extends ane{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ZR)&~Fg,this.storedMarks=null,this}get selectionSet(){return(this.updated&ZR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Fg,this}ensureMarks(e){return At.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Fg)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Fg,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||At.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(He.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=eN,this}get scrolledIntoView(){return(this.updated&eN)>0}}function tN(n,e){return!e||!n?n:n.bind(e)}class gh{constructor(e,t,r){this.name=e,this.init=tN(t.init,r),this.apply=tN(t.apply,r)}}const dne=[new gh("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new gh("selection",{init(n,e){return n.selection||He.atStart(e.doc)},apply(n){return n.selection}}),new gh("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new gh("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class U1{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dne.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new gh(r.key,r.spec.state,r))})}}class Bu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,d=i?i[o].state:this,f=c<t.length&&a.spec.appendTransaction.call(a,c?t.slice(c):t,d,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<o?{state:r,n:t.length}:{state:this,n:0})}t.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Bu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new une(this)}static create(e){let t=new U1(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Bu(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new U1(this.schema,e.plugins),r=t.fields,i=new Bu(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new U1(e.schema,e.plugins),s=new Bu(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Qa.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=He.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=d.fromJSON.call(c,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function sF(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=sF(i,e,{})),t[r]=i}return t}class Rr{constructor(e){this.spec=e,this.props={},e.props&&sF(e.props,this,this.props),this.key=e.key?e.key.key:oF("plugin")}getState(e){return e[this.key]}}const $1=Object.create(null);function oF(n){return n in $1?n+"$"+ ++$1[n]:($1[n]=0,n+"$")}class rs{constructor(e="key"){this.key=oF(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Xn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Md=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let OS=null;const go=function(n,e,t){let r=OS||(OS=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},fne=function(){OS=null},Lc=function(n,e,t,r){return t&&(nN(n,e,t,r,-1)||nN(n,e,t,r,1))},hne=/^(img|br|input|textarea|hr)$/i;function nN(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:_i(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Wp(n)||hne.test(n.nodeName)||n.contentEditable=="false")return!1;e=Xn(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?_i(n):0}else return!1}}function _i(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function pne(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=_i(n)}else if(n.parentNode&&!Wp(n))e=Xn(n),n=n.parentNode;else return null}}function mne(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Wp(n))e=Xn(n)+1,n=n.parentNode;else return null}}function gne(n,e,t){for(let r=e==0,i=e==_i(n);r||i;){if(n==t)return!0;let s=Xn(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==_i(n)}}function Wp(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Mb=function(n){return n.focusNode&&Lc(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ul(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function yne(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bne(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(_i(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(_i(r.startContainer),r.startOffset)}}}const Fs=typeof navigator<"u"?navigator:null,rN=typeof document<"u"?document:null,fl=Fs&&Fs.userAgent||"",_S=/Edge\/(\d+)/.exec(fl),aF=/MSIE \d/.exec(fl),AS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fl),qr=!!(aF||AS||_S),Xa=aF?document.documentMode:AS?+AS[1]:_S?+_S[1]:0,Zi=!qr&&/gecko\/(\d+)/i.test(fl);Zi&&+(/Firefox\/(\d+)/.exec(fl)||[0,0])[1];const RS=!qr&&/Chrome\/(\d+)/.exec(fl),mr=!!RS,lF=RS?+RS[1]:0,Or=!qr&&!!Fs&&/Apple Computer/.test(Fs.vendor),Dd=Or&&(/Mobile\/\w+/.test(fl)||!!Fs&&Fs.maxTouchPoints>2),Ti=Dd||(Fs?/Mac/.test(Fs.platform):!1),vne=Fs?/Win/.test(Fs.platform):!1,Co=/Android \d/.test(fl),qp=!!rN&&"webkitFontSmoothing"in rN.documentElement.style,xne=qp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function wne(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function uo(n,e){return typeof n=="number"?n:n[e]}function Sne(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function iN(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Md(o);continue}let a=o,c=a==s.body,d=c?wne(s):Sne(a),f=0,p=0;if(e.top<d.top+uo(r,"top")?p=-(d.top-e.top+uo(i,"top")):e.bottom>d.bottom-uo(r,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+uo(i,"top")-d.top:e.bottom-d.bottom+uo(i,"bottom")),e.left<d.left+uo(r,"left")?f=-(d.left-e.left+uo(i,"left")):e.right>d.right-uo(r,"right")&&(f=e.right-d.right+uo(i,"right")),f||p)if(c)s.defaultView.scrollBy(f,p);else{let y=a.scrollLeft,b=a.scrollTop;p&&(a.scrollTop+=p),f&&(a.scrollLeft+=f);let v=a.scrollLeft-y,w=a.scrollTop-b;e={left:e.left-v,top:e.top-w,right:e.right-v,bottom:e.bottom-w}}let m=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:Md(o)}}function Mne(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=t-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:cF(n.dom)}}function cF(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Md(r));return e}function Dne({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;uF(t,r==0?0:r-e)}function uF(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let _u=null;function Cne(n){if(n.setActive)return n.setActive();if(_u)return n.focus(_u);let e=cF(n);n.focus(_u==null?{get preventScroll(){return _u={preventScroll:!0},!0}}:void 0),_u||(_u=!1,uF(e,0))}function dF(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,c,d;for(let f=n.firstChild,p=0;f;f=f.nextSibling,p++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=go(f).getClientRects();else continue;for(let y=0;y<m.length;y++){let b=m[y];if(b.top<=o&&b.bottom>=a){o=Math.max(b.bottom,o),a=Math.min(b.top,a);let v=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(v<r){t=f,r=v,i=v&&t.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&v&&(s=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=f,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!t&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=p+1)}}return!t&&c&&(t=c,i=d,r=0),t&&t.nodeType==3?kne(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:dF(t,i)}function kne(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=ba(r,1);if(s.top!=s.bottom&&RD(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function RD(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Ene(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Tne(n,e,t){let{node:r,offset:i}=dF(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function One(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?i=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function fF(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let d=a[c];if(RD(e,d))return fF(o,e,d)}}if((s=(s+1)%r)==i)break}return n}function _ne(n,e){let t=n.dom.ownerDocument,r,i=0,s=bne(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=n.dom.getBoundingClientRect();if(!RD(e,d)||(o=fF(n.dom,e,d),!o))return null}if(Or)for(let d=o;r&&d;d=Md(d))d.draggable&&(r=void 0);if(o=Ene(o,e),r){if(Zi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let d;qp&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=One(n,r,i,e))}a==null&&(a=Tne(n,o,e));let c=n.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function sN(n){return n.top<n.bottom||n.left<n.right}function ba(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(sN(r))return r}return Array.prototype.find.call(t,sN)||n.getBoundingClientRect()}const Ane=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hF(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=qp||Zi;if(r.nodeType==3)if(o&&(Ane.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let c=ba(go(r,i,i),t);if(Zi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=ba(go(r,i-1,i-1),-1);if(d.top==c.top){let f=ba(go(r,i,i+1),-1);if(f.top!=c.top)return nh(f,f.left<d.left)}}return c}else{let c=i,d=i,f=t<0?1:-1;return t<0&&!i?(d++,f=-1):t>=0&&i==r.nodeValue.length?(c--,f=1):t<0?c--:d++,nh(ba(go(r,c,d),f),f<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==_i(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return Y1(c.getBoundingClientRect(),!1)}if(s==null&&i<_i(r)){let c=r.childNodes[i];if(c.nodeType==1)return Y1(c.getBoundingClientRect(),!0)}return Y1(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==_i(r))){let c=r.childNodes[i-1],d=c.nodeType==3?go(c,_i(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return nh(ba(d,1),!1)}if(s==null&&i<_i(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?go(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return nh(ba(d,-1),!0)}return nh(ba(r.nodeType==3?go(r):r,-t),t>=0)}function nh(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Y1(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function pF(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Rne(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return pF(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=hF(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=go(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.bottom>f.top+1&&(t=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const Nne=/[\u0590-\u08ac]/;function Pne(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!Nne.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:pF(n,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:f,anchorOffset:p}=n.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",t,"character");let y=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:b,focusOffset:v}=n.domSelectionRange(),w=b&&!y.contains(b.nodeType==1?b:b.parentNode)||c==b&&d==v;try{a.collapse(f,p),c&&(c!=f||d!=p)&&a.extend&&a.extend(c,d)}catch{}return m!=null&&(a.caretBidiLevel=m),w}):r.pos==r.start()||r.pos==r.end()}let oN=null,aN=null,lN=!1;function Lne(n,e,t){return oN==e&&aN==t?lN:(oN=e,aN=t,lN=t=="up"||t=="down"?Rne(n,e,t):Pne(n,e,t))}const Ai=0,cN=1,Gl=2,zs=3;class Kp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Ai,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Xn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof gF){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof mF&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Xn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Xn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let c=this.children[a],d=o+c.size;if(i==-1&&e<=d){let f=o+c.border;if(e>=f&&t<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,f);e=o;for(let p=a;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=Xn(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(d>t||a==this.children.length-1)){t=d;for(let f=a+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Xn(p.dom);break}t+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let y=0,b=0;y<this.children.length;y++){let v=this.children[y],w=b+v.size;if(s>b&&o<w)return v.setSelection(e-b-v.border,t-b-v.border,r,i);b=w}let a=this.domFromPos(e,e?-1:1),c=t==e?a:this.domFromPos(t,t?-1:1),d=r.root.getSelection(),f=r.domSelectionRange(),p=!1;if((Zi||Or)&&e==t){let{node:y,offset:b}=a;if(y.nodeType==3){if(p=!!(b&&y.nodeValue[b-1]==`
`),p&&b==y.nodeValue.length)for(let v=y,w;v;v=v.parentNode){if(w=v.nextSibling){w.nodeName=="BR"&&(a=c={node:w.parentNode,offset:Xn(w)+1});break}let M=v.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let v=y.childNodes[b-1];p=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(Zi&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||p&&Or)&&Lc(a.node,a.offset,f.anchorNode,f.anchorOffset)&&Lc(c.node,c.offset,f.focusNode,f.focusOffset))return;let m=!1;if((d.extend||e==t)&&!p){d.collapse(a.node,a.offset);try{e!=t&&d.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>t){let b=a;a=c,c=b}let y=document.createRange();y.setEnd(c.node,c.offset),y.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,c=o-s.border;if(e>=a&&t<=c){this.dirty=e==r||t==o?Gl:cN,e==a&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=zs:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Gl:zs}r=o}this.dirty=Gl}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Gl:cN;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class mF extends Kp{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Ai&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Ine extends Kp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ic extends Kp{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=Vc.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Ic(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&zs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=zs&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ai){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ai}}slice(e,t,r){let i=Ic.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=PS(s,t,o,r)),e>0&&(s=PS(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ja extends Kp{constructor(e,t,r,i,s,o,a,c,d){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],c,d=a&&a(t,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),f=d&&d.dom,p=d&&d.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=Vc.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!p&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let m=f;return f=vF(f,r,t),d?c=new jne(e,t,r,i,f,p||null,m,d,s,o+1):t.isText?new Db(e,t,r,i,f,m,s):new Ja(e,t,r,i,f,p||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ue.empty)}return e}matchesNode(e,t,r){return this.dirty==Ai&&e.eq(this.node)&&y0(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,c=new Fne(this,o&&o.node,e);Hne(this.node,this.innerDeco,(d,f,p)=>{d.spec.marks?c.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!p&&c.syncToMarks(f==this.node.childCount?At.none:this.node.child(f).marks,r,e),c.placeWidget(d,e,i)},(d,f,p,m)=>{c.syncToMarks(d.marks,r,e);let y;c.findNodeMatch(d,f,p,m)||a&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(y=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,f,p,y,e)||c.updateNextNode(d,f,p,e,m,i)||c.addNode(d,f,p,e,i),i+=d.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Gl)&&(o&&this.protectLocalComposition(e,o),yF(this.contentDOM,this.children,e),Dd&&Une(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ie)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=$ne(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Ine(this,s,t,i);e.input.compositionNodes.push(o),this.children=PS(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==zs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ai}updateOuterDeco(e){if(y0(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=bF(this.dom,this.nodeDOM,NS(this.outerDeco,this.node,t),NS(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function uN(n,e,t,r,i){vF(r,e,n);let s=new Ja(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Db extends Ja{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==zs||this.dirty!=Ai&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ai||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ai,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new Db(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=zs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class gF extends Kp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ai&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jne extends Ja{constructor(e,t,r,i,s,o,a,c,d,f){super(e,t,r,i,s,o,a,d,f),this.spec=c}update(e,t,r,i){if(this.dirty==zs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yF(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=dN(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Ic){let c=r?r.previousSibling:n.lastChild;yF(o.contentDOM,o.children,t),r=c?c.nextSibling:n.firstChild}}for(;r;)r=dN(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Lh=function(n){n&&(this.nodeName=n)};Lh.prototype=Object.create(null);const Xl=[new Lh];function NS(n,e,t){if(n.length==0)return Xl;let r=t?Xl[0]:new Lh,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new Lh(o.nodeName));for(let a in o){let c=o[a];c!=null&&(t&&i.length==1&&i.push(r=new Lh(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function bF(n,e,t,r){if(t==Xl&&r==Xl)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let c;a&&a.nodeName==o.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Xl[0]),i=c}Bne(i,a||Xl[0],o)}return i}function Bne(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function vF(n,e,t){return bF(n,n,Xl,NS(e,t,n.nodeType!=1))}function y0(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function dN(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Fne{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zne(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ai,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=Ic.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let d=this.top.children[a];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==zs&&o.dom==o.contentDOM&&(o.dirty=Gl),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Ja){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let f=c.dom,p,m=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=zs&&y0(t,c.outerDeco));if(!m&&c.update(e,t,r,i))return this.destroyBetween(this.index,a),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(c,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Gl,p.updateChildren(i,o+1),p.dirty=Ai),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!y0(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Ja.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=Ja.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new mF(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ic;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Db)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Or||mr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gF(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zne(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let d=t.children[r-1];if(d instanceof Ic)t=d,r=d.children.length;else{a=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let c=a.node;if(c){if(c!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Vne(n,e){return n.type.side-e.type.side}function Hne(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let d=0;d<n.childCount;d++){let f=n.child(d);r(f,i,e.forChild(s,f),d),s+=f.nodeSize}return}let o=0,a=[],c=null;for(let d=0;;){let f,p;for(;o<i.length&&i[o].to==s;){let w=i[o++];w.widget&&(f?(p||(p=[f])).push(w):f=w)}if(f)if(p){p.sort(Vne);for(let w=0;w<p.length;w++)t(p[w],d,!!c)}else t(f,d,!!c);let m,y;if(c)y=-1,m=c,c=null;else if(d<n.childCount)y=d,m=n.child(d++);else break;for(let w=0;w<a.length;w++)a[w].to<=s&&a.splice(w--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let b=s+m.nodeSize;if(m.isText){let w=b;o<i.length&&i[o].from<w&&(w=i[o].from);for(let M=0;M<a.length;M++)a[M].to<w&&(w=a[M].to);w<b&&(c=m.cut(w-s),m=m.cut(0,w-s),b=w,y=-1)}else for(;o<i.length&&i[o].to<b;)o++;let v=m.isInline&&!m.isLeaf?a.filter(w=>!w.inline):a.slice();r(m,v,e.forChild(s,m),y),s=b}}function Une(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function $ne(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<n.childCount;){let d=n.child(i++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=t){if(s>=r&&c.slice(r-e.length-a,r-a)==e)return r-e.length;let d=a<r?c.lastIndexOf(e,r-a-1):-1;if(d>=0&&d+e.length+a>=t)return a+d;if(t==r&&c.length>=r+e.length-a&&c.slice(r-a,r-a+e.length)==e)return r}}return-1}function PS(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let c=n[o],d=a,f=a+=c.size;d>=t||f<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,r)),i&&(s.push(i),i=void 0),f>t&&s.push(c.slice(t-d,c.size,r)))}return s}function ND(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,d;if(Mb(t)){for(c=o;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&ke.isSelectable(p)&&i.parent&&!(p.isInline&&gne(t.focusNode,t.focusOffset,i.dom))){let m=i.posBefore;d=new ke(o==m?a:r.resolve(m))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let p=o,m=o;for(let y=0;y<t.rangeCount;y++){let b=t.getRangeAt(y);p=Math.min(p,n.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,n.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[c,o]=m==n.state.selection.anchor?[m,p]:[p,m],a=r.resolve(o)}else c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let f=r.resolve(c);if(!d){let p=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;d=PD(n,f,a,p)}return d}function xF(n){return n.editable?n.hasFocus():SF(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function No(n,e=!1){let t=n.state.selection;if(wF(n,t),!!xF(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&mr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Lc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Wne(n);else{let{anchor:r,head:i}=t,s,o;fN&&!(t instanceof Ie)&&(t.$from.parent.inlineContent||(s=hN(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=hN(n,t.to))),n.docView.setSelection(r,i,n,e),fN&&(s&&pN(s),o&&pN(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yne(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const fN=Or||mr&&lF<63;function hN(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Or&&i&&i.contentEditable=="false")return W1(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return W1(i);if(s)return W1(s)}}function W1(n){return n.contentEditable="true",Or&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function pN(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Yne(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!xF(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Wne(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Xn(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&qr&&Xa<=11&&(r.disabled=!0,r.disabled=!1)}function wF(n,e){if(e instanceof ke){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(mN(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else mN(n)}function mN(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function PD(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ie.between(e,t,r)}function gN(n){return n.editable&&!n.hasFocus()?!1:SF(n)}function SF(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qne(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Lc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function LS(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&He.findFrom(s,e)}function Sa(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function yN(n,e,t){let r=n.state.selection;if(r instanceof Ie)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Sa(n,new Ie(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=LS(n.state,e);return i&&i instanceof ke?Sa(n,i):!1}else if(!(Ti&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?ke.isSelectable(s)?Sa(n,new ke(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):qp?Sa(n,new Ie(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ke&&r.node.isInline)return Sa(n,new Ie(e>0?r.$to:r.$from));{let i=LS(n.state,e);return i?Sa(n,i):!1}}}function b0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Ih(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Au(n,e){return e<0?Kne(n):Qne(n)}function Kne(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Zi&&t.nodeType==1&&r<b0(t)&&Ih(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(Ih(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(MF(t))break;{let a=t.previousSibling;for(;a&&Ih(a,-1);)i=t.parentNode,s=Xn(a),a=a.previousSibling;if(a)t=a,r=b0(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?IS(n,t,r):i&&IS(n,i,s)}function Qne(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=b0(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(Ih(a,1))s=t,o=++r;else break}else{if(MF(t))break;{let a=t.nextSibling;for(;a&&Ih(a,1);)s=a.parentNode,o=Xn(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=b0(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&IS(n,s,o)}function MF(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Gne(n,e){for(;n&&e==n.childNodes.length&&!Wp(n);)e=Xn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Xne(n,e){for(;n&&!e&&!Wp(n);)e=Xn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function IS(n,e,t){if(e.nodeType!=3){let s,o;(o=Gne(e,t))?(e=o,t=0):(s=Xne(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Mb(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&No(n)},50)}function bN(n,e){let t=n.state.doc.resolve(e);if(!(mr||vne)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function vN(n,e,t){let r=n.state.selection;if(r instanceof Ie&&!r.empty||t.indexOf("s")>-1||Ti&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=LS(n.state,e);if(o&&o instanceof ke)return Sa(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof di?He.near(o,e):He.findFrom(o,e);return a?Sa(n,a):!1}return!1}function xN(n,e){if(!(n.state.selection instanceof Ie))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function wN(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Jne(n){if(!Or||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;wN(n,r,"true"),setTimeout(()=>wN(n,r,"false"),20)}return!1}function Zne(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ere(n,e){let t=e.keyCode,r=Zne(e);if(t==8||Ti&&t==72&&r=="c")return xN(n,-1)||Au(n,-1);if(t==46&&!e.shiftKey||Ti&&t==68&&r=="c")return xN(n,1)||Au(n,1);if(t==13||t==27)return!0;if(t==37||Ti&&t==66&&r=="c"){let i=t==37?bN(n,n.state.selection.from)=="ltr"?-1:1:-1;return yN(n,i,r)||Au(n,i)}else if(t==39||Ti&&t==70&&r=="c"){let i=t==39?bN(n,n.state.selection.from)=="ltr"?1:-1:1;return yN(n,i,r)||Au(n,i)}else{if(t==38||Ti&&t==80&&r=="c")return vN(n,-1,r)||Au(n,-1);if(t==40||Ti&&t==78&&r=="c")return Jne(n)||vN(n,1,r)||Au(n,1);if(r==(Ti?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function LD(n,e){n.someProp("transformCopied",y=>{e=y(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let y=r.firstChild;t.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let o=n.someProp("clipboardSerializer")||Vc.fromSchema(n.state.schema),a=OF(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let d=c.firstChild,f,p=0;for(;d&&d.nodeType==1&&(f=TF[d.nodeName.toLowerCase()]);){for(let y=f.length-1;y>=0;y--){let b=a.createElement(f[y]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),p++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(t)}`);let m=n.someProp("clipboardTextSerializer",y=>y(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function DF(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let c=e&&(r||s||!t);if(c){if(n.someProp("transformPastedText",m=>{e=m(e,s||r,n)}),s)return e?new ye(ue.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ye.empty;let p=n.someProp("clipboardTextParser",m=>m(e,i,r,n));if(p)a=p;else{let m=i.marks(),{schema:y}=n.state,b=Vc.fromSchema(y);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let w=o.appendChild(document.createElement("p"));v&&w.appendChild(b.serializeNode(y.text(v,m)))})}}else n.someProp("transformPastedHTML",p=>{t=p(t,n)}),o=ire(t),qp&&sre(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Ga.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!tre.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)a=ore(SN(a,+f[1],+f[2]),f[4]);else if(a=ye.maxOpen(nre(a.content,i),!0),a.openStart||a.openEnd){let p=0,m=0;for(let y=a.content.firstChild;p<a.openStart&&!y.type.spec.isolating;p++,y=y.firstChild);for(let y=a.content.lastChild;m<a.openEnd&&!y.type.spec.isolating;m++,y=y.lastChild);a=SN(a,p,m)}return n.someProp("transformPasted",p=>{a=p(a,n)}),a}const tre=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function nre(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),d;if(!c)return o=null;if(d=o.length&&s.length&&kF(c,s,a,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=EF(o[o.length-1],s.length));let f=CF(a,c);o.push(f),i=i.matchType(f.type),s=c}}),o)return ue.from(o)}return n}function CF(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ue.from(n));return n}function kF(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=kF(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ue.from(CF(t,n,i+1))))}}function EF(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,EF(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ue.empty,!0);return n.copy(t.append(r))}function jS(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=jS(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ue.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function SN(n,e,t){return e<n.openStart&&(n=new ye(jS(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ye(jS(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const TF={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let MN=null;function OF(){return MN||(MN=document.implementation.createHTMLDocument("title"))}let q1=null;function rre(n){let e=window.trustedTypes;return e?(q1||(q1=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),q1.createHTML(n)):n}function ire(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=OF().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&TF[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=rre(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function sre(n){let e=n.querySelectorAll(mr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function ore(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let c=t.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=ue.from(c.create(r[a+1],i)),s++,o++}return new ye(i,s,o)}const _r={},Ar={},are={touchstart:!0,touchmove:!0};class lre{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function cre(n){for(let e in _r){let t=_r[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{dre(n,r)&&!ID(n,r)&&(n.editable||!(r.type in Ar))&&t(n,r)},are[e]?{passive:!0}:void 0)}Or&&n.dom.addEventListener("input",()=>null),BS(n)}function Ua(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ure(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function BS(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>ID(n,r))})}function ID(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function dre(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function fre(n,e){!ID(n,e)&&_r[e.type]&&(n.editable||!(e.type in Ar))&&_r[e.type](n,e)}Ar.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!AF(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Co&&mr&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Dd&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ul(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ere(n,t)?t.preventDefault():Ua(n,"key")};Ar.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ar.keypress=(n,e)=>{let t=e;if(AF(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ti&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ie)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function Cb(n){return{left:n.clientX,top:n.clientY}}function hre(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function jD(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Zu(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function pre(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ke.isSelectable(r)?(Zu(n,new ke(t)),!0):!1}function mre(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof ke&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ke.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Zu(n,ke.create(n.state.doc,i)),!0):!1}function gre(n,e,t,r,i){return jD(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?mre(n,t):pre(n,t))}function yre(n,e,t,r){return jD(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function bre(n,e,t,r){return jD(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||vre(n,t,r)}function vre(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Zu(n,Ie.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Zu(n,Ie.create(r,a+1,a+1+o.content.size));else if(ke.isSelectable(o))Zu(n,ke.create(r,a));else continue;return!0}}function BD(n){return v0(n)}const _F=Ti?"metaKey":"ctrlKey";_r.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=BD(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&hre(t,n.input.lastClick)&&!t[_F]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(Cb(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new xre(n,o,t,!!r)):(s=="doubleClick"?yre:bre)(n,o.pos,o.inside,t)?t.preventDefault():Ua(n,"pointer"))};class xre{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[_F],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let f=e.state.doc.resolve(t.pos);s=f.parent,o=f.depth?f.before():0}const a=i?null:r.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof ke&&d.from<=o&&d.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ua(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>No(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Cb(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ua(this.view,"pointer"):gre(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Or&&this.mightDrag&&!this.mightDrag.node.isAtom||mr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Zu(this.view,He.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ua(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ua(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_r.touchstart=n=>{n.input.lastTouch=Date.now(),BD(n),Ua(n,"pointer")};_r.touchmove=n=>{n.input.lastTouch=Date.now(),Ua(n,"pointer")};_r.contextmenu=n=>BD(n);function AF(n,e){return n.composing?!0:Or&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const wre=Co?5e3:-1;Ar.compositionstart=Ar.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ie&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),v0(n,!0),n.markCursor=null;else if(v0(n,!e.selection.empty),Zi&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}RF(n,wre)};Ar.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,RF(n,20))};function RF(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>v0(n),e))}function NF(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Mre());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Sre(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=pne(e.focusNode,e.focusOffset),r=mne(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Mre(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function v0(n,e=!1){if(!(Co&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),NF(n),e||n.docView&&n.docView.dirty){let t=ND(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Dre(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const lp=qr&&Xa<15||Dd&&xne<604;_r.copy=Ar.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=lp?null:t.clipboardData,o=r.content(),{dom:a,text:c}=LD(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",c)):Dre(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Cre(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function kre(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?cp(n,r.value,null,i,e):cp(n,r.textContent,r.innerHTML,i,e)},50)}function cp(n,e,t,r,i){let s=DF(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,s||ye.empty)))return!0;if(!s)return!1;let o=Cre(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function PF(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Ar.paste=(n,e)=>{let t=e;if(n.composing&&!Co)return;let r=lp?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&cp(n,PF(r),r.getData("text/html"),i,t)?t.preventDefault():kre(n,t)};class LF{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Ere=Ti?"altKey":"ctrlKey";function IF(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Ere]}_r.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(Cb(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ke?i.to-1:i.to))){if(r&&r.mightDrag)o=ke.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let p=n.docView.nearestDesc(t.target,!0);p&&p.node.type.spec.draggable&&p!=n.docView&&(o=ke.create(n.state.doc,p.posBefore))}}let a=(o||n.state.selection).content(),{dom:c,text:d,slice:f}=LD(n,a);(!t.dataTransfer.files.length||!mr||lF>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(lp?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",lp||t.dataTransfer.setData("text/plain",d),n.dragging=new LF(f,IF(n,t),o)};_r.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ar.dragover=Ar.dragenter=(n,e)=>e.preventDefault();Ar.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Cb(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",b=>{o=b(o,n)}):o=DF(n,PF(t.dataTransfer),lp?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&IF(n,t));if(n.someProp("handleDrop",b=>b(n,t,o||ye.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let c=o?eF(n.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let d=n.state.tr;if(a){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(f,f,o.content.firstChild):d.replaceRange(f,f,o),d.doc.eq(m))return;let y=d.doc.resolve(f);if(p&&ke.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new ke(y));else{let b=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((v,w,M,k)=>b=k),d.setSelection(PD(n,y,d.doc.resolve(b)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};_r.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&No(n)},20))};_r.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};_r.beforeinput=(n,e)=>{if(mr&&Co&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Ul(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Ar)_r[n]=Ar[n];function up(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class x0{constructor(e,t){this.toDOM=e,this.spec=t||vc,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new ci(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof x0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&up(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Za{constructor(e,t){this.attrs=e,this.spec=t||vc}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new ci(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Za&&up(this.attrs,e.attrs)&&up(this.spec,e.spec)}static is(e){return e.type instanceof Za}destroy(){}}class FD{constructor(e,t){this.attrs=e,this.spec=t||vc}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new ci(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof FD&&up(this.attrs,e.attrs)&&up(this.spec,e.spec)}destroy(){}}class ci{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new ci(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new ci(e,e,new x0(t,r))}static inline(e,t,r,i){return new ci(e,t,new Za(r,i))}static node(e,t,r,i){return new ci(e,t,new FD(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Za}get widget(){return this.type instanceof x0}}const Lu=[],vc={};class xn{constructor(e,t){this.local=e.length?e:Lu,this.children=t.length?t:Lu}static create(e,t){return t.length?w0(t,e,0,vc):lr}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==lr||e.maps.length==0?this:this.mapInner(e,t,0,0,r||vc)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,r,i);c&&c.type.valid(t,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Tre(this.children,o||[],e,t,r,i,s):o?new xn(o.sort(xc),Lu):lr}add(e,t){return t.length?this==lr?xn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,c)=>{let d=c+r,f;if(f=BF(t,a,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(a,f,d+1):i.splice(s,0,c,c+a.nodeSize,w0(f,a,d+1,vc)),s+=3}});let o=jF(s?FF(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new xn(o.length?this.local.concat(o).sort(xc):this.local,i||this.children)}remove(e){return e.length==0||this==lr?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,c=r[s+1]+t;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>a&&p.to<c&&(e[f]=null,(o||(o=[])).push(p));if(!o)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(o,a+1);d!=lr?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new xn(i,r):lr}forChild(e,t){if(this==lr)return this;if(t.isLeaf)return xn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>s&&c.type instanceof Za){let d=Math.max(s,c.from)-s,f=Math.min(o,c.to)-s;d<f&&(i||(i=[])).push(c.copy(d,f))}}if(i){let a=new xn(i.sort(xc),Lu);return r?new Ca([a,r]):a}return r||lr}eq(e){if(this==e)return!0;if(!(e instanceof xn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return zD(this.localsInner(e))}localsInner(e){if(this==lr)return Lu;if(e.inlineContent||!this.local.some(Za.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Za||t.push(this.local[r]);return t}forEachSet(e){e(this)}}xn.empty=new xn([],[]);xn.removeOverlap=zD;const lr=xn.empty;class Ca{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,vc));return Ca.from(r)}forChild(e,t){if(t.isLeaf)return xn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=lr&&(s instanceof Ca?r=r.concat(s.members):r.push(s))}return Ca.from(r)}eq(e){if(!(e instanceof Ca)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?zD(r?t:t.sort(xc)):Lu}static from(e){switch(e.length){case 0:return lr;case 1:return e[0];default:return new Ca(e.every(t=>t instanceof xn)?e:e.reduce((t,r)=>t.concat(r instanceof xn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Tre(n,e,t,r,i,s,o){let a=n.slice();for(let d=0,f=s;d<t.maps.length;d++){let p=0;t.maps[d].forEach((m,y,b,v)=>{let w=v-b-(y-m);for(let M=0;M<a.length;M+=3){let k=a[M+1];if(k<0||m>k+f-p)continue;let E=a[M]+f-p;y>=E?a[M+1]=m<=E?-2:-1:m>=f&&w&&(a[M]+=w,a[M+1]+=w)}p+=w}),f=t.maps[d].map(f,-1)}let c=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){c=!0,a[d+1]=-1;continue}let f=t.map(n[d]+s),p=f-i;if(p<0||p>=r.content.size){c=!0;continue}let m=t.map(n[d+1]+s,-1),y=m-i,{index:b,offset:v}=r.content.findIndex(p),w=r.maybeChild(b);if(w&&v==p&&v+w.nodeSize==y){let M=a[d+2].mapInner(t,w,f+1,n[d]+s+1,o);M!=lr?(a[d]=p,a[d+1]=y,a[d+2]=M):(a[d+1]=-2,c=!0)}else c=!0}if(c){let d=Ore(a,n,e,t,i,s,o),f=w0(d,r,0,o);e=f.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,m=0;p<f.children.length;p+=3){let y=f.children[p];for(;m<a.length&&a[m]<y;)m+=3;a.splice(m,0,f.children[p],f.children[p+1],f.children[p+2])}}return new xn(e.sort(xc),a)}function jF(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new ci(i.from+e,i.to+e,i.type))}return t}function Ore(n,e,t,r,i,s,o){function a(c,d){for(let f=0;f<c.local.length;f++){let p=c.local[f].map(r,i,d);p?t.push(p):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)a(c.children[f+2],c.children[f]+d+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&a(n[c+2],e[c]+s+1);return t}function BF(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function FF(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function w0(n,e,t,r){let i=[],s=!1;e.forEach((a,c)=>{let d=BF(n,a,c+t);if(d){s=!0;let f=w0(d,a,t+c+1,r);f!=lr&&i.push(c,c+a.nodeSize,f)}});let o=jF(s?FF(n):n,-t).sort(xc);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new xn(o,i):lr}function xc(n,e){return n.from-e.from||n.to-e.to}function zD(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),DN(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),DN(e,i,r.copy(s.from,r.to)));break}}}return e}function DN(n,e,t){for(;e<n.length&&xc(t,n[e])>0;)e++;n.splice(e,0,t)}function K1(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=lr&&e.push(r)}),n.cursorWrapper&&e.push(xn.create(n.state.doc,[n.cursorWrapper.deco])),Ca.from(e)}const _re={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Are=qr&&Xa<=11;class Rre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Nre{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rre,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);qr&&Xa<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Are&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_re)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(gN(this.view)){if(this.suppressingSelectionUpdates)return No(this.view);if(qr&&Xa<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Lc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Md(s))t.add(s);for(let s=e.anchorNode;s;s=Md(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&gN(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,c=[];if(e.editable)for(let f=0;f<t.length;f++){let p=this.registerMutation(t[f],c);p&&(s=s<0?p.from:Math.min(p.from,s),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(a=!0))}if(Zi&&c.length){let f=c.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,m]=f;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of f){let y=m.parentNode;y&&y.nodeName=="LI"&&(!p||Ire(e,p)!=y)&&m.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Mb(r)&&(d=ND(e))&&d.eq(He.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,No(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Pre(e)),this.handleDOMChange(s,o,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||No(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];t.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(qr&&Xa<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:m}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?Xn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?Xn(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,c,1);return{from:a,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let CN=new WeakMap,kN=!1;function Pre(n){if(!CN.has(n)&&(CN.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Zi,kN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kN=!0}}function EN(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Lc(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Lre(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return EN(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?EN(n,t):null}function Ire(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function jre(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),c=n.domSelectionRange(),d,f=c.anchorNode;if(f&&n.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:c.anchorOffset}],Mb(c)||d.push({node:c.focusNode,offset:c.focusOffset})),mr&&n.input.lastKeyCode===8)for(let w=s;w>i;w--){let M=r.childNodes[w-1],k=M.pmViewDesc;if(M.nodeName=="BR"&&!k){s=w;break}if(!k||k.size)break}let p=n.state.doc,m=n.someProp("domParser")||Ga.fromSchema(n.state.schema),y=p.resolve(o),b=null,v=m.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:Bre,context:y});if(d&&d[0].pos!=null){let w=d[0].pos,M=d[1]&&d[1].pos;M==null&&(M=w),b={anchor:w+o,head:M+o}}return{doc:v,sel:b,from:o,to:a}}function Bre(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Or&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Or&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Fre=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zre(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let _=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,L=ND(n,_);if(L&&!n.state.selection.eq(L)){if(mr&&Co&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",V=>V(n,Ul(13,"Enter"))))return;let I=n.state.tr.setSelection(L);_=="pointer"?I.setMeta("pointer",!0):_=="key"&&I.scrollIntoView(),s&&I.setMeta("composition",s),n.dispatch(I)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let c=n.state.selection,d=jre(n,e,t),f=n.state.doc,p=f.slice(d.from,d.to),m,y;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,y="end"):(m=n.state.selection.from,y="start"),n.input.lastKeyCode=null;let b=Ure(p.content,d.doc.content,d.from,m,y);if(b&&n.input.domChangeCount++,(Dd&&n.input.lastIOSEnter>Date.now()-225||Co)&&i.some(_=>_.nodeType==1&&!Fre.test(_.nodeName))&&(!b||b.endA>=b.endB)&&n.someProp("handleKeyDown",_=>_(n,Ul(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof Ie&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let _=TN(n,n.state.doc,d.sel);if(_&&!_.eq(n.state.selection)){let L=n.state.tr.setSelection(_);s&&L.setMeta("composition",s),n.dispatch(L)}}return}n.state.selection.from<n.state.selection.to&&b.start==b.endB&&n.state.selection instanceof Ie&&(b.start>n.state.selection.from&&b.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?b.start=n.state.selection.from:b.endA<n.state.selection.to&&b.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(b.endB+=n.state.selection.to-b.endA,b.endA=n.state.selection.to)),qr&&Xa<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)=="  "&&(b.start--,b.endA--,b.endB--);let v=d.doc.resolveNoCache(b.start-d.from),w=d.doc.resolveNoCache(b.endB-d.from),M=f.resolve(b.start),k=v.sameParent(w)&&v.parent.inlineContent&&M.end()>=b.endA,E;if((Dd&&n.input.lastIOSEnter>Date.now()-225&&(!k||i.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!k&&v.pos<d.doc.content.size&&(!v.sameParent(w)||!v.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(v.pos,w.pos,"",""))&&(E=He.findFrom(d.doc.resolve(v.pos+1),1,!0))&&E.head>v.pos)&&n.someProp("handleKeyDown",_=>_(n,Ul(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>b.start&&Hre(f,b.start,b.endA,v,w)&&n.someProp("handleKeyDown",_=>_(n,Ul(8,"Backspace")))){Co&&mr&&n.domObserver.suppressSelectionUpdates();return}mr&&b.endB==b.start&&(n.input.lastChromeDelete=Date.now()),Co&&!k&&v.start()!=w.start()&&w.parentOffset==0&&v.depth==w.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,w=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(_){return _(n,Ul(13,"Enter"))})},20));let A=b.start,T=b.endA,P=_=>{let L=_||n.state.tr.replace(A,T,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let I=TN(n,L.doc,d.sel);I&&!(mr&&n.composing&&I.empty&&(b.start!=b.endB||n.input.lastChromeDelete<Date.now()-100)&&(I.head==A||I.head==L.mapping.map(T)-1)||qr&&I.empty&&I.head==A)&&L.setSelection(I)}return s&&L.setMeta("composition",s),L.scrollIntoView()},N;if(k){if(v.pos==w.pos){qr&&Xa<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>No(n),20));let _=P(n.state.tr.delete(A,T)),L=f.resolve(b.start).marksAcross(f.resolve(b.endA));L&&_.ensureMarks(L),n.dispatch(_)}else if(b.endA==b.endB&&(N=Vre(v.parent.content.cut(v.parentOffset,w.parentOffset),M.parent.content.cut(M.parentOffset,b.endA-M.start())))){let _=P(n.state.tr);N.type=="add"?_.addMark(A,T,N.mark):_.removeMark(A,T,N.mark),n.dispatch(_)}else if(v.parent.child(v.index()).isText&&v.index()==w.index()-(w.textOffset?0:1)){let _=v.parent.textBetween(v.parentOffset,w.parentOffset),L=()=>P(n.state.tr.insertText(_,A,T));n.someProp("handleTextInput",I=>I(n,A,T,_,L))||n.dispatch(L())}}else n.dispatch(P())}function TN(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:PD(n,e.resolve(t.anchor),e.resolve(t.head))}function Vre(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,c;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<t.length;f++)s=t[f].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",c=f=>f.mark(a.addToSet(f.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",c=f=>f.mark(a.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(c(e.child(f)));if(ue.from(d).eq(n))return{mark:a,type:o}}function Hre(n,e,t,r,i){if(t-e<=i.pos-r.pos||Q1(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(Q1(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Q1(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Q1(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Ure(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,a));r-=o+c-s}if(o<s&&n.size<e.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<e.size&&ON(e.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}else if(a<s){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<n.size&&ON(n.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function ON(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class zF{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new lre,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(PN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=RN(this),AN(this),this.nodeViews=NN(this),this.docView=uN(this.state.doc,_N(this),K1(this),this.dom,this),this.domObserver=new Nre(this,(r,i,s,o)=>zre(this,r,i,s,o)),this.domObserver.start(),cre(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&BS(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(PN),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(NF(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let y=NN(this);Yre(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&BS(this),this.editable=RN(this),AN(this);let c=K1(this),d=_N(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,d,c);(p||!e.selection.eq(i.selection))&&(o=!0);let m=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Mne(this);if(o){this.domObserver.stop();let y=p&&(qr||mr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&$re(i.selection,e.selection);if(p){let b=mr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Sre(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=uN(e.doc,d,c,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qne(this))?No(this,y):(wF(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&Dne(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ke){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&iN(this,t.getBoundingClientRect(),e)}else iN(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new LF(e.slice,e.move,i<0?void 0:ke.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(qr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Cne(this.dom),No(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return _ne(this,e)}coordsAtPos(e,t=1){return hF(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Lne(this,t||this.state,e)}pasteHTML(e,t){return cp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return cp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return LD(this,e)}destroy(){this.docView&&(ure(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],K1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fne())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return fre(this,e)}domSelectionRange(){let e=this.domSelection();return e?Or&&this.root.nodeType===11&&yne(this.dom.ownerDocument)==this.dom&&Lre(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}zF.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function _N(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[ci.node(0,n.state.doc.content.size,e)]}function AN(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:ci.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function RN(n){return!n.someProp("editable",e=>e(n.state)===!1)}function $re(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function NN(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Yre(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function PN(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ol={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Wre=typeof navigator<"u"&&/Mac/.test(navigator.platform),qre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jn=0;Jn<10;Jn++)ol[48+Jn]=ol[96+Jn]=String(Jn);for(var Jn=1;Jn<=24;Jn++)ol[Jn+111]="F"+Jn;for(var Jn=65;Jn<=90;Jn++)ol[Jn]=String.fromCharCode(Jn+32),S0[Jn]=String.fromCharCode(Jn);for(var G1 in ol)S0.hasOwnProperty(G1)||(S0[G1]=ol[G1]);function Kre(n){var e=Wre&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||qre&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?S0:ol)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Qre=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Gre=typeof navigator<"u"&&/Win/.test(navigator.platform);function Xre(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Qre?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Jre(n){let e=Object.create(null);for(let t in n)e[Xre(t)]=n[t];return e}function X1(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Zre(n){return new Rr({props:{handleKeyDown:VF(n)}})}function VF(n){let e=Jre(n);return function(t,r){let i=Kre(r),s,o=e[X1(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[X1(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Gre&&r.ctrlKey&&r.altKey)&&(s=ol[r.keyCode])&&s!=i){let a=e[X1(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const VD=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function HF(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const UF=(n,e,t)=>{let r=HF(n,t);if(!r)return!1;let i=HD(r);if(!i){let o=r.blockRange(),a=o&&$d(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(JF(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Cd(s,"end")||ke.isSelectable(s)))for(let o=r.depth;;o--){let a=wb(n.doc,r.before(o),r.after(o),ye.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Cd(s,"end")?He.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ke.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},eie=(n,e,t)=>{let r=HF(n,t);if(!r)return!1;let i=HD(r);return i?$F(n,i,e):!1},tie=(n,e,t)=>{let r=WF(n,t);if(!r)return!1;let i=UD(r);return i?$F(n,i,e):!1};function $F(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let o=e.nodeAfter,a=o,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let d=wb(n.doc,s,c,ye.empty);if(!d||d.from!=s||d instanceof In&&d.slice.size>=c-s)return!1;if(t){let f=n.tr.step(d);f.setSelection(Ie.create(f.doc,s)),t(f.scrollIntoView())}return!0}function Cd(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const YF=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=HD(r)}let o=s&&s.nodeBefore;return!o||!ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(ke.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function HD(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function WF(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const qF=(n,e,t)=>{let r=WF(n,t);if(!r)return!1;let i=UD(r);if(!i)return!1;let s=i.nodeAfter;if(JF(n,i,e,1))return!0;if(r.parent.content.size==0&&(Cd(s,"start")||ke.isSelectable(s))){let o=wb(n.doc,r.before(),r.after(),ye.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(Cd(s,"start")?He.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ke.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},KF=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=UD(r)}let o=s&&s.nodeAfter;return!o||!ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(ke.create(n.doc,s.pos)).scrollIntoView()),!0)};function UD(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const nie=(n,e)=>{let t=n.selection,r=t instanceof ke,i;if(r){if(t.node.isTextblock||!dl(n.doc,t.from))return!1;i=t.from}else if(i=xb(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(ke.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},rie=(n,e)=>{let t=n.selection,r;if(t instanceof ke){if(t.node.isTextblock||!dl(n.doc,t.to))return!1;r=t.to}else if(r=xb(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},iie=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&$d(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},QF=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function $D(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const sie=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=$D(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),c=n.tr.replaceWith(a,a,o.createAndFill());c.setSelection(He.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},GF=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof di||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=$D(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Ie.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},XF=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Ro(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&$d(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function oie(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ke&&e.selection.node.isBlock)return!r.parentOffset||!Ro(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,c=!1,d=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){c=r.end(y)==r.pos+(r.depth-y),d=r.start(y)==r.pos-(r.depth-y),a=$D(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(c&&a?{type:a}:null),o=y;break}else{if(y==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof Ie||e.selection instanceof di)&&f.deleteSelection();let p=f.mapping.map(r.pos),m=Ro(f.doc,p,s.length,s);if(m||(s[0]=a?{type:a}:null,m=Ro(f.doc,p,s.length,s)),!m)return!1;if(f.split(p,s.length,s),!c&&d&&r.node(o).type!=a){let y=f.mapping.map(r.before(o)),b=f.doc.resolve(y);a&&r.node(o-1).canReplaceWith(b.index(),b.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(o)),a)}return t&&t(f.scrollIntoView()),!0}}const aie=oie(),lie=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(ke.create(n.doc,i))),!0)};function cie(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||dl(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function JF(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&cie(n,e,t))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let y=e.pos+s.nodeSize,b=ue.empty;for(let M=o.length-1;M>=0;M--)b=ue.from(o[M].create(null,b));b=ue.from(i.copy(b));let v=n.tr.step(new Bn(e.pos-1,y,e.pos,y,new ye(b,1,0),o.length,!0)),w=v.doc.resolve(y+2*o.length);w.nodeAfter&&w.nodeAfter.type==i.type&&dl(v.doc,w.pos)&&v.join(w.pos),t(v.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&c?null:He.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),m=p&&$d(p);if(m!=null&&m>=e.depth)return t&&t(n.tr.lift(p,m).scrollIntoView()),!0;if(d&&Cd(s,"start",!0)&&Cd(i,"end")){let y=i,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let v=s,w=1;for(;!v.isTextblock;v=v.firstChild)w++;if(y.canReplace(y.childCount,y.childCount,v.content)){if(t){let M=ue.empty;for(let E=b.length-1;E>=0;E--)M=ue.from(b[E].copy(M));let k=n.tr.step(new Bn(e.pos-b.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new ye(M,b.length,0),0,!0));t(k.scrollIntoView())}return!0}}return!1}function ZF(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(Ie.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const uie=ZF(-1),die=ZF(1);function fie(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&_D(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function LN(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(c,d)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)i=!0;else{let f=t.doc.resolve(d),p=f.index();i=f.parent.canReplaceWith(p,p+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[o];s.setBlockType(a,c,n,e)}r(s.scrollIntoView())}return!0}}function YD(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}YD(VD,UF,YF);YD(VD,qF,KF);YD(QF,GF,XF,aie);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hie(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let a=r?t.tr:null;return pie(a,o,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function pie(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new m0(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new m0(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=_D(s,t,r,e);return a?(n&&mie(n,e,a,i,t),!0):!1}function mie(n,e,t,r,i){let s=ue.empty;for(let f=t.length-1;f>=0;f--)s=ue.from(t[f].type.create(t[f].attrs,s));n.step(new Bn(e.start-(r?2:0),e.end,e.start,e.end,new ye(s,0,0),t.length,!0));let o=0;for(let f=0;f<t.length;f++)t[f].type==i&&(o=f+1);let a=t.length-o,c=e.start+t.length-(r?2:0),d=e.parent;for(let f=e.startIndex,p=e.endIndex,m=!0;f<p;f++,m=!1)!m&&Ro(n.doc,c,a)&&(n.split(c,a),c+=2*a),c+=d.child(f).nodeSize;return n}function gie(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?yie(e,t,n,s):bie(e,t,s):!0:!1}}function yie(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Bn(s-1,o,s,o,new ye(ue.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new m0(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=$d(r);if(a==null)return!1;i.lift(r,a);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return dl(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function bie(n,e,t){let r=n.tr,i=t.parent;for(let y=t.end,b=t.endIndex-1,v=t.startIndex;b>v;b--)y-=i.child(b).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,c=t.endIndex==i.childCount,d=s.node(-1),f=s.index(-1);if(!d.canReplace(f+(a?0:1),f+1,o.content.append(c?ue.empty:ue.from(i))))return!1;let p=s.pos,m=p+o.nodeSize;return r.step(new Bn(p-(a?1:0),m+(c?1:0),p+1,m-1,new ye((a?ue.empty:ue.from(i.copy(ue.empty))).append(c?ue.empty:ue.from(i.copy(ue.empty))),a?0:1,c?0:1),a?0:1)),e(r.scrollIntoView()),!0}function vie(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,c=a.child(o-1);if(c.type!=n)return!1;if(t){let d=c.lastChild&&c.lastChild.type==a.type,f=ue.from(d?n.create():null),p=new ye(ue.from(n.create(null,ue.from(a.type.create(null,f)))),d?3:1,0),m=s.start,y=s.end;t(e.tr.step(new Bn(m-(d?3:1),y,m,y,p,1,!0)).scrollIntoView())}return!0}}function kb(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class Eb{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...f)=>{const p=c(...f)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],c=!!e,d=e||s.tr,f=()=>(!c&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),a.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(r).map(([m,y])=>[m,(...v)=>{const w=this.buildProps(d,t),M=y(...v)(w);return a.push(M),p}])),run:f};return p}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...f)=>d(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:kb({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([c,d])=>[c,(...f)=>d(...f)(a)]))}};return a}}class xie{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function xe(n,e,t){return n.config[e]===void 0&&n.parent?xe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?xe(n.parent,e,t):null}):n.config[e]}function Tb(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function e3(n){const e=[],{nodeExtensions:t,markExtensions:r}=Tb(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},c=xe(o,"addGlobalAttributes",a);if(!c)return;c().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,y])=>{e.push({type:p,name:m,attribute:{...s,...y}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=xe(o,"addAttributes",a);if(!c)return;const d=c();Object.entries(d).forEach(([f,p])=>{const m={...s,...p};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:o.name,name:f,attribute:m})})}),e}function zn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Vn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],d=a.filter(f=>!c.includes(f));r[i]=[...c,...d].join(" ")}else if(i==="style"){const a=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;c.forEach(f=>{const[p,m]=f.split(":").map(y=>y.trim());d.set(p,m)}),a.forEach(f=>{const[p,m]=f.split(":").map(y=>y.trim());d.set(p,m)}),r[i]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[i]=s}),r},{})}function FS(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Vn(t,r),{})}function t3(n){return typeof n=="function"}function qe(n,e=void 0,...t){return t3(n)?e?n.bind(e)(...t):n(...t):n}function wie(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Sie(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function IN(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):Sie(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function jN(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&wie(t)?!1:t!=null))}function Mie(n,e){var t;const r=e3(n),{nodeExtensions:i,markExtensions:s}=Tb(n),o=(t=i.find(d=>xe(d,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(d=>{const f=r.filter(M=>M.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},m=n.reduce((M,k)=>{const E=xe(k,"extendNodeSchema",p);return{...M,...E?E(d):{}}},{}),y=jN({...m,content:qe(xe(d,"content",p)),marks:qe(xe(d,"marks",p)),group:qe(xe(d,"group",p)),inline:qe(xe(d,"inline",p)),atom:qe(xe(d,"atom",p)),selectable:qe(xe(d,"selectable",p)),draggable:qe(xe(d,"draggable",p)),code:qe(xe(d,"code",p)),whitespace:qe(xe(d,"whitespace",p)),linebreakReplacement:qe(xe(d,"linebreakReplacement",p)),defining:qe(xe(d,"defining",p)),isolating:qe(xe(d,"isolating",p)),attrs:Object.fromEntries(f.map(M=>{var k;return[M.name,{default:(k=M==null?void 0:M.attribute)===null||k===void 0?void 0:k.default}]}))}),b=qe(xe(d,"parseHTML",p));b&&(y.parseDOM=b.map(M=>IN(M,f)));const v=xe(d,"renderHTML",p);v&&(y.toDOM=M=>v({node:M,HTMLAttributes:FS(M,f)}));const w=xe(d,"renderText",p);return w&&(y.toText=w),[d.name,y]})),c=Object.fromEntries(s.map(d=>{const f=r.filter(w=>w.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},m=n.reduce((w,M)=>{const k=xe(M,"extendMarkSchema",p);return{...w,...k?k(d):{}}},{}),y=jN({...m,inclusive:qe(xe(d,"inclusive",p)),excludes:qe(xe(d,"excludes",p)),group:qe(xe(d,"group",p)),spanning:qe(xe(d,"spanning",p)),code:qe(xe(d,"code",p)),attrs:Object.fromEntries(f.map(w=>{var M;return[w.name,{default:(M=w==null?void 0:w.attribute)===null||M===void 0?void 0:M.default}]}))}),b=qe(xe(d,"parseHTML",p));b&&(y.parseDOM=b.map(w=>IN(w,f)));const v=xe(d,"renderHTML",p);return v&&(y.toDOM=w=>v({mark:w,HTMLAttributes:FS(w,f)})),[d.name,y]}));return new UB({topNode:o,nodes:a,marks:c})}function J1(n,e){return e.nodes[n]||e.marks[n]||null}function BN(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function WD(n,e){const t=Vc.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const Die=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var c,d;const f=((d=(c=i.type.spec).toText)===null||d===void 0?void 0:d.call(c,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,r-s))}),t};function qD(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ob{constructor(e){this.find=e.find,this.handler=e.handler}}const Cie=(n,e)=>{if(qD(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function zg(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:a}=n,{view:c}=t;if(c.composing)return!1;const d=c.state.doc.resolve(r);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const p=Die(d)+s;return o.forEach(m=>{if(f)return;const y=Cie(p,m.find);if(!y)return;const b=c.state.tr,v=kb({state:c.state,transaction:b}),w={from:r-(y[0].length-s.length),to:i},{commands:M,chain:k,can:E}=new Eb({editor:t,state:v});m.handler({state:v,range:w,match:y,commands:M,chain:k,can:E})===null||!b.steps.length||(b.setMeta(a,{transform:b,from:r,to:i,text:s}),c.dispatch(b),f=!0)}),f}function kie(n){const{editor:e,rules:t}=n,r=new Rr({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=WD(ue.from(f),o.schema);const{from:p}=c,m=p+f.length;zg({editor:e,from:p,to:m,text:f,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return zg({editor:e,from:s,to:o,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&zg({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?zg({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Eie(n){return Object.prototype.toString.call(n).slice(8,-1)}function Vg(n){return Eie(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function _b(n,e){const t={...n};return Vg(n)&&Vg(e)&&Object.keys(e).forEach(r=>{Vg(e[r])&&Vg(n[r])?t[r]=_b(n[r],e[r]):t[r]=e[r]}),t}class Vs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qe(xe(this,"addOptions",{name:this.name}))),this.storage=qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vs(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>_b(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Vs(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=qe(xe(t,"addOptions",{name:t.name})),t.storage=qe(xe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===t.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function Tie(n){return typeof n=="number"}class Oie{constructor(e){this.find=e.find,this.handler=e.handler}}const _ie=(n,e,t)=>{if(qD(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Aie(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:c,chain:d,can:f}=new Eb({editor:e,state:t}),p=[];return t.doc.nodesBetween(r,i,(y,b)=>{if(!y.isTextblock||y.type.spec.code)return;const v=Math.max(r,b),w=Math.min(i,b+y.content.size),M=y.textBetween(v-b,w-b,void 0,"￼");_ie(M,s.find,o).forEach(E=>{if(E.index===void 0)return;const A=v+E.index+1,T=A+E[0].length,P={from:t.tr.mapping.map(A),to:t.tr.mapping.map(T)},N=s.handler({state:t,range:P,match:E,commands:c,chain:d,can:f,pasteEvent:o,dropEvent:a});p.push(N)})}),p.every(y=>y!==null)}let Hg=null;const Rie=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Nie(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:f,from:p,to:m,rule:y,pasteEvt:b})=>{const v=f.tr,w=kb({state:f,transaction:v});if(!(!Aie({editor:e,state:w,from:Math.max(p-1,0),to:m.b-1,rule:y,pasteEvent:b,dropEvent:a})||!v.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return t.map(f=>new Rr({view(p){const m=b=>{var v;r=!((v=p.dom.parentElement)===null||v===void 0)&&v.contains(b.target)?p.dom.parentElement:null,r&&(Hg=e)},y=()=>{Hg&&(Hg=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(p,m)=>{if(s=r===p.dom.parentElement,a=m,!s){const y=Hg;y!=null&&y.isEditable&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,m)=>{var y;const b=(y=m.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return o=m,i=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(p,m,y)=>{const b=p[0],v=b.getMeta("uiEvent")==="paste"&&!i,w=b.getMeta("uiEvent")==="drop"&&!s,M=b.getMeta("applyPasteRules"),k=!!M;if(!v&&!w&&!k)return;if(k){let{text:T}=M;typeof T=="string"?T=T:T=WD(ue.from(T),y.schema);const{from:P}=M,N=P+T.length,_=Rie(T);return c({rule:f,state:y,from:P,to:{b:N},pasteEvt:_})}const E=m.doc.content.findDiffStart(y.doc.content),A=m.doc.content.findDiffEnd(y.doc.content);if(!(!Tie(E)||!A||E===A.b))return c({rule:f,state:y,from:E,to:A,pasteEvt:o})}}))}function Pie(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Fu{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Fu.resolve(e),this.schema=Mie(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Fu.sort(Fu.flatten(e)),r=Pie(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=xe(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=xe(r,"priority")||100,o=xe(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:J1(t.name,this.schema)},i=xe(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Fu.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:J1(o.name,this.schema)},c=[],d=xe(o,"addKeyboardShortcuts",a);let f={};if(o.type==="mark"&&xe(o,"exitable",a)&&(f.ArrowRight=()=>Vs.handleExit({editor:e,mark:o})),d){const v=Object.fromEntries(Object.entries(d()).map(([w,M])=>[w,()=>M({editor:e})]));f={...f,...v}}const p=Zre(f);c.push(p);const m=xe(o,"addInputRules",a);BN(o,e.options.enableInputRules)&&m&&r.push(...m());const y=xe(o,"addPasteRules",a);BN(o,e.options.enablePasteRules)&&y&&i.push(...y());const b=xe(o,"addProseMirrorPlugins",a);if(b){const v=b();c.push(...v)}return c}).flat();return[kie({editor:e,rules:r}),...Nie({editor:e,rules:i}),...s]}get attributes(){return e3(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Tb(this.extensions);return Object.fromEntries(t.filter(r=>!!xe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:zn(r.name,this.schema)},o=xe(r,"addNodeView",s);if(!o)return[];const a=(c,d,f,p,m)=>{const y=FS(c,i);return o()({node:c,view:d,getPos:f,decorations:p,innerDecorations:m,editor:e,extension:r,HTMLAttributes:y})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:J1(e.name,this.schema)};e.type==="mark"&&(!((t=qe(xe(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=xe(e,"onBeforeCreate",r),s=xe(e,"onCreate",r),o=xe(e,"onUpdate",r),a=xe(e,"onSelectionUpdate",r),c=xe(e,"onTransaction",r),d=xe(e,"onFocus",r),f=xe(e,"onBlur",r),p=xe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}}class Hn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qe(xe(this,"addOptions",{name:this.name}))),this.storage=qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>_b(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Hn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=qe(xe(t,"addOptions",{name:t.name})),t.storage=qe(xe(t,"addStorage",{name:t.name,options:t.options})),t}}function n3(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(r,i,(c,d,f,p)=>{var m;c.isBlock&&d>r&&(a+=s);const y=o==null?void 0:o[c.type.name];if(y)return f&&(a+=y({node:c,pos:d,parent:f,index:p,range:e})),!1;c.isText&&(a+=(m=c==null?void 0:c.text)===null||m===void 0?void 0:m.slice(Math.max(r,d)-d,i-d))}),a}function r3(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Lie=Hn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Rr({key:new rs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(f=>f.$from.pos)),a=Math.max(...s.map(f=>f.$to.pos)),c=r3(t);return n3(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Iie=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),jie=(n=!1)=>({commands:e})=>e.setContent("",n),Bie=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,c)=>{if(a.type.isText)return;const{doc:d,mapping:f}=e,p=d.resolve(f.map(c)),m=d.resolve(f.map(c+a.nodeSize)),y=p.blockRange(m);if(!y)return;const b=$d(y);if(a.type.isTextblock){const{defaultType:v}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(y.start,v)}(b||b===0)&&e.lift(y,b)})}),!0},Fie=n=>e=>n(e),zie=()=>({state:n,dispatch:e})=>GF(n,e),Vie=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Ie(r.doc.resolve(Math.max(o-1,0)))),!0},Hie=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),c=i.after(s);n.delete(a,c).scrollIntoView()}return!0}return!1},Uie=n=>({tr:e,state:t,dispatch:r})=>{const i=zn(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const c=s.before(o),d=s.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},$ie=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},Yie=()=>({state:n,dispatch:e})=>VD(n,e),Wie=()=>({commands:n})=>n.keyboardShortcut("Enter"),qie=()=>({state:n,dispatch:e})=>sie(n,e);function M0(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:qD(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function i3(n,e,t={}){return n.find(r=>r.type===e&&M0(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function FN(n,e,t={}){return!!i3(n,e,t)}function KD(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!i3([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,c=o+1,d=a+i.node.nodeSize;for(;o>0&&FN([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;c<n.parent.childCount&&FN([...n.parent.child(c).marks],e,t);)d+=n.parent.child(c).nodeSize,c+=1;return{from:a,to:d}}function hl(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const Kie=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=hl(n,r.schema),{doc:o,selection:a}=t,{$from:c,from:d,to:f}=a;if(i){const p=KD(c,s,e);if(p&&p.from<=d&&p.to>=f){const m=Ie.create(o,p.from,p.to);t.setSelection(m)}}return!0},Qie=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function s3(n){return n instanceof Ie}function Jl(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function o3(n,e=null){if(!e)return null;const t=He.atStart(n),r=He.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?Ie.create(n,Jl(0,i,s),Jl(n.content.size,i,s)):Ie.create(n,Jl(e,i,s),Jl(e,i,s))}function Gie(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function QD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Xie=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(QD()||Gie())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!s3(t.state.selection))return o(),!0;const a=o3(i.doc,n)||t.state.selection,c=t.state.selection.eq(a);return s&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Jie=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Zie=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),a3=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&a3(r)}return n};function Ug(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return a3(t)}function dp(n,e,t){if(n instanceof Qa||n instanceof ue)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ue.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),dp("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const c=new UB({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?Ga.fromSchema(c).parseSlice(Ug(n),t.parseOptions):Ga.fromSchema(c).parse(Ug(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Ga.fromSchema(e);return t.slice?s.parseSlice(Ug(n),t.parseOptions).content:s.parse(Ug(n),t.parseOptions)}return dp("",e,t)}function ese(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof In||i instanceof Bn))return;const s=n.mapping.maps[r];let o=0;s.forEach((a,c,d,f)=>{o===0&&(o=f)}),n.setSelection(He.near(n.doc.resolve(o),t))}const tse=n=>!("type"in n),nse=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const c=w=>{s.emit("contentError",{editor:s,error:w,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{dp(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(w){c(w)}try{a=dp(e,s.schema,{parseOptions:d,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(w){return c(w),!1}let{from:f,to:p}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((tse(a)?a:[a]).forEach(w=>{w.check(),m=m?w.isText&&w.marks.length===0:!1,y=y?w.isBlock:!1}),f===p&&y){const{parent:w}=r.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,p+=1)}let v;if(m){if(Array.isArray(e))v=e.map(w=>w.text||"").join("");else if(e instanceof ue){let w="";e.forEach(M=>{M.text&&(w+=M.text)}),v=w}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,f,p)}else v=a,r.replaceWith(f,p,v);t.updateSelection&&ese(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:v})}return!0},rse=()=>({state:n,dispatch:e})=>nie(n,e),ise=()=>({state:n,dispatch:e})=>rie(n,e),sse=()=>({state:n,dispatch:e})=>UF(n,e),ose=()=>({state:n,dispatch:e})=>qF(n,e),ase=()=>({state:n,dispatch:e,tr:t})=>{try{const r=xb(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},lse=()=>({state:n,dispatch:e,tr:t})=>{try{const r=xb(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},cse=()=>({state:n,dispatch:e})=>eie(n,e),use=()=>({state:n,dispatch:e})=>tie(n,e);function l3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function dse(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))QD()||l3()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const fse=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=dse(n).split(/-(?!$)/),o=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,a))});return c==null||c.steps.forEach(d=>{const f=d.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function fp(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?zn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(p,m)=>{if(p.isText)return;const y=Math.max(r,m),b=Math.min(i,m+p.nodeSize);a.push({node:p,from:y,to:b})});const c=i-r,d=a.filter(p=>o?o.name===p.node.type.name:!0).filter(p=>M0(p.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((p,m)=>p+m.to-m.from,0)>=c}const hse=(n,e={})=>({state:t,dispatch:r})=>{const i=zn(n,t.schema);return fp(t,i,e)?iie(t,r):!1},pse=()=>({state:n,dispatch:e})=>XF(n,e),mse=n=>({state:e,dispatch:t})=>{const r=zn(n,e.schema);return gie(r)(e,t)},gse=()=>({state:n,dispatch:e})=>QF(n,e);function Ab(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function zN(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const yse=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=Ab(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=zn(n,r.schema)),a==="mark"&&(o=hl(n,r.schema)),i&&t.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,f)=>{s&&s===d.type&&t.setNodeMarkup(f,void 0,zN(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(p=>{o===p.type&&t.addMark(f,f+d.nodeSize,o.create(zN(p.attrs,e)))})})}),!0):!1},bse=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),vse=()=>({tr:n,dispatch:e})=>{if(e){const t=new di(n.doc);n.setSelection(t)}return!0},xse=()=>({state:n,dispatch:e})=>YF(n,e),wse=()=>({state:n,dispatch:e})=>KF(n,e),Sse=()=>({state:n,dispatch:e})=>lie(n,e),Mse=()=>({state:n,dispatch:e})=>die(n,e),Dse=()=>({state:n,dispatch:e})=>uie(n,e);function zS(n,e,t={},r={}){return dp(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const Cse=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var c,d;const{doc:f}=s;if(t.preserveWhitespace!=="full"){const p=zS(n,i.schema,t,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return o&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:f.content.size},n,{parseOptions:t,errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck})};function c3(n,e){const t=hl(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{o.push(...c.marks)});const a=o.find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function kse(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Ese(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function GD(n){return e=>Ese(e.$from,n)}function Tse(n,e){const t={from:0,to:n.content.size};return n3(n,t,e)}function Ose(n,e){const t=zn(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function _se(n,e){const t=Ab(typeof e=="string"?e:e.name,n.schema);return t==="node"?Ose(n,e):t==="mark"?c3(n,e):{}}function u3(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=KD(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function by(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function VS(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?hl(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>M0(p.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:p,$to:m})=>{const y=p.pos,b=m.pos;n.doc.nodesBetween(y,b,(v,w)=>{if(!v.isText&&!v.marks.length)return;const M=Math.max(y,w),k=Math.min(b,w+v.nodeSize),E=k-M;o+=E,a.push(...v.marks.map(A=>({mark:A,from:M,to:k})))})}),o===0)return!1;const c=a.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>M0(p.mark.attrs,t,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),d=a.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,m)=>p+m.to-m.from,0);return(c>0?c+d:c)>=o}function Ase(n,e,t={}){if(!e)return fp(n,null,t)||VS(n,null,t);const r=Ab(e,n.schema);return r==="node"?fp(n,e,t):r==="mark"?VS(n,e,t):!1}function VN(n,e){const{nodeExtensions:t}=Tb(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=qe(xe(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Rb(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(Rb(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Rse(n){return n instanceof ke}function Nse(n,e,t){var r;const{selection:i}=e;let s=null;if(s3(i)&&(s=i.$cursor),s){const a=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(a)||!a.some(c=>c.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:a,$to:c})=>{let d=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,c.pos,(f,p,m)=>{if(d)return!1;if(f.isInline){const y=!m||m.type.allowsMarkType(t),b=!!t.isInSet(f.marks)||!f.marks.some(v=>v.type.excludes(t));d=y&&b}return!d}),d})}const Pse=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:a}=s,c=hl(n,r.schema);if(i)if(o){const d=c3(r,c);t.addStoredMark(c.create({...d,...e}))}else a.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;r.doc.nodesBetween(f,p,(m,y)=>{const b=Math.max(y,f),v=Math.min(y+m.nodeSize,p);m.marks.find(M=>M.type===c)?m.marks.forEach(M=>{c===M.type&&t.addMark(b,v,c.create({...M.attrs,...e}))}):t.addMark(b,v,c.create(e))})});return Nse(r,t,c)},Lse=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Ise=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=zn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>LN(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>LN(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},jse=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Jl(n,0,r.content.size),s=ke.create(r,i);e.setSelection(s)}return!0},Bse=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=Ie.atStart(r).from,a=Ie.atEnd(r).to,c=Jl(i,o,a),d=Jl(s,o,a),f=Ie.create(r,c,d);e.setSelection(f)}return!0},Fse=n=>({state:e,dispatch:t})=>{const r=zn(n,e.schema);return vie(r)(e,t)};function HN(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const zse=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:c}=s,d=i.extensionManager.attributes,f=by(d,a.node().type.name,a.node().attrs);if(s instanceof ke&&s.node.isBlock)return!a.parentOffset||!Ro(o,a.pos)?!1:(r&&(n&&HN(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,m=a.depth===0?void 0:kse(a.node(-1).contentMatchAt(a.indexAfter(-1)));let y=p&&m?[{type:m,attrs:f}]:void 0,b=Ro(e.doc,e.mapping.map(a.pos),1,y);if(!y&&!b&&Ro(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(b=!0,y=m?[{type:m,attrs:f}]:void 0),r){if(b&&(s instanceof Ie&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,y),m&&!p&&!a.parentOffset&&a.parent.type!==m)){const v=e.mapping.map(a.before()),w=e.doc.resolve(v);a.node(-1).canReplaceWith(w.index(),w.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}n&&HN(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},Vse=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const a=zn(n,r.schema),{$from:c,$to:d}=r.selection,f=r.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==a)return!1;const m=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let M=ue.empty;const k=c.index(-1)?1:c.index(-2)?2:3;for(let _=c.depth-k;_>=c.depth-3;_-=1)M=ue.from(c.node(_).copy(M));const E=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,A={...by(m,c.node().type.name,c.node().attrs),...e},T=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(A))||void 0;M=M.append(ue.from(a.createAndFill(null,T)||void 0));const P=c.before(c.depth-(k-1));t.replace(P,c.after(-E),new ye(M,4-k,0));let N=-1;t.doc.nodesBetween(P,t.doc.content.size,(_,L)=>{if(N>-1)return!1;_.isTextblock&&_.content.size===0&&(N=L+1)}),N>-1&&t.setSelection(Ie.near(t.doc.resolve(N))),t.scrollIntoView()}return!0}const y=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,b={...by(m,p.type.name,p.attrs),...e},v={...by(m,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,d.pos);const w=y?[{type:a,attrs:b},{type:y,attrs:v}]:[{type:a,attrs:b}];if(!Ro(t.doc,c.pos,2))return!1;if(i){const{selection:M,storedMarks:k}=r,{splittableMarks:E}=s.extensionManager,A=k||M.$to.parentOffset&&M.$from.marks();if(t.split(c.pos,2,w).scrollIntoView(),!A||!i)return!0;const T=A.filter(P=>E.includes(P.type.name));t.ensureMarks(T)}return!0},Z1=(n,e)=>{const t=GD(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&dl(n.doc,t.pos)&&n.join(t.pos),!0},ew=(n,e)=>{const t=GD(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&dl(n.doc,r)&&n.join(r),!0},Hse=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:c,commands:d,can:f})=>{const{extensions:p,splittableMarks:m}=i.extensionManager,y=zn(n,o.schema),b=zn(e,o.schema),{selection:v,storedMarks:w}=o,{$from:M,$to:k}=v,E=M.blockRange(k),A=w||v.$to.parentOffset&&v.$from.marks();if(!E)return!1;const T=GD(P=>VN(P.type.name,p))(v);if(E.depth>=1&&T&&E.depth-T.depth<=1){if(T.node.type===y)return d.liftListItem(b);if(VN(T.node.type.name,p)&&y.validContent(T.node.content)&&a)return c().command(()=>(s.setNodeMarkup(T.pos,y),!0)).command(()=>Z1(s,y)).command(()=>ew(s,y)).run()}return!t||!A||!a?c().command(()=>f().wrapInList(y,r)?!0:d.clearNodes()).wrapInList(y,r).command(()=>Z1(s,y)).command(()=>ew(s,y)).run():c().command(()=>{const P=f().wrapInList(y,r),N=A.filter(_=>m.includes(_.type.name));return s.ensureMarks(N),P?!0:d.clearNodes()}).wrapInList(y,r).command(()=>Z1(s,y)).command(()=>ew(s,y)).run()},Use=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=hl(n,r.schema);return VS(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},$se=(n,e,t={})=>({state:r,commands:i})=>{const s=zn(n,r.schema),o=zn(e,r.schema),a=fp(r,s,t);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),a?i.setNode(o,c):i.setNode(s,{...c,...t})},Yse=(n,e={})=>({state:t,commands:r})=>{const i=zn(n,t.schema);return fp(t,i,e)?r.lift(i):r.wrapIn(i,e)},Wse=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,a=s.transform;for(let c=a.steps.length-1;c>=0;c-=1)o.step(a.steps[c].invert(a.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},qse=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},Kse=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,c=hl(n,r.schema),{$from:d,empty:f,ranges:p}=a;if(!i)return!0;if(f&&o){let{from:m,to:y}=a;const b=(s=d.marks().find(w=>w.type===c))===null||s===void 0?void 0:s.attrs,v=KD(d,c,b);v&&(m=v.from,y=v.to),t.removeMark(m,y,c)}else p.forEach(m=>{t.removeMark(m.$from.pos,m.$to.pos,c)});return t.removeStoredMark(c),!0},Qse=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=Ab(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=zn(n,r.schema)),a==="mark"&&(o=hl(n,r.schema)),i&&t.selection.ranges.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;let p,m,y,b;t.selection.empty?r.doc.nodesBetween(d,f,(v,w)=>{s&&s===v.type&&(y=Math.max(w,d),b=Math.min(w+v.nodeSize,f),p=w,m=v)}):r.doc.nodesBetween(d,f,(v,w)=>{w<d&&s&&s===v.type&&(y=Math.max(w,d),b=Math.min(w+v.nodeSize,f),p=w,m=v),w>=d&&w<=f&&(s&&s===v.type&&t.setNodeMarkup(w,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(M=>{if(o===M.type){const k=Math.max(w,d),E=Math.min(w+v.nodeSize,f);t.addMark(k,E,o.create({...M.attrs,...e}))}}))}),m&&(p!==void 0&&t.setNodeMarkup(p,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(v=>{o===v.type&&t.addMark(y,b,o.create({...v.attrs,...e}))}))}),!0):!1},Gse=(n,e={})=>({state:t,dispatch:r})=>{const i=zn(n,t.schema);return fie(i,e)(t,r)},Xse=(n,e={})=>({state:t,dispatch:r})=>{const i=zn(n,t.schema);return hie(i,e)(t,r)};var Jse=Object.freeze({__proto__:null,blur:Iie,clearContent:jie,clearNodes:Bie,command:Fie,createParagraphNear:zie,cut:Vie,deleteCurrentNode:Hie,deleteNode:Uie,deleteRange:$ie,deleteSelection:Yie,enter:Wie,exitCode:qie,extendMarkRange:Kie,first:Qie,focus:Xie,forEach:Jie,insertContent:Zie,insertContentAt:nse,joinBackward:sse,joinDown:ise,joinForward:ose,joinItemBackward:ase,joinItemForward:lse,joinTextblockBackward:cse,joinTextblockForward:use,joinUp:rse,keyboardShortcut:fse,lift:hse,liftEmptyBlock:pse,liftListItem:mse,newlineInCode:gse,resetAttributes:yse,scrollIntoView:bse,selectAll:vse,selectNodeBackward:xse,selectNodeForward:wse,selectParentNode:Sse,selectTextblockEnd:Mse,selectTextblockStart:Dse,setContent:Cse,setMark:Pse,setMeta:Lse,setNode:Ise,setNodeSelection:jse,setTextSelection:Bse,sinkListItem:Fse,splitBlock:zse,splitListItem:Vse,toggleList:Hse,toggleMark:Use,toggleNode:$se,toggleWrap:Yse,undoInputRule:Wse,unsetAllMarks:qse,unsetMark:Kse,updateAttributes:Qse,wrapIn:Gse,wrapInList:Xse});const Zse=Hn.create({name:"commands",addCommands(){return{...Jse}}}),eoe=Hn.create({name:"drop",addProseMirrorPlugins(){return[new Rr({key:new rs("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),toe=Hn.create({name:"editable",addProseMirrorPlugins(){return[new Rr({key:new rs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),noe=new rs("focusEvents"),roe=Hn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Rr({key:noe,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ioe=Hn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:c,doc:d}=a,{empty:f,$anchor:p}=c,{pos:m,parent:y}=p,b=p.parent.isTextblock&&m>0?a.doc.resolve(m-1):p,v=b.parent.type.spec.isolating,w=p.pos-p.parentOffset,M=v&&b.parent.childCount===1?w===p.pos:He.atStart(d).from===m;return!f||!y.type.isTextblock||y.textContent.length||!M||M&&p.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return QD()||l3()?s:i},addProseMirrorPlugins(){return[new Rr({key:new rs("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(v=>v.getMeta("composition")))return;const r=n.some(v=>v.docChanged)&&!e.doc.eq(t.doc),i=n.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,c=He.atStart(e.doc).from,d=He.atEnd(e.doc).to;if(s||!(o===c&&a===d)||!Rb(t.doc))return;const m=t.tr,y=kb({state:t,transaction:m}),{commands:b}=new Eb({editor:this.editor,state:y});if(b.clearNodes(),!!m.steps.length)return m}})]}}),soe=Hn.create({name:"paste",addProseMirrorPlugins(){return[new Rr({key:new rs("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),ooe=Hn.create({name:"tabindex",addProseMirrorPlugins(){return[new Rr({key:new rs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class $l{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new $l(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new $l(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new $l(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const c=new $l(a,this.editor,i,i?t:null);i&&(c.actualDepth=this.depth+1),e.push(new $l(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const c=o[a];if(s[c]!==t[c])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(c=>t[c]===o.node.attrs[c])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const aoe=`.ProseMirror {
========
 */class IX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Pj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var po=new IX;const PA="transparent",jX={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=DA(n||PA),i=r.valid&&DA(e||PA);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class BX{constructor(e,t,r,i){const s=t[r];i=uh([e.to,i,s,e.from]);const o=uh([e.from,s,i]);this._active=!0,this._fn=e.fn||jX[e.type||typeof o],this._easing=Ch[e.easing]||Ch.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=uh([e.to,t,i,e.from]),this._from=uh([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let c;if(this._active=s!==a&&(o||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=s;return}c=t/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Zj{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!it(e))return;const t=Object.keys(Wt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!it(s))return;const o={};for(const a of t)o[a]=s[a];($t(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,i=zX(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&FX(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,t));continue}const f=t[d];let p=s[d];const m=r.get(d);if(p)if(m&&p.active()){p.update(m,f,a);continue}else p.cancel();if(!m||!m.duration){e[d]=f;continue}s[d]=p=new BX(m,e,d,f),i.push(p)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return po.add(this._chart,r),!0}}function FX(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function zX(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function LA(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function VX(n,e,t){if(t===!1)return!1;const r=LA(n,t),i=LA(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function HX(n){let e,t,r,i;return it(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function eB(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function IA(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let o,a,c,d;if(e===null)return;let f=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===t){if(f=!0,r.all)continue;break}d=n.values[c],ln(d)&&(s||e===0||As(e)===As(d))&&(e+=d)}return!f&&!r.all?0:e}function UX(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let c,d,f;for(c=0,d=o.length;c<d;++c)f=o[c],a[c]={[i]:f,[s]:n[f]};return a}function k1(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function $X(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function YX(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function WX(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function jA(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function BA(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,d=o.axis,f=$X(s,o,r),p=e.length;let m;for(let y=0;y<p;++y){const b=e[y],{[c]:v,[d]:w}=b,M=b._stacks||(b._stacks={});m=M[d]=WX(i,f,v),m[a]=w,m._top=jA(m,o,!0,r.type),m._bottom=jA(m,o,!1,r.type);const k=m._visualValues||(m._visualValues={});k[a]=w}}function E1(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function qX(n,e){return cl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function KX(n,e,t){return cl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Qf(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t],s[r]._visualValues!==void 0&&s[r]._visualValues[t]!==void 0&&delete s[r]._visualValues[t]}}}const T1=n=>n==="reset"||n==="none",FA=(n,e)=>e?n:Object.assign({},n),QX=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:eB(t,!0),values:null};class Qi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=k1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(p,m,y,b)=>p==="x"?m:p==="r"?b:y,s=t.xAxisID=je(r.xAxisID,E1(e,"x")),o=t.yAxisID=je(r.yAxisID,E1(e,"y")),a=t.rAxisID=je(r.rAxisID,E1(e,"r")),c=t.indexAxis,d=t.iAxisID=i(c,s,o,a),f=t.vAxisID=i(c,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wA(this._data,this),e._stacked&&Qf(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(it(t)){const i=this._cachedMeta;this._data=UX(t,i)}else if(r!==t){if(r){wA(r,this);const i=this._cachedMeta;Qf(i),i._parsed=[]}t&&Object.isExtensible(t)&&NG(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=k1(t.vScale,t),t.stack!==r.stack&&(i=!0,Qf(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&(BA(this,t._parsed),t._stacked=k1(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let c=e===0&&t===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,p,m;if(this._parsing===!1)r._parsed=i,r._sorted=!0,m=i;else{$t(i[e])?m=this.parseArrayData(r,i,e,t):it(i[e])?m=this.parseObjectData(r,i,e,t):m=this.parsePrimitiveData(r,i,e,t);const y=()=>p[a]===null||d&&p[a]<d[a];for(f=0;f<t;++f)r._parsed[f+e]=p=m[f],c&&(y()&&(c=!1),d=p);r._sorted=c}o&&BA(this,m)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:o}=e,a=s.axis,c=o.axis,d=s.getLabels(),f=s===o,p=new Array(i);let m,y,b;for(m=0,y=i;m<y;++m)b=m+r,p[m]={[a]:f||s.parse(d[b],b),[c]:o.parse(t[b],b)};return p}parseArrayData(e,t,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let c,d,f,p;for(c=0,d=i;c<d;++c)f=c+r,p=t[f],a[c]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return a}parseObjectData(e,t,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let f,p,m,y;for(f=0,p=i;f<p;++f)m=f+r,y=t[m],d[f]={x:s.parse(nl(y,a),m),y:o.parse(nl(y,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:eB(i,!0),values:t._stacks[e.axis]._visualValues};return IA(a,o,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let o=s===null?NaN:s;const a=i&&r._stacks[t.axis];i&&a&&(i.values=a,o=IA(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),c=QX(t,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=YX(a);let m,y;function b(){y=i[m];const v=y[a.axis];return!ln(y[e.axis])||f>v||p<v}for(m=0;m<o&&!(!b()&&(this.updateRangeFromParsed(d,e,y,c),s));++m);if(s){for(m=o-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(d,e,y,c);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],ln(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=HX(je(this.options.clip,VX(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,a,c),f=a;f<a+c;++f){const p=i[f];p.hidden||(p.active&&d?o.push(p):p.draw(e,s))}for(f=0;f<o.length;++f)o[f].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=KX(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=qX(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],c=this.enableOptionSharing&&Xh(r);if(a)return FA(a,c);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),f),y=Object.keys(Wt.elements[e]),b=()=>this.getContext(r,i,t),v=d.resolveNamedOptions(m,y,b,p);return v.$shared&&(v.$shared=c,s[o]=Object.freeze(FA(v,c))),v}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let c;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,t),m=f.getOptionScopes(this.getDataset(),p);c=f.createResolver(m,this.getContext(e,r,t))}const d=new Zj(i,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||T1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:o}}updateElement(e,t,r,i){T1(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!T1(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,c,d]of this._syncList)this[a](c,d);this._syncList=[];const i=r.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,o=e+t;let a;const c=d=>{for(d.length+=t,a=d.length-1;a>=o;a--)d[a]=d[a-t]};for(c(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Qf(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(Qi,"defaults",{}),X(Qi,"datasetElementType",null),X(Qi,"dataElementType",null);function GX(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=Nj(r.sort((i,s)=>i-s))}return n._cache.$bar}function XX(n){const e=n.iScale,t=GX(e,n.type);let r=e._length,i,s,o,a;const c=()=>{o===32767||o===-32768||(Xh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function JX(n,e,t,r){const i=t.barThickness;let s,o;return nt(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}function ZX(n,e,t,r){const i=e.pixels,s=i[n];let o=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const d=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:t.barPercentage,start:d}}function eJ(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),a=Math.max(i,s);let c=o,d=a;Math.abs(o)>Math.abs(a)&&(c=a,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:i,end:s,min:o,max:a}}function tB(n,e,t,r){return $t(n)?eJ(n,e,t,r):e[t.axis]=t.parse(n,r),e}function zA(n,e,t,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),a=i===s,c=[];let d,f,p,m;for(d=t,f=t+r;d<f;++d)m=e[d],p={},p[i.axis]=a||i.parse(o[d],d),c.push(tB(m,p,s,d));return c}function O1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tJ(n,e,t){return n!==0?As(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nJ(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function rJ(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:d,bottom:f}=nJ(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=d:(t._bottom||0)===r?i=f:(s[VA(f,o,a,c)]=!0,i=d)),s[VA(i,o,a,c)]=!0,n.borderSkipped=s}function VA(n,e,t,r){return r?(n=iJ(n,e,t),n=HA(n,t,e)):n=HA(n,e,t),n}function iJ(n,e,t){return n===e?t:n===t?e:n}function HA(n,e,t){return n==="start"?e:n==="end"?t:n}function sJ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Eh extends Qi{parsePrimitiveData(e,t,r,i){return zA(e,t,r,i)}parseArrayData(e,t,r,i){return zA(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?a:c,f=o.axis==="x"?a:c,p=[];let m,y,b,v;for(m=r,y=r+i;m<y;++m)v=t[m],b={},b[s.axis]=s.parse(nl(v,d),m),p.push(tB(nl(v,f),b,o,m));return p}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),o=s._custom,a=O1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),d=a.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,i);for(let y=t;y<t+r;y++){const b=this.getParsed(y),v=s||nt(b[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),w=this._calculateBarIndexPixels(y,f),M=(b._stacks||{})[a.axis],k={horizontal:d,base:v.base,enableBorderRadius:!M||O1(b._custom)||o===M._top||o===M._bottom,x:d?v.head:w.center,y:d?w.center:v.head,height:d?w.size:Math.abs(v.size),width:d?Math.abs(v.size):w.size};m&&(k.options=p||this.resolveDataElementOptions(y,e[y].active?"active":i));const E=k.options||e[y].options;rJ(k,E,M,o),sJ(k,E,f.ratio),this.updateElement(e[y],y,k,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),c=a&&a[r.axis],d=f=>{const p=f._parsed.find(y=>y[r.axis]===c),m=p&&p[f.vScale.axis];if(nt(m)||isNaN(m))return!0};for(const f of i)if(!(t!==void 0&&d(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[je(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,o;for(s=0,o=t.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||XX(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,c=this.getParsed(e),d=c._custom,f=O1(d);let p=c[t.axis],m=0,y=r?this.applyStack(t,c,r):p,b,v;y!==p&&(m=y-p,y=p),f&&(p=d.barStart,y=d.barEnd-d.barStart,p!==0&&As(p)!==As(d.barEnd)&&(m=0),m+=p);const w=!nt(s)&&!f?s:m;let M=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(m+y):b=M,v=b-M,Math.abs(v)<o){v=tJ(v,t,a)*o,p===a&&(M-=v/2);const k=t.getPixelForDecimal(0),E=t.getPixelForDecimal(1),_=Math.min(k,E),T=Math.max(k,E);M=Math.max(Math.min(M,T),_),b=M+v,r&&!f&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(b)-t.getValueForPixel(M))}if(M===t.getPixelForValue(a)){const k=As(v)*t.getLineWidthForValue(a)/2;M+=k,v-=k}return{size:v,base:M,head:b,center:b+v/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,o=je(i.maxBarThickness,1/0);let a,c;const d=this._getAxisCount();if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,p=i.barThickness==="flex"?ZX(e,t,i,f*d):JX(e,t,i,f*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(je(m,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+y;a=p.start+p.chunk*b+p.chunk/2,c=Math.min(o,p.chunk*p.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(o,t.min*t.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}X(Eh,"id","bar"),X(Eh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),X(Eh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class fy extends Qi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){const s=super.parsePrimitiveData(e,t,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,t,r,i){const s=super.parseArrayData(e,t,r,i);for(let o=0;o<s.length;o++){const a=t[r+o];s[o]._custom=je(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,t,r,i){const s=super.parseObjectData(e,t,r,i);for(let o=0;o<s.length;o++){const a=t[r+o];s[o]._custom=je(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),c=s.getLabelForValue(o.y),d=o._custom;return{label:r[e]||"",value:"("+a+", "+c+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,i),f=o.axis,p=a.axis;for(let m=t;m<t+r;m++){const y=e[m],b=!s&&this.getParsed(m),v={},w=v[f]=s?o.getPixelForDecimal(.5):o.getPixelForValue(b[f]),M=v[p]=s?a.getBasePixel():a.getPixelForValue(b[p]);v.skip=isNaN(w)||isNaN(M),d&&(v.options=c||this.resolveDataElementOptions(m,y.active?"active":i),s&&(v.options.radius=0)),this.updateElement(y,m,v,i)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=je(r&&r._custom,s),i}}X(fy,"id","bubble"),X(fy,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),X(fy,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function oJ(n,e,t){let r=1,i=1,s=0,o=0;if(e<Ht){const a=n,c=a+e,d=Math.cos(a),f=Math.sin(a),p=Math.cos(c),m=Math.sin(c),y=(E,_,T)=>Jh(E,a,c,!0)?1:Math.max(_,_*t,T,T*t),b=(E,_,T)=>Jh(E,a,c,!0)?-1:Math.min(_,_*t,T,T*t),v=y(0,d,p),w=y(mn,f,m),M=b(pt,d,p),k=b(pt+mn,f,m);r=(v-M)/2,i=(w-k)/2,s=-(v+M)/2,o=-(w+k)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Ba extends Qi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=c=>+r[c];if(it(r[e])){const{key:c="value"}=this._parsing;s=d=>+nl(r[d],c)}let o,a;for(o=e,a=e+t;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Ki(this.options.rotation-90)}_getCircumference(){return Ki(this.options.circumference)}_getRotationExtents(){let e=Ht,t=-Ht;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),c=Math.min(bG(this.options.cutout,a),1),d=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:m,ratioY:y,offsetX:b,offsetY:v}=oJ(p,f,c),w=(r.width-o)/m,M=(r.height-o)/y,k=Math.max(Math.min(w,M)/2,0),E=Tj(this.options.radius,k),_=Math.max(E*c,0),T=(E-_)/this._getVisibleDatasetWeightTotal();this.offsetX=b*E,this.offsetY=v*E,i.total=this.calculateTotal(),this.outerRadius=E-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Ht)}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,d=o.options.animation,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2,m=s&&d.animateScale,y=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(t,i);let M=this._getRotation(),k;for(k=0;k<t;++k)M+=this._circumference(k,s);for(k=t;k<t+r;++k){const E=this._circumference(k,s),_=e[k],T={x:f+this.offsetX,y:p+this.offsetY,startAngle:M,endAngle:M+E,circumference:E,outerRadius:b,innerRadius:y};w&&(T.options=v||this.resolveDataElementOptions(k,_.active?"active":i)),M+=E,this.updateElement(_,k,T,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ht*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Hp(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,o,a,c;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}X(Ba,"id","doughnut"),X(Ba,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),X(Ba,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),X(Ba,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Th extends Qi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:a,count:c}=Ij(t,i,o);this._drawStart=a,this._drawCount=c,jj(t)&&(a=0,c=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},e),this.updateElements(i,a,c,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i),m=o.axis,y=a.axis,{spanGaps:b,segment:v}=this.options,w=bd(b)?b:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||s||i==="none",k=t+r,E=e.length;let _=t>0&&this.getParsed(t-1);for(let T=0;T<E;++T){const P=e[T],N=M?P:{};if(T<t||T>=k){N.skip=!0;continue}const A=this.getParsed(T),L=nt(A[y]),I=N[m]=o.getPixelForValue(A[m],T),V=N[y]=s||L?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,A,c):A[y],T);N.skip=isNaN(I)||isNaN(V)||L,N.stop=T>0&&Math.abs(A[m]-_[m])>w,v&&(N.parsed=A,N.raw=d.data[T]),p&&(N.options=f||this.resolveDataElementOptions(T,P.active?"active":i)),M||this.updateElement(P,T,N,i),_=A}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}X(Th,"id","line"),X(Th,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),X(Th,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Oh extends Qi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Hp(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return Yj.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,i){const s=i==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,p=d.yCenter,m=d.getIndexAngle(0)-.5*pt;let y=m,b;const v=360/this.countVisibleElements();for(b=0;b<t;++b)y+=this._computeAngle(b,i,v);for(b=t;b<t+r;b++){const w=e[b];let M=y,k=y+this._computeAngle(b,i,v),E=o.getDataVisibility(b)?d.getDistanceFromCenterForValue(this.getParsed(b).r):0;y=k,s&&(c.animateScale&&(E=0),c.animateRotate&&(M=k=m));const _={x:f,y:p,innerRadius:0,outerRadius:E,startAngle:M,endAngle:k,options:this.resolveDataElementOptions(b,w.active?"active":i)};this.updateElement(w,b,_,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?Ki(this.resolveDataElementOptions(e,t).angle||r):0}}X(Oh,"id","polarArea"),X(Oh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),X(Oh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class pS extends Ba{}X(pS,"id","pie"),X(pS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class _h extends Qi{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return Yj.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=t;a<t+r;a++){const c=e[a],d=this.resolveDataElementOptions(a,c.active?"active":i),f=s.getPointPositionForValue(a,this.getParsed(a).r),p=o?s.xCenter:f.x,m=o?s.yCenter:f.y,y={x:p,y:m,angle:f.angle,skip:isNaN(p)||isNaN(m),options:d};this.updateElement(c,a,y,i)}}}X(_h,"id","radar"),X(_h,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),X(_h,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hy extends Qi{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),a=i.getLabelForValue(o.x),c=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+c+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:o}=Ij(t,r,i);if(this._drawStart=s,this._drawCount=o,jj(t)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=r;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(t,i),p=this.getSharedOptions(f),m=this.includeOptions(i,p),y=o.axis,b=a.axis,{spanGaps:v,segment:w}=this.options,M=bd(v)?v:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||i==="none";let E=t>0&&this.getParsed(t-1);for(let _=t;_<t+r;++_){const T=e[_],P=this.getParsed(_),N=k?T:{},A=nt(P[b]),L=N[y]=o.getPixelForValue(P[y],_),I=N[b]=s||A?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,P,c):P[b],_);N.skip=isNaN(L)||isNaN(I)||A,N.stop=_>0&&Math.abs(P[y]-E[y])>M,w&&(N.parsed=P,N.raw=d.data[_]),m&&(N.options=p||this.resolveDataElementOptions(_,T.active?"active":i)),k||this.updateElement(T,_,N,i),E=P}this.updateSharedOptions(p,i,f)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let c=t.length-1;c>=0;--c)a=Math.max(a,t[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,o)/2}}X(hy,"id","scatter"),X(hy,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),X(hy,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var aJ=Object.freeze({__proto__:null,BarController:Eh,BubbleController:fy,DoughnutController:Ba,LineController:Th,PieController:pS,PolarAreaController:Oh,RadarController:_h,ScatterController:hy});function Ll(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ED{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(ED.prototype,e)}init(){}formats(){return Ll()}parse(){return Ll()}format(){return Ll()}add(){return Ll()}diff(){return Ll()}startOf(){return Ll()}endOf(){return Ll()}}var lJ={_date:ED};function cJ(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const d=a._reversePixels?AG:So;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const m=d(s,e,t-p),y=d(s,e,t+p);return{lo:m.lo,hi:y.hi}}}}else{const f=d(s,e,t);if(c){const{vScale:p}=i._cachedMeta,{_parsed:m}=n,y=m.slice(0,f.lo+1).reverse().findIndex(v=>!nt(v[p.axis]));f.lo-=Math.max(0,y);const b=m.slice(f.hi).findIndex(v=>!nt(v[p.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:s.length-1}}function mb(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,c=s.length;a<c;++a){const{index:d,data:f}=s[a],{lo:p,hi:m}=cJ(s[a],e,o,i);for(let y=p;y<=m;++y){const b=f[y];b.skip||r(b,d,y)}}}function uJ(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _1(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||mb(n,t,e,function(a,c,d){!i&&!Mo(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:d})},!0),s}function dJ(n,e,t,r){let i=[];function s(o,a,c){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=Aj(o,{x:e.x,y:e.y});Jh(p,d,f)&&i.push({element:o,datasetIndex:a,index:c})}return mb(n,t,e,s),i}function fJ(n,e,t,r,i,s){let o=[];const a=uJ(t);let c=Number.POSITIVE_INFINITY;function d(f,p,m){const y=f.inRange(e.x,e.y,i);if(r&&!y)return;const b=f.getCenterPoint(i);if(!(!!s||n.isPointInArea(b))&&!y)return;const w=a(e,b);w<c?(o=[{element:f,datasetIndex:p,index:m}],c=w):w===c&&o.push({element:f,datasetIndex:p,index:m})}return mb(n,t,e,d),o}function A1(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?dJ(n,e,t,i):fJ(n,e,t,r,i,s)}function UA(n,e,t,r,i){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return mb(n,t,e,(c,d,f)=>{c[o]&&c[o](e[t],i)&&(s.push({element:c,datasetIndex:d,index:f}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var hJ={modes:{index(n,e,t,r){const i=Fl(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?_1(n,i,s,r,o):A1(n,i,s,!1,r,o),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const f=a[0].index,p=d.data[f];p&&!p.skip&&c.push({element:p,datasetIndex:d.index,index:f})}),c):[]},dataset(n,e,t,r){const i=Fl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?_1(n,i,s,r,o):A1(n,i,s,!1,r,o);if(a.length>0){const c=a[0].datasetIndex,d=n.getDatasetMeta(c).data;a=[];for(let f=0;f<d.length;++f)a.push({element:d[f],datasetIndex:c,index:f})}return a},point(n,e,t,r){const i=Fl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return _1(n,i,s,r,o)},nearest(n,e,t,r){const i=Fl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return A1(n,i,s,t.intersect,r,o)},x(n,e,t,r){const i=Fl(e,n);return UA(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=Fl(e,n);return UA(n,i,"y",t.intersect,r)}}};const nB=["left","top","right","bottom"];function Gf(n,e){return n.filter(t=>t.pos===e)}function $A(n,e){return n.filter(t=>nB.indexOf(t.pos)===-1&&t.box.axis===e)}function Xf(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function pJ(n){const e=[];let t,r,i,s,o,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function mJ(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!nB.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function gJ(n,e){const t=mJ(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:c}=a.box,d=t[a.stack],f=d&&a.stackWeight/d.weight;a.horizontal?(a.width=f?f*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=f?f*i:c&&e.availableHeight)}return t}function yJ(n){const e=pJ(n),t=Xf(e.filter(d=>d.box.fullSize),!0),r=Xf(Gf(e,"left"),!0),i=Xf(Gf(e,"right")),s=Xf(Gf(e,"top"),!0),o=Xf(Gf(e,"bottom")),a=$A(e,"x"),c=$A(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Gf(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function YA(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function rB(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function bJ(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!it(i)){t.size&&(n[i]-=t.size);const p=r[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?s.height:s.width),t.size=p.size/p.count,n[i]+=t.size}s.getPadding&&rB(o,s.getPadding());const a=Math.max(0,e.outerWidth-YA(o,n,"left","right")),c=Math.max(0,e.outerHeight-YA(o,n,"top","bottom")),d=a!==n.w,f=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:d,other:f}:{same:f,other:d}}function vJ(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function xJ(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return r(n?["left","right"]:["top","bottom"])}function dh(n,e,t,r){const i=[];let s,o,a,c,d,f;for(s=0,o=n.length,d=0;s<o;++s){a=n[s],c=a.box,c.update(a.width||e.w,a.height||e.h,xJ(a.horizontal,e));const{same:p,other:m}=bJ(e,t,a,r);d|=p&&i.length,f=f||m,c.fullSize||i.push(a)}return d&&dh(i,e,t,r)||f}function Og(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function WA(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const a of n){const c=a.box,d=r[a.stack]||{placed:0,weight:1},f=a.stackWeight/d.weight||1;if(a.horizontal){const p=e.w*f,m=d.size||c.height;Xh(d.start)&&(o=d.start),c.fullSize?Og(c,i.left,o,t.outerWidth-i.right-i.left,m):Og(c,e.left+d.placed,o,p,m),d.start=o,d.placed+=p,o=c.bottom}else{const p=e.h*f,m=d.size||c.width;Xh(d.start)&&(s=d.start),c.fullSize?Og(c,s,i.top,m,t.outerHeight-i.bottom-i.top):Og(c,s,e.top+d.placed,m,p),d.start=s,d.placed+=p,s=c.right}}e.x=s,e.y=o}var fr={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=mr(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),a=yJ(n.boxes),c=a.vertical,d=a.horizontal;Dt(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const f=c.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),m=Object.assign({},i);rB(m,mr(r));const y=Object.assign({maxPadding:m,w:s,h:o,x:i.left,y:i.top},i),b=gJ(c.concat(d),p);dh(a.fullSize,y,p,b),dh(c,y,p,b),dh(d,y,p,b)&&dh(c,y,p,b),vJ(y),WA(a.leftAndTop,y,p,b),y.x+=y.w,y.y+=y.h,WA(a.rightAndBottom,y,p,b),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Dt(a.chartArea,v=>{const w=v.box;Object.assign(w,n.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class iB{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class wJ extends iB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const py="$chartjs",SJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qA=n=>n===null||n==="";function MJ(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[py]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",qA(i)){const s=_A(n,"width");s!==void 0&&(n.width=s)}if(qA(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=_A(n,"height");s!==void 0&&(n.height=s)}return n}const sB=DX?{passive:!0}:!1;function DJ(n,e,t){n&&n.addEventListener(e,t,sB)}function CJ(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,sB)}function kJ(n,e){const t=SJ[n.type]||n.type,{x:r,y:i}=Fl(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function c0(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function EJ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||c0(a.addedNodes,r),o=o&&!c0(a.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function TJ(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||c0(a.removedNodes,r),o=o&&!c0(a.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const ep=new Map;let KA=0;function oB(){const n=window.devicePixelRatio;n!==KA&&(KA=n,ep.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function OJ(n,e){ep.size||window.addEventListener("resize",oB),ep.set(n,e)}function _J(n){ep.delete(n),ep.size||window.removeEventListener("resize",oB)}function AJ(n,e,t){const r=n.canvas,i=r&&kD(r);if(!i)return;const s=Lj((a,c)=>{const d=i.clientWidth;t(a,c),d<i.clientWidth&&t()},window),o=new ResizeObserver(a=>{const c=a[0],d=c.contentRect.width,f=c.contentRect.height;d===0&&f===0||s(d,f)});return o.observe(i),OJ(n,s),o}function R1(n,e,t){t&&t.disconnect(),e==="resize"&&_J(n)}function RJ(n,e,t){const r=n.canvas,i=Lj(s=>{n.ctx!==null&&t(kJ(s,n))},n);return DJ(r,e,i),i}class NJ extends iB{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(MJ(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[py])return!1;const r=t[py].initial;["height","width"].forEach(s=>{const o=r[s];nt(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[py],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),o={attach:EJ,detach:TJ,resize:AJ}[t]||RJ;i[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:R1,detach:R1,resize:R1}[t]||CJ)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return MX(e,t,r,i)}isAttached(e){const t=e&&kD(e);return!!(t&&t.isConnected)}}function PJ(n){return!CD()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?wJ:NJ}var Xg;let Vo=(Xg=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return bd(this.x)&&bd(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},X(Xg,"defaults",{}),X(Xg,"defaultRoutes"),Xg);function LJ(n,e){const t=n.options.ticks,r=IJ(n),i=Math.min(t.maxTicksLimit||r,r),s=t.major.enabled?BJ(e):[],o=s.length,a=s[0],c=s[o-1],d=[];if(o>i)return FJ(e,d,s,o/i),d;const f=jJ(s,e,i);if(o>0){let p,m;const y=o>1?Math.round((c-a)/(o-1)):null;for(_g(e,d,f,nt(y)?0:a-y,a),p=0,m=o-1;p<m;p++)_g(e,d,f,s[p],s[p+1]);return _g(e,d,f,c,nt(y)?e.length:c+y),d}return _g(e,d,f),d}function IJ(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function jJ(n,e,t){const r=zJ(n),i=e.length/t;if(!r)return Math.max(i,1);const s=kG(r);for(let o=0,a=s.length-1;o<a;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}function BJ(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function FJ(n,e,t,r){let i=0,s=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}function _g(n,e,t,r,i){const s=je(r,0),o=Math.min(je(i,n.length),n.length);let a=0,c,d,f;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),f=s;f<0;)a++,f=Math.round(s+a*t);for(d=Math.max(s,0);d<o;d++)d===f&&(e.push(n[d]),a++,f=Math.round(s+a*t))}function zJ(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const VJ=n=>n==="left"?"right":n==="right"?"left":n,QA=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,GA=(n,e)=>Math.min(e||n,n);function XA(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function HJ(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,a=1e-6;let c=n.getPixelForTick(i),d;if(!(t&&(r===1?d=Math.max(c-s,o-c):e===0?d=(n.getPixelForTick(1)-c)/2:d=(c-n.getPixelForTick(i-1))/2,c+=i<e?d:-d,c<s-a||c>o+a)))return c}function UJ(n,e){Dt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Jf(n){return n.drawTicks?n.tickLength:0}function JA(n,e){if(!n.display)return 0;const t=En(n.font,e),r=mr(n.padding);return($t(n.text)?n.text.length:1)*t.lineHeight+r.height}function $J(n,e){return cl(n,{scale:e,type:"scale"})}function YJ(n,e,t){return cl(n,{tick:t,index:e,type:"tick"})}function WJ(n,e,t){let r=vD(n);return(t&&e!=="right"||!t&&e==="right")&&(r=VJ(r)),r}function qJ(n,e,t,r){const{top:i,left:s,bottom:o,right:a,chart:c}=n,{chartArea:d,scales:f}=c;let p=0,m,y,b;const v=o-i,w=a-s;if(n.isHorizontal()){if(y=sr(r,s,a),it(t)){const M=Object.keys(t)[0],k=t[M];b=f[M].getPixelForValue(k)+v-e}else t==="center"?b=(d.bottom+d.top)/2+v-e:b=QA(n,t,e);m=a-s}else{if(it(t)){const M=Object.keys(t)[0],k=t[M];y=f[M].getPixelForValue(k)-w+e}else t==="center"?y=(d.left+d.right)/2-w+e:y=QA(n,t,e);b=sr(r,o,i),p=t==="left"?-mn:mn}return{titleX:y,titleY:b,maxWidth:m,rotation:p}}class Fc extends Vo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=si(e,Number.POSITIVE_INFINITY),t=si(t,Number.NEGATIVE_INFINITY),r=si(r,Number.POSITIVE_INFINITY),i=si(i,Number.NEGATIVE_INFINITY),{min:si(e,r),max:si(t,i),minDefined:ln(e),maxDefined:ln(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let c=0,d=a.length;c<d;++c)o=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:si(t,si(r,t)),max:si(r,si(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tX(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?XA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=LJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jt(this.options.afterUpdate,[this])}beforeSetDimensions(){jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=jt(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=GA(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation;let o=i,a,c,d;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,m=f.highest.height,y=In(this.chart.width-p,0,this.maxWidth);a=e.offset?this.maxWidth/r:y/(r-1),p+6>a&&(a=y/(r-(e.offset?.5:1)),c=this.maxHeight-Jf(e.grid)-t.padding-JA(e.title,this.chart.options.font),d=Math.sqrt(p*p+m*m),o=yD(Math.min(Math.asin(In((f.highest.height+6)/a,-1,1)),Math.asin(In(c/d,-1,1))-Math.asin(In(m/d,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=JA(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=Jf(s)+c):(e.height=this.maxHeight,e.width=Jf(s)+c),r.display&&this.ticks.length){const{first:d,last:f,widest:p,highest:m}=this._getLabelSizes(),y=r.padding*2,b=Ki(this.labelRotation),v=Math.cos(b),w=Math.sin(b);if(a){const M=r.mirror?0:w*p.width+v*m.height;e.height=Math.min(this.maxHeight,e.height+M+y)}else{const M=r.mirror?0:v*p.width+w*m.height;e.width=Math.min(this.maxWidth,e.width+M+y)}this._calculatePadding(d,f,w,v)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,d=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,y=0;c?d?(m=i*e.width,y=r*t.height):(m=r*e.height,y=i*t.width):s==="start"?y=t.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,y=t.width/2),this.paddingLeft=Math.max((m-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=t.height/2,p=e.height/2;s==="start"?(f=0,p=e.height):s==="end"&&(f=t.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)nt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=XA(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(t/GA(t,r));let d=0,f=0,p,m,y,b,v,w,M,k,E,_,T;for(p=0;p<t;p+=c){if(b=e[p].label,v=this._resolveTickFontOptions(p),i.font=w=v.string,M=s[w]=s[w]||{data:{},gc:[]},k=v.lineHeight,E=_=0,!nt(b)&&!$t(b))E=a0(i,M.data,M.gc,E,b),_=k;else if($t(b))for(m=0,y=b.length;m<y;++m)T=b[m],!nt(T)&&!$t(T)&&(E=a0(i,M.data,M.gc,E,T),_+=k);o.push(E),a.push(_),d=Math.max(E,d),f=Math.max(_,f)}UJ(s,t);const P=o.indexOf(d),N=a.indexOf(f),A=L=>({width:o[L]||0,height:a[L]||0});return{first:A(0),last:A(t-1),widest:A(P),highest:A(N),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _G(this._alignToPixels?Pl(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=YJ(this.getContext(),e,r))}return this.$context||(this.$context=$J(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ki(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,d=this.isHorizontal(),p=this.ticks.length+(c?1:0),m=Jf(s),y=[],b=a.setContext(this.getContext()),v=b.display?b.width:0,w=v/2,M=function(F){return Pl(r,F,v)};let k,E,_,T,P,N,A,L,I,V,q,ae;if(o==="top")k=M(this.bottom),N=this.bottom-m,L=k-w,V=M(e.top)+w,ae=e.bottom;else if(o==="bottom")k=M(this.top),V=e.top,ae=M(e.bottom)-w,N=k+w,L=this.top+m;else if(o==="left")k=M(this.right),P=this.right-m,A=k-w,I=M(e.left)+w,q=e.right;else if(o==="right")k=M(this.left),I=e.left,q=M(e.right)-w,P=k+w,A=this.left+m;else if(t==="x"){if(o==="center")k=M((e.top+e.bottom)/2+.5);else if(it(o)){const F=Object.keys(o)[0],U=o[F];k=M(this.chart.scales[F].getPixelForValue(U))}V=e.top,ae=e.bottom,N=k+w,L=N+m}else if(t==="y"){if(o==="center")k=M((e.left+e.right)/2);else if(it(o)){const F=Object.keys(o)[0],U=o[F];k=M(this.chart.scales[F].getPixelForValue(U))}P=k-w,A=P-m,I=e.left,q=e.right}const de=je(i.ticks.maxTicksLimit,p),oe=Math.max(1,Math.ceil(p/de));for(E=0;E<p;E+=oe){const F=this.getContext(E),U=s.setContext(F),J=a.setContext(F),ce=U.lineWidth,j=U.color,Z=J.dash||[],se=J.dashOffset,le=U.tickWidth,he=U.tickColor,De=U.tickBorderDash||[],fe=U.tickBorderDashOffset;_=HJ(this,E,c),_!==void 0&&(T=Pl(r,_,ce),d?P=A=I=q=T:N=L=V=ae=T,y.push({tx1:P,ty1:N,tx2:A,ty2:L,x1:I,y1:V,x2:q,y2:ae,width:ce,color:j,borderDash:Z,borderDashOffset:se,tickWidth:le,tickColor:he,tickBorderDash:De,tickBorderDashOffset:fe}))}return this._ticksLength=p,this._borderValue=k,y}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:d,padding:f,mirror:p}=s,m=Jf(r.grid),y=m+f,b=p?-f:y,v=-Ki(this.labelRotation),w=[];let M,k,E,_,T,P,N,A,L,I,V,q,ae="middle";if(i==="top")P=this.bottom-b,N=this._getXAxisLabelAlignment();else if(i==="bottom")P=this.top+b,N=this._getXAxisLabelAlignment();else if(i==="left"){const oe=this._getYAxisLabelAlignment(m);N=oe.textAlign,T=oe.x}else if(i==="right"){const oe=this._getYAxisLabelAlignment(m);N=oe.textAlign,T=oe.x}else if(t==="x"){if(i==="center")P=(e.top+e.bottom)/2+y;else if(it(i)){const oe=Object.keys(i)[0],F=i[oe];P=this.chart.scales[oe].getPixelForValue(F)+y}N=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")T=(e.left+e.right)/2-y;else if(it(i)){const oe=Object.keys(i)[0],F=i[oe];T=this.chart.scales[oe].getPixelForValue(F)}N=this._getYAxisLabelAlignment(m).textAlign}t==="y"&&(c==="start"?ae="top":c==="end"&&(ae="bottom"));const de=this._getLabelSizes();for(M=0,k=a.length;M<k;++M){E=a[M],_=E.label;const oe=s.setContext(this.getContext(M));A=this.getPixelForTick(M)+s.labelOffset,L=this._resolveTickFontOptions(M),I=L.lineHeight,V=$t(_)?_.length:1;const F=V/2,U=oe.color,J=oe.textStrokeColor,ce=oe.textStrokeWidth;let j=N;o?(T=A,N==="inner"&&(M===k-1?j=this.options.reverse?"left":"right":M===0?j=this.options.reverse?"right":"left":j="center"),i==="top"?d==="near"||v!==0?q=-V*I+I/2:d==="center"?q=-de.highest.height/2-F*I+I:q=-de.highest.height+I/2:d==="near"||v!==0?q=I/2:d==="center"?q=de.highest.height/2-F*I:q=de.highest.height-V*I,p&&(q*=-1),v!==0&&!oe.showLabelBackdrop&&(T+=I/2*Math.sin(v))):(P=A,q=(1-V)*I/2);let Z;if(oe.showLabelBackdrop){const se=mr(oe.backdropPadding),le=de.heights[M],he=de.widths[M];let De=q-se.top,fe=0-se.left;switch(ae){case"middle":De-=le/2;break;case"bottom":De-=le;break}switch(N){case"center":fe-=he/2;break;case"right":fe-=he;break;case"inner":M===k-1?fe-=he:M>0&&(fe-=he/2);break}Z={left:fe,top:De,width:he+se.width,height:le+se.height,color:oe.backdropColor}}w.push({label:_,font:L,textOffset:q,options:{rotation:v,color:U,strokeColor:J,strokeWidth:ce,textAlign:j,textBaseline:ae,translation:[T,P],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ki(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width;let d,f;return t==="left"?i?(f=this.right+s,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f+=c)):(f=this.right-a,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f=this.left)):t==="right"?i?(f=this.left+s,r==="near"?d="right":r==="center"?(d="center",f-=c/2):(d="left",f-=c)):(f=this.left+a,r==="near"?d="left":r==="center"?(d="center",f+=c/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(c,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const c=i[s];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,f,p,m;this.isHorizontal()?(d=Pl(e,this.left,o)-o/2,f=Pl(e,this.right,a)+a/2,p=m=c):(p=Pl(e,this.top,o)-o/2,m=Pl(e,this.bottom,a)+a/2,d=f=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,p),t.lineTo(f,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&fb(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,c=o.font,d=o.label,f=o.textOffset;Ac(r,d,0,f,c,a)}i&&hb(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=En(r.font),o=mr(r.padding),a=r.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||it(t)?(c+=o.bottom,$t(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:d,titleY:f,maxWidth:p,rotation:m}=qJ(this,c,t,a);Ac(e,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:m,textAlign:WJ(a,t,i),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=je(e.grid&&e.grid.z,-1),i=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Fc.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return En(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ag{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;GJ(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,KJ(e,o,r),this.override&&Wt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Wt[i]&&(delete Wt[i][r],this.override&&delete _c[r])}}function KJ(n,e,t){const r=Gh(Object.create(null),[t?Wt.get(t):{},Wt.get(e),n.defaults]);Wt.set(e,r),n.defaultRoutes&&QJ(e,n.defaultRoutes),n.descriptors&&Wt.describe(e,n.descriptors)}function QJ(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),c=o.join(".");Wt.route(s,i,c,a)})}function GJ(n){return"id"in n&&"defaults"in n}class XJ{constructor(){this.controllers=new Ag(Qi,"datasets",!0),this.elements=new Ag(Vo,"elements"),this.plugins=new Ag(Object,"plugins"),this.scales=new Ag(Fc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Dt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const i=gD(e);jt(r["before"+i],[],r),t[e](r),jt(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var hs=new XJ;class JJ{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],c=[t,i,s.options];if(jt(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=je(r.options&&r.options.plugins,{}),s=ZJ(r);return i===!1&&!t?[]:tZ(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function ZJ(n){const e={},t=[],r=Object.keys(hs.plugins.items);for(let s=0;s<r.length;s++)t.push(hs.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function eZ(n,e){return!e&&n===!1?null:n===!0?{}:n}function tZ(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const a of e){const c=a.id,d=eZ(r[c],i);d!==null&&s.push({plugin:a,options:nZ(n.config,{plugin:a,local:t[c]},d,o)})}return s}function nZ(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mS(n,e){const t=Wt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function rZ(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function iZ(n,e){return n===e?"_index_":"_value_"}function ZA(n){if(n==="x"||n==="y"||n==="r")return n}function sZ(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gS(n,...e){if(ZA(n))return n;for(const t of e){const r=t.axis||sZ(t.position)||n.length>1&&ZA(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function eR(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function oZ(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return eR(n,"x",t[0])||eR(n,"y",t[0])}return{}}function aZ(n,e){const t=_c[n.type]||{scales:{}},r=e.scales||{},i=mS(n.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!it(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=gS(o,a,oZ(o,n),Wt.scales[a.type]),d=iZ(c,i),f=t.scales||{};s[o]=Mh(Object.create(null),[{axis:c},a,f[c],f[d]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,c=o.indexAxis||mS(a,e),f=(_c[a]||{}).scales||{};Object.keys(f).forEach(p=>{const m=rZ(p,c),y=o[m+"AxisID"]||m;s[y]=s[y]||Object.create(null),Mh(s[y],[{axis:m},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const a=s[o];Mh(a,[Wt.scales[a.type],Wt.scale])}),s}function aB(n){const e=n.options||(n.options={});e.plugins=je(e.plugins,{}),e.scales=aZ(n,e)}function lB(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function lZ(n){return n=n||{},n.data=lB(n.data),aB(n),n}const tR=new Map,cB=new Set;function Rg(n,e){let t=tR.get(n);return t||(t=e(),tR.set(n,t),cB.add(t)),t}const Zf=(n,e,t)=>{const r=nl(e,t);r!==void 0&&n.add(r)};class cZ{constructor(e){this._config=lZ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),aB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Rg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Rg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Rg(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const c=new Set;t.forEach(f=>{e&&(c.add(e),f.forEach(p=>Zf(c,e,p))),f.forEach(p=>Zf(c,i,p)),f.forEach(p=>Zf(c,_c[s]||{},p)),f.forEach(p=>Zf(c,Wt,p)),f.forEach(p=>Zf(c,fS,p))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),cB.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,_c[t]||{},Wt.datasets[t]||{},{type:t},Wt,fS]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=nR(this._resolverCache,e,i);let c=o;if(dZ(o,t)){s.$shared=!1,r=rl(r)?r():r;const d=this.createResolver(e,r,a);c=vd(o,r,d)}for(const d of t)s[d]=c[d];return s}createResolver(e,t,r=[""],i){const{resolver:s}=nR(this._resolverCache,e,r);return it(t)?vd(s,t,void 0,i):s}}function nR(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:SD(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const uZ=n=>it(n)&&Object.getOwnPropertyNames(n).some(e=>rl(n[e]));function dZ(n,e){const{isScriptable:t,isIndexable:r}=Vj(n);for(const i of e){const s=t(i),o=r(i),a=(o||s)&&n[i];if(s&&(rl(a)||uZ(a))||o&&$t(a))return!0}return!1}var fZ="4.5.0";const hZ=["top","bottom","left","right","chartArea"];function rR(n,e){return n==="top"||n==="bottom"||hZ.indexOf(n)===-1&&e==="x"}function iR(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function sR(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),jt(t&&t.onComplete,[n],e)}function pZ(n){const e=n.chart,t=e.options.animation;jt(t&&t.onProgress,[n],e)}function uB(n){return CD()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const my={},oR=n=>{const e=uB(n);return Object.values(my).filter(t=>t.canvas===e).pop()};function mZ(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function gZ(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var ma;let Ni=(ma=class{static register(...e){hs.add(...e),aR()}static unregister(...e){hs.remove(...e),aR()}constructor(e,t){const r=this.config=new cZ(t),i=uB(e),s=oR(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||PJ(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,d=c&&c.height,f=c&&c.width;if(this.id=yG(),this.ctx=a,this.canvas=c,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PG(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],my[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}po.listen(this,"complete",sR),po.listen(this,"progress",pZ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return nt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():OA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kA(this.canvas,this.ctx),this}stop(){return po.stop(this),this}resize(e,t){po.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,OA(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),jt(r.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Dt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],c=gS(o,a),d=c==="r",f=c==="x";return{options:a,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),Dt(s,o=>{const a=o.options,c=a.id,d=gS(c,a),f=je(a.type,o.dtype);(a.position===void 0||rR(a.position,d)!==rR(o.dposition))&&(a.position=o.dposition),i[c]=!0;let p=null;if(c in r&&r[c].type===f)p=r[c];else{const m=hs.getScale(f);p=new m({id:c,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(a,e)}),Dt(i,(o,a)=>{o||delete r[a]}),Dt(r,o=>{fr.configure(this,o,o.options),fr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(iR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||mS(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const c=hs.getController(a),{datasetElementType:d,dataElementType:f}=Wt.datasets[a];Object.assign(c,{dataElementType:hs.getElement(f),datasetElementType:d&&hs.getElement(d)}),o.controller=new c(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Dt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:p}=this.getDatasetMeta(d),m=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(m),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Dt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(iR("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Dt(this.scales,e=>{fr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!yA(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const o=r==="_removeElements"?-s:s;mZ(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!yA(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fr.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Dt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,rl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(po.has(this)?this.attached&&!po.running(this)&&po.start(this):(this.draw(),sR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=Jj(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&fb(t,i),e.controller.draw(),i&&hb(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Mo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=hJ.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Xh(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),po.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),kA(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete my[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Dt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},i=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Dt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Dt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,a,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!i0(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(c,d)=>c.filter(f=>!d.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(t,e),a=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,o=t,a=this._getActiveElements(e,i,r,o),c=MG(e),d=gZ(e,this._lastEvent,r,c);r&&(this._lastEvent=null,jt(s.onHover,[e,a,this],this),c&&jt(s.onClick,[e,a,this],this));const f=!i0(a,i);return(f||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=d,f}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},X(ma,"defaults",Wt),X(ma,"instances",my),X(ma,"overrides",_c),X(ma,"registry",hs),X(ma,"version",fZ),X(ma,"getChart",oR),ma);function aR(){return Dt(Ni.instances,n=>n._plugins.invalidate())}function yZ(n,e,t){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:d,borderJoinStyle:f}=c,p=Math.min(d/o,lr(r-t));if(n.beginPath(),n.arc(i,s,o-d/2,r+p/2,t-p/2),a>0){const m=Math.min(d/a,lr(r-t));n.arc(i,s,a+d/2,t-m/2,r+m/2,!0)}else{const m=Math.min(d/2,o*lr(r-t));if(f==="round")n.arc(i,s,m,t-pt/2,r+pt/2,!0);else if(f==="bevel"){const y=2*m*m,b=-y*Math.cos(t+pt/2)+i,v=-y*Math.sin(t+pt/2)+s,w=y*Math.cos(r+pt/2)+i,M=y*Math.sin(r+pt/2)+s;n.lineTo(b,v),n.lineTo(w,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function bZ(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e;let d=i/a;n.beginPath(),n.arc(s,o,a,r-d,t+d),c>i?(d=i/c,n.arc(s,o,c,t+d,r-d,!0)):n.arc(s,o,i,t+mn,r-mn),n.closePath(),n.clip()}function vZ(n){return wD(n,["outerStart","outerEnd","innerStart","innerEnd"])}function xZ(n,e,t,r){const i=vZ(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),a=c=>{const d=(t-Math.min(s,c))*r/2;return In(c,0,Math.min(s,d))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:In(i.innerStart,0,o),innerEnd:In(i.innerEnd,0,o)}}function Tu(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function u0(n,e,t,r,i,s){const{x:o,y:a,startAngle:c,pixelMargin:d,innerRadius:f}=e,p=Math.max(e.outerRadius+r+t-d,0),m=f>0?f+r+t+d:0;let y=0;const b=i-c;if(r){const oe=f>0?f-r:0,F=p>0?p-r:0,U=(oe+F)/2,J=U!==0?b*U/(U+r):b;y=(b-J)/2}const v=Math.max(.001,b*p-t/pt)/p,w=(b-v)/2,M=c+w+y,k=i-w-y,{outerStart:E,outerEnd:_,innerStart:T,innerEnd:P}=xZ(e,m,p,k-M),N=p-E,A=p-_,L=M+E/N,I=k-_/A,V=m+T,q=m+P,ae=M+T/V,de=k-P/q;if(n.beginPath(),s){const oe=(L+I)/2;if(n.arc(o,a,p,L,oe),n.arc(o,a,p,oe,I),_>0){const ce=Tu(A,I,o,a);n.arc(ce.x,ce.y,_,I,k+mn)}const F=Tu(q,k,o,a);if(n.lineTo(F.x,F.y),P>0){const ce=Tu(q,de,o,a);n.arc(ce.x,ce.y,P,k+mn,de+Math.PI)}const U=(k-P/m+(M+T/m))/2;if(n.arc(o,a,m,k-P/m,U,!0),n.arc(o,a,m,U,M+T/m,!0),T>0){const ce=Tu(V,ae,o,a);n.arc(ce.x,ce.y,T,ae+Math.PI,M-mn)}const J=Tu(N,M,o,a);if(n.lineTo(J.x,J.y),E>0){const ce=Tu(N,L,o,a);n.arc(ce.x,ce.y,E,M-mn,L)}}else{n.moveTo(o,a);const oe=Math.cos(L)*p+o,F=Math.sin(L)*p+a;n.lineTo(oe,F);const U=Math.cos(I)*p+o,J=Math.sin(I)*p+a;n.lineTo(U,J)}n.closePath()}function wZ(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let c=e.endAngle;if(s){u0(n,e,t,r,c,i);for(let d=0;d<s;++d)n.fill();isNaN(a)||(c=o+(a%Ht||Ht))}return u0(n,e,t,r,c,i),n.fill(),c}function SZ(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:d,borderJoinStyle:f,borderDash:p,borderDashOffset:m,borderRadius:y}=c,b=c.borderAlign==="inner";if(!d)return;n.setLineDash(p||[]),n.lineDashOffset=m,b?(n.lineWidth=d*2,n.lineJoin=f||"round"):(n.lineWidth=d,n.lineJoin=f||"bevel");let v=e.endAngle;if(s){u0(n,e,t,r,v,i);for(let w=0;w<s;++w)n.stroke();isNaN(a)||(v=o+(a%Ht||Ht))}b&&bZ(n,e,v),c.selfJoin&&v-o>=pt&&y===0&&f!=="miter"&&yZ(n,e,v),s||(u0(n,e,t,r,v,i),n.stroke())}class Lu extends Vo{constructor(t){super();X(this,"circumference");X(this,"endAngle");X(this,"fullCircles");X(this,"innerRadius");X(this,"outerRadius");X(this,"pixelMargin");X(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=Aj(s,{x:t,y:r}),{startAngle:c,endAngle:d,innerRadius:f,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,b=je(m,d-c),v=Jh(o,c,d)&&c!==d,w=b>=Ht||v,M=wo(a,f+y,p+y);return w&&M}getCenterPoint(t){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:f}=this.options,p=(s+o)/2,m=(a+c+f+d)/2;return{x:r+Math.cos(p)*m,y:i+Math.sin(p)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ht?Math.floor(i/Ht):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(pt,i||0)),f=s*d;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,wZ(t,this,f,o,a),SZ(t,this,f,o,a),t.restore()}}X(Lu,"id","arc"),X(Lu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),X(Lu,"defaultRoutes",{backgroundColor:"backgroundColor"}),X(Lu,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function dB(n,e,t=e){n.lineCap=je(t.borderCapStyle,e.borderCapStyle),n.setLineDash(je(t.borderDash,e.borderDash)),n.lineDashOffset=je(t.borderDashOffset,e.borderDashOffset),n.lineJoin=je(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=je(t.borderWidth,e.borderWidth),n.strokeStyle=je(t.borderColor,e.borderColor)}function MZ(n,e,t){n.lineTo(t.x,t.y)}function DZ(n){return n.stepped?WG:n.tension||n.cubicInterpolationMode==="monotone"?qG:MZ}function fB(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:a}=e,c=Math.max(i,o),d=Math.min(s,a),f=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:d<c&&!f?r+d-c:d-c}}function CZ(n,e,t,r){const{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:d}=fB(i,t,r),f=DZ(s);let{move:p=!0,reverse:m}=r||{},y,b,v;for(y=0;y<=d;++y)b=i[(a+(m?d-y:y))%o],!b.skip&&(p?(n.moveTo(b.x,b.y),p=!1):f(n,v,b,m,s.stepped),v=b);return c&&(b=i[(a+(m?d:0))%o],f(n,v,b,m,s.stepped)),!!c}function kZ(n,e,t,r){const i=e.points,{count:s,start:o,ilen:a}=fB(i,t,r),{move:c=!0,reverse:d}=r||{};let f=0,p=0,m,y,b,v,w,M;const k=_=>(o+(d?a-_:_))%s,E=()=>{v!==w&&(n.lineTo(f,w),n.lineTo(f,v),n.lineTo(f,M))};for(c&&(y=i[k(0)],n.moveTo(y.x,y.y)),m=0;m<=a;++m){if(y=i[k(m)],y.skip)continue;const _=y.x,T=y.y,P=_|0;P===b?(T<v?v=T:T>w&&(w=T),f=(p*f+_)/++p):(E(),n.lineTo(_,T),b=P,p=0,v=w=T),M=T}E()}function yS(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?kZ:CZ}function EZ(n){return n.stepped?CX:n.tension||n.cubicInterpolationMode==="monotone"?kX:zl}function TZ(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),dB(n,e.options),n.stroke(i)}function OZ(n,e,t,r){const{segments:i,options:s}=e,o=yS(e);for(const a of i)dB(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const _Z=typeof Path2D=="function";function AZ(n,e,t,r){_Z&&!e.options.segment?TZ(n,e,t,r):OZ(n,e,t,r)}class Es extends Vo{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;yX(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RX(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,o=Xj(this,{property:t,start:i,end:i});if(!o.length)return;const a=[],c=EZ(r);let d,f;for(d=0,f=o.length;d<f;++d){const{start:p,end:m}=o[d],y=s[p],b=s[m];if(y===b){a.push(y);continue}const v=Math.abs((i-y[t])/(b[t]-y[t])),w=c(y,b,v,r.stepped);w[t]=e[t],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,t,r){return yS(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=yS(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of i)o&=s(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),AZ(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}X(Es,"id","line"),X(Es,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),X(Es,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),X(Es,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function lR(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Ah extends Vo{constructor(t){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return lR(this,t,"x",r)}inYRange(t,r){return lR(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){const i=this.options;this.skip||i.radius<.1||!Mo(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,hS(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}X(Ah,"id","point"),X(Ah,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(Ah,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function hB(n,e){const{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let a,c,d,f,p;return n.horizontal?(p=o/2,a=Math.min(t,i),c=Math.max(t,i),d=r-p,f=r+p):(p=s/2,a=t-p,c=t+p,d=Math.min(r,i),f=Math.max(r,i)),{left:a,top:d,right:c,bottom:f}}function Fa(n,e,t,r){return n?0:In(e,t,r)}function RZ(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=zj(r);return{t:Fa(i.top,s.top,0,t),r:Fa(i.right,s.right,0,e),b:Fa(i.bottom,s.bottom,0,t),l:Fa(i.left,s.left,0,e)}}function NZ(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=mc(i),o=Math.min(e,t),a=n.borderSkipped,c=r||it(i);return{topLeft:Fa(!c||a.top||a.left,s.topLeft,0,o),topRight:Fa(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Fa(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Fa(!c||a.bottom||a.right,s.bottomRight,0,o)}}function PZ(n){const e=hB(n),t=e.right-e.left,r=e.bottom-e.top,i=RZ(n,t/2,r/2),s=NZ(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function N1(n,e,t,r){const i=e===null,s=t===null,a=n&&!(i&&s)&&hB(n,r);return a&&(i||wo(e,a.left,a.right))&&(s||wo(t,a.top,a.bottom))}function LZ(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function IZ(n,e){n.rect(e.x,e.y,e.w,e.h)}function P1(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}class Gu extends Vo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=PZ(this),a=LZ(o.radius)?Zh:IZ;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,P1(o,t,s)),e.clip(),a(e,P1(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,P1(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return N1(this,e,t,r)}inXRange(e,t){return N1(this,e,null,t)}inYRange(e,t){return N1(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}X(Gu,"id","bar"),X(Gu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(Gu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var jZ=Object.freeze({__proto__:null,ArcElement:Lu,BarElement:Gu,LineElement:Es,PointElement:Ah});const bS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cR=bS.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function pB(n){return bS[n%bS.length]}function mB(n){return cR[n%cR.length]}function BZ(n,e){return n.borderColor=pB(e),n.backgroundColor=mB(e),++e}function FZ(n,e){return n.backgroundColor=n.data.map(()=>pB(e++)),e}function zZ(n,e){return n.backgroundColor=n.data.map(()=>mB(e++)),e}function VZ(n){let e=0;return(t,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof Ba?e=FZ(t,e):i instanceof Oh?e=zZ(t,e):i&&(e=BZ(t,e))}}function uR(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function HZ(n){return n&&(n.borderColor||n.backgroundColor)}function UZ(){return Wt.borderColor!=="rgba(0,0,0,0.1)"||Wt.backgroundColor!=="rgba(0,0,0,0.1)"}var $Z={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,o=uR(r)||HZ(i)||s&&uR(s)||UZ();if(!t.forceOverride&&o)return;const a=VZ(n);r.forEach(a)}};function YZ(n,e,t,r,i){const s=i.samples||r;if(s>=t)return n.slice(e,e+t);const o=[],a=(t-2)/(s-2);let c=0;const d=e+t-1;let f=e,p,m,y,b,v;for(o[c++]=n[f],p=0;p<s-2;p++){let w=0,M=0,k;const E=Math.floor((p+1)*a)+1+e,_=Math.min(Math.floor((p+2)*a)+1,t)+e,T=_-E;for(k=E;k<_;k++)w+=n[k].x,M+=n[k].y;w/=T,M/=T;const P=Math.floor(p*a)+1+e,N=Math.min(Math.floor((p+1)*a)+1,t)+e,{x:A,y:L}=n[f];for(y=b=-1,k=P;k<N;k++)b=.5*Math.abs((A-w)*(n[k].y-L)-(A-n[k].x)*(M-L)),b>y&&(y=b,m=n[k],v=k);o[c++]=m,f=v}return o[c++]=n[d],o}function WZ(n,e,t,r){let i=0,s=0,o,a,c,d,f,p,m,y,b,v;const w=[],M=e+t-1,k=n[e].x,_=n[M].x-k;for(o=e;o<e+t;++o){a=n[o],c=(a.x-k)/_*r,d=a.y;const T=c|0;if(T===f)d<b?(b=d,p=o):d>v&&(v=d,m=o),i=(s*i+a.x)/++s;else{const P=o-1;if(!nt(p)&&!nt(m)){const N=Math.min(p,m),A=Math.max(p,m);N!==y&&N!==P&&w.push({...n[N],x:i}),A!==y&&A!==P&&w.push({...n[A],x:i})}o>0&&P!==y&&w.push(n[P]),w.push(a),f=T,s=0,b=v=d,p=m=y=o}}return w}function gB(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function dR(n){n.data.datasets.forEach(e=>{gB(e)})}function qZ(n,e){const t=e.length;let r=0,i;const{iScale:s}=n,{min:o,max:a,minDefined:c,maxDefined:d}=s.getUserBounds();return c&&(r=In(So(e,s.axis,o).lo,0,t-1)),d?i=In(So(e,s.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var KZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){dR(n);return}const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,c=n.getDatasetMeta(s),d=o||i.data;if(uh([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const f=n.scales[c.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:p,count:m}=qZ(c,d);const y=t.threshold||4*r;if(m<=y){gB(i);return}nt(o)&&(i._data=d,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let b;switch(t.algorithm){case"lttb":b=YZ(d,p,m,r,t);break;case"min-max":b=WZ(d,p,m,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=b})},destroy(n){dR(n)}};function QZ(n,e,t){const r=n.segments,i=n.points,s=e.points,o=[];for(const a of r){let{start:c,end:d}=a;d=gb(c,d,i);const f=vS(t,i[c],i[d],a.loop);if(!e.segments){o.push({source:a,target:f,start:i[c],end:i[d]});continue}const p=Xj(e,f);for(const m of p){const y=vS(t,s[m.start],s[m.end],m.loop),b=Gj(a,i,y);for(const v of b)o.push({source:v,target:m,start:{[t]:fR(f,y,"start",Math.max)},end:{[t]:fR(f,y,"end",Math.min)}})}}return o}function vS(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=lr(i),s=lr(s)),{property:n,start:i,end:s}}function GZ(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=gb(o,a,i);const c=i[o],d=i[a];r!==null?(s.push({x:c.x,y:r}),s.push({x:d.x,y:r})):t!==null&&(s.push({x:t,y:c.y}),s.push({x:t,y:d.y}))}),s}function gb(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function fR(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function yB(n,e){let t=[],r=!1;return $t(n)?(r=!0,t=n):t=GZ(n,e),t.length?new Es({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function hR(n){return n&&n.fill!==!1}function XZ(n,e,t){let i=n[e].fill;const s=[e];let o;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!ln(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function JZ(n,e,t){const r=nee(n);if(it(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ln(i)&&Math.floor(i)===i?ZZ(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ZZ(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function eee(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:it(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function tee(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:it(n)?r=n.value:r=e.getBaseValue(),r}function nee(n){const e=n.options,t=e.fill;let r=je(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ree(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,a=iee(e,t);a.push(yB({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){const d=s[c];for(let f=d.start;f<=d.end;f++)see(i,o[f],a)}return new Es({points:i,options:{}})}function iee(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function see(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:o,last:a,point:c}=oee(s,e,"x");if(!(!c||o&&a)){if(o)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function oee(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,o=n.points;let a=!1,c=!1;for(let d=0;d<s.length;d++){const f=s[d],p=o[f.start][t],m=o[f.end][t];if(wo(i,p,m)){a=i===p,c=i===m;break}}return{first:a,last:c,point:r}}class bB{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:o}=this;return t=t||{start:0,end:Ht},e.arc(i,s,o,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function aee(n){const{chart:e,fill:t,line:r}=n;if(ln(t))return lee(e,t);if(t==="stack")return ree(n);if(t==="shape")return!0;const i=cee(n);return i instanceof bB?i:yB(i,r)}function lee(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function cee(n){return(n.scale||{}).getPointPositionForValue?dee(n):uee(n)}function uee(n){const{scale:e={},fill:t}=n,r=eee(t,e);if(ln(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function dee(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=tee(t,e,s),a=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,s);return new bB({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function L1(n,e,t){const r=aee(e),{chart:i,index:s,line:o,scale:a,axis:c}=e,d=o.options,f=d.fill,p=d.backgroundColor,{above:m=p,below:y=p}=f||{},b=i.getDatasetMeta(s),v=Jj(i,b);r&&o.points.length&&(fb(n,t),fee(n,{line:o,target:r,above:m,below:y,area:t,scale:a,axis:c,clip:v}),hb(n))}function fee(n,e){const{line:t,target:r,above:i,below:s,area:o,scale:a,clip:c}=e,d=t._loop?"angle":e.axis;n.save();let f=s;s!==i&&(d==="x"?(pR(n,r,o.top),I1(n,{line:t,target:r,color:i,scale:a,property:d,clip:c}),n.restore(),n.save(),pR(n,r,o.bottom)):d==="y"&&(mR(n,r,o.left),I1(n,{line:t,target:r,color:s,scale:a,property:d,clip:c}),n.restore(),n.save(),mR(n,r,o.right),f=i)),I1(n,{line:t,target:r,color:f,scale:a,property:d,clip:c}),n.restore()}function pR(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:c,end:d}=a,f=i[c],p=i[gb(c,d,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(f.x,t),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(p.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function mR(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const a of r){const{start:c,end:d}=a,f=i[c],p=i[gb(c,d,i)];s?(n.moveTo(f.x,f.y),s=!1):(n.lineTo(t,f.y),n.lineTo(f.x,f.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(t,p.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function I1(n,e){const{line:t,target:r,property:i,color:s,scale:o,clip:a}=e,c=QZ(t,r,i);for(const{source:d,target:f,start:p,end:m}of c){const{style:{backgroundColor:y=s}={}}=d,b=r!==!0;n.save(),n.fillStyle=y,hee(n,o,a,b&&vS(i,p,m)),n.beginPath();const v=!!t.pathSegment(n,d);let w;if(b){v?n.closePath():gR(n,r,m,i);const M=!!r.pathSegment(n,f,{move:v,reverse:!0});w=v&&M,w||gR(n,r,p,i)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function hee(n,e,t,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let c,d,f,p;s==="x"?(c=o,d=i.top,f=a,p=i.bottom):(c=i.left,d=o,f=i.right,p=a),n.beginPath(),t&&(c=Math.max(c,t.left),f=Math.min(f,t.right),d=Math.max(d,t.top),p=Math.min(p,t.bottom)),n.rect(c,d,f-c,p-d),n.clip()}}function gR(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var vB={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,o,a,c;for(o=0;o<r;++o)s=n.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Es&&(c={visible:n.isDatasetVisible(o),index:o,fill:JZ(a,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=XZ(i,o,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&L1(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;hR(s)&&L1(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!hR(r)||t.drawTime!=="beforeDatasetDraw"||L1(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yR=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},pee=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class bR extends Vo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=jt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=En(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=yR(r,s);let d,f;t.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,s,a,c)+10):(f=this.maxHeight,d=this._fitCols(o,i,a,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+a;let p=e;s.textAlign="left",s.textBaseline="middle";let m=-1,y=-f;return this.legendItems.forEach((b,v)=>{const w=r+t/2+s.measureText(b.text).width;(v===0||d[d.length-1]+w+2*a>o)&&(p+=f,d[d.length-(v>0?0:1)]=0,y+=f,m++),c[v]={left:0,top:y,row:m,width:w,height:i},d[d.length-1]+=w+a}),p}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-e;let p=a,m=0,y=0,b=0,v=0;return this.legendItems.forEach((w,M)=>{const{itemWidth:k,itemHeight:E}=mee(r,t,s,w,i);M>0&&y+E+2*a>f&&(p+=m+a,d.push({width:m,height:y}),b+=m+a,v++,m=y=0),c[M]={left:b,top:y,col:v,width:k,height:E},m=Math.max(m,k),y+=E+a}),p+=m,d.push({width:m,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Qu(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=sr(r,this.left+i,this.right-this.lineWidths[a]);for(const d of t)a!==d.row&&(a=d.row,c=sr(r,this.left+i,this.right-this.lineWidths[a])),d.top+=this.top+e+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let a=0,c=sr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const d of t)d.col!==a&&(a=d.col,c=sr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;fb(e,this),this._draw(),hb(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Wt.color,c=Qu(e.rtl,this.left,this.width),d=En(o.font),{padding:f}=o,p=d.size,m=p/2;let y;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:b,boxHeight:v,itemHeight:w}=yR(o,p),M=function(P,N,A){if(isNaN(b)||b<=0||isNaN(v)||v<0)return;i.save();const L=je(A.lineWidth,1);if(i.fillStyle=je(A.fillStyle,a),i.lineCap=je(A.lineCap,"butt"),i.lineDashOffset=je(A.lineDashOffset,0),i.lineJoin=je(A.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=je(A.strokeStyle,a),i.setLineDash(je(A.lineDash,[])),o.usePointStyle){const I={radius:v*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:L},V=c.xPlus(P,b/2),q=N+m;Fj(i,I,V,q,o.pointStyleWidth&&b)}else{const I=N+Math.max((p-v)/2,0),V=c.leftForLtr(P,b),q=mc(A.borderRadius);i.beginPath(),Object.values(q).some(ae=>ae!==0)?Zh(i,{x:V,y:I,w:b,h:v,radius:q}):i.rect(V,I,b,v),i.fill(),L!==0&&i.stroke()}i.restore()},k=function(P,N,A){Ac(i,A.text,P,N+w/2,d,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},E=this.isHorizontal(),_=this._computeTitleHeight();E?y={x:sr(s,this.left+f,this.right-r[0]),y:this.top+f+_,line:0}:y={x:this.left+f,y:sr(s,this.top+_+f,this.bottom-t[0].height),line:0},qj(this.ctx,e.textDirection);const T=w+f;this.legendItems.forEach((P,N)=>{i.strokeStyle=P.fontColor,i.fillStyle=P.fontColor;const A=i.measureText(P.text).width,L=c.textAlign(P.textAlign||(P.textAlign=o.textAlign)),I=b+m+A;let V=y.x,q=y.y;c.setWidth(this.width),E?N>0&&V+I+f>this.right&&(q=y.y+=T,y.line++,V=y.x=sr(s,this.left+f,this.right-r[y.line])):N>0&&q+T>this.bottom&&(V=y.x=V+t[y.line].width+f,y.line++,q=y.y=sr(s,this.top+_+f,this.bottom-t[y.line].height));const ae=c.x(V);if(M(ae,q,P),V=LG(L,V+b+m,E?V+I:this.right,e.rtl),k(c.x(V),q,P),E)y.x+=I+f;else if(typeof P.text!="string"){const de=d.lineHeight;y.y+=xB(P,de)+f}else y.y+=T}),Kj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=En(t.font),i=mr(t.padding);if(!t.display)return;const s=Qu(e.rtl,this.left,this.width),o=this.ctx,a=t.position,c=r.size/2,d=i.top+c;let f,p=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),f=this.top+d,p=sr(e.align,p,this.right-m);else{const b=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);f=d+sr(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const y=sr(a,p,p+m);o.textAlign=s.textAlign(vD(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,Ac(o,t.text,y,f,r)}_computeTitleHeight(){const e=this.options.title,t=En(e.font),r=mr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(wo(e,this.left,this.right)&&wo(t,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],wo(e,i.left,i.left+i.width)&&wo(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!bee(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=pee(i,r);i&&!s&&jt(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&jt(t.onHover,[e,r,this],this)}else r&&jt(t.onClick,[e,r,this],this)}}function mee(n,e,t,r,i){const s=gee(r,n,e,t),o=yee(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function gee(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+r.measureText(i).width}function yee(n,e,t){let r=n;return typeof e.text!="string"&&(r=xB(e,t)),r}function xB(n,e){const t=n.text?n.text.length:0;return e*t}function bee(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Up={id:"legend",_element:bR,start(n,e,t){const r=n.legend=new bR({ctx:n.ctx,options:t,chart:n});fr.configure(n,r,t),fr.addBox(n,r)},stop(n){fr.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;fr.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),f=mr(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(a||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class TD extends Vo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=$t(r.text)?r.text.length:1;this._padding=mr(r.padding);const s=i*En(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,a=o.align;let c=0,d,f,p;return this.isHorizontal()?(f=sr(a,r,s),p=t+e,d=s-r):(o.position==="left"?(f=r+e,p=sr(a,i,t),c=pt*-.5):(f=s-e,p=sr(a,t,i),c=pt*.5),d=i-t),{titleX:f,titleY:p,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=En(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:d}=this._drawArgs(s);Ac(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:d,textAlign:vD(t.align),textBaseline:"middle",translation:[o,a]})}}function vee(n,e){const t=new TD({ctx:n.ctx,options:e,chart:n});fr.configure(n,t,e),fr.addBox(n,t),n.titleBlock=t}var wB={id:"title",_element:TD,start(n,e,t){vee(n,t)},stop(n){const e=n.titleBlock;fr.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;fr.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ng=new WeakMap;var xee={id:"subtitle",start(n,e,t){const r=new TD({ctx:n.ctx,options:t,chart:n});fr.configure(n,r,t),fr.addBox(n,r),Ng.set(n,r)},stop(n){fr.removeBox(n,Ng.get(n)),Ng.delete(n)},beforeUpdate(n,e,t){const r=Ng.get(n);fr.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fh={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();r.add(c.x),i+=c.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),f=dS(e,d);f<i&&(i=f,a=c)}}if(a){const c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function fs(n,e){return e&&($t(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function mo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function wee(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function vR(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:a}=e,c=En(e.bodyFont),d=En(e.titleFont),f=En(e.footerFont),p=s.length,m=i.length,y=r.length,b=mr(e.padding);let v=b.height,w=0,M=r.reduce((_,T)=>_+T.before.length+T.lines.length+T.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,p&&(v+=p*d.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),M){const _=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=y*_+(M-y)*c.lineHeight+(M-1)*e.bodySpacing}m&&(v+=e.footerMarginTop+m*f.lineHeight+(m-1)*e.footerSpacing);let k=0;const E=function(_){w=Math.max(w,t.measureText(_).width+k)};return t.save(),t.font=d.string,Dt(n.title,E),t.font=c.string,Dt(n.beforeBody.concat(n.afterBody),E),k=e.displayColors?o+2+e.boxPadding:0,Dt(r,_=>{Dt(_.before,E),Dt(_.lines,E),Dt(_.after,E)}),k=0,t.font=f.string,Dt(n.footer,E),t.restore(),w+=b.width,{width:w,height:v}}function See(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Mee(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function Dee(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:a,right:c}}=n;let d="center";return r==="center"?d=i<=(a+c)/2?"left":"right":i<=s/2?d="left":i>=o-s/2&&(d="right"),Mee(d,n,e,t)&&(d="center"),d}function xR(n,e,t){const r=t.yAlign||e.yAlign||See(n,t);return{xAlign:t.xAlign||e.xAlign||Dee(n,e,t,r),yAlign:r}}function Cee(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function kee(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function wR(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:c}=t,d=i+s,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:y}=mc(o);let b=Cee(e,a);const v=kee(e,c,d);return c==="center"?a==="left"?b+=d:a==="right"&&(b-=d):a==="left"?b-=Math.max(f,m)+i:a==="right"&&(b+=Math.max(p,y)+i),{x:In(b,0,r.width-e.width),y:In(v,0,r.height-e.height)}}function Pg(n,e,t){const r=mr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function SR(n){return fs([],mo(n))}function Eee(n,e,t){return cl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function MR(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const SB={beforeTitle:co,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:co,beforeBody:co,beforeLabel:co,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return nt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:co,afterBody:co,beforeFooter:co,footer:co,afterFooter:co};function jr(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?SB[e].call(t,r):i}var kw;let DR=(kw=class extends Vo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new Zj(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Eee(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=jr(r,"beforeTitle",this,e),s=jr(r,"title",this,e),o=jr(r,"afterTitle",this,e);let a=[];return a=fs(a,mo(i)),a=fs(a,mo(s)),a=fs(a,mo(o)),a}getBeforeBody(e,t){return SR(jr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Dt(e,s=>{const o={before:[],lines:[],after:[]},a=MR(r,s);fs(o.before,mo(jr(a,"beforeLabel",this,s))),fs(o.lines,jr(a,"label",this,s)),fs(o.after,mo(jr(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return SR(jr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=jr(r,"beforeFooter",this,e),s=jr(r,"footer",this,e),o=jr(r,"afterFooter",this,e);let a=[];return a=fs(a,mo(i)),a=fs(a,mo(s)),a=fs(a,mo(o)),a}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],c,d;for(c=0,d=t.length;c<d;++c)a.push(wee(this.chart,t[c]));return e.filter&&(a=a.filter((f,p,m)=>e.filter(f,p,m,r))),e.itemSort&&(a=a.sort((f,p)=>e.itemSort(f,p,r))),Dt(a,f=>{const p=MR(e.callbacks,f);i.push(jr(p,"labelColor",this,f)),s.push(jr(p,"labelPointStyle",this,f)),o.push(jr(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=fh[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const c=this._size=vR(this,r),d=Object.assign({},a,c),f=xR(this.chart,r,d),p=wR(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=mc(a),{x:m,y}=e,{width:b,height:v}=t;let w,M,k,E,_,T;return s==="center"?(_=y+v/2,i==="left"?(w=m,M=w-o,E=_+o,T=_-o):(w=m+b,M=w+o,E=_-o,T=_+o),k=w):(i==="left"?M=m+Math.max(c,f)+o:i==="right"?M=m+b-Math.max(d,p)-o:M=this.caretX,s==="top"?(E=y,_=E-o,w=M-o,k=M+o):(E=y+v,_=E+o,w=M+o,k=M-o),T=E),{x1:w,x2:M,x3:k,y1:E,y2:_,y3:T}}drawTitle(e,t,r){const i=this.title,s=i.length;let o,a,c;if(s){const d=Qu(r.rtl,this.x,this.width);for(e.x=Pg(this,r.titleAlign,r),t.textAlign=d.textAlign(r.titleAlign),t.textBaseline="middle",o=En(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(i[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,f=En(s.bodyFont),p=Pg(this,"left",s),m=i.x(p),y=c<f.lineHeight?(f.lineHeight-c)/2:0,b=t.y+y;if(s.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(m,d)+d/2,M=b+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,hS(e,v,w,M),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,hS(e,v,w,M)}else{e.lineWidth=it(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(m,d),w=i.leftForLtr(i.xPlus(m,1),d-2),M=mc(o.borderRadius);Object.values(M).some(k=>k!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Zh(e,{x:v,y:b,w:d,h:c,radius:M}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Zh(e,{x:w,y:b+1,w:d-2,h:c-2,radius:M}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,b,d,c),e.strokeRect(v,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(w,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:d,boxPadding:f}=r,p=En(r.bodyFont);let m=p.lineHeight,y=0;const b=Qu(r.rtl,this.x,this.width),v=function(A){t.fillText(A,b.x(e.x+y),e.y+m/2),e.y+=m+s},w=b.textAlign(o);let M,k,E,_,T,P,N;for(t.textAlign=o,t.textBaseline="middle",t.font=p.string,e.x=Pg(this,w,r),t.fillStyle=r.bodyColor,Dt(this.beforeBody,v),y=a&&w!=="right"?o==="center"?d/2+f:d+2+f:0,_=0,P=i.length;_<P;++_){for(M=i[_],k=this.labelTextColors[_],t.fillStyle=k,Dt(M.before,v),E=M.lines,a&&E.length&&(this._drawColorBox(t,e,_,b,r),m=Math.max(p.lineHeight,c)),T=0,N=E.length;T<N;++T)v(E[T]),m=p.lineHeight;Dt(M.after,v)}y=0,m=p.lineHeight,Dt(this.afterBody,v),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let o,a;if(s){const c=Qu(r.rtl,this.x,this.width);for(e.x=Pg(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",o=En(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:c}=e,{width:d,height:f}=r,{topLeft:p,topRight:m,bottomLeft:y,bottomRight:b}=mc(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+p,c),o==="top"&&this.drawCaret(e,t,r,i),t.lineTo(a+d-m,c),t.quadraticCurveTo(a+d,c,a+d,c+m),o==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(a+d,c+f-b),t.quadraticCurveTo(a+d,c+f,a+d-b,c+f),o==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(a+y,c+f),t.quadraticCurveTo(a,c+f,a,c+f-y),o==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(a,c+p),t.quadraticCurveTo(a,c,a+p,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=fh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=vR(this,e),c=Object.assign({},o,this._size),d=xR(t,e,c),f=wR(e,c,d,t);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=mr(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),qj(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Kj(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:a,index:c})=>{const d=this.chart.getDatasetMeta(a);if(!d)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:d.data[c],index:c}}),s=!i0(r,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,r),a=this._positionChanged(o,e),c=t||!i0(o,s)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,o=fh[s.position].call(this,e,t);return o!==!1&&(r!==o.x||i!==o.y)}},X(kw,"positioners",fh),kw);var $p={id:"tooltip",_element:DR,positioners:fh,afterInit(n,e,t){t&&(n.tooltip=new DR({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Tee=Object.freeze({__proto__:null,Colors:$Z,Decimation:KZ,Filler:vB,Legend:Up,SubTitle:xee,Title:wB,Tooltip:$p});const Oee=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function _ee(n,e,t,r){const i=n.indexOf(e);if(i===-1)return Oee(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const Aee=(n,e)=>n===null?null:In(Math.round(n),0,e);function CR(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Rc extends Fc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(nt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:_ee(r,e,je(t,e),this._addedLabels),Aee(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return CR.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(Rc,"id","category"),X(Rc,"defaults",{ticks:{callback:CR}});function Ree(n,e){const t=[],{bounds:i,step:s,min:o,max:a,precision:c,count:d,maxTicks:f,maxDigits:p,includeBounds:m}=n,y=s||1,b=f-1,{min:v,max:w}=e,M=!nt(o),k=!nt(a),E=!nt(d),_=(w-v)/(p+1);let T=vA((w-v)/b/y)*y,P,N,A,L;if(T<1e-14&&!M&&!k)return[{value:v},{value:w}];L=Math.ceil(w/T)-Math.floor(v/T),L>b&&(T=vA(L*T/b/y)*y),nt(c)||(P=Math.pow(10,c),T=Math.ceil(T*P)/P),i==="ticks"?(N=Math.floor(v/T)*T,A=Math.ceil(w/T)*T):(N=v,A=w),M&&k&&s&&TG((a-o)/s,T/1e3)?(L=Math.round(Math.min((a-o)/T,f)),T=(a-o)/L,N=o,A=a):E?(N=M?o:N,A=k?a:A,L=d-1,T=(A-N)/L):(L=(A-N)/T,Dh(L,Math.round(L),T/1e3)?L=Math.round(L):L=Math.ceil(L));const I=Math.max(xA(T),xA(N));P=Math.pow(10,nt(c)?I:c),N=Math.round(N*P)/P,A=Math.round(A*P)/P;let V=0;for(M&&(m&&N!==o?(t.push({value:o}),N<o&&V++,Dh(Math.round((N+V*T)*P)/P,o,kR(o,_,n))&&V++):N<o&&V++);V<L;++V){const q=Math.round((N+V*T)*P)/P;if(k&&q>a)break;t.push({value:q})}return k&&m&&A!==a?t.length&&Dh(t[t.length-1].value,a,kR(a,_,n))?t[t.length-1].value=a:t.push({value:a}):(!k||A===a)&&t.push({value:A}),t}function kR(n,e,{horizontal:t,minRotation:r}){const i=Ki(r),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class d0 extends Fc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return nt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=t?i:c,a=c=>s=r?s:c;if(e){const c=As(i),d=As(s);c<0&&d<0?a(0):c>0&&d>0&&o(0)}if(i===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=Ree(i,s);return e.bounds==="ticks"&&_j(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Hp(e,this.chart.options.locale,this.options.ticks.format)}}class il extends d0{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ln(e)?e:0,this.max=ln(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Ki(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(il,"id","linear"),X(il,"defaults",{ticks:{callback:db.formatters.numeric}});const tp=n=>Math.floor(ja(n)),Il=(n,e)=>Math.pow(10,tp(n)+e);function ER(n){return n/Math.pow(10,tp(n))===1}function TR(n,e,t){const r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function Nee(n,e){const t=e-n;let r=tp(t);for(;TR(n,e,r)>10;)r++;for(;TR(n,e,r)<10;)r--;return Math.min(r,tp(n))}function Pee(n,{min:e,max:t}){e=si(n.min,e);const r=[],i=tp(e);let s=Nee(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,d=Math.round((e-c)*o)/o,f=Math.floor((e-c)/a/10)*a*10;let p=Math.floor((d-f)/Math.pow(10,s)),m=si(n.min,Math.round((c+f+p*Math.pow(10,s))*o)/o);for(;m<t;)r.push({value:m,major:ER(m),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),m=Math.round((c+f+p*Math.pow(10,s))*o)/o;const y=si(n.max,m);return r.push({value:y,major:ER(y),significand:p}),r}class xS extends Fc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=d0.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return ln(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ln(e)?Math.max(0,e):null,this.max=ln(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ln(this._userMin)&&(this.min=e===Il(this.min,0)?Il(this.min,-1):Il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=t?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Il(r,-1)),o(Il(i,1)))),r<=0&&s(Il(i,-1)),i<=0&&o(Il(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=Pee(t,this);return e.bounds==="ticks"&&_j(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Hp(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ja(e),this._valueRange=ja(this.max)-ja(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ja(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}X(xS,"id","logarithmic"),X(xS,"defaults",{ticks:{callback:db.formatters.logarithmic,major:{enabled:!0}}});function wS(n){const e=n.ticks;if(e.display&&n.display){const t=mr(e.backdropPadding);return je(e.font&&e.font.size,Wt.font.size)+t.height}return 0}function Lee(n,e,t){return t=$t(t)?t:[t],{w:YG(n,e.string,t),h:t.length*e.lineHeight}}function OR(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function Iee(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?pt/s:0;for(let c=0;c<s;c++){const d=o.setContext(n.getPointLabelContext(c));i[c]=d.padding;const f=n.getPointPosition(c,n.drawingArea+i[c],a),p=En(d.font),m=Lee(n.ctx,p,n._pointLabels[c]);r[c]=m;const y=lr(n.getIndexAngle(c)+a),b=Math.round(yD(y)),v=OR(b,f.x,m.w,0,180),w=OR(b,f.y,m.h,90,270);jee(t,e,y,v,w)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=zee(n,r,i)}function jee(n,e,t,r,i){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function Bee(n,e,t){const r=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=t,c=n.getPointPosition(e,r+i+o,s),d=Math.round(yD(lr(c.angle+mn))),f=Uee(c.y,a.h,d),p=Vee(d),m=Hee(c.x,a.w,p);return{visible:!0,x:c.x,y:f,textAlign:p,left:m,top:f,right:m+a.w,bottom:f+a.h}}function Fee(n,e){if(!e)return!0;const{left:t,top:r,right:i,bottom:s}=n;return!(Mo({x:t,y:r},e)||Mo({x:t,y:s},e)||Mo({x:i,y:r},e)||Mo({x:i,y:s},e))}function zee(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:wS(s)/2,additionalAngle:o?pt/i:0};let d;for(let f=0;f<i;f++){c.padding=t[f],c.size=e[f];const p=Bee(n,f,c);r.push(p),a==="auto"&&(p.visible=Fee(p,d),p.visible&&(d=p))}return r}function Vee(n){return n===0||n===180?"center":n<180?"left":"right"}function Hee(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Uee(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function $ee(n,e,t){const{left:r,top:i,right:s,bottom:o}=t,{backdropColor:a}=e;if(!nt(a)){const c=mc(e.borderRadius),d=mr(e.backdropPadding);n.fillStyle=a;const f=r-d.left,p=i-d.top,m=s-r+d.width,y=o-i+d.height;Object.values(c).some(b=>b!==0)?(n.beginPath(),Zh(n,{x:f,y:p,w:m,h:y,radius:c}),n.fill()):n.fillRect(f,p,m,y)}}function Yee(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=n._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(n.getPointLabelContext(i));$ee(t,o,s);const a=En(o.font),{x:c,y:d,textAlign:f}=s;Ac(t,n._pointLabels[i],c,d+a.lineHeight/2,a,{color:o.color,textAlign:f,textBaseline:"middle"})}}function MB(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,Ht);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Wee(n,e,t,r,i){const s=n.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),MB(n,t,o,r),s.closePath(),s.stroke(),s.restore())}function qee(n,e,t){return cl(n,{label:t,index:e,type:"pointLabel"})}class Iu extends d0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=mr(wS(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ln(e)&&!isNaN(e)?e:0,this.max=ln(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wS(this.options))}generateTickLabels(e){d0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=jt(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Iee(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){const t=Ht/(this._pointLabels.length||1),r=this.options.startAngle||0;return lr(e*t+Ki(r))}getDistanceFromCenterForValue(e){if(nt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(nt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return qee(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-mn+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),MB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i,border:s}=t,o=this._pointLabels.length;let a,c,d;if(t.pointLabels.display&&Yee(this,o),i.display&&this.ticks.forEach((f,p)=>{if(p!==0||p===0&&this.min<0){c=this.getDistanceFromCenterForValue(f.value);const m=this.getContext(p),y=i.setContext(m),b=s.setContext(m);Wee(this,y,c,o,b)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:m}=f;!m||!p||(e.lineWidth=m,e.strokeStyle=p,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const d=r.setContext(this.getContext(c)),f=En(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=f.string,o=e.measureText(a.label).width,e.fillStyle=d.backdropColor;const p=mr(d.backdropPadding);e.fillRect(-o/2-p.left,-s-f.size/2-p.top,o+p.width,f.size+p.height)}Ac(e,a.label,0,-s,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}X(Iu,"id","radialLinear"),X(Iu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:db.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),X(Iu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),X(Iu,"descriptors",{angleLines:{_fallback:"grid"}});const yb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zr=Object.keys(yb);function _R(n,e){return n-e}function AR(n,e){if(nt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ln(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(bd(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function RR(n,e,t,r){const i=zr.length;for(let s=zr.indexOf(n);s<i-1;++s){const o=yb[zr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return zr[s]}return zr[i-1]}function Kee(n,e,t,r,i){for(let s=zr.length-1;s>=zr.indexOf(t);s--){const o=zr[s];if(yb[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return zr[t?zr.indexOf(t):0]}function Qee(n){for(let e=zr.indexOf(n)+1,t=zr.length;e<t;++e)if(yb[zr[e]].common)return zr[e]}function NR(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=bD(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function Gee(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function PR(n,e,t){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!t?r:Gee(n,r,i,t)}class np extends Fc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new lJ._date(e.adapters.date);i.init(t),Mh(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:AR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!a&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ln(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=ln(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=RG(i,s,o);return this._unit=t.unit||(r.autoSkip?RR(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):Kee(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Qee(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),PR(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=In(t,0,o),r=In(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||RR(s.minUnit,t,r,this._getLabelCapacity(t)),a=je(i.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,d=bd(c)||c===!0,f={};let p=t,m,y;if(d&&(p=+e.startOf(p,"isoWeek",c)),p=+e.startOf(p,d?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const b=i.ticks.source==="data"&&this.getDataTimestamps();for(m=p,y=0;m<r;m=+e.add(m,a,o),y++)NR(f,m,b);return(m===r||i.bounds==="ticks"||y===1)&&NR(f,m,b),Object.keys(f).sort(_R).map(v=>+v)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,i){const s=this.options,o=s.ticks.callback;if(o)return jt(o,[e,t,r],this);const a=s.time.displayFormats,c=this._unit,d=this._majorUnit,f=c&&a[c],p=d&&a[d],m=r[t],y=d&&p&&m&&m.major;return this._adapter.format(e,i||(y?p:f))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Ki(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,PR(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(AR(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Nj(e.sort(_R))}}X(np,"id","time"),X(np,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lg(n,e,t){let r=0,i=n.length-1,s,o,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=So(n,"pos",e)),{pos:s,time:a}=n[r],{pos:o,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=So(n,"time",e)),{time:s,pos:a}=n[r],{time:o,pos:c}=n[i]);const d=o-s;return d?a+(c-a)*(e-s)/d:a}class SS extends np{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Lg(t,this.min),this._tableRange=Lg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,a,c,d,f;for(o=0,a=e.length;o<a;++o)d=e[o],d>=t&&d<=r&&i.push(d);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)f=i[o+1],c=i[o-1],d=i[o],Math.round((f+c)/2)!==d&&s.push({time:d,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Lg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Lg(this._table,r*this._tableRange+this._minPos,!0)}}X(SS,"id","timeseries"),X(SS,"defaults",np.defaults);var Xee=Object.freeze({__proto__:null,CategoryScale:Rc,LinearScale:il,LogarithmicScale:xS,RadialLinearScale:Iu,TimeScale:np,TimeSeriesScale:SS});const Jee=[aJ,jZ,Tee,Xee],DB="label";function LR(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Zee(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function CB(n,e){n.labels=e}function kB(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DB;const r=[];n.datasets=e.map(i=>{const s=n.datasets.find(o=>o[t]===i[t]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function ete(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DB;const t={labels:[],datasets:[]};return CB(t,n.labels),kB(t,n.datasets,e),t}function tte(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:c,plugins:d=[],fallbackContent:f,updateMode:p,...m}=n,y=D.useRef(null),b=D.useRef(null),v=()=>{y.current&&(b.current=new Ni(y.current,{type:o,data:ete(a,s),options:c&&{...c},plugins:d}),LR(e,b.current))},w=()=>{LR(e,null),b.current&&(b.current.destroy(),b.current=null)};return D.useEffect(()=>{!i&&b.current&&c&&Zee(b.current,c)},[i,c]),D.useEffect(()=>{!i&&b.current&&CB(b.current.config.data,a.labels)},[i,a.labels]),D.useEffect(()=>{!i&&b.current&&a.datasets&&kB(b.current.config.data,a.datasets,s)},[i,a.datasets]),D.useEffect(()=>{b.current&&(i?(w(),setTimeout(v)):b.current.update(p))},[i,c,a.labels,a.datasets,p]),D.useEffect(()=>{b.current&&(w(),setTimeout(v))},[o]),D.useEffect(()=>(v(),()=>w()),[]),$.createElement("canvas",{ref:y,role:"img",height:t,width:r,...m},f)}const nte=D.forwardRef(tte);function bb(n,e){return Ni.register(e),D.forwardRef((t,r)=>$.createElement(nte,{...t,ref:r,type:n}))}const rte=bb("line",Th),EB=bb("bar",Eh),ite=bb("radar",_h),ste=bb("doughnut",Ba);Ni.register(Lu,il);function ote({result:n}){const{details:e,mood_score:t,tags:r}=n,[i,s]=D.useState(!1),[o,a]=D.useState({}),[c,d]=D.useState(0),f=D.useRef(!0),[p,m]=D.useState(!1),[y,b]=D.useState(0);D.useEffect(()=>{if(e&&e.length>0){const M=e.reduce((k,E)=>E.percentage>k.percentage?E:k);a({label:M.mood_type,moodType:Vl(M.mood_type).moodType,percentage:M.percentage})}},[e]),D.useEffect(()=>{s(!1);const M=requestAnimationFrame(()=>s(!0));return()=>cancelAnimationFrame(M)},[t,r]),D.useEffect(()=>{if(!o||typeof o.percentage!="number")return;let M;const k=eh.durRatio*o.percentage,E=performance.now(),_=f.current?0:Math.round(o.percentage/eh.startRatio),T=P=>{const N=P-E,A=Math.min(N/k,1),L=Math.round(_+(o.percentage-_)*A);d(L),A<1?M=requestAnimationFrame(T):(d(o.percentage),f.current=!1)};return M=requestAnimationFrame(T),()=>{cancelAnimationFrame(M)}},[o]),D.useEffect(()=>{if(!o.moodType)return;m(!1);const M=requestAnimationFrame(()=>{m(!0)});return()=>{cancelAnimationFrame(M)}},[o.moodType,y]);const v=D.useMemo(()=>({labels:e.map(M=>Vl(M.mood_type).moodType),datasets:[{data:e.map(M=>M.percentage),backgroundColor:e.map(M=>Vl(M.mood_type).color),borderWidth:at.chartBorderWidth,borderColor:at.chartBorderColor,hoverOffset:at.chartHoverOffset,hoverBorderWidth:at.chartHoverBorderWidth,hoverBorderColor:e.map(M=>Vl(M.mood_type).hoverBorderColor)}]}),[e]),w=D.useMemo(()=>({animation:{duration:eh.animateDuration,easing:eh.animateEasing,animateRotate:eh.animateRotate},layout:{padding:{top:at.canvasPadding,bottom:at.canvasPadding,left:at.canvasPadding,right:at.canvasPadding}},plugins:{legend:!1},responsive:at.canvasResponsive,maintainAspectRatio:at.canvasMaintainAspectRatio,onClick:(M,k)=>{if(k.length>0){const E=k[0].index;a({label:e[E].mood_type,moodType:Vl(e[E].mood_type).moodType,percentage:e[E].percentage}),b(_=>_+1)}}}),[e]);return C.jsxs("div",{className:"mood-results",children:[C.jsxs("div",{className:`mood-score${i?" fade-in":""}`,children:[C.jsx("p",{children:lte(t)})," "]}),C.jsxs("div",{className:"mood-details",children:[C.jsx("div",{className:"doughnut-chart",style:{position:"relative"},children:C.jsx(ste,{data:v,options:w,plugins:[ate]})}),C.jsx("div",{className:"percentage-box",style:{font:at.perFont,color:Vl(o.label).color},children:c}),o.moodType&&C.jsx("div",{className:`selected-mood-info${p?" fade-in":""}`,children:C.jsx("p",{children:o.moodType})})]}),C.jsx(KQ,{tags:r,scoreTagFade:i})]})}const at={chartBorderWidth:2,chartBorderColor:"#fff",chartHoverOffset:15,chartHoverBorderWidth:3,perFont:"bold 45px sans-serif",canvasResponsive:!0,canvasMaintainAspectRatio:!1,canvasPadding:13,joy:"기쁨 | 행복",anger:"분노 | 짜증",anxiety:"불안 | 걱정",sadness:"슬픔 | 우울",boredom:"지루 | 권태",comfort:"평온 | 만족",etc:"중립 | 기타",joyColor:"#fbc02d",angerColor:"#e53935",anxietyColor:"#8e24aa",sadnessColor:"#1e88e5",boredomColor:"#90a4ae",comfortColor:"#43a047",etcColor:"#ee3",joyHBC:"#fbc02d",angerHBC:"#e53935",anxietyHBC:"#8e24aa",sadnessHBC:"#1e88e5",boredomHBC:"#90a4ae",comfortHBC:"#43a047",etcHBC:"#ee3"},eh={durRatio:20,startRatio:3,animateDuration:2200,animateEasing:"easeInOutQuart",animateRotate:!0},Vl=n=>{switch(n){case"기쁨/행복":return{moodType:at.joy,color:at.joyColor,hoverBorderColor:at.joyHBC};case"분노/짜증":return{moodType:at.anger,color:at.angerColor,hoverBorderColor:at.angerHBC};case"불안/걱정":return{moodType:at.anxiety,color:at.anxietyColor,hoverBorderColor:at.anxietyHBC};case"슬픔/우울":return{moodType:at.sadness,color:at.sadnessColor,hoverBorderColor:at.sadnessHBC};case"지루/권태":return{moodType:at.boredom,color:at.boredomColor,hoverBorderColor:at.boredomHBC};case"평온/만족":return{moodType:at.comfort,color:at.comfortColor,hoverBorderColor:at.comfortHBC};default:return{moodType:at.etc,color:at.etcColor,hoverBorderColor:at.etcHBC}}},ate={id:"centerPercentage",afterDraw(n){var c;const{ctx:e,width:t,height:r}=n,i=((c=n.options.plugins)==null?void 0:c.centerPercentage)||{},{label:s,percentage:o}=i;if(!s||o===void 0)return;const a=Vl(s).color;e.save(),e.textAlign=at.perTextAlign,e.textBaseline=at.perTextBaseline,e.font=at.perFont,e.fillStyle=a,e.fillText(`${o}`,t/2,r/2+5),e.restore()}},lte=n=>n>=80&&n<=100?"마치 햇살이 바다를 황금빛으로 물들이는 것처럼 오늘 하루가 빛나네요! 🏄‍♀️✨":n>=50&&n<=79?"맑은 바다에서 수영하는 것처럼 즐거워 보여요 🏊‍♀️":n>=16&&n<=49?"잔잔한 파도처럼 마음도 평온해 보여요 나쁘지 않은 하루네요 🏖️":n>=-15&&n<=15?"평온하지만 조금 흐린 바다 같은  기분이시군요 그런 날도 있죠 🌫️":n>=-49&&n<=-16?"조금 힘든 하루였나 봐요 때로는 파도가 거칠어도 괜찮아요 곧 잠잠해질 테니까 ️🌊":n>=-79&&n<=-50?"마음이 많이 무겁네요 폭풍 후의 바다처럼... 이런 날도 지나갈 거예요 🚶‍♀️":"많이 힘드셨겠어요 가장 깊은 바다 밑에서도 언젠가는 다시 수면으로 떠오르게 되어 있어요 ⚓",cte=n=>n?en.get(`/api/analyze/${n}`):Promise.reject(new Error("일기 ID가 필요합니다."));function ute({selectedDiaryId:n,refreshKey:e}){const[t,r]=D.useState(!1),[i,s]=D.useState(null),[o,a]=D.useState(null);return D.useEffect(()=>{if(!n){s(null);return}r(!0),a(null),cte(n).then(c=>{s(c.data)}).catch(c=>{console.error("감정 분석 조회 실패:",c),a("감정 분석 결과를 불러오는 데 실패했습니다.")}).finally(()=>{r(!1)})},[n,e]),C.jsxs("div",{style:{padding:20},children:[t&&C.jsx("p",{children:"분석 결과 불러오는 중..."}),o&&C.jsx("p",{style:{color:"red"},children:o}),!t&&!o&&!i&&C.jsx("p",{children:"일기를 작성해주세요."}),i&&C.jsx(ote,{result:i})]})}const TB=n=>n?en.get(`/api/diary?date=${n}`):Promise.reject(new Error("Date string is required")),dte=n=>en.post("/api/diary",n),fte=(n,e)=>en.put(`/api/diary/${n}`,e),hte=n=>n?en.delete(`/api/diary/${n}`):Promise.reject(new Error("Diary ID is required")),pte=n=>en.get(`/api/diary/${n}`),mte=()=>{const{user:n}=Wr(),e=es(),[t,r]=D.useState(Yi(new Date)),[i,s]=D.useState(null),[o,a]=D.useState(!1),c=D.useCallback(p=>{if(!n){Xe.error("로그인이 필요합니다.");return}const m=Yi(p);r(m),e(`/diary/date/${m}`)},[e,n]),d=D.useCallback(async p=>{a(!0);try{const m=await TB(p);s(m.data)}catch{s(null)}finally{a(!1)}},[]);D.useEffect(()=>{t&&d(t)},[t,d]);const f=D.useCallback(()=>{t&&d(t)},[t,d]);return{user:n,selectedDate:t,setSelectedDate:r,diaryForDate:i,isLoading:o,handleDateClick:c,fetchDiaryForDate:d,handleDiaryUpdated:f}},IR=()=>{const{date:n}=CM(),e=qr(),{user:t,selectedDate:r,setSelectedDate:i,diaryForDate:s,isLoading:o,handleDiaryUpdated:a}=mte(),[c,d]=D.useState(null),[f,p]=D.useState(0);D.useEffect(()=>{n&&n!==r&&i(n)},[n,r,i]);const{data:m,loading:y,refetch:b}=LU(r),v=k=>{e()&&i(k)},w=()=>{b==null||b()};D.useEffect(()=>{d((s==null?void 0:s.diaryId)??null)},[s]);const M=()=>{p(k=>k+1),a()};return C.jsxs("main",{className:"main-content three-column-layout",children:[C.jsxs("aside",{className:"left-sidebar",children:[C.jsx("div",{className:"emotion-analysis",children:C.jsx(ute,{refreshKey:f,selectedDiaryId:c})}),C.jsx("div",{className:"sidebar-gallery",children:C.jsx(oK,{})})]}),C.jsxs("section",{className:"center-editor",children:[C.jsx("div",{className:"timeline-header",children:y?C.jsx("p",{children:"로딩 중..."}):C.jsx(qq,{data:m,onSelectDate:v,selectedDate:r,isLoggedIn:!!t,setSelectedDate:i})}),C.jsx("div",{className:"outlet-container",children:C.jsx(_p,{context:{initialDiary:s,setSelectedDiaryId:d,selectedDate:r,setSelectedDate:i,isLoading:o,onDiaryUpdated:a,onEmotionUpdated:M,onDataChange:w}})})]}),C.jsxs("aside",{className:"right-sidebar",children:[C.jsx(ej,{date:r,onDataChange:w}),C.jsx(tj,{date:r,onDataChange:w}),C.jsx(nj,{date:r,onDataChange:w})]}),C.jsx(qQ,{})]})};function qn(n){this.content=n}qn.prototype={constructor:qn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new qn(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new qn(t)},addToStart:function(n,e){return new qn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new qn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new qn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=qn.from(n),n.size?new qn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=qn.from(n),n.size?new qn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=qn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};qn.from=function(n){if(n instanceof qn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new qn(e)};function OB(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=OB(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function _B(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),c=o.nodeSize;if(o==a){t-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let d=0,f=Math.min(o.text.length,a.text.length);for(;d<f&&o.text[o.text.length-d-1]==a.text[a.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let d=_B(o.content,a.content,t-1,r-1);if(d)return d}t-=c,r-=c}}class ue{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let c=this.content[o],d=a+c.nodeSize;if(d>e&&r(c,i+a,s||null,o)!==!1&&c.content.size){let f=a+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,t-f),r,i+f)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,c)=>{let d=a.isText?a.text.slice(Math.max(e,c)-c,t-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ue(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],c=o+a.nodeSize;c>e&&((o<e||c>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=c}return new ue(r,i)}cutByIndex(e,t){return e==t?ue.empty:e==0&&t==this.content.length?this:new ue(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ue(i,s)}addToStart(e){return new ue([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ue(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return OB(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return _B(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Ig(0,e);if(e==this.size)return Ig(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?Ig(r+1,o):Ig(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ue.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ue(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ue.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ue(t||e,r)}static from(e){if(!e)return ue.empty;if(e instanceof ue)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ue([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ue.empty=new ue([],0);const j1={index:0,offset:0};function Ig(n,e){return j1.index=n,j1.offset=e,j1}function f0(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!f0(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!f0(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let At=class MS{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&f0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return MS.none;if(e instanceof MS)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};At.none=[];class h0 extends Error{}class ye{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=RB(this.content,e+this.openStart,t);return r&&new ye(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ye(AB(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ye.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ye(ue.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new ye(e,r,i)}}ye.empty=new ye(ue.empty,0,0);function AB(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(AB(s.content,e-i-1,t-i-1)))}function RB(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=RB(o.content,e-s-1,t);return a&&n.replaceChild(i,o.copy(a))}function gte(n,e,t){if(t.openStart>n.depth)throw new h0("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new h0("Inconsistent open depths");return NB(n,e,t,0)}function NB(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=NB(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return bc(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=yte(t,n);return bc(s,LB(n,o,a,e,r))}else return bc(s,p0(n,e,r))}function PB(n,e){if(!e.type.compatibleContent(n.type))throw new h0("Cannot join "+e.type.name+" onto "+n.type.name)}function DS(n,e,t){let r=n.node(t);return PB(r,e.node(t)),r}function yc(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Rh(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(yc(n.nodeAfter,r),s++));for(let a=s;a<o;a++)yc(i.child(a),r);e&&e.depth==t&&e.textOffset&&yc(e.nodeBefore,r)}function bc(n,e){return n.type.checkContent(e),n.copy(e)}function LB(n,e,t,r,i){let s=n.depth>i&&DS(n,e,i+1),o=r.depth>i&&DS(t,r,i+1),a=[];return Rh(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(PB(s,o),yc(bc(s,LB(n,e,t,r,i+1)),a)):(s&&yc(bc(s,p0(n,e,i+1)),a),Rh(e,t,i,a),o&&yc(bc(o,p0(t,r,i+1)),a)),Rh(r,null,i,a),new ue(a)}function p0(n,e,t){let r=[];if(Rh(null,n,t,r),n.depth>t){let i=DS(n,e,t+1);yc(bc(i,p0(n,e,t+1)),r)}return Rh(e,null,t,r),new ue(r)}function yte(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(ue.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class rp{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return At.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new m0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:c}=o.content.findIndex(s),d=s-c;if(r.push(o,a,i+c),!d||(o=o.child(a),o.isText))break;s=d-1,i+=c+1}return new rp(t,r,s)}static resolveCached(e,t){let r=jR.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else jR.set(e,r=new bte);let i=r.elts[r.i]=rp.resolve(e,t);return r.i=(r.i+1)%vte,i}}class bte{constructor(){this.elts=[],this.i=0}}const vte=12,jR=new WeakMap;class m0{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const xte=Object.create(null);let Ka=class CS{constructor(e,t,r,i=At.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ue.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&f0(this.attrs,t||e.defaultAttrs||xte)&&At.sameSet(this.marks,r||At.none)}copy(e=null){return e==this.content?this:new CS(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new CS(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ye.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),d=i.node(o).content.cut(i.pos-a,s.pos-a);return new ye(d,i.depth-o,s.depth-o)}replace(e,t,r){return gte(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return rp.resolveCached(this,e)}resolveNoCache(e){return rp.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),IB(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ue.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=At.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!At.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ue.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Ka.prototype.text=void 0;class g0 extends Ka{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):IB(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new g0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new g0(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function IB(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Nc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new wte(e,t);if(r.next==null)return Nc.empty;let i=jB(r);r.next&&r.err("Unexpected trailing text");let s=Tte(Ete(i));return Ote(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let c=o.matchFragment(e,r);if(c&&(!t||c.validEnd))return ue.from(a.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:p}=o.next[d];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let m=s(p,a.concat(f));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Nc.empty=new Nc(!0);class wte{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function jB(n){let e=[];do e.push(Ste(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ste(n){let e=[];do e.push(Mte(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Mte(n){let e=kte(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Dte(n,e);else break;return e}function BR(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Dte(n,e){let t=BR(n),r=t;return n.eat(",")&&(n.next!="}"?r=BR(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Cte(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function kte(n){if(n.eat("(")){let e=jB(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Cte(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ete(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,c){let d={term:c,to:a};return e[o].push(d),d}function i(o,a){o.forEach(c=>c.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(s(d,a)),[]);if(o.type=="seq")for(let c=0;;c++){let d=s(o.exprs[c],a);if(c==o.exprs.length-1)return d;i(d,a=t())}else if(o.type=="star"){let c=t();return r(a,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=t();return i(s(o.expr,a),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let c=a;for(let d=0;d<o.min;d++){let f=t();i(s(o.expr,c),f),c=f}if(o.max==-1)i(s(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let f=t();r(c,f),i(s(o.expr,c),f),c=f}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function BB(n,e){return e-n}function FR(n,e){let t=[];return r(e),t.sort(BB);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:c}=s[o];!a&&t.indexOf(c)==-1&&r(c)}}}function Tte(n){let e=Object.create(null);return t(FR(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:c})=>{if(!a)return;let d;for(let f=0;f<i.length;f++)i[f][0]==a&&(d=i[f][1]);FR(n,c).forEach(f=>{d||i.push([a,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let s=e[r.join(",")]=new Nc(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(BB);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function Ote(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:d}=i.next[a];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function FB(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function zB(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function VB(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function HB(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Ate(n,r,e[r]);return t}let zR=class UB{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=HB(e,r.attrs),this.defaultAttrs=FB(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Nc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:zB(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ka(this,this.computeAttrs(e),ue.from(t),At.setFrom(r))}createChecked(e=null,t,r){return t=ue.from(t),this.checkContent(t),new Ka(this,this.computeAttrs(e),t,At.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ue.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(ue.empty,!0);return s?new Ka(this,e,t.append(s),At.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){VB(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:At.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new UB(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function _te(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class Ate{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?_te(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class vb{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=HB(e,i.attrs),this.excluded=null;let s=FB(this.attrs);this.instance=s?new At(this,s):null}create(e=null){return!e&&this.instance?this.instance:new At(this,zB(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new vb(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){VB(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class $B{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=qn.from(e.nodes),t.marks=qn.from(e.marks||{}),this.nodes=zR.compile(this.spec.nodes,this),this.marks=vb.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Nc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?VR(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:VR(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof zR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new g0(r,r.defaultAttrs,e,At.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Ka.fromJSON(this,e)}markFromJSON(e){return At.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function VR(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let c=n.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Rte(n){return n.tag!=null}function Nte(n){return n.style!=null}class Qa{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Rte(i))this.tags.push(i);else if(Nte(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new UR(this,t,!1);return r.addAll(e,At.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new UR(this,t,!0);return r.addAll(e,At.none,t.from,t.to),ye.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Ite(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let c=o.getAttrs(t);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=$R(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=$R(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Qa(e,Qa.schemaRules(e)))}}const YB={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Pte={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},WB={ol:!0,ul:!0},ip=1,kS=2,Nh=4;function HR(n,e,t){return e!=null?(e?ip:0)|(e==="full"?kS:0):n&&n.whitespace=="pre"?ip|kS:t&~Nh}class jg{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=At.none,this.match=s||(o&Nh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ue.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ip)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=ue.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ue.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!YB.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class UR{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=HR(null,t.preserveWhitespace,0)|(r?Nh:0);i?s=new jg(i.type,i.attrs,At.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new jg(null,null,At.none,!0,null,o):s=new jg(e.schema.topNodeType,null,At.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&kS?"full":this.localPreserveWS||(i.options&ip)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;WB.hasOwnProperty(o)&&this.parser.normalizeLists&&Lte(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(c?c.ignore:Pte.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,f=this.needsBlock;if(YB.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let p=c&&c.skip?t:this.readStyles(e,t);p&&this.addAll(e,p),d&&this.sync(s),this.needsBlock=f}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,c,d,c.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(s,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(d=>!c.clearMark(d)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(o,t.attrs||null,r,t.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[t.mark];r=r.concat(c.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!i||i.length>d.length+a)&&(i=d,s=c,!d.length))break;if(c.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=At.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):YR(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=HR(e,s,o.options);o.options&Nh&&o.content.length==0&&(a|=Nh);let c=At.none;return r=r.filter(d=>(o.type?o.type.allowsMarkType(d.type):YR(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new jg(e,t,c,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=ip)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let d=t[a];if(d==""){if(a==t.length-1||a==0)continue;for(;c>=s;c--)if(o(a-1,c))return!0;return!1}else{let f=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;c--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Lte(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&WB.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Ite(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function $R(n){let e={};for(let t in n)e[t]=n[t];return e}function YR(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let c=0;c<a.edgeCount;c++){let{type:d,next:f}=a.edge(c);if(d==e||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class zc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=B1(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,c=0;for(;a<s.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(s[a][0])||d.type.spec.spanning===!1)break;a++,c++}for(;a<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],f=this.serializeMark(d,o.isInline,t);f&&(s.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=gy(B1(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&gy(B1(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return gy(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=WR(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return WR(e.marks)}}function WR(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function B1(n){return n.document||window.document}const qR=new WeakMap;function jte(n){let e=qR.get(n);return e===void 0&&qR.set(n,e=Bte(n)),e}function Bte(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function gy(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=jte(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,c=t?n.createElementNS(t,i):n.createElement(i),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let m=p.indexOf(" ");m>0?c.setAttributeNS(p.slice(0,m),p.slice(m+1),d[p]):c.setAttribute(p,d[p])}}for(let p=f;p<e.length;p++){let m=e[p];if(m===0){if(p<e.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:y,contentDOM:b}=gy(n,m,t,r);if(c.appendChild(y),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:c,contentDOM:a}}const qB=65535,KB=Math.pow(2,16);function Fte(n,e){return n+e*KB}function KR(n){return n&qB}function zte(n){return(n-(n&qB))/KB}const QB=1,GB=2,yy=4,XB=8;class ES{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&XB)>0}get deletedBefore(){return(this.delInfo&(QB|yy))>0}get deletedAfter(){return(this.delInfo&(GB|yy))>0}get deletedAcross(){return(this.delInfo&yy)>0}}class ai{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ai.empty)return ai.empty}recover(e){let t=0,r=KR(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+zte(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>e)break;let d=this.ranges[a+s],f=this.ranges[a+o],p=c+d;if(e<=p){let m=d?e==c?-1:e==p?1:t:t,y=c+i+(m<0?0:f);if(r)return y;let b=e==(t<0?c:p)?null:Fte(a/3,e-c),v=e==c?GB:e==p?QB:yy;return(t<0?e!=c:e!=p)&&(v|=XB),new ES(y,v,b)}i+=f-d}return r?e+i:new ES(e+i,0,null)}touches(e,t){let r=0,i=KR(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>e)break;let d=this.ranges[a+s],f=c+d;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+o]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),c=o+(this.inverted?0:s),d=this.ranges[i+t],f=this.ranges[i+r];e(a,a+d,c,c+f),s+=f-d}}invert(){return new ai(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ai.empty:new ai(e<0?[0,-e,0]:[0,0,e])}}ai.empty=new ai([]);class sp{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new sp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new sp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new ES(e,i,null)}}const F1=Object.create(null);class gr{getMap(){return ai.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=F1[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in F1)throw new RangeError("Duplicate use of step JSON ID "+e);return F1[e]=t,t.prototype.jsonID=e,t}}class Sn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Sn(e,null)}static fail(e){return new Sn(null,e)}static fromReplace(e,t,r,i){try{return Sn.ok(e.replace(t,r,i))}catch(s){if(s instanceof h0)return Sn.fail(s.message);throw s}}}function OD(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(OD(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return ue.fromArray(r)}class za extends gr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ye(OD(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Sn.fromReplace(e,this.from,this.to,s)}invert(){return new Ts(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new za(t.pos,r.pos,this.mark)}merge(e){return e instanceof za&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new za(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new za(t.from,t.to,e.markFromJSON(t.mark))}}gr.jsonID("addMark",za);class Ts extends gr{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ye(OD(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Sn.fromReplace(e,this.from,this.to,r)}invert(){return new za(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ts(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ts&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ts(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ts(t.from,t.to,e.markFromJSON(t.mark))}}gr.jsonID("removeMark",Ts);class Va extends gr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Sn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Sn.fromReplace(e,this.pos,this.pos+1,new ye(ue.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Va(this.pos,t.marks[i]);return new Va(this.pos,this.mark)}}return new Pc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Va(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Va(t.pos,e.markFromJSON(t.mark))}}gr.jsonID("addNodeMark",Va);class Pc extends gr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Sn.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Sn.fromReplace(e,this.pos,this.pos+1,new ye(ue.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Va(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Pc(t.pos,e.markFromJSON(t.mark))}}gr.jsonID("removeNodeMark",Pc);class Ln extends gr{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&TS(e,this.from,this.to)?Sn.fail("Structure replace would overwrite content"):Sn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ai([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ln(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Ln(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ln)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ye.empty:new ye(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ln(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ye.empty:new ye(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ln(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ln(t.from,t.to,ye.fromJSON(e,t.slice),!!t.structure)}}gr.jsonID("replace",Ln);class jn extends gr{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(TS(e,this.from,this.gapFrom)||TS(e,this.gapTo,this.to)))return Sn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Sn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Sn.fromReplace(e,this.from,this.to,r):Sn.fail("Content does not fit in gap")}getMap(){return new ai([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new jn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new jn(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new jn(t.from,t.to,t.gapFrom,t.gapTo,ye.fromJSON(e,t.slice),t.insert,!!t.structure)}}gr.jsonID("replaceAround",jn);function TS(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function Vte(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(c,d,f)=>{if(!c.isInline)return;let p=c.marks;if(!r.isInSet(p)&&f.type.allowsMarkType(r.type)){let m=Math.max(d,e),y=Math.min(d+c.nodeSize,t),b=r.addToSet(p);for(let v=0;v<p.length;v++)p[v].isInSet(b)||(o&&o.to==m&&o.mark.eq(p[v])?o.to=y:i.push(o=new Ts(m,y,p[v])));a&&a.to==m?a.to=y:s.push(a=new za(m,y,r))}}),i.forEach(c=>n.step(c)),s.forEach(c=>n.step(c))}function Hte(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof vb){let d=o.marks,f;for(;f=r.isInSet(d);)(c||(c=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let d=Math.min(a+o.nodeSize,t);for(let f=0;f<c.length;f++){let p=c[f],m;for(let y=0;y<i.length;y++){let b=i[y];b.step==s-1&&p.eq(i[y].style)&&(m=b)}m?(m.to=d,m.step=s):i.push({style:p,from:Math.max(a,e),to:d,step:s})}}}),i.forEach(o=>n.step(new Ts(o.from,o.to,o.style)))}function _D(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let c=0;c<s.childCount;c++){let d=s.child(c),f=a+d.nodeSize,p=r.matchType(d.type);if(!p)o.push(new Ln(a,f,ye.empty));else{r=p;for(let m=0;m<d.marks.length;m++)t.allowsMarkType(d.marks[m].type)||n.step(new Ts(a,f,d.marks[m]));if(i&&d.isText&&t.whitespace!="pre"){let m,y=/\r?\n|\r/g,b;for(;m=y.exec(d.text);)b||(b=new ye(ue.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),o.push(new Ln(a+m.index,a+m.index+m[0].length,b))}}a=f}if(!r.validEnd){let c=r.fillBefore(ue.empty,!0);n.replace(a,a,new ye(c,0,0))}for(let c=o.length-1;c>=0;c--)n.step(o[c])}function Ute(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ud(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!Ute(i,s,o))break}return null}function $te(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),c=o,d=a,f=ue.empty,p=0;for(let b=s,v=!1;b>t;b--)v||r.index(b)>0?(v=!0,f=ue.from(r.node(b).copy(f)),p++):c--;let m=ue.empty,y=0;for(let b=s,v=!1;b>t;b--)v||i.after(b+1)<i.end(b)?(v=!0,m=ue.from(i.node(b).copy(m)),y++):d++;n.step(new jn(c,d,o,a,new ye(f.append(m),p,y),f.size-p,!0))}function AD(n,e,t=null,r=n){let i=Yte(n,e),s=i&&Wte(r,e);return s?i.map(QR).concat({type:e,attrs:t}).concat(s.map(QR)):null}function QR(n){return{type:n,attrs:null}}function Yte(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Wte(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=r;c&&d<i;d++)c=c.matchType(t.child(d).type);return!c||!c.validEnd?null:o}function qte(n,e,t){let r=ue.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ue.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new jn(i,s,i,s,new ye(r,0,0),t.length,!0))}function Kte(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,c)&&Qte(n.doc,n.mapping.slice(s).map(a),r)){let d=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!b?d=!1:!y&&b&&(d=!0)}d===!1&&ZB(n,o,a,s),_D(n,n.mapping.slice(s).map(a,1),r,void 0,d===null);let f=n.mapping.slice(s),p=f.map(a,1),m=f.map(a+o.nodeSize,1);return n.step(new jn(p,m,p+1,m-1,new ye(ue.from(r.create(c,null,o.marks)),0,0),1,!0)),d===!0&&JB(n,o,a,s),!1}})}function JB(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function ZB(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Qte(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function Gte(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new jn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ye(ue.from(o),0,0),1,!0))}function Ao(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=t-2;d>s;d--,f--){let p=i.node(d),m=i.index(d);if(p.type.spec.isolating)return!1;let y=p.content.cutByIndex(m,p.childCount),b=r&&r[f+1];b&&(y=y.replaceChild(0,b.type.create(b.attrs)));let v=r&&r[f]||p;if(!p.canReplace(m+1,p.childCount)||!v.type.validContent(y))return!1}let a=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(a,a,c?c.type:i.node(s+1).type)}function Xte(n,e,t=1,r){let i=n.doc.resolve(e),s=ue.empty,o=ue.empty;for(let a=i.depth,c=i.depth-t,d=t-1;a>c;a--,d--){s=ue.from(i.node(a).copy(s));let f=r&&r[d];o=ue.from(f?f.type.create(f.attrs,o):i.node(a).copy(o))}n.step(new Ln(e,e,new ye(s.append(o),t,t),!0))}function ul(n,e){let t=n.resolve(e),r=t.index();return eF(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Jte(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function eF(n,e){return!!(n&&e&&!n.isLeaf&&Jte(n,e))}function xb(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&eF(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Zte(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",p=!!o.contentMatch.matchType(i);f&&!p?r=!1:!f&&p&&(r=!0)}let a=n.steps.length;if(r===!1){let f=n.doc.resolve(e+t);ZB(n,f.node(),f.before(),a)}o.inlineContent&&_D(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let c=n.mapping.slice(a),d=c.map(e-t);if(n.step(new Ln(d,c.map(e+t,-1),ye.empty,!0)),r===!0){let f=n.doc.resolve(d);JB(n,f.node(),f.before(),n.steps.length)}return n}function ene(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function tF(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),d=r.node(o),f=!1;if(s==1)f=d.canReplace(c,c,i);else{let p=d.contentMatchAt(c).findWrapping(i.firstChild.type);f=p&&d.canReplaceWith(c,c,p[0])}if(f)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function wb(n,e,t=e,r=ye.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return nF(i,s,r)?new Ln(e,t,r):new tne(i,s,r).fit()}function nF(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class tne{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ue.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ue.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let c=new ye(s,o,a);return e>-1?new jn(r.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||r.pos!=this.$to.pos?new Ln(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=z1(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:d}=this.frontier[a],f,p=null;if(t==1&&(o?d.matchType(o.type)||(p=d.fillBefore(ue.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:p};if(t==2&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=z1(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ye(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=z1(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new ye(hh(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new ye(hh(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-e,d=0,f=[],{match:p,type:m}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)f.push(i.child(v));p=p.matchFragment(i)}let y=a.size+e-(o.content.size-o.openEnd);for(;d<a.childCount;){let v=a.child(d),w=p.matchType(v.type);if(!w)break;d++,(d>1||c==0||v.content.size)&&(p=w,f.push(rF(v.mark(m.allowedMarks(v.marks)),d==1?c:0,d==a.childCount?y:-1)))}let b=d==a.childCount;b||(y=-1),this.placed=ph(this.placed,t,ue.from(f)),this.frontier[t].match=p,b&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,w=a;v<y;v++){let M=w.lastChild;this.frontier.push({type:M.type,match:M.contentMatchAt(M.childCount)}),w=M.content}this.unplaced=b?e==0?ye.empty:new ye(hh(o.content,e-1,1),e-1,y<0?o.openEnd:e-1):new ye(hh(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!V1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=V1(e,t,i,r,s);if(o){for(let a=t-1;a>=0;a--){let{match:c,type:d}=this.frontier[a],f=V1(e,a,d,c,!0);if(!f||f.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ph(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ph(this.placed,this.depth,ue.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ue.empty,!0);t.childCount&&(this.placed=ph(this.placed,this.frontier.length,t))}}function hh(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(hh(n.firstChild.content,e-1,t)))}function ph(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ph(n.lastChild.content,e-1,t)))}function z1(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function rF(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,rF(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ue.empty,!0)))),n.copy(r)}function V1(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!nne(t,s.content,o)?a:null}function nne(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function rne(n){return n.spec.defining||n.spec.definingForContent}function ine(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(nF(i,s,r))return n.step(new Ln(e,t,r));let o=sF(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let m=i.depth,y=i.pos-1;m>0;m--,y--){let b=i.node(m).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(m)>-1?a=m:i.before(m)==y&&o.splice(1,0,-m)}let c=o.indexOf(a),d=[],f=r.openStart;for(let m=r.content,y=0;;y++){let b=m.firstChild;if(d.push(b),y==r.openStart)break;m=b.content}for(let m=f-1;m>=0;m--){let y=d[m],b=rne(y.type);if(b&&!y.sameMarkup(i.node(Math.abs(a)-1)))f=m;else if(b||!y.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let y=(m+f+1)%(r.openStart+1),b=d[y];if(b)for(let v=0;v<o.length;v++){let w=o[(v+c)%o.length],M=!0;w<0&&(M=!1,w=-w);let k=i.node(w-1),E=i.index(w-1);if(k.canReplaceWith(E,E,b.type,b.marks))return n.replace(i.before(w),M?s.after(w):t,new ye(iF(r.content,0,r.openStart,y),y,r.openEnd))}}let p=n.steps.length;for(let m=o.length-1;m>=0&&(n.replace(e,t,r),!(n.steps.length>p));m--){let y=o[m];y<0||(e=i.before(y),t=s.after(y))}}function iF(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(iF(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(ue.empty,!0))}return n}function sne(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=ene(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ye(ue.from(r),0,0))}function one(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=sF(r,i);for(let o=0;o<s.length;o++){let a=s[o],c=o==s.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function sF(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class Xu extends gr{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Sn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Sn.fromReplace(e,this.pos,this.pos+1,new ye(ue.from(i),0,t.isLeaf?0:1))}getMap(){return ai.empty}invert(e){return new Xu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xu(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Xu(t.pos,t.attr,t.value)}}gr.jsonID("attr",Xu);class op extends gr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Sn.ok(r)}getMap(){return ai.empty}invert(e){return new op(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new op(t.attr,t.value)}}gr.jsonID("docAttr",op);let wd=class extends Error{};wd=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};wd.prototype=Object.create(Error.prototype);wd.prototype.constructor=wd;wd.prototype.name="TransformError";class ane{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new sp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new wd(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ye.empty){let i=wb(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ye(ue.from(r),0,0))}delete(e,t){return this.replace(e,t,ye.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return ine(this,e,t,r),this}replaceRangeWith(e,t,r){return sne(this,e,t,r),this}deleteRange(e,t){return one(this,e,t),this}lift(e,t){return $te(this,e,t),this}join(e,t=1){return Zte(this,e,t),this}wrap(e,t){return qte(this,e,t),this}setBlockType(e,t=e,r,i=null){return Kte(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return Gte(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Xu(e,t,r)),this}setDocAttribute(e,t){return this.step(new op(e,t)),this}addNodeMark(e,t){return this.step(new Va(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof At)t.isInSet(r.marks)&&this.step(new Pc(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new Pc(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return Xte(this,e,t,r),this}addMark(e,t,r){return Vte(this,e,t,r),this}removeMark(e,t,r){return Hte(this,e,t,r),this}clearIncompatible(e,t,r){return _D(this,e,t,r),this}}const H1=Object.create(null);class He{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new lne(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ye.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:d}=o[a],f=e.mapping.slice(s);e.replaceRange(f.map(c.pos),f.map(d.pos),a?ye.empty:t),a==0&&JR(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],c=e.mapping.slice(r),d=c.map(o.pos),f=c.map(a.pos);s?e.deleteRange(d,f):(e.replaceRangeWith(d,f,t),JR(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Ie(e):Nu(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Nu(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Nu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ui(e.node(0))}static atStart(e){return Nu(e,e,0,0,1)||new ui(e)}static atEnd(e){return Nu(e,e,e.content.size,e.childCount,-1)||new ui(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=H1[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in H1)throw new RangeError("Duplicate use of selection JSON ID "+e);return H1[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ie.between(this.$anchor,this.$head).getBookmark()}}He.prototype.visible=!0;class lne{constructor(e,t){this.$from=e,this.$to=t}}let GR=!1;function XR(n){!GR&&!n.parent.inlineContent&&(GR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ie extends He{constructor(e,t=e){XR(e),XR(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return He.near(r);let i=e.resolve(t.map(this.anchor));return new Ie(i.parent.inlineContent?i:r,r)}replace(e,t=ye.empty){if(super.replace(e,t),t==ye.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ie&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Sb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ie(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=He.findFrom(t,r,!0)||He.findFrom(t,-r,!0);if(s)t=s.$head;else return He.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(He.findFrom(e,-r,!0)||He.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ie(e,t)}}He.jsonID("text",Ie);class Sb{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Sb(e.map(this.anchor),e.map(this.head))}resolve(e){return Ie.between(e.resolve(this.anchor),e.resolve(this.head))}}class ke extends He{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?He.near(s):new ke(s)}content(){return new ye(ue.from(this.node),0,0)}eq(e){return e instanceof ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new RD(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ke(e.resolve(t.anchor))}static create(e,t){return new ke(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ke.prototype.visible=!1;He.jsonID("node",ke);class RD{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Sb(r,r):new RD(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ke.isSelectable(r)?new ke(t):He.near(t)}}class ui extends He{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ye.empty){if(t==ye.empty){e.delete(0,e.doc.content.size);let r=He.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new ui(e)}map(e){return new ui(e)}eq(e){return e instanceof ui}getBookmark(){return cne}}He.jsonID("all",ui);const cne={map(){return this},resolve(n){return new ui(n)}};function Nu(n,e,t,r,i,s=!1){if(e.inlineContent)return Ie.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ke.isSelectable(a))return ke.create(n,t-(i<0?a.nodeSize:0))}else{let c=Nu(n,a,t+i,i<0?a.childCount:0,i,s);if(c)return c}t+=a.nodeSize*i}return null}function JR(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Ln||i instanceof jn))return;let s=n.mapping.maps[r],o;s.forEach((a,c,d,f)=>{o==null&&(o=f)}),n.setSelection(He.near(n.doc.resolve(o),t))}const ZR=1,Bg=2,eN=4;class une extends ane{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ZR)&~Bg,this.storedMarks=null,this}get selectionSet(){return(this.updated&ZR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Bg,this}ensureMarks(e){return At.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bg)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Bg,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||At.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(He.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=eN,this}get scrolledIntoView(){return(this.updated&eN)>0}}function tN(n,e){return!e||!n?n:n.bind(e)}class mh{constructor(e,t,r){this.name=e,this.init=tN(t.init,r),this.apply=tN(t.apply,r)}}const dne=[new mh("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new mh("selection",{init(n,e){return n.selection||He.atStart(e.doc)},apply(n){return n.selection}}),new mh("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new mh("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class U1{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dne.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new mh(r.key,r.spec.state,r))})}}class ju{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,d=i?i[o].state:this,f=c<t.length&&a.spec.appendTransaction.call(a,c?t.slice(c):t,d,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<o?{state:r,n:t.length}:{state:this,n:0})}t.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ju(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new une(this)}static create(e){let t=new U1(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ju(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new U1(this.schema,e.plugins),r=t.fields,i=new ju(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new U1(e.schema,e.plugins),s=new ju(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Ka.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=He.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=d.fromJSON.call(c,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function oF(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=oF(i,e,{})),t[r]=i}return t}class _r{constructor(e){this.spec=e,this.props={},e.props&&oF(e.props,this,this.props),this.key=e.key?e.key.key:aF("plugin")}getState(e){return e[this.key]}}const $1=Object.create(null);function aF(n){return n in $1?n+"$"+ ++$1[n]:($1[n]=0,n+"$")}class ns{constructor(e="key"){this.key=aF(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Sd=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let OS=null;const go=function(n,e,t){let r=OS||(OS=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},fne=function(){OS=null},Lc=function(n,e,t,r){return t&&(nN(n,e,t,r,-1)||nN(n,e,t,r,1))},hne=/^(img|br|input|textarea|hr)$/i;function nN(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Oi(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Yp(n)||hne.test(n.nodeName)||n.contentEditable=="false")return!1;e=Qn(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?Oi(n):0}else return!1}}function Oi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function pne(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Oi(n)}else if(n.parentNode&&!Yp(n))e=Qn(n),n=n.parentNode;else return null}}function mne(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Yp(n))e=Qn(n)+1,n=n.parentNode;else return null}}function gne(n,e,t){for(let r=e==0,i=e==Oi(n);r||i;){if(n==t)return!0;let s=Qn(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Oi(n)}}function Yp(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Mb=function(n){return n.focusNode&&Lc(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ul(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function yne(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bne(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Oi(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Oi(r.startContainer),r.startOffset)}}}const Fs=typeof navigator<"u"?navigator:null,rN=typeof document<"u"?document:null,dl=Fs&&Fs.userAgent||"",_S=/Edge\/(\d+)/.exec(dl),lF=/MSIE \d/.exec(dl),AS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(dl),Yr=!!(lF||AS||_S),Ga=lF?document.documentMode:AS?+AS[1]:_S?+_S[1]:0,Ji=!Yr&&/gecko\/(\d+)/i.test(dl);Ji&&+(/Firefox\/(\d+)/.exec(dl)||[0,0])[1];const RS=!Yr&&/Chrome\/(\d+)/.exec(dl),hr=!!RS,cF=RS?+RS[1]:0,Er=!Yr&&!!Fs&&/Apple Computer/.test(Fs.vendor),Md=Er&&(/Mobile\/\w+/.test(dl)||!!Fs&&Fs.maxTouchPoints>2),Ei=Md||(Fs?/Mac/.test(Fs.platform):!1),vne=Fs?/Win/.test(Fs.platform):!1,Do=/Android \d/.test(dl),Wp=!!rN&&"webkitFontSmoothing"in rN.documentElement.style,xne=Wp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function wne(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function uo(n,e){return typeof n=="number"?n:n[e]}function Sne(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function iN(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Sd(o);continue}let a=o,c=a==s.body,d=c?wne(s):Sne(a),f=0,p=0;if(e.top<d.top+uo(r,"top")?p=-(d.top-e.top+uo(i,"top")):e.bottom>d.bottom-uo(r,"bottom")&&(p=e.bottom-e.top>d.bottom-d.top?e.top+uo(i,"top")-d.top:e.bottom-d.bottom+uo(i,"bottom")),e.left<d.left+uo(r,"left")?f=-(d.left-e.left+uo(i,"left")):e.right>d.right-uo(r,"right")&&(f=e.right-d.right+uo(i,"right")),f||p)if(c)s.defaultView.scrollBy(f,p);else{let y=a.scrollLeft,b=a.scrollTop;p&&(a.scrollTop+=p),f&&(a.scrollLeft+=f);let v=a.scrollLeft-y,w=a.scrollTop-b;e={left:e.left-v,top:e.top-w,right:e.right-v,bottom:e.bottom-w}}let m=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:Sd(o)}}function Mne(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=t-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:uF(n.dom)}}function uF(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Sd(r));return e}function Dne({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;dF(t,r==0?0:r-e)}function dF(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ou=null;function Cne(n){if(n.setActive)return n.setActive();if(Ou)return n.focus(Ou);let e=uF(n);n.focus(Ou==null?{get preventScroll(){return Ou={preventScroll:!0},!0}}:void 0),Ou||(Ou=!1,dF(e,0))}function fF(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,c,d;for(let f=n.firstChild,p=0;f;f=f.nextSibling,p++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=go(f).getClientRects();else continue;for(let y=0;y<m.length;y++){let b=m[y];if(b.top<=o&&b.bottom>=a){o=Math.max(b.bottom,o),a=Math.min(b.top,a);let v=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(v<r){t=f,r=v,i=v&&t.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&v&&(s=p+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=f,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!t&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=p+1)}}return!t&&c&&(t=c,i=d,r=0),t&&t.nodeType==3?kne(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:fF(t,i)}function kne(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=ya(r,1);if(s.top!=s.bottom&&ND(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function ND(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Ene(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Tne(n,e,t){let{node:r,offset:i}=fF(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function One(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&(!o&&c.left>r.left||c.top>r.top?i=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function hF(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let d=a[c];if(ND(e,d))return hF(o,e,d)}}if((s=(s+1)%r)==i)break}return n}function _ne(n,e){let t=n.dom.ownerDocument,r,i=0,s=bne(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=n.dom.getBoundingClientRect();if(!ND(e,d)||(o=hF(n.dom,e,d),!o))return null}if(Er)for(let d=o;r&&d;d=Sd(d))d.draggable&&(r=void 0);if(o=Ene(o,e),r){if(Ji&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],p;f.nodeName=="IMG"&&(p=f.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let d;Wp&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=One(n,r,i,e))}a==null&&(a=Tne(n,o,e));let c=n.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function sN(n){return n.top<n.bottom||n.left<n.right}function ya(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(sN(r))return r}return Array.prototype.find.call(t,sN)||n.getBoundingClientRect()}const Ane=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pF(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=Wp||Ji;if(r.nodeType==3)if(o&&(Ane.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let c=ya(go(r,i,i),t);if(Ji&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=ya(go(r,i-1,i-1),-1);if(d.top==c.top){let f=ya(go(r,i,i+1),-1);if(f.top!=c.top)return th(f,f.left<d.left)}}return c}else{let c=i,d=i,f=t<0?1:-1;return t<0&&!i?(d++,f=-1):t>=0&&i==r.nodeValue.length?(c--,f=1):t<0?c--:d++,th(ya(go(r,c,d),f),f<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Oi(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return Y1(c.getBoundingClientRect(),!1)}if(s==null&&i<Oi(r)){let c=r.childNodes[i];if(c.nodeType==1)return Y1(c.getBoundingClientRect(),!0)}return Y1(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Oi(r))){let c=r.childNodes[i-1],d=c.nodeType==3?go(c,Oi(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return th(ya(d,1),!1)}if(s==null&&i<Oi(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?go(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return th(ya(d,-1),!0)}return th(ya(r.nodeType==3?go(r):r,-t),t>=0)}function th(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Y1(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function mF(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Rne(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return mF(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=pF(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=go(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.bottom>f.top+1&&(t=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const Nne=/[\u0590-\u08ac]/;function Pne(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!Nne.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:mF(n,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:f,anchorOffset:p}=n.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",t,"character");let y=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:b,focusOffset:v}=n.domSelectionRange(),w=b&&!y.contains(b.nodeType==1?b:b.parentNode)||c==b&&d==v;try{a.collapse(f,p),c&&(c!=f||d!=p)&&a.extend&&a.extend(c,d)}catch{}return m!=null&&(a.caretBidiLevel=m),w}):r.pos==r.start()||r.pos==r.end()}let oN=null,aN=null,lN=!1;function Lne(n,e,t){return oN==e&&aN==t?lN:(oN=e,aN=t,lN=t=="up"||t=="down"?Rne(n,e,t):Pne(n,e,t))}const _i=0,cN=1,Gl=2,zs=3;class qp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=_i,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Qn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof yF){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof gF&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Qn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Qn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let c=this.children[a],d=o+c.size;if(i==-1&&e<=d){let f=o+c.border;if(e>=f&&t<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,f);e=o;for(let p=a;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=Qn(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(d>t||a==this.children.length-1)){t=d;for(let f=a+1;f<this.children.length;f++){let p=this.children[f];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){s=Qn(p.dom);break}t+=p.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let y=0,b=0;y<this.children.length;y++){let v=this.children[y],w=b+v.size;if(s>b&&o<w)return v.setSelection(e-b-v.border,t-b-v.border,r,i);b=w}let a=this.domFromPos(e,e?-1:1),c=t==e?a:this.domFromPos(t,t?-1:1),d=r.root.getSelection(),f=r.domSelectionRange(),p=!1;if((Ji||Er)&&e==t){let{node:y,offset:b}=a;if(y.nodeType==3){if(p=!!(b&&y.nodeValue[b-1]==`
`),p&&b==y.nodeValue.length)for(let v=y,w;v;v=v.parentNode){if(w=v.nextSibling){w.nodeName=="BR"&&(a=c={node:w.parentNode,offset:Qn(w)+1});break}let M=v.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let v=y.childNodes[b-1];p=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(Ji&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||p&&Er)&&Lc(a.node,a.offset,f.anchorNode,f.anchorOffset)&&Lc(c.node,c.offset,f.focusNode,f.focusOffset))return;let m=!1;if((d.extend||e==t)&&!p){d.collapse(a.node,a.offset);try{e!=t&&d.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>t){let b=a;a=c,c=b}let y=document.createRange();y.setEnd(c.node,c.offset),y.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,c=o-s.border;if(e>=a&&t<=c){this.dirty=e==r||t==o?Gl:cN,e==a&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=zs:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Gl:zs}r=o}this.dirty=Gl}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Gl:cN;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class gF extends qp{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==_i&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Ine extends qp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ic extends qp{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=zc.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Ic(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&zs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=zs&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=_i){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=_i}}slice(e,t,r){let i=Ic.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=PS(s,t,o,r)),e>0&&(s=PS(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xa extends qp{constructor(e,t,r,i,s,o,a,c,d){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],c,d=a&&a(t,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),f=d&&d.dom,p=d&&d.contentDOM;if(t.isText){if(!f)f=document.createTextNode(t.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:p}=zc.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!p&&!t.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),t.type.spec.draggable&&(f.draggable=!0));let m=f;return f=xF(f,r,t),d?c=new jne(e,t,r,i,f,p||null,m,d,s,o+1):t.isText?new Db(e,t,r,i,f,m,s):new Xa(e,t,r,i,f,p||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ue.empty)}return e}matchesNode(e,t,r){return this.dirty==_i&&e.eq(this.node)&&y0(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,c=new Fne(this,o&&o.node,e);Hne(this.node,this.innerDeco,(d,f,p)=>{d.spec.marks?c.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!p&&c.syncToMarks(f==this.node.childCount?At.none:this.node.child(f).marks,r,e),c.placeWidget(d,e,i)},(d,f,p,m)=>{c.syncToMarks(d.marks,r,e);let y;c.findNodeMatch(d,f,p,m)||a&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(y=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(d,f,p,y,e)||c.updateNextNode(d,f,p,e,m,i)||c.addNode(d,f,p,e,i),i+=d.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Gl)&&(o&&this.protectLocalComposition(e,o),bF(this.contentDOM,this.children,e),Md&&Une(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ie)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=$ne(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Ine(this,s,t,i);e.input.compositionNodes.push(o),this.children=PS(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==zs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=_i}updateOuterDeco(e){if(y0(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=vF(this.dom,this.nodeDOM,NS(this.outerDeco,this.node,t),NS(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function uN(n,e,t,r,i){xF(r,e,n);let s=new Xa(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Db extends Xa{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==zs||this.dirty!=_i&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=_i||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=_i,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new Db(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=zs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class yF extends qp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_i&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jne extends Xa{constructor(e,t,r,i,s,o,a,c,d,f){super(e,t,r,i,s,o,a,d,f),this.spec=c}update(e,t,r,i){if(this.dirty==zs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function bF(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=dN(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Ic){let c=r?r.previousSibling:n.lastChild;bF(o.contentDOM,o.children,t),r=c?c.nextSibling:n.firstChild}}for(;r;)r=dN(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Ph=function(n){n&&(this.nodeName=n)};Ph.prototype=Object.create(null);const Xl=[new Ph];function NS(n,e,t){if(n.length==0)return Xl;let r=t?Xl[0]:new Ph,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new Ph(o.nodeName));for(let a in o){let c=o[a];c!=null&&(t&&i.length==1&&i.push(r=new Ph(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function vF(n,e,t,r){if(t==Xl&&r==Xl)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let c;a&&a.nodeName==o.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Xl[0]),i=c}Bne(i,a||Xl[0],o)}return i}function Bne(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function xF(n,e,t){return vF(n,n,Xl,NS(e,t,n.nodeType!=1))}function y0(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function dN(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Fne{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=zne(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=_i,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=Ic.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let d=this.top.children[a];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==zs&&o.dom==o.contentDOM&&(o.dirty=Gl),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Xa){let d=this.preMatch.matched.get(c);if(d!=null&&d!=s)return!1;let f=c.dom,p,m=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=zs&&y0(t,c.outerDeco));if(!m&&c.update(e,t,r,i))return this.destroyBetween(this.index,a),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(c,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Gl,p.updateChildren(i,o+1),p.dirty=_i),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!y0(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Xa.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=Xa.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new gF(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Ic;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Db)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Er||hr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new yF(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function zne(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let d=t.children[r-1];if(d instanceof Ic)t=d,r=d.children.length;else{a=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let c=a.node;if(c){if(c!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Vne(n,e){return n.type.side-e.type.side}function Hne(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let d=0;d<n.childCount;d++){let f=n.child(d);r(f,i,e.forChild(s,f),d),s+=f.nodeSize}return}let o=0,a=[],c=null;for(let d=0;;){let f,p;for(;o<i.length&&i[o].to==s;){let w=i[o++];w.widget&&(f?(p||(p=[f])).push(w):f=w)}if(f)if(p){p.sort(Vne);for(let w=0;w<p.length;w++)t(p[w],d,!!c)}else t(f,d,!!c);let m,y;if(c)y=-1,m=c,c=null;else if(d<n.childCount)y=d,m=n.child(d++);else break;for(let w=0;w<a.length;w++)a[w].to<=s&&a.splice(w--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let b=s+m.nodeSize;if(m.isText){let w=b;o<i.length&&i[o].from<w&&(w=i[o].from);for(let M=0;M<a.length;M++)a[M].to<w&&(w=a[M].to);w<b&&(c=m.cut(w-s),m=m.cut(0,w-s),b=w,y=-1)}else for(;o<i.length&&i[o].to<b;)o++;let v=m.isInline&&!m.isLeaf?a.filter(w=>!w.inline):a.slice();r(m,v,e.forChild(s,m),y),s=b}}function Une(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function $ne(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<n.childCount;){let d=n.child(i++);if(s+=d.nodeSize,!d.isText)break;c+=d.text}if(s>=t){if(s>=r&&c.slice(r-e.length-a,r-a)==e)return r-e.length;let d=a<r?c.lastIndexOf(e,r-a-1):-1;if(d>=0&&d+e.length+a>=t)return a+d;if(t==r&&c.length>=r+e.length-a&&c.slice(r-a,r-a+e.length)==e)return r}}return-1}function PS(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let c=n[o],d=a,f=a+=c.size;d>=t||f<=e?s.push(c):(d<e&&s.push(c.slice(0,e-d,r)),i&&(s.push(i),i=void 0),f>t&&s.push(c.slice(t-d,c.size,r)))}return s}function PD(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,d;if(Mb(t)){for(c=o;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&ke.isSelectable(p)&&i.parent&&!(p.isInline&&gne(t.focusNode,t.focusOffset,i.dom))){let m=i.posBefore;d=new ke(o==m?a:r.resolve(m))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let p=o,m=o;for(let y=0;y<t.rangeCount;y++){let b=t.getRangeAt(y);p=Math.min(p,n.docView.posFromDOM(b.startContainer,b.startOffset,1)),m=Math.max(m,n.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(p<0)return null;[c,o]=m==n.state.selection.anchor?[m,p]:[p,m],a=r.resolve(o)}else c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let f=r.resolve(c);if(!d){let p=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;d=LD(n,f,a,p)}return d}function wF(n){return n.editable?n.hasFocus():MF(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Ro(n,e=!1){let t=n.state.selection;if(SF(n,t),!!wF(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&hr){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Lc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Wne(n);else{let{anchor:r,head:i}=t,s,o;fN&&!(t instanceof Ie)&&(t.$from.parent.inlineContent||(s=hN(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=hN(n,t.to))),n.docView.setSelection(r,i,n,e),fN&&(s&&pN(s),o&&pN(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yne(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const fN=Er||hr&&cF<63;function hN(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Er&&i&&i.contentEditable=="false")return W1(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return W1(i);if(s)return W1(s)}}function W1(n){return n.contentEditable="true",Er&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function pN(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Yne(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!wF(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Wne(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,Qn(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Yr&&Ga<=11&&(r.disabled=!0,r.disabled=!1)}function SF(n,e){if(e instanceof ke){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(mN(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else mN(n)}function mN(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function LD(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ie.between(e,t,r)}function gN(n){return n.editable&&!n.hasFocus()?!1:MF(n)}function MF(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qne(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Lc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function LS(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&He.findFrom(s,e)}function wa(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function yN(n,e,t){let r=n.state.selection;if(r instanceof Ie)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return wa(n,new Ie(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=LS(n.state,e);return i&&i instanceof ke?wa(n,i):!1}else if(!(Ei&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?ke.isSelectable(s)?wa(n,new ke(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Wp?wa(n,new Ie(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ke&&r.node.isInline)return wa(n,new Ie(e>0?r.$to:r.$from));{let i=LS(n.state,e);return i?wa(n,i):!1}}}function b0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Lh(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function _u(n,e){return e<0?Kne(n):Qne(n)}function Kne(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Ji&&t.nodeType==1&&r<b0(t)&&Lh(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(Lh(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(DF(t))break;{let a=t.previousSibling;for(;a&&Lh(a,-1);)i=t.parentNode,s=Qn(a),a=a.previousSibling;if(a)t=a,r=b0(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?IS(n,t,r):i&&IS(n,i,s)}function Qne(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=b0(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(Lh(a,1))s=t,o=++r;else break}else{if(DF(t))break;{let a=t.nextSibling;for(;a&&Lh(a,1);)s=a.parentNode,o=Qn(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=b0(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&IS(n,s,o)}function DF(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Gne(n,e){for(;n&&e==n.childNodes.length&&!Yp(n);)e=Qn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Xne(n,e){for(;n&&!e&&!Yp(n);)e=Qn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function IS(n,e,t){if(e.nodeType!=3){let s,o;(o=Gne(e,t))?(e=o,t=0):(s=Xne(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Mb(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Ro(n)},50)}function bN(n,e){let t=n.state.doc.resolve(e);if(!(hr||vne)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function vN(n,e,t){let r=n.state.selection;if(r instanceof Ie&&!r.empty||t.indexOf("s")>-1||Ei&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=LS(n.state,e);if(o&&o instanceof ke)return wa(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof ui?He.near(o,e):He.findFrom(o,e);return a?wa(n,a):!1}return!1}function xN(n,e){if(!(n.state.selection instanceof Ie))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function wN(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Jne(n){if(!Er||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;wN(n,r,"true"),setTimeout(()=>wN(n,r,"false"),20)}return!1}function Zne(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ere(n,e){let t=e.keyCode,r=Zne(e);if(t==8||Ei&&t==72&&r=="c")return xN(n,-1)||_u(n,-1);if(t==46&&!e.shiftKey||Ei&&t==68&&r=="c")return xN(n,1)||_u(n,1);if(t==13||t==27)return!0;if(t==37||Ei&&t==66&&r=="c"){let i=t==37?bN(n,n.state.selection.from)=="ltr"?-1:1:-1;return yN(n,i,r)||_u(n,i)}else if(t==39||Ei&&t==70&&r=="c"){let i=t==39?bN(n,n.state.selection.from)=="ltr"?1:-1:1;return yN(n,i,r)||_u(n,i)}else{if(t==38||Ei&&t==80&&r=="c")return vN(n,-1,r)||_u(n,-1);if(t==40||Ei&&t==78&&r=="c")return Jne(n)||vN(n,1,r)||_u(n,1);if(r==(Ei?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function ID(n,e){n.someProp("transformCopied",y=>{e=y(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let y=r.firstChild;t.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let o=n.someProp("clipboardSerializer")||zc.fromSchema(n.state.schema),a=_F(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let d=c.firstChild,f,p=0;for(;d&&d.nodeType==1&&(f=OF[d.nodeName.toLowerCase()]);){for(let y=f.length-1;y>=0;y--){let b=a.createElement(f[y]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),p++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${p?` -${p}`:""} ${JSON.stringify(t)}`);let m=n.someProp("clipboardTextSerializer",y=>y(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function CF(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let c=e&&(r||s||!t);if(c){if(n.someProp("transformPastedText",m=>{e=m(e,s||r,n)}),s)return e?new ye(ue.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ye.empty;let p=n.someProp("clipboardTextParser",m=>m(e,i,r,n));if(p)a=p;else{let m=i.marks(),{schema:y}=n.state,b=zc.fromSchema(y);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let w=o.appendChild(document.createElement("p"));v&&w.appendChild(b.serializeNode(y.text(v,m)))})}}else n.someProp("transformPastedHTML",p=>{t=p(t,n)}),o=ire(t),Wp&&sre(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let p=+f[3];p>0;p--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Qa.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!tre.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)a=ore(SN(a,+f[1],+f[2]),f[4]);else if(a=ye.maxOpen(nre(a.content,i),!0),a.openStart||a.openEnd){let p=0,m=0;for(let y=a.content.firstChild;p<a.openStart&&!y.type.spec.isolating;p++,y=y.firstChild);for(let y=a.content.lastChild;m<a.openEnd&&!y.type.spec.isolating;m++,y=y.lastChild);a=SN(a,p,m)}return n.someProp("transformPasted",p=>{a=p(a,n)}),a}const tre=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function nre(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),d;if(!c)return o=null;if(d=o.length&&s.length&&EF(c,s,a,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=TF(o[o.length-1],s.length));let f=kF(a,c);o.push(f),i=i.matchType(f.type),s=c}}),o)return ue.from(o)}return n}function kF(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ue.from(n));return n}function EF(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=EF(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ue.from(kF(t,n,i+1))))}}function TF(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,TF(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ue.empty,!0);return n.copy(t.append(r))}function jS(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=jS(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ue.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function SN(n,e,t){return e<n.openStart&&(n=new ye(jS(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ye(jS(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const OF={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let MN=null;function _F(){return MN||(MN=document.implementation.createHTMLDocument("title"))}let q1=null;function rre(n){let e=window.trustedTypes;return e?(q1||(q1=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),q1.createHTML(n)):n}function ire(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=_F().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&OF[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=rre(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function sre(n){let e=n.querySelectorAll(hr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function ore(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let c=t.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=ue.from(c.create(r[a+1],i)),s++,o++}return new ye(i,s,o)}const Tr={},Or={},are={touchstart:!0,touchmove:!0};class lre{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function cre(n){for(let e in Tr){let t=Tr[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{dre(n,r)&&!jD(n,r)&&(n.editable||!(r.type in Or))&&t(n,r)},are[e]?{passive:!0}:void 0)}Er&&n.dom.addEventListener("input",()=>null),BS(n)}function Ha(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ure(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function BS(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>jD(n,r))})}function jD(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function dre(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function fre(n,e){!jD(n,e)&&Tr[e.type]&&(n.editable||!(e.type in Or))&&Tr[e.type](n,e)}Or.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!RF(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Do&&hr&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Md&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ul(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ere(n,t)?t.preventDefault():Ha(n,"key")};Or.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Or.keypress=(n,e)=>{let t=e;if(RF(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ei&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ie)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function Cb(n){return{left:n.clientX,top:n.clientY}}function hre(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function BD(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ju(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function pre(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ke.isSelectable(r)?(Ju(n,new ke(t)),!0):!1}function mre(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof ke&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ke.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Ju(n,ke.create(n.state.doc,i)),!0):!1}function gre(n,e,t,r,i){return BD(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?mre(n,t):pre(n,t))}function yre(n,e,t,r){return BD(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function bre(n,e,t,r){return BD(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||vre(n,t,r)}function vre(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ju(n,Ie.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Ju(n,Ie.create(r,a+1,a+1+o.content.size));else if(ke.isSelectable(o))Ju(n,ke.create(r,a));else continue;return!0}}function FD(n){return v0(n)}const AF=Ei?"metaKey":"ctrlKey";Tr.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=FD(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&hre(t,n.input.lastClick)&&!t[AF]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(Cb(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new xre(n,o,t,!!r)):(s=="doubleClick"?yre:bre)(n,o.pos,o.inside,t)?t.preventDefault():Ha(n,"pointer"))};class xre{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[AF],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let f=e.state.doc.resolve(t.pos);s=f.parent,o=f.depth?f.before():0}const a=i?null:r.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof ke&&d.from<=o&&d.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ji&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ha(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ro(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Cb(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ha(this.view,"pointer"):gre(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Er&&this.mightDrag&&!this.mightDrag.node.isAtom||hr&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ju(this.view,He.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ha(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ha(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Tr.touchstart=n=>{n.input.lastTouch=Date.now(),FD(n),Ha(n,"pointer")};Tr.touchmove=n=>{n.input.lastTouch=Date.now(),Ha(n,"pointer")};Tr.contextmenu=n=>FD(n);function RF(n,e){return n.composing?!0:Er&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const wre=Do?5e3:-1;Or.compositionstart=Or.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ie&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),v0(n,!0),n.markCursor=null;else if(v0(n,!e.selection.empty),Ji&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}NF(n,wre)};Or.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,NF(n,20))};function NF(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>v0(n),e))}function PF(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Mre());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Sre(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=pne(e.focusNode,e.focusOffset),r=mne(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Mre(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function v0(n,e=!1){if(!(Do&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),PF(n),e||n.docView&&n.docView.dirty){let t=PD(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Dre(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const ap=Yr&&Ga<15||Md&&xne<604;Tr.copy=Or.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=ap?null:t.clipboardData,o=r.content(),{dom:a,text:c}=ID(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",c)):Dre(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Cre(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function kre(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?lp(n,r.value,null,i,e):lp(n,r.textContent,r.innerHTML,i,e)},50)}function lp(n,e,t,r,i){let s=CF(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,s||ye.empty)))return!0;if(!s)return!1;let o=Cre(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function LF(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Or.paste=(n,e)=>{let t=e;if(n.composing&&!Do)return;let r=ap?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&lp(n,LF(r),r.getData("text/html"),i,t)?t.preventDefault():kre(n,t)};class IF{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Ere=Ei?"altKey":"ctrlKey";function jF(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Ere]}Tr.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(Cb(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ke?i.to-1:i.to))){if(r&&r.mightDrag)o=ke.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let p=n.docView.nearestDesc(t.target,!0);p&&p.node.type.spec.draggable&&p!=n.docView&&(o=ke.create(n.state.doc,p.posBefore))}}let a=(o||n.state.selection).content(),{dom:c,text:d,slice:f}=ID(n,a);(!t.dataTransfer.files.length||!hr||cF>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(ap?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",ap||t.dataTransfer.setData("text/plain",d),n.dragging=new IF(f,jF(n,t),o)};Tr.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Or.dragover=Or.dragenter=(n,e)=>e.preventDefault();Or.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Cb(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",b=>{o=b(o,n)}):o=CF(n,LF(t.dataTransfer),ap?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&jF(n,t));if(n.someProp("handleDrop",b=>b(n,t,o||ye.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let c=o?tF(n.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let d=n.state.tr;if(a){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(f,f,o.content.firstChild):d.replaceRange(f,f,o),d.doc.eq(m))return;let y=d.doc.resolve(f);if(p&&ke.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new ke(y));else{let b=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((v,w,M,k)=>b=k),d.setSelection(LD(n,y,d.doc.resolve(b)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};Tr.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Ro(n)},20))};Tr.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Tr.beforeinput=(n,e)=>{if(hr&&Do&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Ul(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Or)Tr[n]=Or[n];function cp(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class x0{constructor(e,t){this.toDOM=e,this.spec=t||vc,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new li(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof x0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&cp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ja{constructor(e,t){this.attrs=e,this.spec=t||vc}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new li(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ja&&cp(this.attrs,e.attrs)&&cp(this.spec,e.spec)}static is(e){return e.type instanceof Ja}destroy(){}}class zD{constructor(e,t){this.attrs=e,this.spec=t||vc}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new li(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof zD&&cp(this.attrs,e.attrs)&&cp(this.spec,e.spec)}destroy(){}}class li{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new li(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new li(e,e,new x0(t,r))}static inline(e,t,r,i){return new li(e,t,new Ja(r,i))}static node(e,t,r,i){return new li(e,t,new zD(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ja}get widget(){return this.type instanceof x0}}const Pu=[],vc={};class xn{constructor(e,t){this.local=e.length?e:Pu,this.children=t.length?t:Pu}static create(e,t){return t.length?w0(t,e,0,vc):or}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==or||e.maps.length==0?this:this.mapInner(e,t,0,0,r||vc)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,r,i);c&&c.type.valid(t,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Tre(this.children,o||[],e,t,r,i,s):o?new xn(o.sort(xc),Pu):or}add(e,t){return t.length?this==or?xn.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,c)=>{let d=c+r,f;if(f=FF(t,a,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(a,f,d+1):i.splice(s,0,c,c+a.nodeSize,w0(f,a,d+1,vc)),s+=3}});let o=BF(s?zF(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new xn(o.length?this.local.concat(o).sort(xc):this.local,i||this.children)}remove(e){return e.length==0||this==or?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,c=r[s+1]+t;for(let f=0,p;f<e.length;f++)(p=e[f])&&p.from>a&&p.to<c&&(e[f]=null,(o||(o=[])).push(p));if(!o)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(o,a+1);d!=or?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new xn(i,r):or}forChild(e,t){if(this==or)return this;if(t.isLeaf)return xn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>s&&c.type instanceof Ja){let d=Math.max(s,c.from)-s,f=Math.min(o,c.to)-s;d<f&&(i||(i=[])).push(c.copy(d,f))}}if(i){let a=new xn(i.sort(xc),Pu);return r?new Da([a,r]):a}return r||or}eq(e){if(this==e)return!0;if(!(e instanceof xn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return VD(this.localsInner(e))}localsInner(e){if(this==or)return Pu;if(e.inlineContent||!this.local.some(Ja.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ja||t.push(this.local[r]);return t}forEachSet(e){e(this)}}xn.empty=new xn([],[]);xn.removeOverlap=VD;const or=xn.empty;class Da{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,vc));return Da.from(r)}forChild(e,t){if(t.isLeaf)return xn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=or&&(s instanceof Da?r=r.concat(s.members):r.push(s))}return Da.from(r)}eq(e){if(!(e instanceof Da)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?VD(r?t:t.sort(xc)):Pu}static from(e){switch(e.length){case 0:return or;case 1:return e[0];default:return new Da(e.every(t=>t instanceof xn)?e:e.reduce((t,r)=>t.concat(r instanceof xn?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Tre(n,e,t,r,i,s,o){let a=n.slice();for(let d=0,f=s;d<t.maps.length;d++){let p=0;t.maps[d].forEach((m,y,b,v)=>{let w=v-b-(y-m);for(let M=0;M<a.length;M+=3){let k=a[M+1];if(k<0||m>k+f-p)continue;let E=a[M]+f-p;y>=E?a[M+1]=m<=E?-2:-1:m>=f&&w&&(a[M]+=w,a[M+1]+=w)}p+=w}),f=t.maps[d].map(f,-1)}let c=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){c=!0,a[d+1]=-1;continue}let f=t.map(n[d]+s),p=f-i;if(p<0||p>=r.content.size){c=!0;continue}let m=t.map(n[d+1]+s,-1),y=m-i,{index:b,offset:v}=r.content.findIndex(p),w=r.maybeChild(b);if(w&&v==p&&v+w.nodeSize==y){let M=a[d+2].mapInner(t,w,f+1,n[d]+s+1,o);M!=or?(a[d]=p,a[d+1]=y,a[d+2]=M):(a[d+1]=-2,c=!0)}else c=!0}if(c){let d=Ore(a,n,e,t,i,s,o),f=w0(d,r,0,o);e=f.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,m=0;p<f.children.length;p+=3){let y=f.children[p];for(;m<a.length&&a[m]<y;)m+=3;a.splice(m,0,f.children[p],f.children[p+1],f.children[p+2])}}return new xn(e.sort(xc),a)}function BF(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new li(i.from+e,i.to+e,i.type))}return t}function Ore(n,e,t,r,i,s,o){function a(c,d){for(let f=0;f<c.local.length;f++){let p=c.local[f].map(r,i,d);p?t.push(p):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)a(c.children[f+2],c.children[f]+d+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&a(n[c+2],e[c]+s+1);return t}function FF(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function zF(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function w0(n,e,t,r){let i=[],s=!1;e.forEach((a,c)=>{let d=FF(n,a,c+t);if(d){s=!0;let f=w0(d,a,t+c+1,r);f!=or&&i.push(c,c+a.nodeSize,f)}});let o=BF(s?zF(n):n,-t).sort(xc);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new xn(o,i):or}function xc(n,e){return n.from-e.from||n.to-e.to}function VD(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),DN(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),DN(e,i,r.copy(s.from,r.to)));break}}}return e}function DN(n,e,t){for(;e<n.length&&xc(t,n[e])>0;)e++;n.splice(e,0,t)}function K1(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=or&&e.push(r)}),n.cursorWrapper&&e.push(xn.create(n.state.doc,[n.cursorWrapper.deco])),Da.from(e)}const _re={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Are=Yr&&Ga<=11;class Rre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Nre{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rre,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Yr&&Ga<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Are&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_re)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(gN(this.view)){if(this.suppressingSelectionUpdates)return Ro(this.view);if(Yr&&Ga<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Lc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Sd(s))t.add(s);for(let s=e.anchorNode;s;s=Sd(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&gN(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,c=[];if(e.editable)for(let f=0;f<t.length;f++){let p=this.registerMutation(t[f],c);p&&(s=s<0?p.from:Math.min(p.from,s),o=o<0?p.to:Math.max(p.to,o),p.typeOver&&(a=!0))}if(Ji&&c.length){let f=c.filter(p=>p.nodeName=="BR");if(f.length==2){let[p,m]=f;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of f){let y=m.parentNode;y&&y.nodeName=="LI"&&(!p||Ire(e,p)!=y)&&m.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Mb(r)&&(d=PD(e))&&d.eq(He.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ro(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Pre(e)),this.handleDOMChange(s,o,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ro(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let p=e.addedNodes[f];t.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Yr&&Ga<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:p,nextSibling:m}=e.addedNodes[f];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?Qn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?Qn(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,c,1);return{from:a,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let CN=new WeakMap,kN=!1;function Pre(n){if(!CN.has(n)&&(CN.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Ji,kN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kN=!0}}function EN(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Lc(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Lre(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return EN(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?EN(n,t):null}function Ire(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function jre(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),c=n.domSelectionRange(),d,f=c.anchorNode;if(f&&n.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:c.anchorOffset}],Mb(c)||d.push({node:c.focusNode,offset:c.focusOffset})),hr&&n.input.lastKeyCode===8)for(let w=s;w>i;w--){let M=r.childNodes[w-1],k=M.pmViewDesc;if(M.nodeName=="BR"&&!k){s=w;break}if(!k||k.size)break}let p=n.state.doc,m=n.someProp("domParser")||Qa.fromSchema(n.state.schema),y=p.resolve(o),b=null,v=m.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:Bre,context:y});if(d&&d[0].pos!=null){let w=d[0].pos,M=d[1]&&d[1].pos;M==null&&(M=w),b={anchor:w+o,head:M+o}}return{doc:v,sel:b,from:o,to:a}}function Bre(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Er&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Er&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Fre=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zre(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let A=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,L=PD(n,A);if(L&&!n.state.selection.eq(L)){if(hr&&Do&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",V=>V(n,Ul(13,"Enter"))))return;let I=n.state.tr.setSelection(L);A=="pointer"?I.setMeta("pointer",!0):A=="key"&&I.scrollIntoView(),s&&I.setMeta("composition",s),n.dispatch(I)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let c=n.state.selection,d=jre(n,e,t),f=n.state.doc,p=f.slice(d.from,d.to),m,y;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,y="end"):(m=n.state.selection.from,y="start"),n.input.lastKeyCode=null;let b=Ure(p.content,d.doc.content,d.from,m,y);if(b&&n.input.domChangeCount++,(Md&&n.input.lastIOSEnter>Date.now()-225||Do)&&i.some(A=>A.nodeType==1&&!Fre.test(A.nodeName))&&(!b||b.endA>=b.endB)&&n.someProp("handleKeyDown",A=>A(n,Ul(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof Ie&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let A=TN(n,n.state.doc,d.sel);if(A&&!A.eq(n.state.selection)){let L=n.state.tr.setSelection(A);s&&L.setMeta("composition",s),n.dispatch(L)}}return}n.state.selection.from<n.state.selection.to&&b.start==b.endB&&n.state.selection instanceof Ie&&(b.start>n.state.selection.from&&b.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?b.start=n.state.selection.from:b.endA<n.state.selection.to&&b.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(b.endB+=n.state.selection.to-b.endA,b.endA=n.state.selection.to)),Yr&&Ga<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)=="  "&&(b.start--,b.endA--,b.endB--);let v=d.doc.resolveNoCache(b.start-d.from),w=d.doc.resolveNoCache(b.endB-d.from),M=f.resolve(b.start),k=v.sameParent(w)&&v.parent.inlineContent&&M.end()>=b.endA,E;if((Md&&n.input.lastIOSEnter>Date.now()-225&&(!k||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!k&&v.pos<d.doc.content.size&&(!v.sameParent(w)||!v.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(v.pos,w.pos,"",""))&&(E=He.findFrom(d.doc.resolve(v.pos+1),1,!0))&&E.head>v.pos)&&n.someProp("handleKeyDown",A=>A(n,Ul(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>b.start&&Hre(f,b.start,b.endA,v,w)&&n.someProp("handleKeyDown",A=>A(n,Ul(8,"Backspace")))){Do&&hr&&n.domObserver.suppressSelectionUpdates();return}hr&&b.endB==b.start&&(n.input.lastChromeDelete=Date.now()),Do&&!k&&v.start()!=w.start()&&w.parentOffset==0&&v.depth==w.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,w=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(A){return A(n,Ul(13,"Enter"))})},20));let _=b.start,T=b.endA,P=A=>{let L=A||n.state.tr.replace(_,T,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let I=TN(n,L.doc,d.sel);I&&!(hr&&n.composing&&I.empty&&(b.start!=b.endB||n.input.lastChromeDelete<Date.now()-100)&&(I.head==_||I.head==L.mapping.map(T)-1)||Yr&&I.empty&&I.head==_)&&L.setSelection(I)}return s&&L.setMeta("composition",s),L.scrollIntoView()},N;if(k){if(v.pos==w.pos){Yr&&Ga<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ro(n),20));let A=P(n.state.tr.delete(_,T)),L=f.resolve(b.start).marksAcross(f.resolve(b.endA));L&&A.ensureMarks(L),n.dispatch(A)}else if(b.endA==b.endB&&(N=Vre(v.parent.content.cut(v.parentOffset,w.parentOffset),M.parent.content.cut(M.parentOffset,b.endA-M.start())))){let A=P(n.state.tr);N.type=="add"?A.addMark(_,T,N.mark):A.removeMark(_,T,N.mark),n.dispatch(A)}else if(v.parent.child(v.index()).isText&&v.index()==w.index()-(w.textOffset?0:1)){let A=v.parent.textBetween(v.parentOffset,w.parentOffset),L=()=>P(n.state.tr.insertText(A,_,T));n.someProp("handleTextInput",I=>I(n,_,T,A,L))||n.dispatch(L())}}else n.dispatch(P())}function TN(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:LD(n,e.resolve(t.anchor),e.resolve(t.head))}function Vre(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,c;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<t.length;f++)s=t[f].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",c=f=>f.mark(a.addToSet(f.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",c=f=>f.mark(a.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(c(e.child(f)));if(ue.from(d).eq(n))return{mark:a,type:o}}function Hre(n,e,t,r,i){if(t-e<=i.pos-r.pos||Q1(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(Q1(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Q1(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Q1(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Ure(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,a));r-=o+c-s}if(o<s&&n.size<e.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<e.size&&ON(e.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}else if(a<s){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<n.size&&ON(n.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function ON(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class VF{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new lre,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(PN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=RN(this),AN(this),this.nodeViews=NN(this),this.docView=uN(this.state.doc,_N(this),K1(this),this.dom,this),this.domObserver=new Nre(this,(r,i,s,o)=>zre(this,r,i,s,o)),this.domObserver.start(),cre(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&BS(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(PN),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(PF(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let y=NN(this);Yre(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&BS(this),this.editable=RN(this),AN(this);let c=K1(this),d=_N(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=s||!this.docView.matchesNode(e.doc,d,c);(p||!e.selection.eq(i.selection))&&(o=!0);let m=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Mne(this);if(o){this.domObserver.stop();let y=p&&(Yr||hr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&$re(i.selection,e.selection);if(p){let b=hr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Sre(this)),(s||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=uN(e.doc,d,c,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qne(this))?Ro(this,y):(SF(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&Dne(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ke){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&iN(this,t.getBoundingClientRect(),e)}else iN(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new IF(e.slice,e.move,i<0?void 0:ke.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(Yr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Cne(this.dom),Ro(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return _ne(this,e)}coordsAtPos(e,t=1){return pF(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return Lne(this,t||this.state,e)}pasteHTML(e,t){return lp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return lp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return ID(this,e)}destroy(){this.docView&&(ure(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],K1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fne())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return fre(this,e)}domSelectionRange(){let e=this.domSelection();return e?Er&&this.root.nodeType===11&&yne(this.dom.ownerDocument)==this.dom&&Lre(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}VF.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function _N(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[li.node(0,n.state.doc.content.size,e)]}function AN(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:li.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function RN(n){return!n.someProp("editable",e=>e(n.state)===!1)}function $re(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function NN(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Yre(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function PN(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Wre=typeof navigator<"u"&&/Mac/.test(navigator.platform),qre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gn=0;Gn<10;Gn++)sl[48+Gn]=sl[96+Gn]=String(Gn);for(var Gn=1;Gn<=24;Gn++)sl[Gn+111]="F"+Gn;for(var Gn=65;Gn<=90;Gn++)sl[Gn]=String.fromCharCode(Gn+32),S0[Gn]=String.fromCharCode(Gn);for(var G1 in sl)S0.hasOwnProperty(G1)||(S0[G1]=sl[G1]);function Kre(n){var e=Wre&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||qre&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?S0:sl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Qre=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Gre=typeof navigator<"u"&&/Win/.test(navigator.platform);function Xre(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Qre?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Jre(n){let e=Object.create(null);for(let t in n)e[Xre(t)]=n[t];return e}function X1(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Zre(n){return new _r({props:{handleKeyDown:HF(n)}})}function HF(n){let e=Jre(n);return function(t,r){let i=Kre(r),s,o=e[X1(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[X1(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Gre&&r.ctrlKey&&r.altKey)&&(s=sl[r.keyCode])&&s!=i){let a=e[X1(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const HD=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function UF(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const $F=(n,e,t)=>{let r=UF(n,t);if(!r)return!1;let i=UD(r);if(!i){let o=r.blockRange(),a=o&&Ud(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(ZF(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Dd(s,"end")||ke.isSelectable(s)))for(let o=r.depth;;o--){let a=wb(n.doc,r.before(o),r.after(o),ye.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Dd(s,"end")?He.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ke.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},eie=(n,e,t)=>{let r=UF(n,t);if(!r)return!1;let i=UD(r);return i?YF(n,i,e):!1},tie=(n,e,t)=>{let r=qF(n,t);if(!r)return!1;let i=$D(r);return i?YF(n,i,e):!1};function YF(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let o=e.nodeAfter,a=o,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let d=wb(n.doc,s,c,ye.empty);if(!d||d.from!=s||d instanceof Ln&&d.slice.size>=c-s)return!1;if(t){let f=n.tr.step(d);f.setSelection(Ie.create(f.doc,s)),t(f.scrollIntoView())}return!0}function Dd(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const WF=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=UD(r)}let o=s&&s.nodeBefore;return!o||!ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(ke.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function UD(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function qF(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const KF=(n,e,t)=>{let r=qF(n,t);if(!r)return!1;let i=$D(r);if(!i)return!1;let s=i.nodeAfter;if(ZF(n,i,e,1))return!0;if(r.parent.content.size==0&&(Dd(s,"start")||ke.isSelectable(s))){let o=wb(n.doc,r.before(),r.after(),ye.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(Dd(s,"start")?He.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ke.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},QF=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=$D(r)}let o=s&&s.nodeAfter;return!o||!ke.isSelectable(o)?!1:(e&&e(n.tr.setSelection(ke.create(n.doc,s.pos)).scrollIntoView()),!0)};function $D(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const nie=(n,e)=>{let t=n.selection,r=t instanceof ke,i;if(r){if(t.node.isTextblock||!ul(n.doc,t.from))return!1;i=t.from}else if(i=xb(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(ke.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},rie=(n,e)=>{let t=n.selection,r;if(t instanceof ke){if(t.node.isTextblock||!ul(n.doc,t.to))return!1;r=t.to}else if(r=xb(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},iie=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&Ud(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},GF=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function YD(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const sie=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=YD(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),c=n.tr.replaceWith(a,a,o.createAndFill());c.setSelection(He.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},XF=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof ui||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=YD(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(Ie.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},JF=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Ao(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Ud(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function oie(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ke&&e.selection.node.isBlock)return!r.parentOffset||!Ao(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,c=!1,d=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){c=r.end(y)==r.pos+(r.depth-y),d=r.start(y)==r.pos-(r.depth-y),a=YD(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(c&&a?{type:a}:null),o=y;break}else{if(y==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof Ie||e.selection instanceof ui)&&f.deleteSelection();let p=f.mapping.map(r.pos),m=Ao(f.doc,p,s.length,s);if(m||(s[0]=a?{type:a}:null,m=Ao(f.doc,p,s.length,s)),!m)return!1;if(f.split(p,s.length,s),!c&&d&&r.node(o).type!=a){let y=f.mapping.map(r.before(o)),b=f.doc.resolve(y);a&&r.node(o-1).canReplaceWith(b.index(),b.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(o)),a)}return t&&t(f.scrollIntoView()),!0}}const aie=oie(),lie=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(ke.create(n.doc,i))),!0)};function cie(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ul(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function ZF(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&cie(n,e,t))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let y=e.pos+s.nodeSize,b=ue.empty;for(let M=o.length-1;M>=0;M--)b=ue.from(o[M].create(null,b));b=ue.from(i.copy(b));let v=n.tr.step(new jn(e.pos-1,y,e.pos,y,new ye(b,1,0),o.length,!0)),w=v.doc.resolve(y+2*o.length);w.nodeAfter&&w.nodeAfter.type==i.type&&ul(v.doc,w.pos)&&v.join(w.pos),t(v.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&c?null:He.findFrom(e,1),p=f&&f.$from.blockRange(f.$to),m=p&&Ud(p);if(m!=null&&m>=e.depth)return t&&t(n.tr.lift(p,m).scrollIntoView()),!0;if(d&&Dd(s,"start",!0)&&Dd(i,"end")){let y=i,b=[];for(;b.push(y),!y.isTextblock;)y=y.lastChild;let v=s,w=1;for(;!v.isTextblock;v=v.firstChild)w++;if(y.canReplace(y.childCount,y.childCount,v.content)){if(t){let M=ue.empty;for(let E=b.length-1;E>=0;E--)M=ue.from(b[E].copy(M));let k=n.tr.step(new jn(e.pos-b.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new ye(M,b.length,0),0,!0));t(k.scrollIntoView())}return!0}}return!1}function e3(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(Ie.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const uie=e3(-1),die=e3(1);function fie(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&AD(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function LN(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(c,d)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)i=!0;else{let f=t.doc.resolve(d),p=f.index();i=f.parent.canReplaceWith(p,p+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[o];s.setBlockType(a,c,n,e)}r(s.scrollIntoView())}return!0}}function WD(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}WD(HD,$F,WF);WD(HD,KF,QF);WD(GF,XF,JF,aie);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hie(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let a=r?t.tr:null;return pie(a,o,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function pie(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new m0(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new m0(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=AD(s,t,r,e);return a?(n&&mie(n,e,a,i,t),!0):!1}function mie(n,e,t,r,i){let s=ue.empty;for(let f=t.length-1;f>=0;f--)s=ue.from(t[f].type.create(t[f].attrs,s));n.step(new jn(e.start-(r?2:0),e.end,e.start,e.end,new ye(s,0,0),t.length,!0));let o=0;for(let f=0;f<t.length;f++)t[f].type==i&&(o=f+1);let a=t.length-o,c=e.start+t.length-(r?2:0),d=e.parent;for(let f=e.startIndex,p=e.endIndex,m=!0;f<p;f++,m=!1)!m&&Ao(n.doc,c,a)&&(n.split(c,a),c+=2*a),c+=d.child(f).nodeSize;return n}function gie(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?yie(e,t,n,s):bie(e,t,s):!0:!1}}function yie(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new jn(s-1,o,s,o,new ye(ue.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new m0(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Ud(r);if(a==null)return!1;i.lift(r,a);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return ul(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function bie(n,e,t){let r=n.tr,i=t.parent;for(let y=t.end,b=t.endIndex-1,v=t.startIndex;b>v;b--)y-=i.child(b).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,c=t.endIndex==i.childCount,d=s.node(-1),f=s.index(-1);if(!d.canReplace(f+(a?0:1),f+1,o.content.append(c?ue.empty:ue.from(i))))return!1;let p=s.pos,m=p+o.nodeSize;return r.step(new jn(p-(a?1:0),m+(c?1:0),p+1,m-1,new ye((a?ue.empty:ue.from(i.copy(ue.empty))).append(c?ue.empty:ue.from(i.copy(ue.empty))),a?0:1,c?0:1),a?0:1)),e(r.scrollIntoView()),!0}function vie(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,c=a.child(o-1);if(c.type!=n)return!1;if(t){let d=c.lastChild&&c.lastChild.type==a.type,f=ue.from(d?n.create():null),p=new ye(ue.from(n.create(null,ue.from(a.type.create(null,f)))),d?3:1,0),m=s.start,y=s.end;t(e.tr.step(new jn(m-(d?3:1),y,m,y,p,1,!0)).scrollIntoView())}return!0}}function kb(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class Eb{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...f)=>{const p=c(...f)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],c=!!e,d=e||s.tr,f=()=>(!c&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),a.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(r).map(([m,y])=>[m,(...v)=>{const w=this.buildProps(d,t),M=y(...v)(w);return a.push(M),p}])),run:f};return p}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...f)=>d(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:kb({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([c,d])=>[c,(...f)=>d(...f)(a)]))}};return a}}class xie{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function xe(n,e,t){return n.config[e]===void 0&&n.parent?xe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?xe(n.parent,e,t):null}):n.config[e]}function Tb(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function t3(n){const e=[],{nodeExtensions:t,markExtensions:r}=Tb(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},c=xe(o,"addGlobalAttributes",a);if(!c)return;c().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,y])=>{e.push({type:p,name:m,attribute:{...s,...y}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=xe(o,"addAttributes",a);if(!c)return;const d=c();Object.entries(d).forEach(([f,p])=>{const m={...s,...p};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:o.name,name:f,attribute:m})})}),e}function Fn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function zn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],d=a.filter(f=>!c.includes(f));r[i]=[...c,...d].join(" ")}else if(i==="style"){const a=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;c.forEach(f=>{const[p,m]=f.split(":").map(y=>y.trim());d.set(p,m)}),a.forEach(f=>{const[p,m]=f.split(":").map(y=>y.trim());d.set(p,m)}),r[i]=Array.from(d.entries()).map(([f,p])=>`${f}: ${p}`).join("; ")}else r[i]=s}),r},{})}function FS(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>zn(t,r),{})}function n3(n){return typeof n=="function"}function qe(n,e=void 0,...t){return n3(n)?e?n.bind(e)(...t):n(...t):n}function wie(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Sie(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function IN(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):Sie(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function jN(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&wie(t)?!1:t!=null))}function Mie(n,e){var t;const r=t3(n),{nodeExtensions:i,markExtensions:s}=Tb(n),o=(t=i.find(d=>xe(d,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(d=>{const f=r.filter(M=>M.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},m=n.reduce((M,k)=>{const E=xe(k,"extendNodeSchema",p);return{...M,...E?E(d):{}}},{}),y=jN({...m,content:qe(xe(d,"content",p)),marks:qe(xe(d,"marks",p)),group:qe(xe(d,"group",p)),inline:qe(xe(d,"inline",p)),atom:qe(xe(d,"atom",p)),selectable:qe(xe(d,"selectable",p)),draggable:qe(xe(d,"draggable",p)),code:qe(xe(d,"code",p)),whitespace:qe(xe(d,"whitespace",p)),linebreakReplacement:qe(xe(d,"linebreakReplacement",p)),defining:qe(xe(d,"defining",p)),isolating:qe(xe(d,"isolating",p)),attrs:Object.fromEntries(f.map(M=>{var k;return[M.name,{default:(k=M==null?void 0:M.attribute)===null||k===void 0?void 0:k.default}]}))}),b=qe(xe(d,"parseHTML",p));b&&(y.parseDOM=b.map(M=>IN(M,f)));const v=xe(d,"renderHTML",p);v&&(y.toDOM=M=>v({node:M,HTMLAttributes:FS(M,f)}));const w=xe(d,"renderText",p);return w&&(y.toText=w),[d.name,y]})),c=Object.fromEntries(s.map(d=>{const f=r.filter(w=>w.type===d.name),p={name:d.name,options:d.options,storage:d.storage,editor:e},m=n.reduce((w,M)=>{const k=xe(M,"extendMarkSchema",p);return{...w,...k?k(d):{}}},{}),y=jN({...m,inclusive:qe(xe(d,"inclusive",p)),excludes:qe(xe(d,"excludes",p)),group:qe(xe(d,"group",p)),spanning:qe(xe(d,"spanning",p)),code:qe(xe(d,"code",p)),attrs:Object.fromEntries(f.map(w=>{var M;return[w.name,{default:(M=w==null?void 0:w.attribute)===null||M===void 0?void 0:M.default}]}))}),b=qe(xe(d,"parseHTML",p));b&&(y.parseDOM=b.map(w=>IN(w,f)));const v=xe(d,"renderHTML",p);return v&&(y.toDOM=w=>v({mark:w,HTMLAttributes:FS(w,f)})),[d.name,y]}));return new $B({topNode:o,nodes:a,marks:c})}function J1(n,e){return e.nodes[n]||e.marks[n]||null}function BN(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function qD(n,e){const t=zc.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const Die=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var c,d;const f=((d=(c=i.type.spec).toText)===null||d===void 0?void 0:d.call(c,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,r-s))}),t};function KD(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ob{constructor(e){this.find=e.find,this.handler=e.handler}}const Cie=(n,e)=>{if(KD(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Fg(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:a}=n,{view:c}=t;if(c.composing)return!1;const d=c.state.doc.resolve(r);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const p=Die(d)+s;return o.forEach(m=>{if(f)return;const y=Cie(p,m.find);if(!y)return;const b=c.state.tr,v=kb({state:c.state,transaction:b}),w={from:r-(y[0].length-s.length),to:i},{commands:M,chain:k,can:E}=new Eb({editor:t,state:v});m.handler({state:v,range:w,match:y,commands:M,chain:k,can:E})===null||!b.steps.length||(b.setMeta(a,{transform:b,from:r,to:i,text:s}),c.dispatch(b),f=!0)}),f}function kie(n){const{editor:e,rules:t}=n,r=new _r({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=qD(ue.from(f),o.schema);const{from:p}=c,m=p+f.length;Fg({editor:e,from:p,to:m,text:f,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Fg({editor:e,from:s,to:o,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Fg({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Fg({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Eie(n){return Object.prototype.toString.call(n).slice(8,-1)}function zg(n){return Eie(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function _b(n,e){const t={...n};return zg(n)&&zg(e)&&Object.keys(e).forEach(r=>{zg(e[r])&&zg(n[r])?t[r]=_b(n[r],e[r]):t[r]=e[r]}),t}class Vs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qe(xe(this,"addOptions",{name:this.name}))),this.storage=qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vs(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>_b(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Vs(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=qe(xe(t,"addOptions",{name:t.name})),t.storage=qe(xe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===t.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function Tie(n){return typeof n=="number"}class Oie{constructor(e){this.find=e.find,this.handler=e.handler}}const _ie=(n,e,t)=>{if(KD(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Aie(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:c,chain:d,can:f}=new Eb({editor:e,state:t}),p=[];return t.doc.nodesBetween(r,i,(y,b)=>{if(!y.isTextblock||y.type.spec.code)return;const v=Math.max(r,b),w=Math.min(i,b+y.content.size),M=y.textBetween(v-b,w-b,void 0,"￼");_ie(M,s.find,o).forEach(E=>{if(E.index===void 0)return;const _=v+E.index+1,T=_+E[0].length,P={from:t.tr.mapping.map(_),to:t.tr.mapping.map(T)},N=s.handler({state:t,range:P,match:E,commands:c,chain:d,can:f,pasteEvent:o,dropEvent:a});p.push(N)})}),p.every(y=>y!==null)}let Vg=null;const Rie=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Nie(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:f,from:p,to:m,rule:y,pasteEvt:b})=>{const v=f.tr,w=kb({state:f,transaction:v});if(!(!Aie({editor:e,state:w,from:Math.max(p-1,0),to:m.b-1,rule:y,pasteEvent:b,dropEvent:a})||!v.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return t.map(f=>new _r({view(p){const m=b=>{var v;r=!((v=p.dom.parentElement)===null||v===void 0)&&v.contains(b.target)?p.dom.parentElement:null,r&&(Vg=e)},y=()=>{Vg&&(Vg=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(p,m)=>{if(s=r===p.dom.parentElement,a=m,!s){const y=Vg;y!=null&&y.isEditable&&setTimeout(()=>{const b=y.state.selection;b&&y.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(p,m)=>{var y;const b=(y=m.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return o=m,i=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(p,m,y)=>{const b=p[0],v=b.getMeta("uiEvent")==="paste"&&!i,w=b.getMeta("uiEvent")==="drop"&&!s,M=b.getMeta("applyPasteRules"),k=!!M;if(!v&&!w&&!k)return;if(k){let{text:T}=M;typeof T=="string"?T=T:T=qD(ue.from(T),y.schema);const{from:P}=M,N=P+T.length,A=Rie(T);return c({rule:f,state:y,from:P,to:{b:N},pasteEvt:A})}const E=m.doc.content.findDiffStart(y.doc.content),_=m.doc.content.findDiffEnd(y.doc.content);if(!(!Tie(E)||!_||E===_.b))return c({rule:f,state:y,from:E,to:_,pasteEvt:o})}}))}function Pie(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Bu{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Bu.resolve(e),this.schema=Mie(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Bu.sort(Bu.flatten(e)),r=Pie(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=xe(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=xe(r,"priority")||100,o=xe(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:J1(t.name,this.schema)},i=xe(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Bu.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:J1(o.name,this.schema)},c=[],d=xe(o,"addKeyboardShortcuts",a);let f={};if(o.type==="mark"&&xe(o,"exitable",a)&&(f.ArrowRight=()=>Vs.handleExit({editor:e,mark:o})),d){const v=Object.fromEntries(Object.entries(d()).map(([w,M])=>[w,()=>M({editor:e})]));f={...f,...v}}const p=Zre(f);c.push(p);const m=xe(o,"addInputRules",a);BN(o,e.options.enableInputRules)&&m&&r.push(...m());const y=xe(o,"addPasteRules",a);BN(o,e.options.enablePasteRules)&&y&&i.push(...y());const b=xe(o,"addProseMirrorPlugins",a);if(b){const v=b();c.push(...v)}return c}).flat();return[kie({editor:e,rules:r}),...Nie({editor:e,rules:i}),...s]}get attributes(){return t3(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Tb(this.extensions);return Object.fromEntries(t.filter(r=>!!xe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Fn(r.name,this.schema)},o=xe(r,"addNodeView",s);if(!o)return[];const a=(c,d,f,p,m)=>{const y=FS(c,i);return o()({node:c,view:d,getPos:f,decorations:p,innerDecorations:m,editor:e,extension:r,HTMLAttributes:y})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:J1(e.name,this.schema)};e.type==="mark"&&(!((t=qe(xe(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=xe(e,"onBeforeCreate",r),s=xe(e,"onCreate",r),o=xe(e,"onUpdate",r),a=xe(e,"onSelectionUpdate",r),c=xe(e,"onTransaction",r),d=xe(e,"onFocus",r),f=xe(e,"onBlur",r),p=xe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),p&&this.editor.on("destroy",p)})}}class Vn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qe(xe(this,"addOptions",{name:this.name}))),this.storage=qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>_b(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Vn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=qe(xe(t,"addOptions",{name:t.name})),t.storage=qe(xe(t,"addStorage",{name:t.name,options:t.options})),t}}function r3(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(r,i,(c,d,f,p)=>{var m;c.isBlock&&d>r&&(a+=s);const y=o==null?void 0:o[c.type.name];if(y)return f&&(a+=y({node:c,pos:d,parent:f,index:p,range:e})),!1;c.isText&&(a+=(m=c==null?void 0:c.text)===null||m===void 0?void 0:m.slice(Math.max(r,d)-d,i-d))}),a}function i3(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Lie=Vn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _r({key:new ns("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(f=>f.$from.pos)),a=Math.max(...s.map(f=>f.$to.pos)),c=i3(t);return r3(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),Iie=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),jie=(n=!1)=>({commands:e})=>e.setContent("",n),Bie=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,c)=>{if(a.type.isText)return;const{doc:d,mapping:f}=e,p=d.resolve(f.map(c)),m=d.resolve(f.map(c+a.nodeSize)),y=p.blockRange(m);if(!y)return;const b=Ud(y);if(a.type.isTextblock){const{defaultType:v}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(y.start,v)}(b||b===0)&&e.lift(y,b)})}),!0},Fie=n=>e=>n(e),zie=()=>({state:n,dispatch:e})=>XF(n,e),Vie=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Ie(r.doc.resolve(Math.max(o-1,0)))),!0},Hie=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),c=i.after(s);n.delete(a,c).scrollIntoView()}return!0}return!1},Uie=n=>({tr:e,state:t,dispatch:r})=>{const i=Fn(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const c=s.before(o),d=s.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},$ie=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},Yie=()=>({state:n,dispatch:e})=>HD(n,e),Wie=()=>({commands:n})=>n.keyboardShortcut("Enter"),qie=()=>({state:n,dispatch:e})=>sie(n,e);function M0(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:KD(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function s3(n,e,t={}){return n.find(r=>r.type===e&&M0(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function FN(n,e,t={}){return!!s3(n,e,t)}function QD(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!s3([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,c=o+1,d=a+i.node.nodeSize;for(;o>0&&FN([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;c<n.parent.childCount&&FN([...n.parent.child(c).marks],e,t);)d+=n.parent.child(c).nodeSize,c+=1;return{from:a,to:d}}function fl(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const Kie=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=fl(n,r.schema),{doc:o,selection:a}=t,{$from:c,from:d,to:f}=a;if(i){const p=QD(c,s,e);if(p&&p.from<=d&&p.to>=f){const m=Ie.create(o,p.from,p.to);t.setSelection(m)}}return!0},Qie=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function o3(n){return n instanceof Ie}function Jl(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function a3(n,e=null){if(!e)return null;const t=He.atStart(n),r=He.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?Ie.create(n,Jl(0,i,s),Jl(n.content.size,i,s)):Ie.create(n,Jl(e,i,s),Jl(e,i,s))}function Gie(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function GD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Xie=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(GD()||Gie())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!o3(t.state.selection))return o(),!0;const a=a3(i.doc,n)||t.state.selection,c=t.state.selection.eq(a);return s&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Jie=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Zie=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),l3=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&l3(r)}return n};function Hg(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return l3(t)}function up(n,e,t){if(n instanceof Ka||n instanceof ue)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ue.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),up("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const c=new $B({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,a=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?Qa.fromSchema(c).parseSlice(Hg(n),t.parseOptions):Qa.fromSchema(c).parse(Hg(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Qa.fromSchema(e);return t.slice?s.parseSlice(Hg(n),t.parseOptions).content:s.parse(Hg(n),t.parseOptions)}return up("",e,t)}function ese(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Ln||i instanceof jn))return;const s=n.mapping.maps[r];let o=0;s.forEach((a,c,d,f)=>{o===0&&(o=f)}),n.setSelection(He.near(n.doc.resolve(o),t))}const tse=n=>!("type"in n),nse=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const c=w=>{s.emit("contentError",{editor:s,error:w,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{up(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(w){c(w)}try{a=up(e,s.schema,{parseOptions:d,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(w){return c(w),!1}let{from:f,to:p}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((tse(a)?a:[a]).forEach(w=>{w.check(),m=m?w.isText&&w.marks.length===0:!1,y=y?w.isBlock:!1}),f===p&&y){const{parent:w}=r.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,p+=1)}let v;if(m){if(Array.isArray(e))v=e.map(w=>w.text||"").join("");else if(e instanceof ue){let w="";e.forEach(M=>{M.text&&(w+=M.text)}),v=w}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,f,p)}else v=a,r.replaceWith(f,p,v);t.updateSelection&&ese(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:v})}return!0},rse=()=>({state:n,dispatch:e})=>nie(n,e),ise=()=>({state:n,dispatch:e})=>rie(n,e),sse=()=>({state:n,dispatch:e})=>$F(n,e),ose=()=>({state:n,dispatch:e})=>KF(n,e),ase=()=>({state:n,dispatch:e,tr:t})=>{try{const r=xb(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},lse=()=>({state:n,dispatch:e,tr:t})=>{try{const r=xb(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},cse=()=>({state:n,dispatch:e})=>eie(n,e),use=()=>({state:n,dispatch:e})=>tie(n,e);function c3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function dse(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))GD()||c3()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const fse=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=dse(n).split(/-(?!$)/),o=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,a))});return c==null||c.steps.forEach(d=>{const f=d.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function dp(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?Fn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(p,m)=>{if(p.isText)return;const y=Math.max(r,m),b=Math.min(i,m+p.nodeSize);a.push({node:p,from:y,to:b})});const c=i-r,d=a.filter(p=>o?o.name===p.node.type.name:!0).filter(p=>M0(p.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((p,m)=>p+m.to-m.from,0)>=c}const hse=(n,e={})=>({state:t,dispatch:r})=>{const i=Fn(n,t.schema);return dp(t,i,e)?iie(t,r):!1},pse=()=>({state:n,dispatch:e})=>JF(n,e),mse=n=>({state:e,dispatch:t})=>{const r=Fn(n,e.schema);return gie(r)(e,t)},gse=()=>({state:n,dispatch:e})=>GF(n,e);function Ab(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function zN(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const yse=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=Ab(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=Fn(n,r.schema)),a==="mark"&&(o=fl(n,r.schema)),i&&t.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,f)=>{s&&s===d.type&&t.setNodeMarkup(f,void 0,zN(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(p=>{o===p.type&&t.addMark(f,f+d.nodeSize,o.create(zN(p.attrs,e)))})})}),!0):!1},bse=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),vse=()=>({tr:n,dispatch:e})=>{if(e){const t=new ui(n.doc);n.setSelection(t)}return!0},xse=()=>({state:n,dispatch:e})=>WF(n,e),wse=()=>({state:n,dispatch:e})=>QF(n,e),Sse=()=>({state:n,dispatch:e})=>lie(n,e),Mse=()=>({state:n,dispatch:e})=>die(n,e),Dse=()=>({state:n,dispatch:e})=>uie(n,e);function zS(n,e,t={},r={}){return up(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const Cse=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var c,d;const{doc:f}=s;if(t.preserveWhitespace!=="full"){const p=zS(n,i.schema,t,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return o&&s.replaceWith(0,f.content.size,p).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:f.content.size},n,{parseOptions:t,errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:i.options.enableContentCheck})};function u3(n,e){const t=fl(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{o.push(...c.marks)});const a=o.find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function kse(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Ese(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function XD(n){return e=>Ese(e.$from,n)}function Tse(n,e){const t={from:0,to:n.content.size};return r3(n,t,e)}function Ose(n,e){const t=Fn(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function _se(n,e){const t=Ab(typeof e=="string"?e:e.name,n.schema);return t==="node"?Ose(n,e):t==="mark"?u3(n,e):{}}function d3(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=QD(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function by(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function VS(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?fl(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(p=>s?s.name===p.type.name:!0).find(p=>M0(p.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:p,$to:m})=>{const y=p.pos,b=m.pos;n.doc.nodesBetween(y,b,(v,w)=>{if(!v.isText&&!v.marks.length)return;const M=Math.max(y,w),k=Math.min(b,w+v.nodeSize),E=k-M;o+=E,a.push(...v.marks.map(_=>({mark:_,from:M,to:k})))})}),o===0)return!1;const c=a.filter(p=>s?s.name===p.mark.type.name:!0).filter(p=>M0(p.mark.attrs,t,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),d=a.filter(p=>s?p.mark.type!==s&&p.mark.type.excludes(s):!0).reduce((p,m)=>p+m.to-m.from,0);return(c>0?c+d:c)>=o}function Ase(n,e,t={}){if(!e)return dp(n,null,t)||VS(n,null,t);const r=Ab(e,n.schema);return r==="node"?dp(n,e,t):r==="mark"?VS(n,e,t):!1}function VN(n,e){const{nodeExtensions:t}=Tb(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=qe(xe(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Rb(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(Rb(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function Rse(n){return n instanceof ke}function Nse(n,e,t){var r;const{selection:i}=e;let s=null;if(o3(i)&&(s=i.$cursor),s){const a=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(a)||!a.some(c=>c.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:a,$to:c})=>{let d=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,c.pos,(f,p,m)=>{if(d)return!1;if(f.isInline){const y=!m||m.type.allowsMarkType(t),b=!!t.isInSet(f.marks)||!f.marks.some(v=>v.type.excludes(t));d=y&&b}return!d}),d})}const Pse=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:a}=s,c=fl(n,r.schema);if(i)if(o){const d=u3(r,c);t.addStoredMark(c.create({...d,...e}))}else a.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;r.doc.nodesBetween(f,p,(m,y)=>{const b=Math.max(y,f),v=Math.min(y+m.nodeSize,p);m.marks.find(M=>M.type===c)?m.marks.forEach(M=>{c===M.type&&t.addMark(b,v,c.create({...M.attrs,...e}))}):t.addMark(b,v,c.create(e))})});return Nse(r,t,c)},Lse=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),Ise=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Fn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>LN(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>LN(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},jse=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Jl(n,0,r.content.size),s=ke.create(r,i);e.setSelection(s)}return!0},Bse=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=Ie.atStart(r).from,a=Ie.atEnd(r).to,c=Jl(i,o,a),d=Jl(s,o,a),f=Ie.create(r,c,d);e.setSelection(f)}return!0},Fse=n=>({state:e,dispatch:t})=>{const r=Fn(n,e.schema);return vie(r)(e,t)};function HN(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const zse=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:c}=s,d=i.extensionManager.attributes,f=by(d,a.node().type.name,a.node().attrs);if(s instanceof ke&&s.node.isBlock)return!a.parentOffset||!Ao(o,a.pos)?!1:(r&&(n&&HN(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,m=a.depth===0?void 0:kse(a.node(-1).contentMatchAt(a.indexAfter(-1)));let y=p&&m?[{type:m,attrs:f}]:void 0,b=Ao(e.doc,e.mapping.map(a.pos),1,y);if(!y&&!b&&Ao(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(b=!0,y=m?[{type:m,attrs:f}]:void 0),r){if(b&&(s instanceof Ie&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,y),m&&!p&&!a.parentOffset&&a.parent.type!==m)){const v=e.mapping.map(a.before()),w=e.doc.resolve(v);a.node(-1).canReplaceWith(w.index(),w.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}n&&HN(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},Vse=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const a=Fn(n,r.schema),{$from:c,$to:d}=r.selection,f=r.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(d))return!1;const p=c.node(-1);if(p.type!==a)return!1;const m=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let M=ue.empty;const k=c.index(-1)?1:c.index(-2)?2:3;for(let A=c.depth-k;A>=c.depth-3;A-=1)M=ue.from(c.node(A).copy(M));const E=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,_={...by(m,c.node().type.name,c.node().attrs),...e},T=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(_))||void 0;M=M.append(ue.from(a.createAndFill(null,T)||void 0));const P=c.before(c.depth-(k-1));t.replace(P,c.after(-E),new ye(M,4-k,0));let N=-1;t.doc.nodesBetween(P,t.doc.content.size,(A,L)=>{if(N>-1)return!1;A.isTextblock&&A.content.size===0&&(N=L+1)}),N>-1&&t.setSelection(Ie.near(t.doc.resolve(N))),t.scrollIntoView()}return!0}const y=d.pos===c.end()?p.contentMatchAt(0).defaultType:null,b={...by(m,p.type.name,p.attrs),...e},v={...by(m,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,d.pos);const w=y?[{type:a,attrs:b},{type:y,attrs:v}]:[{type:a,attrs:b}];if(!Ao(t.doc,c.pos,2))return!1;if(i){const{selection:M,storedMarks:k}=r,{splittableMarks:E}=s.extensionManager,_=k||M.$to.parentOffset&&M.$from.marks();if(t.split(c.pos,2,w).scrollIntoView(),!_||!i)return!0;const T=_.filter(P=>E.includes(P.type.name));t.ensureMarks(T)}return!0},Z1=(n,e)=>{const t=XD(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&ul(n.doc,t.pos)&&n.join(t.pos),!0},ew=(n,e)=>{const t=XD(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&ul(n.doc,r)&&n.join(r),!0},Hse=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:c,commands:d,can:f})=>{const{extensions:p,splittableMarks:m}=i.extensionManager,y=Fn(n,o.schema),b=Fn(e,o.schema),{selection:v,storedMarks:w}=o,{$from:M,$to:k}=v,E=M.blockRange(k),_=w||v.$to.parentOffset&&v.$from.marks();if(!E)return!1;const T=XD(P=>VN(P.type.name,p))(v);if(E.depth>=1&&T&&E.depth-T.depth<=1){if(T.node.type===y)return d.liftListItem(b);if(VN(T.node.type.name,p)&&y.validContent(T.node.content)&&a)return c().command(()=>(s.setNodeMarkup(T.pos,y),!0)).command(()=>Z1(s,y)).command(()=>ew(s,y)).run()}return!t||!_||!a?c().command(()=>f().wrapInList(y,r)?!0:d.clearNodes()).wrapInList(y,r).command(()=>Z1(s,y)).command(()=>ew(s,y)).run():c().command(()=>{const P=f().wrapInList(y,r),N=_.filter(A=>m.includes(A.type.name));return s.ensureMarks(N),P?!0:d.clearNodes()}).wrapInList(y,r).command(()=>Z1(s,y)).command(()=>ew(s,y)).run()},Use=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=fl(n,r.schema);return VS(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},$se=(n,e,t={})=>({state:r,commands:i})=>{const s=Fn(n,r.schema),o=Fn(e,r.schema),a=dp(r,s,t);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),a?i.setNode(o,c):i.setNode(s,{...c,...t})},Yse=(n,e={})=>({state:t,commands:r})=>{const i=Fn(n,t.schema);return dp(t,i,e)?r.lift(i):r.wrapIn(i,e)},Wse=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,a=s.transform;for(let c=a.steps.length-1;c>=0;c-=1)o.step(a.steps[c].invert(a.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},qse=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},Kse=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,c=fl(n,r.schema),{$from:d,empty:f,ranges:p}=a;if(!i)return!0;if(f&&o){let{from:m,to:y}=a;const b=(s=d.marks().find(w=>w.type===c))===null||s===void 0?void 0:s.attrs,v=QD(d,c,b);v&&(m=v.from,y=v.to),t.removeMark(m,y,c)}else p.forEach(m=>{t.removeMark(m.$from.pos,m.$to.pos,c)});return t.removeStoredMark(c),!0},Qse=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=Ab(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=Fn(n,r.schema)),a==="mark"&&(o=fl(n,r.schema)),i&&t.selection.ranges.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;let p,m,y,b;t.selection.empty?r.doc.nodesBetween(d,f,(v,w)=>{s&&s===v.type&&(y=Math.max(w,d),b=Math.min(w+v.nodeSize,f),p=w,m=v)}):r.doc.nodesBetween(d,f,(v,w)=>{w<d&&s&&s===v.type&&(y=Math.max(w,d),b=Math.min(w+v.nodeSize,f),p=w,m=v),w>=d&&w<=f&&(s&&s===v.type&&t.setNodeMarkup(w,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(M=>{if(o===M.type){const k=Math.max(w,d),E=Math.min(w+v.nodeSize,f);t.addMark(k,E,o.create({...M.attrs,...e}))}}))}),m&&(p!==void 0&&t.setNodeMarkup(p,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(v=>{o===v.type&&t.addMark(y,b,o.create({...v.attrs,...e}))}))}),!0):!1},Gse=(n,e={})=>({state:t,dispatch:r})=>{const i=Fn(n,t.schema);return fie(i,e)(t,r)},Xse=(n,e={})=>({state:t,dispatch:r})=>{const i=Fn(n,t.schema);return hie(i,e)(t,r)};var Jse=Object.freeze({__proto__:null,blur:Iie,clearContent:jie,clearNodes:Bie,command:Fie,createParagraphNear:zie,cut:Vie,deleteCurrentNode:Hie,deleteNode:Uie,deleteRange:$ie,deleteSelection:Yie,enter:Wie,exitCode:qie,extendMarkRange:Kie,first:Qie,focus:Xie,forEach:Jie,insertContent:Zie,insertContentAt:nse,joinBackward:sse,joinDown:ise,joinForward:ose,joinItemBackward:ase,joinItemForward:lse,joinTextblockBackward:cse,joinTextblockForward:use,joinUp:rse,keyboardShortcut:fse,lift:hse,liftEmptyBlock:pse,liftListItem:mse,newlineInCode:gse,resetAttributes:yse,scrollIntoView:bse,selectAll:vse,selectNodeBackward:xse,selectNodeForward:wse,selectParentNode:Sse,selectTextblockEnd:Mse,selectTextblockStart:Dse,setContent:Cse,setMark:Pse,setMeta:Lse,setNode:Ise,setNodeSelection:jse,setTextSelection:Bse,sinkListItem:Fse,splitBlock:zse,splitListItem:Vse,toggleList:Hse,toggleMark:Use,toggleNode:$se,toggleWrap:Yse,undoInputRule:Wse,unsetAllMarks:qse,unsetMark:Kse,updateAttributes:Qse,wrapIn:Gse,wrapInList:Xse});const Zse=Vn.create({name:"commands",addCommands(){return{...Jse}}}),eoe=Vn.create({name:"drop",addProseMirrorPlugins(){return[new _r({key:new ns("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),toe=Vn.create({name:"editable",addProseMirrorPlugins(){return[new _r({key:new ns("editable"),props:{editable:()=>this.editor.options.editable}})]}}),noe=new ns("focusEvents"),roe=Vn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new _r({key:noe,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ioe=Vn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:c,doc:d}=a,{empty:f,$anchor:p}=c,{pos:m,parent:y}=p,b=p.parent.isTextblock&&m>0?a.doc.resolve(m-1):p,v=b.parent.type.spec.isolating,w=p.pos-p.parentOffset,M=v&&b.parent.childCount===1?w===p.pos:He.atStart(d).from===m;return!f||!y.type.isTextblock||y.textContent.length||!M||M&&p.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return GD()||c3()?s:i},addProseMirrorPlugins(){return[new _r({key:new ns("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(v=>v.getMeta("composition")))return;const r=n.some(v=>v.docChanged)&&!e.doc.eq(t.doc),i=n.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,c=He.atStart(e.doc).from,d=He.atEnd(e.doc).to;if(s||!(o===c&&a===d)||!Rb(t.doc))return;const m=t.tr,y=kb({state:t,transaction:m}),{commands:b}=new Eb({editor:this.editor,state:y});if(b.clearNodes(),!!m.steps.length)return m}})]}}),soe=Vn.create({name:"paste",addProseMirrorPlugins(){return[new _r({key:new ns("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),ooe=Vn.create({name:"tabindex",addProseMirrorPlugins(){return[new _r({key:new ns("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class $l{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new $l(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new $l(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new $l(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const c=new $l(a,this.editor,i,i?t:null);i&&(c.actualDepth=this.depth+1),e.push(new $l(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const c=o[a];if(s[c]!==t[c])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(c=>t[c]===o.node.attrs[c])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const aoe=`.ProseMirror {
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function loe(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class coe extends xie{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=loe(aoe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=n3(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[toe,Lie.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Zse,roe,ioe,ooe,eoe,soe].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Bu(i,this)}createCommandManager(){this.commandManager=new Eb({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=zS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=zS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=a3(t,this.options.autofocus);this.view=new VF(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:ju.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return _se(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return Ase(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return qD(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Tse(this.state.doc,{blockSeparator:t,textSerializers:{...i3(this.schema),...r}})}get isEmpty(){return Rb(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new $l(t,this)}get $doc(){return this.$pos(0)}}function Cd(n){return new Ob({find:n.find,handler:({state:e,range:t,match:r})=>{const i=qe(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const c=a.search(/\S/),d=t.from+a.indexOf(o),f=d+o.length;if(d3(t.from,t.to,e.doc).filter(y=>y.mark.type.excluded.find(v=>v===n.type&&v!==y.mark.type)).filter(y=>y.to>d).length)return null;f<t.to&&s.delete(f,t.to),d>t.from&&s.delete(t.from+c,d);const m=t.from+c+o.length;s.addMark(t.from+c,m,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function f3(n){return new Ob({find:n.find,handler:({state:e,range:t,match:r})=>{const i=qe(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let a=t.to;const c=n.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let f=o+d;f>a?f=a:a=f+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,o+r[0].length-1),s.replaceWith(f,a,c)}else if(r[0]){const d=n.type.isInline?o:o-1;s.insert(d,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function HS(n){return new Ob({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=qe(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function fp(n){return new Ob({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=qe(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),c=o.doc.resolve(t.from).blockRange(),d=c&&AD(c,n.type,s);if(!d)return null;if(o.wrap(c,d),n.keepMarks&&n.editor){const{selection:p,storedMarks:m}=e,{splittableMarks:y}=n.editor.extensionManager,b=m||p.$to.parentOffset&&p.$from.marks();if(b){const v=b.filter(w=>y.includes(w.type.name));o.ensureMarks(v)}}if(n.keepAttributes){const p=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,s).run()}const f=o.doc.resolve(t.from-1).nodeBefore;f&&f.type===n.type&&ul(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,f))&&o.join(t.from-1)}})}let Li=class US{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=qe(xe(this,"addOptions",{name:this.name}))),this.storage=qe(xe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new US(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>_b(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new US(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=qe(xe(t,"addOptions",{name:t.name})),t.storage=qe(xe(t,"addStorage",{name:t.name,options:t.options})),t}};function kd(n){return new Oie({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=qe(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];let d=t.to;if(a){const f=c.search(/\S/),p=t.from+c.indexOf(a),m=p+a.length;if(d3(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===n.type&&w!==b.mark.type)).filter(b=>b.to>p).length)return null;m<t.to&&o.delete(m,t.to),p>t.from&&o.delete(t.from+f,p),d=t.from+f+a.length,o.addMark(t.from+f,d,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function uoe(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof ke){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function doe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var h3={exports:{}},tw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function foe(){if(UN)return tw;UN=1;var n=$;function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(p,m){var y=m(),b=r({inst:{value:y,getSnapshot:m}}),v=b[0].inst,w=b[1];return s(function(){v.value=y,v.getSnapshot=m,c(v)&&w({inst:v})},[p,y,m]),i(function(){return c(v)&&w({inst:v}),p(function(){c(v)&&w({inst:v})})},[p]),o(y),y}function c(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!t(p,y)}catch{return!0}}function d(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:a;return tw.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,tw}h3.exports=foe();var JD=h3.exports;const hoe=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},poe=({contentComponent:n})=>{const e=JD.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return $.createElement($.Fragment,null,Object.values(e))};function moe(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:ML.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class goe extends $.Component{constructor(e){var t;super(e),this.editorContentRef=$.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=moe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return $.createElement($.Fragment,null,$.createElement("div",{ref:hoe(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&$.createElement(poe,{contentComponent:e.contentComponent}))}}const yoe=D.forwardRef((n,e)=>{const t=$.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return $.createElement(goe,{key:t,innerRef:e,...n})}),boe=$.memo(yoe);var voe=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},xoe=doe(voe),p3={exports:{}},nw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function woe(){if($N)return nw;$N=1;var n=$,e=JD;function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,a=n.useMemo,c=n.useDebugValue;return nw.useSyncExternalStoreWithSelector=function(d,f,p,m,y){var b=s(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=a(function(){function M(P){if(!k){if(k=!0,E=P,P=m(P),y!==void 0&&v.hasValue){var N=v.value;if(y(N,P))return _=N}return _=P}if(N=_,r(E,P))return N;var A=m(P);return y!==void 0&&y(N,A)?N:(E=P,_=A)}var k=!1,E,_,T=p===void 0?null:p;return[function(){return M(f())},T===null?void 0:function(){return M(T())}]},[f,p,m,y]);var w=i(d,b[0],b[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),c(w),w},nw}p3.exports=woe();var Soe=p3.exports;const Moe=typeof window<"u"?D.useLayoutEffect:D.useEffect;class Doe{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Coe(n){var e;const[t]=D.useState(()=>new Doe(n.editor)),r=Soe.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:xoe);return Moe(()=>t.watch(n.editor),[n.editor,t]),D.useDebugValue(r),r}const koe=!1,$S=typeof window>"u",Eoe=$S||!!(typeof window<"u"&&window.next);class ZD{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?$S||Eoe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new coe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=t.extensions)===null||o===void 0?void 0:o[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ZD.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Toe(n={},e=[]){const t=D.useRef(n);t.current=n;const[r]=D.useState(()=>new ZD(t)),i=JD.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return D.useDebugValue(i),D.useEffect(r.onRender(e)),Coe({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const Ooe=D.createContext({editor:null});Ooe.Consumer;const _oe=D.createContext({onDragStart:void 0}),Aoe=()=>D.useContext(_oe);$.forwardRef((n,e)=>{const{onDragStart:t}=Aoe(),r=n.as||"div";return $.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const Roe=/^\s*>\s$/,Noe=Li.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[fp({find:Roe,type:this.type})]}}),Poe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Loe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Ioe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,joe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Boe=Vs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Cd({find:Poe,type:this.type}),Cd({find:Ioe,type:this.type})]},addPasteRules(){return[kd({find:Loe,type:this.type}),kd({find:joe,type:this.type})]}}),Foe="listItem",YN="textStyle",WN=/^\s*([-+*])\s$/,zoe=Li.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Foe,this.editor.getAttributes(YN)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=fp({find:WN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=fp({find:WN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(YN),editor:this.editor})),[n]}}),Voe=/(^|[^`])`([^`]+)`(?!`)/,Hoe=/(^|[^`])`([^`]+)`(?!`)/g,Uoe=Vs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Cd({find:Voe,type:this.type})]},addPasteRules(){return[kd({find:Hoe,type:this.type})]}}),$oe=/^```([a-z]+)?[\s\n]$/,Yoe=/^~~~([a-z]+)?[\s\n]$/,Woe=Li.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",zn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:d})=>(d.setSelection(He.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[HS({find:$oe,type:this.type,getAttributes:n=>({language:n[1]})}),HS({find:Yoe,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Rr({key:new rs("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,c=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ie.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),qoe=Ii.create({name:"doc",topNode:!0,content:"block+"});function Koe(n={}){return new Rr({view(e){return new Qoe(e,n)}})}class Qoe{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(t){let p=e.nodeBefore,m=e.nodeAfter;if(p||m){let y=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(y){let b=y.getBoundingClientRect(),v=p?b.bottom:b.top;p&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*a;r={left:b.left,right:b.right,top:v-w,bottom:v+w}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*o;r={left:p.left-m,right:p.left+m,top:p.top,bottom:p.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let d,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,f=-pageYOffset;else{let p=c.getBoundingClientRect(),m=p.width/c.offsetWidth,y=p.height/c.offsetHeight;d=p.left-c.scrollLeft*m,f=p.top-c.scrollTop*y}this.element.style.left=(r.left-d)/o+"px",this.element.style.top=(r.top-f)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=eF(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Goe=Hn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Koe(this.options)]}});class an extends He{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return an.valid(r)?new an(r):He.near(r)}content(){return ye.empty}eq(e){return e instanceof an&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new an(e.resolve(t.pos))}getBookmark(){return new ZD(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Xoe(e)||!Joe(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&an.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let c=e.doc.resolve(i);if(an.valid(c))return c}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ke.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(an.valid(a))return a}return null}}}an.prototype.visible=!1;an.findFrom=an.findGapCursorFrom;He.jsonID("gapcursor",an);class ZD{constructor(e){this.pos=e}map(e){return new ZD(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return an.valid(t)?new an(t):He.near(t)}}function Xoe(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Joe(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Zoe(){return new Rr({props:{decorations:rae,createSelectionBetween(n,e,t){return e.pos==t.pos&&an.valid(t)?new an(t):null},handleClick:tae,handleKeyDown:eae,handleDOMEvents:{beforeinput:nae}}})}const eae=VF({ArrowLeft:$g("horiz",-1),ArrowRight:$g("horiz",1),ArrowUp:$g("vert",-1),ArrowDown:$g("vert",1)});function $g(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,c=o.empty;if(o instanceof Ie){if(!s.endOfTextblock(t)||a.depth==0)return!1;c=!1,a=r.doc.resolve(e>0?a.after():a.before())}let d=an.findGapCursorFrom(a,e,c);return d?(i&&i(r.tr.setSelection(new an(d))),!0):!1}}function tae(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!an.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&ke.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new an(r))),!0)}function nae(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof an))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=ue.empty;for(let o=r.length-1;o>=0;o--)i=ue.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new ye(i,0,0));return s.setSelection(Ie.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function rae(n){if(!(n.selection instanceof an))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",xn.create(n.doc,[ci.widget(n.selection.head,e,{key:"gapcursor"})])}const iae=Hn.create({name:"gapCursor",addProseMirrorPlugins(){return[Zoe()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=qe(xe(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),sae=Ii.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Vn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&c&&o){const p=c.filter(m=>a.includes(m.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oae=Ii.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Vn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>HS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var D0=200,Fn=function(){};Fn.prototype.append=function(e){return e.length?(e=Fn.from(e),!this.length&&e||e.length<D0&&this.leafAppend(e)||this.length<D0&&e.leafPrepend(this)||this.appendInner(e)):this};Fn.prototype.prepend=function(e){return e.length?Fn.from(e).append(this):this};Fn.prototype.appendInner=function(e){return new aae(this,e)};Fn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Fn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Fn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Fn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Fn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};Fn.from=function(e){return e instanceof Fn?e:e&&e.length?new p3(e):Fn.empty};var p3=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var c=s;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var c=s-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=D0)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=D0)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Fn);Fn.empty=new p3([]);var aae=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Fn);const lae=500;class Ki{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,c,d=[],f=[];return this.items.forEach((p,m)=>{if(!p.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,f.push(p);return}if(i){f.push(new ms(p.map));let y=p.step.map(i.slice(s)),b;y&&o.maybeStep(y).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],d.push(new ms(b,void 0,void 0,d.length+f.length))),s--,b&&i.appendMap(b,s)}else o.maybeStep(p.step);if(p.selection)return a=i?p.selection.map(i.slice(s)):p.selection,c=new Ki(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),m=new ms(e.mapping.maps[f],p,t),y;(y=c&&c.merge(m))&&(m=y,f?s.pop():a=a.slice(0,a.length-1)),s.push(m),t&&(o++,t=void 0),i||(c=m)}let d=o-r.depth;return d>uae&&(a=cae(a,d),o-=d),new Ki(a.append(s),o)}remapping(e,t){let r=new op;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new Ki(this.items.append(e.map(t=>new ms(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},i);let c=t;this.items.forEach(m=>{let y=s.getMirror(--c);if(y==null)return;o=Math.min(o,y);let b=s.maps[y];if(m.step){let v=e.steps[y].invert(e.docs[y]),w=m.selection&&m.selection.map(s.slice(c+1,y));w&&a++,r.push(new ms(b,v,w))}else r.push(new ms(b))},i);let d=[];for(let m=t;m<o;m++)d.push(new ms(s.maps[m]));let f=this.items.slice(0,i).append(d).append(r),p=new Ki(f,a);return p.emptyItemCount()>lae&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(t.slice(r)),d=c&&c.getMap();if(r--,d&&t.appendMap(d,r),c){let f=o.selection&&o.selection.map(t.slice(r));f&&s++;let p=new ms(d.invert(),c,f),m,y=i.length-1;(m=i.length&&i[y].merge(p))?i[y]=m:i.push(p)}}else o.map&&r--},this.items.length,0),new Ki(Fn.from(i.reverse()),s)}}Ki.empty=new Ki(Fn.empty,0);function cae(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class ms{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new ms(t.getMap().invert(),t,this.selection)}}}class Ma{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const uae=20;function dae(n,e,t,r){let i=t.getMeta(wc),s;if(i)return i.historyState;t.getMeta(pae)&&(n=new Ma(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(wc))return o.getMeta(wc).redo?new Ma(n.done.addTransform(t,void 0,r,vy(e)),n.undone,qN(t.mapping.maps),n.prevTime,n.prevComposition):new Ma(n.done,n.undone.addTransform(t,void 0,r,vy(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),c=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!fae(t,n.prevRanges)),d=o?rw(n.prevRanges,t.mapping):qN(t.mapping.maps);return new Ma(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,vy(e)),Ki.empty,d,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Ma(n.done.rebased(t,s),n.undone.rebased(t,s),rw(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Ma(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),rw(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function fae(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function qN(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function rw(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function hae(n,e,t){let r=vy(e),i=wc.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Ma(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(wc,{redo:t,historyState:c})}let iw=!1,KN=null;function vy(n){let e=n.plugins;if(KN!=e){iw=!1,KN=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){iw=!0;break}}return iw}const wc=new rs("history"),pae=new rs("closeHistory");function mae(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Rr({key:wc,state:{init(){return new Ma(Ki.empty,Ki.empty,null,0,-1)},apply(e,t,r){return dae(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?g3:r=="historyRedo"?y3:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function m3(n,e){return(t,r)=>{let i=wc.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=hae(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const g3=m3(!1,!0),y3=m3(!0,!0),gae=Hn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>g3(n,e),redo:()=>({state:n,dispatch:e})=>y3(n,e)}},addProseMirrorPlugins(){return[mae(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),yae=Ii.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Vn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!uoe(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Rse(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:d}=o.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(Ie.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(ke.create(o.doc,d.pos)):o.setSelection(Ie.create(o.doc,d.pos));else{const p=(c=d.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();p&&(o.insert(f,p),o.setSelection(Ie.create(o.doc,f+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[d3({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),bae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,vae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,xae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Sae=Vs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kd({find:bae,type:this.type}),kd({find:xae,type:this.type})]},addPasteRules(){return[Ed({find:vae,type:this.type}),Ed({find:wae,type:this.type})]}}),Mae=Ii.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Vn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Dae="listItem",QN="textStyle",GN=/^(\d+)\.\s$/,Cae=Ii.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Vn(this.options.HTMLAttributes,t),0]:["ol",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Dae,this.editor.getAttributes(QN)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=hp({find:GN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=hp({find:GN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(QN)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),kae=Ii.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Eae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Tae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Oae=Vs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kd({find:Eae,type:this.type})]},addPasteRules(){return[Ed({find:Tae,type:this.type})]}}),_ae=Ii.create({name:"text",group:"inline"}),Aae=Hn.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(Boe.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(Noe.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(zoe.configure(this.options.bulletList)),this.options.code!==!1&&n.push(Uoe.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(Woe.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(qoe.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(Goe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(iae.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(sae.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(oae.configure(this.options.heading)),this.options.history!==!1&&n.push(gae.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(yae.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(Sae.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Mae.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(Cae.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(kae.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(Oae.configure(this.options.strike)),this.options.text!==!1&&n.push(_ae.configure(this.options.text)),n}}),Rae=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Nae=Ii.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",Vn(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[d3({find:Rae,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),Pae=Hn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Rr({key:new rs("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((o,a)=>{const c=r>=a&&r<=a+o.nodeSize,d=!o.isLeaf&&Rb(o);if((c||!this.options.showOnlyCurrent)&&d){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const p=ci.node(a,a+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:c}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),xn.create(n,i)}}})]}}),Lae=Vs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Iae=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),o=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${o};${s}`)})},jae=Vs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Iae(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",Vn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),Bae=Hn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Fae=Hn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),zae=n=>{const[e,t]=D.useState({title:"",weather:"맑음"});D.useEffect(()=>{t(n?{title:n.title||"",weather:n.weather||"맑음"}:{title:"",weather:"맑음"})},[n]);const r=D.useCallback((s,o)=>{t(a=>({...a,[s]:o}))},[]),i=D.useCallback(()=>{t({title:"",weather:"맑음"})},[]);return{diaryState:e,setField:r,resetForm:i,setDiaryState:t}},Vae=n=>en.get(`/api/s3/presigned-url?filename=${n}`),b3=n=>{let e=0;return n.type==="image"&&(e=1),n.content&&(e+=n.content.reduce((t,r)=>t+b3(r),0)),e},Hae=n=>{const[e,t]=D.useState([]),r=D.useCallback(s=>{if(!s||!n)return;if(b3(n.getJSON())>=1){Je.error("일기에는 이미지를 1개만 등록할 수 있습니다.");return}const a=new FileReader;a.onloadend=()=>{const c=a.result;n.chain().focus().setImage({src:c}).run(),t(d=>[...d,{file:s,placeholderSrc:c}])},a.readAsDataURL(s)},[n]),i=D.useCallback(async s=>{let o=s;for(const{file:a,placeholderSrc:c}of e){const d=await Vae(a.name),{presignedUrl:f,fileKey:p}=d.data;await Qe.put(f,a,{headers:{"Content-Type":a.type}});const m=`https://haeil-gallery-images-garamink.s3.ap-northeast-2.amazonaws.com/${p}`,y=b=>{var v;b.type==="image"&&((v=b.attrs)==null?void 0:v.src)===c&&(b.attrs.src=m),b.content&&b.content.forEach(y)};o!=null&&o.content&&o.content.forEach(y)}return t([]),o},[e]);return{pendingImages:e,handleImageUpload:r,uploadPendingImagesToS3:i}},Uae=({initialDiary:n,selectedDate:e,onActionSuccess:t,uploadPendingImagesToS3:r,diaryState:i,editor:s,user:o,onDataChange:a})=>{const[c,d]=D.useState(!1),[f,p]=D.useState(!1),m=D.useCallback(async()=>{var M,k;if(!s||c||!o){o||Je.error("로그인이 필요합니다.");return}d(!0);const w=Je.loading("일기를 저장 중입니다...");try{let E=s.isEmpty?"":s.getJSON();E&&(E=await r(E));const A={...i,content:JSON.stringify(E),diaryDate:e,userId:o.id};if(n!=null&&n.diaryId){const{data:T}=await fte(n.diaryId,A);Je.success("일기가 성공적으로 수정되었습니다.",{id:w}),t&&t(T)}else{const{data:T}=await dte(A);Je.success("일기가 성공적으로 저장되었습니다.",{id:w}),a==null||a(),t&&t(T)}}catch(E){console.error(E),Je.error(((k=(M=E.response)==null?void 0:M.data)==null?void 0:k.message)||"저장에 실패했습니다.",{id:w})}finally{d(!1)}},[s,c,o,r,i,e,n,t]),y=D.useCallback(async()=>{var M,k;if(!(n!=null&&n.diaryId))return;p(!1);const w=Je.loading("일기를 삭제하는 중입니다...");try{await hte(n.diaryId),Je.success("일기가 삭제되었습니다.",{id:w}),t&&t(null)}catch(E){Je.error(((k=(M=E.response)==null?void 0:M.data)==null?void 0:k.message)||"삭제에 실패했습니다.",{id:w})}},[n,t]);return{isSaving:c,handleSave:m,handleDelete:y,isConfirmOpen:f,confirmDelete:()=>p(!0),cancelDelete:()=>p(!1)}},$ae=({selectedDate:n,initialDiary:e})=>{const t=r=>{if(!r)return"";const[i,s,o]=r.split("-");return`${i}년 ${parseInt(s)}월 ${parseInt(o)}일`};return C.jsxs("div",{className:"info-bar",children:[C.jsx("h3",{children:t(n)}),e&&e.diaryId&&C.jsxs("span",{children:[e.diaryId,"번째 일기"]})]})},Yae=({title:n,setTitle:e})=>C.jsx("div",{className:"input-group",children:C.jsx(wo,{type:"text",value:n,onChange:t=>e(t.target.value),placeholder:"제목을 입력하세요",style:{width:"100%",height:"40px",fontSize:"16px",color:"var(--primary-color)"}})}),Wae={맑음:"☀️",흐림:"☁️",비:"🌧️",눈:"❄️",바람:"💨"},qae=({weather:n,setWeather:e})=>C.jsxs("div",{className:"weather-selector-container",children:[C.jsx("span",{className:"weather-emoji",children:Wae[n]}),C.jsxs("select",{id:"weather-select",value:n,onChange:t=>e(t.target.value),className:"weather-select",children:[C.jsx("option",{value:"맑음",children:"맑음"}),C.jsx("option",{value:"흐림",children:"흐림"}),C.jsx("option",{value:"비",children:"비"}),C.jsx("option",{value:"눈",children:"눈"}),C.jsx("option",{value:"바람",children:"바람"})]})]});var v3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XN=$.createContext&&$.createContext(v3),Kae=["attr","size","title"];function Qae(n,e){if(n==null)return{};var t=Gae(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Gae(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function C0(){return C0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},C0.apply(this,arguments)}function JN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function k0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(t),!0).forEach(function(r){Xae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xae(n,e,t){return e=Jae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jae(n){var e=Zae(n,"string");return typeof e=="symbol"?e:e+""}function Zae(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function x3(n){return n&&n.map((e,t)=>$.createElement(e.tag,k0({key:t},e.attr),x3(e.child)))}function is(n){return e=>$.createElement(ele,C0({attr:k0({},n.attr)},e),x3(n.child))}function ele(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=Qae(n,Kae),a=i||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),$.createElement("svg",C0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:c,style:k0(k0({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&$.createElement("title",null,s),n.children)};return XN!==void 0?$.createElement(XN.Consumer,null,t=>e(t)):e(v3)}function tle(n){return is({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(n)}function nle(n){return is({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 358.4V25.6c0-16-9.6-25.6-25.6-25.6H96C41.6 0 0 41.6 0 96v320c0 54.4 41.6 96 96 96h326.4c12.8 0 25.6-9.6 25.6-25.6v-16q0-9.6-9.6-19.2c-3.2-16-3.2-60.8 0-73.6q9.6-4.8 9.6-19.2zM144 168a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8zm236.8 280H96c-19.2 0-32-12.8-32-32s16-32 32-32h284.8z"},child:[]}]})(n)}function w3(n){return is({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function rle(n){return is({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function ile(n){return is({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(n)}function sle(n){return is({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(n)}function ole(n){return is({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.94 74.17l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91zm-246.8-20.53c-15.62-15.62-40.94-15.62-56.56 0L75.8 172.43c-6.25 6.25-6.25 16.38 0 22.62l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l101.82-101.82 22.63 22.62L93.95 290.03A327.038 327.038 0 0 0 .17 485.11l-.03.23c-1.7 15.28 11.21 28.2 26.49 26.51a327.02 327.02 0 0 0 195.34-93.8l196.79-196.79-82.77-82.77-84.85-84.85z"},child:[]}]})(n)}function eC(n){return is({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function E0(n){return is({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(n)}function ale(n){return is({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function lle(n){return is({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const cle=({editor:n,onImageClick:e})=>n?C.jsxs("div",{className:"editor-toolbar",children:[C.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:n.isActive("bold")?"is-active":"",title:"굵게",children:C.jsx(tle,{})}),C.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:n.isActive("italic")?"is-active":"",title:"기울임",children:C.jsx(sle,{})}),C.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:n.isActive("underline")?"is-active":"",title:"밑줄",children:C.jsx(ale,{})}),C.jsx("button",{type:"button",onClick:e,title:"이미지 업로드",children:C.jsx(rle,{})}),C.jsx("input",{type:"color",className:"color-input",onInput:t=>n.chain().focus().setColor(t.target.value).run(),value:n.getAttributes("textStyle").color||"#000000",title:"글자 색"}),C.jsxs("select",{className:"font-select",onChange:t=>n.chain().focus().setFontFamily(t.target.value).run(),value:n.getAttributes("textStyle").fontFamily||"",title:"글꼴",children:[C.jsx("option",{value:"",children:"기본 글꼴"}),C.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),C.jsx("option",{value:"Georgia, serif",children:"Georgia"}),C.jsx("option",{value:"Courier New, monospace",children:"Courier New"}),C.jsx("option",{value:"'Noto Sans KR', sans-serif",children:"Noto Sans KR"})]})]}):null,ule=({editor:n,onImageUpload:e})=>{const t=D.useRef(null),r=()=>{var s;(s=t.current)==null||s.click()},i=s=>{var a;const o=(a=s.target.files)==null?void 0:a[0];o&&e&&e(o),s.target&&(s.target.value=null)};return C.jsxs("div",{className:"editor-container",children:[C.jsx(cle,{editor:n,onImageClick:r}),C.jsx("input",{type:"file",ref:t,onChange:i,accept:"image/*",style:{display:"none"}}),C.jsx(boe,{editor:n,className:"tiptap-editor-content"})]})},S3=({isOpen:n,message:e,onConfirm:t,onClose:r})=>n?C.jsx("div",{className:"modal-overlay",onClick:r,children:C.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[C.jsx("p",{children:e}),C.jsxs("div",{className:"modal-buttons",children:[C.jsx("button",{onClick:r,className:"cancel-button",children:"취소"}),C.jsx("button",{onClick:t,className:"confirm-button",children:"확인"})]})]})}):null,dle=async()=>{var n;try{return(await en.get("/api/question/today")).data}catch(e){throw((n=e.response)==null?void 0:n.status)!==401&&console.error("오늘의 질문 조회 API 호출 실패:",e),e}},M3=D.createContext(),tC=()=>D.useContext(M3),fle=({children:n})=>{const[e,t]=D.useState(""),[r,i]=D.useState(!0),s=D.useCallback(async()=>{i(!0);try{const{questionText:a}=await dle();t(a)}catch(a){t("질문을 불러오는 데 실패했습니다."),console.error(a)}finally{i(!1)}},[]);D.useEffect(()=>{s()},[s]);const o={question:e,isLoading:r,refreshQuestion:s};return C.jsx(M3.Provider,{value:o,children:n})},hle=({question:n})=>{const{isLoading:e,refreshQuestion:t}=tC(),r=i=>{i.stopPropagation(),t()};return n?C.jsx("div",{className:"question-display-container",children:C.jsxs(En,{variant:"button1",className:"custom",children:[C.jsx("span",{className:"question-text-in-diary",children:n}),C.jsx("button",{onClick:r,className:"btn-refresh-in-diary",title:"다른 질문 보기",disabled:e,children:C.jsx(E0,{className:e?"rotating":""})})]})}):null},ple=Nae.extend({inline:!1,group:"block",draggable:!0}),D3=()=>{var V;const{user:n}=Un(),e=Kr(),{question:t}=tC(),{initialDiary:r,selectedDate:i,isLoading:s,onDiaryUpdated:o,setSelectedDiaryId:a,onEmotionUpdated:c,onDataChange:d,setSelectedDate:f}=hL(),p=Toe({extensions:[Aae,ple,Pae.configure({placeholder:"오늘 하루는 어떠셨나요?"}),Lae,jae,Bae,Fae],editorProps:{attributes:{class:"tiptap-editor"}},editable:!1}),{diaryState:m,setField:y}=zae(r),{handleImageUpload:b,uploadPendingImagesToS3:v}=Hae(p),w=q=>{o==null||o(),c==null||c(),d==null||d(),q?(a==null||a(q.diaryId),_("view"),p==null||p.setEditable(!1)):(a==null||a(null),_("empty"))},{isSaving:M,handleSave:k,handleDelete:E,isConfirmOpen:A,confirmDelete:T,cancelDelete:P}=Uae({initialDiary:r,selectedDate:i,onActionSuccess:w,uploadPendingImagesToS3:v,diaryState:m,editor:p,user:n}),[N,_]=D.useState(r?"view":"empty");D.useEffect(()=>{if(!p)return;const q=!!r;let ae="";try{ae=q&&r.content?JSON.parse(r.content):""}catch(de){console.warn("initialDiary.content JSON parse error:",de),ae=""}JSON.stringify(p.getJSON())!==JSON.stringify(ae)&&p.commands.setContent(ae,!1),q&&n?(_("view"),p.setEditable(!0)):(_("empty"),p.setEditable(!1))},[r,p,n]);const L=()=>{e()&&(_("edit"),p&&(p.setEditable(!0),p.commands.focus()))},I=()=>{r?(_("view"),p==null||p.commands.setContent(JSON.parse(r.content)),p==null||p.setEditable(!1)):(_("empty"),p==null||p.commands.clearContent())};return s?C.jsx("div",{className:"diary-write-page placeholder-wrapper",children:C.jsx("p",{className:"placeholder-text",children:"일기를 불러오는 중입니다..."})}):C.jsxs("div",{className:"diary-write-page",children:[C.jsx($ae,{selectedDate:i,initialDiary:r}),C.jsx("div",{className:"diary-meta-container",children:t&&C.jsx(hle,{question:t})}),N==="empty"&&C.jsxs("div",{className:"placeholder-wrapper",children:[C.jsx("p",{className:"placeholder-text",children:"오늘의 감정을 기록해보세요!"}),C.jsx(En,{variant:"button2",onClick:L,style:{width:"130px",fontSize:"16px"},children:"작성하기"})]}),N==="view"&&r&&C.jsxs("div",{className:"diary-view-wrapper",children:[C.jsxs("div",{className:"title-weather-wrapper",children:[C.jsx("h3",{children:r.title}),C.jsxs("span",{children:["🌦 ",r.weather||"날씨 없음"]})]}),C.jsx("div",{className:"diary-content",children:C.jsx("div",{className:"diary-readonly-content",dangerouslySetInnerHTML:{__html:((V=p==null?void 0:p.getHTML)==null?void 0:V.call(p))||""}})}),C.jsxs("div",{className:"button-group",children:[C.jsx(En,{variant:"button2",style:{width:"60px",height:"30px"},onClick:()=>{_("edit"),p==null||p.setEditable(!0)},children:"수정"}),C.jsx(En,{variant:"button2",onClick:T,style:{width:"60px",height:"30px"},children:"삭제"})]})]}),N==="edit"&&C.jsxs("div",{className:"diary-content-wrapper",children:[C.jsxs("div",{className:"title-weather-wrapper",children:[C.jsx(Yae,{title:m.title,setTitle:q=>y("title",q)}),C.jsx(qae,{weather:m.weather,setWeather:q=>y("weather",q)})]}),C.jsx(ule,{editor:p,onImageUpload:b}),C.jsxs("div",{className:"button-group",children:[C.jsx(En,{variant:"button2",onClick:k,disabled:M,style:{width:"60px",height:"30px"},children:M?"저장 중...":(r!=null&&r.diaryId,"저장")}),C.jsx(En,{variant:"button2",onClick:I,disabled:M,style:{width:"60px",height:"30px"},children:"닫기"})]})]}),C.jsx(S3,{isOpen:A,message:"정말 이 일기를 삭제하시겠습니까?",onConfirm:E,onClose:P})]})},mle=()=>{const{date:n}=DM(),e=hL(),[t,r]=D.useState(null),[i,s]=D.useState(!0);return D.useEffect(()=>{const o=/^\d{4}-\d{2}-\d{2}$/.test(n);if(!n||!o){s(!1),r(null);return}(async()=>{var c;s(!0);try{const d=await EB(n);r(d.data||null)}catch(d){((c=d.response)==null?void 0:c.status)!==204&&console.error("날짜 기반 일기 조회 실패",d),r(null)}finally{s(!1)}})()},[n]),i?C.jsx("p",{children:"로딩 중..."}):C.jsx(D3,{initialDiary:t,selectedDate:n,isLoading:i,onDiaryUpdated:e==null?void 0:e.onDiaryUpdated,onEmotionUpdated:e==null?void 0:e.onEmotionUpdated,setSelectedDiaryId:e==null?void 0:e.setSelectedDiaryId},n)},gle=()=>{const{diaryId:n}=DM(),[e,t]=D.useState(null),[r,i]=D.useState(!0);return D.useEffect(()=>{if(!n){i(!1);return}(async()=>{i(!0);try{const o=await pte(n);t(o.data||null)}catch(o){console.error("ID 기반 일기 조회 실패",o),t(null)}finally{i(!1)}})()},[n]),r?C.jsx("p",{children:"로딩 중..."}):C.jsx(D3,{initialDiary:e,selectedDate:e==null?void 0:e.diaryDate},n)},yle=()=>C.jsx("main",{className:"dashboard-container",children:C.jsx(Ap,{})}),ble=async()=>{try{return(await en.get("/api/dashboard/stats")).data}catch(n){return console.error("대시보드 통계 데이터 로딩에 실패했습니다: ",n),{totalDiaryCount:0,journalingCount:0,galleryImageCount:0}}};var rh={},yh={exports:{}},vle=yh.exports,ZN;function xle(){return ZN||(ZN=1,function(n,e){(function(t,r){r(e)})(vle,function(t){var r=function(){return r=Object.assign||function(s){for(var o,a=1,c=arguments.length;a<c;a++)for(var d in o=arguments[a])Object.prototype.hasOwnProperty.call(o,d)&&(s[d]=o[d]);return s},r.apply(this,arguments)},i=function(){function s(o,a,c){var d=this;this.endVal=a,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(f){d.startTime||(d.startTime=f);var p=f-d.startTime;d.remaining=d.duration-p,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(p,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(p,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(p/d.duration);var m=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=m?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),p<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(f){var p,m,y,b,v=f<0?"-":"";p=Math.abs(f).toFixed(d.options.decimalPlaces);var w=(p+="").split(".");if(m=w[0],y=w.length>1?d.options.decimal+w[1]:"",d.options.useGrouping){b="";for(var M=3,k=0,E=0,A=m.length;E<A;++E)d.options.useIndianSeparators&&E===4&&(M=2,k=1),E!==0&&k%M==0&&(b=d.options.separator+b),k++,b=m[A-E-1]+b;m=b}return d.options.numerals&&d.options.numerals.length&&(m=m.replace(/[0-9]/g,function(T){return d.options.numerals[+T]}),y=y.replace(/[0-9]/g,function(T){return d.options.numerals[+T]})),v+d.options.prefix+m+y+d.options.suffix},this.easeOutExpo=function(f,p,m,y){return m*(1-Math.pow(2,-10*f/y))*1024/1023+p},this.options=r(r({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,a=a??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return d.handleScroll(d)}),window.onscroll=function(){window.onScrollFns.forEach(function(f){return f()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(o){if(o&&window&&!o.once){var a=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),d=c.top+window.pageYOffset,f=c.top+c.height+window.pageYOffset;f<a&&f>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>f||d>a)&&!o.paused&&o.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var a=o-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(o){var a;if(this.el){var c=this.formattingFn(o);!((a=this.options.plugin)===null||a===void 0)&&a.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},s.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},s.prototype.validateValue=function(o){var a=Number(o);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(o){var a=function(p){return p.replace(/([.,'  ])/g,"\\$1")},c=a(this.options.separator),d=a(this.options.decimal),f=o.replace(new RegExp(c,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(f)},s}();t.CountUp=i})}(yh,yh.exports)),yh.exports}var e2;function wle(){if(e2)return rh;e2=1,Object.defineProperty(rh,"__esModule",{value:!0});var n=B0(),e=xle();function t(_,L){var I=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(I!=null){var V,q,ae,de,oe=[],F=!0,U=!1;try{if(ae=(I=I.call(_)).next,L!==0)for(;!(F=(V=ae.call(I)).done)&&(oe.push(V.value),oe.length!==L);F=!0);}catch(J){U=!0,q=J}finally{try{if(!F&&I.return!=null&&(de=I.return(),Object(de)!==de))return}finally{if(U)throw q}}return oe}}function r(_,L){var I=Object.keys(_);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(_);L&&(V=V.filter(function(q){return Object.getOwnPropertyDescriptor(_,q).enumerable})),I.push.apply(I,V)}return I}function i(_){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?r(Object(I),!0).forEach(function(V){a(_,V,I[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(I)):r(Object(I)).forEach(function(V){Object.defineProperty(_,V,Object.getOwnPropertyDescriptor(I,V))})}return _}function s(_,L){if(typeof _!="object"||!_)return _;var I=_[Symbol.toPrimitive];if(I!==void 0){var V=I.call(_,L);if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(_)}function o(_){var L=s(_,"string");return typeof L=="symbol"?L:String(L)}function a(_,L,I){return L=o(L),L in _?Object.defineProperty(_,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):_[L]=I,_}function c(){return c=Object.assign?Object.assign.bind():function(_){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var V in I)Object.prototype.hasOwnProperty.call(I,V)&&(_[V]=I[V])}return _},c.apply(this,arguments)}function d(_,L){if(_==null)return{};var I={},V=Object.keys(_),q,ae;for(ae=0;ae<V.length;ae++)q=V[ae],!(L.indexOf(q)>=0)&&(I[q]=_[q]);return I}function f(_,L){if(_==null)return{};var I=d(_,L),V,q;if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(_);for(q=0;q<ae.length;q++)V=ae[q],!(L.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(_,V)&&(I[V]=_[V])}return I}function p(_,L){return m(_)||t(_,L)||y(_,L)||v()}function m(_){if(Array.isArray(_))return _}function y(_,L){if(_){if(typeof _=="string")return b(_,L);var I=Object.prototype.toString.call(_).slice(8,-1);if(I==="Object"&&_.constructor&&(I=_.constructor.name),I==="Map"||I==="Set")return Array.from(_);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return b(_,L)}}function b(_,L){(L==null||L>_.length)&&(L=_.length);for(var I=0,V=new Array(L);I<L;I++)V[I]=_[I];return V}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?n.useLayoutEffect:n.useEffect;function M(_){var L=n.useRef(_);return w(function(){L.current=_}),n.useCallback(function(){for(var I=arguments.length,V=new Array(I),q=0;q<I;q++)V[q]=arguments[q];return L.current.apply(void 0,V)},[])}var k=function(L,I){var V=I.decimal,q=I.decimals,ae=I.duration,de=I.easingFn,oe=I.end,F=I.formattingFn,U=I.numerals,J=I.prefix,ce=I.separator,j=I.start,Z=I.suffix,se=I.useEasing,le=I.useGrouping,he=I.useIndianSeparators,De=I.enableScrollSpy,fe=I.scrollSpyDelay,ft=I.scrollSpyOnce,Te=I.plugin;return new e.CountUp(L,oe,{startVal:j,duration:ae,decimal:V,decimalPlaces:q,easingFn:de,formattingFn:F,numerals:U,separator:ce,prefix:J,suffix:Z,plugin:Te,useEasing:se,useIndianSeparators:he,useGrouping:le,enableScrollSpy:De,scrollSpyDelay:fe,scrollSpyOnce:ft})},E=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],A={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},T=function(L){var I=Object.fromEntries(Object.entries(L).filter(function(ne){var pe=p(ne,2),me=pe[1];return me!==void 0})),V=n.useMemo(function(){return i(i({},A),I)},[L]),q=V.ref,ae=V.startOnMount,de=V.enableReinitialize,oe=V.delay,F=V.onEnd,U=V.onStart,J=V.onPauseResume,ce=V.onReset,j=V.onUpdate,Z=f(V,E),se=n.useRef(),le=n.useRef(),he=n.useRef(!1),De=M(function(){return k(typeof q=="string"?q:q.current,Z)}),fe=M(function(ne){var pe=se.current;if(pe&&!ne)return pe;var me=De();return se.current=me,me}),ft=M(function(){var ne=function(){return fe(!0).start(function(){F==null||F({pauseResume:Te,reset:Ge,start:Kt,update:Ae})})};oe&&oe>0?le.current=setTimeout(ne,oe*1e3):ne(),U==null||U({pauseResume:Te,reset:Ge,update:Ae})}),Te=M(function(){fe().pauseResume(),J==null||J({reset:Ge,start:Kt,update:Ae})}),Ge=M(function(){fe().el&&(le.current&&clearTimeout(le.current),fe().reset(),ce==null||ce({pauseResume:Te,start:Kt,update:Ae}))}),Ae=M(function(ne){fe().update(ne),j==null||j({pauseResume:Te,reset:Ge,start:Kt})}),Kt=M(function(){Ge(),ft()}),we=M(function(ne){ae&&(ne&&Ge(),ft())});return n.useEffect(function(){he.current?de&&we(!0):(he.current=!0,we())},[de,he,we,oe,L.start,L.suffix,L.prefix,L.duration,L.separator,L.decimals,L.decimal,L.formattingFn]),n.useEffect(function(){return function(){Ge()}},[Ge]),{start:Kt,pauseResume:Te,reset:Ge,update:Ae,getCountUp:fe}},P=["className","redraw","containerProps","children","style"],N=function(L){var I=L.className,V=L.redraw,q=L.containerProps,ae=L.children,de=L.style,oe=f(L,P),F=n.useRef(null),U=n.useRef(!1),J=T(i(i({},oe),{},{ref:F,startOnMount:typeof ae!="function"||L.delay===0,enableReinitialize:!1})),ce=J.start,j=J.reset,Z=J.update,se=J.pauseResume,le=J.getCountUp,he=M(function(){ce()}),De=M(function(Te){L.preserveValue||j(),Z(Te)}),fe=M(function(){if(typeof L.children=="function"&&!(F.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}le()});n.useEffect(function(){fe()},[fe]),n.useEffect(function(){U.current&&De(L.end)},[L.end,De]);var ft=V&&L;return n.useEffect(function(){V&&U.current&&he()},[he,V,ft]),n.useEffect(function(){!V&&U.current&&he()},[he,V,L.start,L.suffix,L.prefix,L.duration,L.separator,L.decimals,L.decimal,L.className,L.formattingFn]),n.useEffect(function(){U.current=!0},[]),typeof ae=="function"?ae({countUpRef:F,start:ce,reset:j,update:Z,pauseResume:se,getCountUp:le}):n.createElement("span",c({className:I,ref:F,style:de},q),typeof L.start<"u"?le().formattingFn(L.start):"")};return rh.default=N,rh.useCountUp=T,rh}var Sle=wle();const Mle=Ep(Sle),sw=({icon:n,label:e,value:t,color:r,loading:i,onClick:s})=>{const o=typeof t=="number"&&Number.isFinite(t)?t:0;return C.jsxs("div",{className:`stat-card-container ${s?"clickable":""}`,style:{backgroundColor:r||"#f5f5f5"},onClick:s,children:[C.jsx("div",{className:"stat-card-icon-wrapper",children:n}),C.jsxs("div",{className:"stat-card-content-wrapper",children:[C.jsx("div",{className:"stat-card-label",children:e}),C.jsx("div",{className:"stat-card-value",children:i?"...":C.jsx(Mle,{end:o,duration:1,separator:","})})]})]})},Dle=()=>{const[n,e]=D.useState({totalDiaryCount:0,journalingCount:0,galleryImageCount:0}),[t,r]=D.useState(!0),i=ts(),{user:s,loading:o}=Un(),a=Kr(),c=cr(new Date,"yyyy-MM-dd"),d=f=>{a()&&i(f)};return D.useEffect(()=>{(async()=>{if(!s||o)return;r(!0);const p=await ble();e(p),r(!1)})()},[s,o]),C.jsx("section",{className:"record-status-widget-container",children:C.jsxs("div",{className:"record-status-card-grid",children:[C.jsx(sw,{icon:C.jsx(nle,{}),label:C.jsxs(C.Fragment,{children:["일기",C.jsx("br",{}),"기록수"]}),value:n.totalDiaryCount,color:"#e3f2fd",loading:t,onClick:()=>d(`/diary/date/${c}`)}),C.jsx(sw,{icon:C.jsx(ole,{}),label:C.jsxs(C.Fragment,{children:["저널링",C.jsx("br",{}),"기록수"]}),value:n.journalingCount,color:"#e8f5e9",loading:t,onClick:()=>d("/journal")}),C.jsx(sw,{icon:C.jsx(ile,{}),label:C.jsxs(C.Fragment,{children:["갤러리",C.jsx("br",{}),"사진수"]}),value:n.galleryImageCount,color:"#f3e5f5",loading:t,onClick:()=>d("/gallery")})]})})},Cle=()=>{const{user:n,loading:e}=Un(),t=ts(),{question:r,isLoading:i,refreshQuestion:s}=tC(),o=()=>{if(!r||r.includes("실패"))return;const c=cr(new Date,"yyyy-MM-dd");t(`/diary/date/${c}`)},a=()=>e||i&&!r?C.jsx("div",{className:"status-text",children:"오늘의 질문 : 로딩 중..."}):n?C.jsxs("div",{className:"question-content-wrapper",children:[C.jsxs("p",{className:"question-text",onClick:o,title:"클릭하여 일기 작성하기",children:["오늘의 질문 : ",r]}),C.jsx("button",{onClick:c=>{c.stopPropagation(),s()},className:"btn-refresh",title:"새로운 질문 보기",disabled:i,children:C.jsx(E0,{className:i?"rotating":""})})]}):C.jsx("div",{className:"status-text",children:"오늘의 질문 : 로그인 후 질문에 답변해보세요."});return C.jsx(C.Fragment,{children:a()})},kle=()=>C.jsx("div",{className:"wordcloud-message",children:"표시할 데이터가 없습니다."});var xy={exports:{}};/*!
========
`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:d})=>(d.setSelection(He.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[HS({find:$oe,type:this.type,getAttributes:n=>({language:n[1]})}),HS({find:Yoe,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new _r({key:new ns("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,c=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ie.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),qoe=Li.create({name:"doc",topNode:!0,content:"block+"});function Koe(n={}){return new _r({view(e){return new Qoe(e,n)}})}class Qoe{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(t){let p=e.nodeBefore,m=e.nodeAfter;if(p||m){let y=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(y){let b=y.getBoundingClientRect(),v=p?b.bottom:b.top;p&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*a;r={left:b.left,right:b.right,top:v-w,bottom:v+w}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*o;r={left:p.left-m,right:p.left+m,top:p.top,bottom:p.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let d,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,f=-pageYOffset;else{let p=c.getBoundingClientRect(),m=p.width/c.offsetWidth,y=p.height/c.offsetHeight;d=p.left-c.scrollLeft*m,f=p.top-c.scrollTop*y}this.element.style.left=(r.left-d)/o+"px",this.element.style.top=(r.top-f)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=tF(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Goe=Vn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Koe(this.options)]}});class an extends He{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return an.valid(r)?new an(r):He.near(r)}content(){return ye.empty}eq(e){return e instanceof an&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new an(e.resolve(t.pos))}getBookmark(){return new eC(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Xoe(e)||!Joe(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&an.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let c=e.doc.resolve(i);if(an.valid(c))return c}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ke.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(an.valid(a))return a}return null}}}an.prototype.visible=!1;an.findFrom=an.findGapCursorFrom;He.jsonID("gapcursor",an);class eC{constructor(e){this.pos=e}map(e){return new eC(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return an.valid(t)?new an(t):He.near(t)}}function Xoe(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Joe(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Zoe(){return new _r({props:{decorations:rae,createSelectionBetween(n,e,t){return e.pos==t.pos&&an.valid(t)?new an(t):null},handleClick:tae,handleKeyDown:eae,handleDOMEvents:{beforeinput:nae}}})}const eae=HF({ArrowLeft:Ug("horiz",-1),ArrowRight:Ug("horiz",1),ArrowUp:Ug("vert",-1),ArrowDown:Ug("vert",1)});function Ug(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,c=o.empty;if(o instanceof Ie){if(!s.endOfTextblock(t)||a.depth==0)return!1;c=!1,a=r.doc.resolve(e>0?a.after():a.before())}let d=an.findGapCursorFrom(a,e,c);return d?(i&&i(r.tr.setSelection(new an(d))),!0):!1}}function tae(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!an.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&ke.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new an(r))),!0)}function nae(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof an))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=ue.empty;for(let o=r.length-1;o>=0;o--)i=ue.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new ye(i,0,0));return s.setSelection(Ie.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function rae(n){if(!(n.selection instanceof an))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",xn.create(n.doc,[li.widget(n.selection.head,e,{key:"gapcursor"})])}const iae=Vn.create({name:"gapCursor",addProseMirrorPlugins(){return[Zoe()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=qe(xe(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),sae=Li.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",zn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&c&&o){const p=c.filter(m=>a.includes(m.type.name));d.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),oae=Li.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,zn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>HS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var D0=200,Bn=function(){};Bn.prototype.append=function(e){return e.length?(e=Bn.from(e),!this.length&&e||e.length<D0&&this.leafAppend(e)||this.length<D0&&e.leafPrepend(this)||this.appendInner(e)):this};Bn.prototype.prepend=function(e){return e.length?Bn.from(e).append(this):this};Bn.prototype.appendInner=function(e){return new aae(this,e)};Bn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Bn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Bn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Bn.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Bn.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};Bn.from=function(e){return e instanceof Bn?e:e&&e.length?new m3(e):Bn.empty};var m3=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var c=s;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var c=s-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=D0)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=D0)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Bn);Bn.empty=new m3([]);var aae=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Bn);const lae=500;class qi{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,c,d=[],f=[];return this.items.forEach((p,m)=>{if(!p.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,f.push(p);return}if(i){f.push(new ps(p.map));let y=p.step.map(i.slice(s)),b;y&&o.maybeStep(y).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],d.push(new ps(b,void 0,void 0,d.length+f.length))),s--,b&&i.appendMap(b,s)}else o.maybeStep(p.step);if(p.selection)return a=i?p.selection.map(i.slice(s)):p.selection,c=new qi(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let p=e.steps[f].invert(e.docs[f]),m=new ps(e.mapping.maps[f],p,t),y;(y=c&&c.merge(m))&&(m=y,f?s.pop():a=a.slice(0,a.length-1)),s.push(m),t&&(o++,t=void 0),i||(c=m)}let d=o-r.depth;return d>uae&&(a=cae(a,d),o-=d),new qi(a.append(s),o)}remapping(e,t){let r=new sp;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new qi(this.items.append(e.map(t=>new ps(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},i);let c=t;this.items.forEach(m=>{let y=s.getMirror(--c);if(y==null)return;o=Math.min(o,y);let b=s.maps[y];if(m.step){let v=e.steps[y].invert(e.docs[y]),w=m.selection&&m.selection.map(s.slice(c+1,y));w&&a++,r.push(new ps(b,v,w))}else r.push(new ps(b))},i);let d=[];for(let m=t;m<o;m++)d.push(new ps(s.maps[m]));let f=this.items.slice(0,i).append(d).append(r),p=new qi(f,a);return p.emptyItemCount()>lae&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(t.slice(r)),d=c&&c.getMap();if(r--,d&&t.appendMap(d,r),c){let f=o.selection&&o.selection.map(t.slice(r));f&&s++;let p=new ps(d.invert(),c,f),m,y=i.length-1;(m=i.length&&i[y].merge(p))?i[y]=m:i.push(p)}}else o.map&&r--},this.items.length,0),new qi(Bn.from(i.reverse()),s)}}qi.empty=new qi(Bn.empty,0);function cae(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class ps{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new ps(t.getMap().invert(),t,this.selection)}}}class Sa{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const uae=20;function dae(n,e,t,r){let i=t.getMeta(wc),s;if(i)return i.historyState;t.getMeta(pae)&&(n=new Sa(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(wc))return o.getMeta(wc).redo?new Sa(n.done.addTransform(t,void 0,r,vy(e)),n.undone,qN(t.mapping.maps),n.prevTime,n.prevComposition):new Sa(n.done,n.undone.addTransform(t,void 0,r,vy(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),c=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!fae(t,n.prevRanges)),d=o?rw(n.prevRanges,t.mapping):qN(t.mapping.maps);return new Sa(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,vy(e)),qi.empty,d,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Sa(n.done.rebased(t,s),n.undone.rebased(t,s),rw(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Sa(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),rw(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function fae(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function qN(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function rw(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function hae(n,e,t){let r=vy(e),i=wc.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Sa(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(wc,{redo:t,historyState:c})}let iw=!1,KN=null;function vy(n){let e=n.plugins;if(KN!=e){iw=!1,KN=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){iw=!0;break}}return iw}const wc=new ns("history"),pae=new ns("closeHistory");function mae(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new _r({key:wc,state:{init(){return new Sa(qi.empty,qi.empty,null,0,-1)},apply(e,t,r){return dae(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?y3:r=="historyRedo"?b3:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function g3(n,e){return(t,r)=>{let i=wc.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=hae(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const y3=g3(!1,!0),b3=g3(!0,!0),gae=Vn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>y3(n,e),redo:()=>({state:n,dispatch:e})=>b3(n,e)}},addProseMirrorPlugins(){return[mae(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),yae=Li.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",zn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!uoe(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Rse(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:d}=o.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(Ie.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(ke.create(o.doc,d.pos)):o.setSelection(Ie.create(o.doc,d.pos));else{const p=(c=d.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();p&&(o.insert(f,p),o.setSelection(Ie.create(o.doc,f+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[f3({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),bae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,vae=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,xae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wae=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Sae=Vs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Cd({find:bae,type:this.type}),Cd({find:xae,type:this.type})]},addPasteRules(){return[kd({find:vae,type:this.type}),kd({find:wae,type:this.type})]}}),Mae=Li.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",zn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Dae="listItem",QN="textStyle",GN=/^(\d+)\.\s$/,Cae=Li.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",zn(this.options.HTMLAttributes,t),0]:["ol",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Dae,this.editor.getAttributes(QN)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=fp({find:GN,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=fp({find:GN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(QN)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),kae=Li.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Eae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Tae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Oae=Vs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Cd({find:Eae,type:this.type})]},addPasteRules(){return[kd({find:Tae,type:this.type})]}}),_ae=Li.create({name:"text",group:"inline"}),Aae=Vn.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(Boe.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(Noe.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(zoe.configure(this.options.bulletList)),this.options.code!==!1&&n.push(Uoe.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(Woe.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(qoe.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(Goe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(iae.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(sae.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(oae.configure(this.options.heading)),this.options.history!==!1&&n.push(gae.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(yae.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(Sae.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Mae.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(Cae.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(kae.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(Oae.configure(this.options.strike)),this.options.text!==!1&&n.push(_ae.configure(this.options.text)),n}}),Rae=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Nae=Li.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",zn(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[f3({find:Rae,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),Pae=Vn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new _r({key:new ns("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((o,a)=>{const c=r>=a&&r<=a+o.nodeSize,d=!o.isLeaf&&Rb(o);if((c||!this.options.showOnlyCurrent)&&d){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const p=li.node(a,a+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:c}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),xn.create(n,i)}}})]}}),Lae=Vs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Iae=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),o=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${o};${s}`)})},jae=Vs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Iae(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",zn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),Bae=Vn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Fae=Vn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),zae=n=>{const[e,t]=D.useState({title:"",weather:"맑음"});D.useEffect(()=>{t(n?{title:n.title||"",weather:n.weather||"맑음"}:{title:"",weather:"맑음"})},[n]);const r=D.useCallback((s,o)=>{t(a=>({...a,[s]:o}))},[]),i=D.useCallback(()=>{t({title:"",weather:"맑음"})},[]);return{diaryState:e,setField:r,resetForm:i,setDiaryState:t}},Vae=n=>en.get(`/api/s3/presigned-url?filename=${n}`),v3=n=>{let e=0;return n.type==="image"&&(e=1),n.content&&(e+=n.content.reduce((t,r)=>t+v3(r),0)),e},Hae=n=>{const[e,t]=D.useState([]),r=D.useCallback(s=>{if(!s||!n)return;if(v3(n.getJSON())>=1){Xe.error("일기에는 이미지를 1개만 등록할 수 있습니다.");return}const a=new FileReader;a.onloadend=()=>{const c=a.result;n.chain().focus().setImage({src:c}).run(),t(d=>[...d,{file:s,placeholderSrc:c}])},a.readAsDataURL(s)},[n]),i=D.useCallback(async s=>{let o=s;for(const{file:a,placeholderSrc:c}of e){const d=await Vae(a.name),{presignedUrl:f,fileKey:p}=d.data;await Je.put(f,a,{headers:{"Content-Type":a.type}});const m=`https://haeil-gallery-images-garamink.s3.ap-northeast-2.amazonaws.com/${p}`,y=b=>{var v;b.type==="image"&&((v=b.attrs)==null?void 0:v.src)===c&&(b.attrs.src=m),b.content&&b.content.forEach(y)};o!=null&&o.content&&o.content.forEach(y)}return t([]),o},[e]);return{pendingImages:e,handleImageUpload:r,uploadPendingImagesToS3:i}},Uae=({initialDiary:n,selectedDate:e,onActionSuccess:t,uploadPendingImagesToS3:r,diaryState:i,editor:s,user:o,onDataChange:a})=>{const[c,d]=D.useState(!1),[f,p]=D.useState(!1),m=D.useCallback(async()=>{var M,k;if(!s||c||!o){o||Xe.error("로그인이 필요합니다.");return}d(!0);const w=Xe.loading("일기를 저장 중입니다...");try{let E=s.isEmpty?"":s.getJSON();E&&(E=await r(E));const _={...i,content:JSON.stringify(E),diaryDate:e,userId:o.id};if(n!=null&&n.diaryId){const{data:T}=await fte(n.diaryId,_);Xe.success("일기가 성공적으로 수정되었습니다.",{id:w}),t&&t(T)}else{const{data:T}=await dte(_);Xe.success("일기가 성공적으로 저장되었습니다.",{id:w}),a==null||a(),t&&t(T)}}catch(E){console.error(E),Xe.error(((k=(M=E.response)==null?void 0:M.data)==null?void 0:k.message)||"저장에 실패했습니다.",{id:w})}finally{d(!1)}},[s,c,o,r,i,e,n,t]),y=D.useCallback(async()=>{var M,k;if(!(n!=null&&n.diaryId))return;p(!1);const w=Xe.loading("일기를 삭제하는 중입니다...");try{await hte(n.diaryId),Xe.success("일기가 삭제되었습니다.",{id:w}),t&&t(null)}catch(E){Xe.error(((k=(M=E.response)==null?void 0:M.data)==null?void 0:k.message)||"삭제에 실패했습니다.",{id:w})}},[n,t]);return{isSaving:c,handleSave:m,handleDelete:y,isConfirmOpen:f,confirmDelete:()=>p(!0),cancelDelete:()=>p(!1)}},$ae=({selectedDate:n,initialDiary:e})=>C.jsxs("div",{className:"info-bar",children:[C.jsx("h3",{children:n}),e&&e.diaryId&&C.jsxs("span",{children:["Diary ID: ",e.diaryId]})]}),Yae=({title:n,setTitle:e})=>C.jsx("div",{className:"input-group",children:C.jsx("input",{type:"text",value:n,onChange:t=>e(t.target.value),placeholder:"제목을 입력하세요",className:"title-input"})}),Wae={맑음:"☀️",흐림:"☁️",비:"🌧️",눈:"❄️",바람:"💨"},qae=({weather:n,setWeather:e})=>C.jsxs("div",{className:"weather-selector-container",children:[C.jsx("span",{className:"weather-emoji",children:Wae[n]}),C.jsxs("select",{id:"weather-select",value:n,onChange:t=>e(t.target.value),className:"weather-select",children:[C.jsx("option",{value:"맑음",children:"맑음"}),C.jsx("option",{value:"흐림",children:"흐림"}),C.jsx("option",{value:"비",children:"비"}),C.jsx("option",{value:"눈",children:"눈"}),C.jsx("option",{value:"바람",children:"바람"})]})]});var x3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XN=$.createContext&&$.createContext(x3),Kae=["attr","size","title"];function Qae(n,e){if(n==null)return{};var t=Gae(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Gae(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function C0(){return C0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},C0.apply(this,arguments)}function JN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function k0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(t),!0).forEach(function(r){Xae(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Xae(n,e,t){return e=Jae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jae(n){var e=Zae(n,"string");return typeof e=="symbol"?e:e+""}function Zae(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function w3(n){return n&&n.map((e,t)=>$.createElement(e.tag,k0({key:t},e.attr),w3(e.child)))}function rs(n){return e=>$.createElement(ele,C0({attr:k0({},n.attr)},e),w3(n.child))}function ele(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=Qae(n,Kae),a=i||t.size||"1em",c;return t.className&&(c=t.className),n.className&&(c=(c?c+" ":"")+n.className),$.createElement("svg",C0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:c,style:k0(k0({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&$.createElement("title",null,s),n.children)};return XN!==void 0?$.createElement(XN.Consumer,null,t=>e(t)):e(x3)}function tle(n){return rs({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(n)}function nle(n){return rs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 358.4V25.6c0-16-9.6-25.6-25.6-25.6H96C41.6 0 0 41.6 0 96v320c0 54.4 41.6 96 96 96h326.4c12.8 0 25.6-9.6 25.6-25.6v-16q0-9.6-9.6-19.2c-3.2-16-3.2-60.8 0-73.6q9.6-4.8 9.6-19.2zM144 168a8 8 0 0 1 8-8h56v-56a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v56h56a8 8 0 0 1 8 8v48a8 8 0 0 1-8 8h-56v56a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8v-56h-56a8 8 0 0 1-8-8zm236.8 280H96c-19.2 0-32-12.8-32-32s16-32 32-32h284.8z"},child:[]}]})(n)}function S3(n){return rs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function rle(n){return rs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function ile(n){return rs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(n)}function sle(n){return rs({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(n)}function ole(n){return rs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.94 74.17l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91zm-246.8-20.53c-15.62-15.62-40.94-15.62-56.56 0L75.8 172.43c-6.25 6.25-6.25 16.38 0 22.62l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l101.82-101.82 22.63 22.62L93.95 290.03A327.038 327.038 0 0 0 .17 485.11l-.03.23c-1.7 15.28 11.21 28.2 26.49 26.51a327.02 327.02 0 0 0 195.34-93.8l196.79-196.79-82.77-82.77-84.85-84.85z"},child:[]}]})(n)}function tC(n){return rs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function E0(n){return rs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(n)}function ale(n){return rs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}function lle(n){return rs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const cle=({editor:n,onImageClick:e})=>n?C.jsxs("div",{className:"editor-toolbar",children:[C.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleBold().run(),className:n.isActive("bold")?"is-active":"",title:"굵게",children:C.jsx(tle,{})}),C.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleItalic().run(),className:n.isActive("italic")?"is-active":"",title:"기울임",children:C.jsx(sle,{})}),C.jsx("button",{type:"button",onClick:()=>n.chain().focus().toggleUnderline().run(),className:n.isActive("underline")?"is-active":"",title:"밑줄",children:C.jsx(ale,{})}),C.jsx("button",{type:"button",onClick:e,title:"이미지 업로드",children:C.jsx(rle,{})}),C.jsx("input",{type:"color",className:"color-input",onInput:t=>n.chain().focus().setColor(t.target.value).run(),value:n.getAttributes("textStyle").color||"#000000",title:"글자 색"}),C.jsxs("select",{className:"font-select",onChange:t=>n.chain().focus().setFontFamily(t.target.value).run(),value:n.getAttributes("textStyle").fontFamily||"",title:"글꼴",children:[C.jsx("option",{value:"",children:"기본 글꼴"}),C.jsx("option",{value:"Arial, sans-serif",children:"Arial"}),C.jsx("option",{value:"Georgia, serif",children:"Georgia"}),C.jsx("option",{value:"Courier New, monospace",children:"Courier New"}),C.jsx("option",{value:"'Noto Sans KR', sans-serif",children:"Noto Sans KR"})]})]}):null,ule=({editor:n,onImageUpload:e})=>{const t=D.useRef(null),r=()=>{var s;(s=t.current)==null||s.click()},i=s=>{var a;const o=(a=s.target.files)==null?void 0:a[0];o&&e&&e(o),s.target&&(s.target.value=null)};return C.jsxs("div",{className:"editor-container",children:[C.jsx(cle,{editor:n,onImageClick:r}),C.jsx("input",{type:"file",ref:t,onChange:i,accept:"image/*",style:{display:"none"}}),C.jsx(boe,{editor:n,className:"tiptap-editor-content"})]})},M3=({isOpen:n,message:e,onConfirm:t,onClose:r})=>n?C.jsx("div",{className:"modal-overlay",onClick:r,children:C.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[C.jsx("p",{children:e}),C.jsxs("div",{className:"modal-buttons",children:[C.jsx("button",{onClick:r,className:"cancel-button",children:"취소"}),C.jsx("button",{onClick:t,className:"confirm-button",children:"확인"})]})]})}):null,dle=async()=>{var n;try{return(await en.get("/api/question/today")).data}catch(e){throw((n=e.response)==null?void 0:n.status)!==401&&console.error("오늘의 질문 조회 API 호출 실패:",e),e}},D3=D.createContext(),nC=()=>D.useContext(D3),fle=({children:n})=>{const[e,t]=D.useState(""),[r,i]=D.useState(!0),s=D.useCallback(async()=>{i(!0);try{const{questionText:a}=await dle();t(a)}catch(a){t("질문을 불러오는 데 실패했습니다."),console.error(a)}finally{i(!1)}},[]);D.useEffect(()=>{s()},[s]);const o={question:e,isLoading:r,refreshQuestion:s};return C.jsx(D3.Provider,{value:o,children:n})},hle=({question:n})=>{const{isLoading:e,refreshQuestion:t}=nC(),r=i=>{i.stopPropagation(),t()};return n?C.jsxs("div",{className:"question-display-container",children:[C.jsx("span",{className:"question-label",children:"오늘의 질문"}),C.jsx("p",{className:"question-text-in-diary",children:n}),C.jsx("button",{onClick:r,className:"btn-refresh-in-diary",title:"다른 질문 보기",disabled:e,children:C.jsx(E0,{className:e?"rotating":""})})]}):null};function Cs({children:n,className:e="",variant:t="default",icon:r,onClick:i,...s}){return C.jsxs("button",{className:`button ${t} ${e}`,onClick:i,...s,children:[r&&$.createElement(r,{className:"button-icon"}),n]})}const ple=Nae.extend({inline:!1,group:"block",draggable:!0}),C3=()=>{var V;const{user:n}=Wr(),e=qr(),{question:t}=nC(),{initialDiary:r,selectedDate:i,isLoading:s,onDiaryUpdated:o,setSelectedDiaryId:a,onEmotionUpdated:c,onDataChange:d,setSelectedDate:f}=mL(),p=Toe({extensions:[Aae,ple,Pae.configure({placeholder:"오늘 하루는 어떠셨나요?"}),Lae,jae,Bae,Fae],editorProps:{attributes:{class:"tiptap-editor"}},editable:!1}),{diaryState:m,setField:y}=zae(r),{handleImageUpload:b,uploadPendingImagesToS3:v}=Hae(p),w=q=>{o==null||o(),c==null||c(),d==null||d(),q?(a==null||a(q.diaryId),A("view"),p==null||p.setEditable(!1)):(a==null||a(null),A("empty"))},{isSaving:M,handleSave:k,handleDelete:E,isConfirmOpen:_,confirmDelete:T,cancelDelete:P}=Uae({initialDiary:r,selectedDate:i,onActionSuccess:w,uploadPendingImagesToS3:v,diaryState:m,editor:p,user:n}),[N,A]=D.useState(r?"view":"empty");D.useEffect(()=>{if(!p)return;const q=!!r;let ae="";try{ae=q&&r.content?JSON.parse(r.content):""}catch(de){console.warn("initialDiary.content JSON parse error:",de),ae=""}JSON.stringify(p.getJSON())!==JSON.stringify(ae)&&p.commands.setContent(ae,!1),q&&n?(A("view"),p.setEditable(!0)):(A("empty"),p.setEditable(!1))},[r,p,n]);const L=()=>{e()&&(A("edit"),p&&(p.setEditable(!0),p.commands.focus()))},I=()=>{r?(A("view"),p==null||p.commands.setContent(JSON.parse(r.content)),p==null||p.setEditable(!1)):(A("empty"),p==null||p.commands.clearContent())};return s?C.jsx("div",{className:"diary-write-page placeholder-wrapper",children:C.jsx("p",{className:"placeholder-text",children:"일기를 불러오는 중입니다..."})}):C.jsxs("div",{className:"diary-write-page",children:[C.jsx($ae,{selectedDate:i,initialDiary:r}),C.jsx("div",{className:"diary-meta-container",children:t&&C.jsx(hle,{question:t})}),N==="empty"&&C.jsxs("div",{className:"placeholder-wrapper",children:[C.jsx("p",{className:"placeholder-text",children:"오늘의 감정을 기록해보세요!"}),C.jsx(Cs,{variant:"button2",onClick:L,children:"작성하기"})]}),N==="view"&&r&&C.jsxs("div",{className:"diary-view-wrapper",children:[C.jsxs("div",{className:"title-weather-wrapper",children:[C.jsx("h3",{children:r.title}),C.jsxs("span",{children:["🌦 ",r.weather||"날씨 없음"]})]}),C.jsx("div",{className:"diary-content",children:C.jsx("div",{className:"diary-readonly-content",dangerouslySetInnerHTML:{__html:((V=p==null?void 0:p.getHTML)==null?void 0:V.call(p))||""}})}),C.jsxs("div",{className:"button-group",children:[C.jsx(Cs,{variant:"button2",onClick:()=>{A("edit"),p==null||p.setEditable(!0)},children:"수정"}),C.jsx(Cs,{variant:"button2",onClick:T,children:"삭제"})]})]}),N==="edit"&&C.jsxs("div",{className:"diary-content-wrapper",children:[C.jsxs("div",{className:"title-weather-wrapper",children:[C.jsx(Yae,{title:m.title,setTitle:q=>y("title",q)}),C.jsx(qae,{weather:m.weather,setWeather:q=>y("weather",q)})]}),C.jsx(ule,{editor:p,onImageUpload:b}),C.jsxs("div",{className:"button-group",children:[C.jsx(Cs,{variant:"button2",onClick:k,disabled:M,children:M?"저장 중...":r!=null&&r.diaryId?"수정":"저장"}),C.jsx(Cs,{variant:"button2",onClick:I,disabled:M,children:"닫기"})]})]}),C.jsx(M3,{isOpen:_,message:"정말 이 일기를 삭제하시겠습니까?",onConfirm:E,onClose:P})]})},mle=()=>{const{date:n}=CM(),e=mL(),[t,r]=D.useState(null),[i,s]=D.useState(!0);return D.useEffect(()=>{const o=/^\d{4}-\d{2}-\d{2}$/.test(n);if(!n||!o){s(!1),r(null);return}(async()=>{var c;s(!0);try{const d=await TB(n);r(d.data||null)}catch(d){((c=d.response)==null?void 0:c.status)!==204&&console.error("날짜 기반 일기 조회 실패",d),r(null)}finally{s(!1)}})()},[n]),i?C.jsx("p",{children:"로딩 중..."}):C.jsx(C3,{initialDiary:t,selectedDate:n,isLoading:i,onDiaryUpdated:e==null?void 0:e.onDiaryUpdated,onEmotionUpdated:e==null?void 0:e.onEmotionUpdated,setSelectedDiaryId:e==null?void 0:e.setSelectedDiaryId},n)},gle=()=>{const{diaryId:n}=CM(),[e,t]=D.useState(null),[r,i]=D.useState(!0);return D.useEffect(()=>{if(!n){i(!1);return}(async()=>{i(!0);try{const o=await pte(n);t(o.data||null)}catch(o){console.error("ID 기반 일기 조회 실패",o),t(null)}finally{i(!1)}})()},[n]),r?C.jsx("p",{children:"로딩 중..."}):C.jsx(C3,{initialDiary:e,selectedDate:e==null?void 0:e.diaryDate},n)},yle=()=>C.jsx("main",{className:"dashboard-container",children:C.jsx(_p,{})}),ble=async()=>{try{return(await en.get("/api/dashboard/stats")).data}catch(n){return console.error("대시보드 통계 데이터 로딩에 실패했습니다: ",n),{totalDiaryCount:0,journalingCount:0,galleryImageCount:0}}};var nh={},gh={exports:{}},vle=gh.exports,ZN;function xle(){return ZN||(ZN=1,function(n,e){(function(t,r){r(e)})(vle,function(t){var r=function(){return r=Object.assign||function(s){for(var o,a=1,c=arguments.length;a<c;a++)for(var d in o=arguments[a])Object.prototype.hasOwnProperty.call(o,d)&&(s[d]=o[d]);return s},r.apply(this,arguments)},i=function(){function s(o,a,c){var d=this;this.endVal=a,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(f){d.startTime||(d.startTime=f);var p=f-d.startTime;d.remaining=d.duration-p,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(p,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(p,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(p/d.duration);var m=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=m?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),p<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(f){var p,m,y,b,v=f<0?"-":"";p=Math.abs(f).toFixed(d.options.decimalPlaces);var w=(p+="").split(".");if(m=w[0],y=w.length>1?d.options.decimal+w[1]:"",d.options.useGrouping){b="";for(var M=3,k=0,E=0,_=m.length;E<_;++E)d.options.useIndianSeparators&&E===4&&(M=2,k=1),E!==0&&k%M==0&&(b=d.options.separator+b),k++,b=m[_-E-1]+b;m=b}return d.options.numerals&&d.options.numerals.length&&(m=m.replace(/[0-9]/g,function(T){return d.options.numerals[+T]}),y=y.replace(/[0-9]/g,function(T){return d.options.numerals[+T]})),v+d.options.prefix+m+y+d.options.suffix},this.easeOutExpo=function(f,p,m,y){return m*(1-Math.pow(2,-10*f/y))*1024/1023+p},this.options=r(r({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,a=a??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return d.handleScroll(d)}),window.onscroll=function(){window.onScrollFns.forEach(function(f){return f()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(o){if(o&&window&&!o.once){var a=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),d=c.top+window.pageYOffset,f=c.top+c.height+window.pageYOffset;f<a&&f>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>f||d>a)&&!o.paused&&o.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var a=o-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(o){var a;if(this.el){var c=this.formattingFn(o);!((a=this.options.plugin)===null||a===void 0)&&a.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},s.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},s.prototype.validateValue=function(o){var a=Number(o);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(o){var a=function(p){return p.replace(/([.,'  ])/g,"\\$1")},c=a(this.options.separator),d=a(this.options.decimal),f=o.replace(new RegExp(c,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(f)},s}();t.CountUp=i})}(gh,gh.exports)),gh.exports}var e2;function wle(){if(e2)return nh;e2=1,Object.defineProperty(nh,"__esModule",{value:!0});var n=B0(),e=xle();function t(A,L){var I=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I!=null){var V,q,ae,de,oe=[],F=!0,U=!1;try{if(ae=(I=I.call(A)).next,L!==0)for(;!(F=(V=ae.call(I)).done)&&(oe.push(V.value),oe.length!==L);F=!0);}catch(J){U=!0,q=J}finally{try{if(!F&&I.return!=null&&(de=I.return(),Object(de)!==de))return}finally{if(U)throw q}}return oe}}function r(A,L){var I=Object.keys(A);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(A);L&&(V=V.filter(function(q){return Object.getOwnPropertyDescriptor(A,q).enumerable})),I.push.apply(I,V)}return I}function i(A){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?r(Object(I),!0).forEach(function(V){a(A,V,I[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(I)):r(Object(I)).forEach(function(V){Object.defineProperty(A,V,Object.getOwnPropertyDescriptor(I,V))})}return A}function s(A,L){if(typeof A!="object"||!A)return A;var I=A[Symbol.toPrimitive];if(I!==void 0){var V=I.call(A,L);if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(A)}function o(A){var L=s(A,"string");return typeof L=="symbol"?L:String(L)}function a(A,L,I){return L=o(L),L in A?Object.defineProperty(A,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):A[L]=I,A}function c(){return c=Object.assign?Object.assign.bind():function(A){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var V in I)Object.prototype.hasOwnProperty.call(I,V)&&(A[V]=I[V])}return A},c.apply(this,arguments)}function d(A,L){if(A==null)return{};var I={},V=Object.keys(A),q,ae;for(ae=0;ae<V.length;ae++)q=V[ae],!(L.indexOf(q)>=0)&&(I[q]=A[q]);return I}function f(A,L){if(A==null)return{};var I=d(A,L),V,q;if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(A);for(q=0;q<ae.length;q++)V=ae[q],!(L.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(A,V)&&(I[V]=A[V])}return I}function p(A,L){return m(A)||t(A,L)||y(A,L)||v()}function m(A){if(Array.isArray(A))return A}function y(A,L){if(A){if(typeof A=="string")return b(A,L);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return b(A,L)}}function b(A,L){(L==null||L>A.length)&&(L=A.length);for(var I=0,V=new Array(L);I<L;I++)V[I]=A[I];return V}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?n.useLayoutEffect:n.useEffect;function M(A){var L=n.useRef(A);return w(function(){L.current=A}),n.useCallback(function(){for(var I=arguments.length,V=new Array(I),q=0;q<I;q++)V[q]=arguments[q];return L.current.apply(void 0,V)},[])}var k=function(L,I){var V=I.decimal,q=I.decimals,ae=I.duration,de=I.easingFn,oe=I.end,F=I.formattingFn,U=I.numerals,J=I.prefix,ce=I.separator,j=I.start,Z=I.suffix,se=I.useEasing,le=I.useGrouping,he=I.useIndianSeparators,De=I.enableScrollSpy,fe=I.scrollSpyDelay,ft=I.scrollSpyOnce,Te=I.plugin;return new e.CountUp(L,oe,{startVal:j,duration:ae,decimal:V,decimalPlaces:q,easingFn:de,formattingFn:F,numerals:U,separator:ce,prefix:J,suffix:Z,plugin:Te,useEasing:se,useIndianSeparators:he,useGrouping:le,enableScrollSpy:De,scrollSpyDelay:fe,scrollSpyOnce:ft})},E=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],_={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},T=function(L){var I=Object.fromEntries(Object.entries(L).filter(function(ne){var pe=p(ne,2),me=pe[1];return me!==void 0})),V=n.useMemo(function(){return i(i({},_),I)},[L]),q=V.ref,ae=V.startOnMount,de=V.enableReinitialize,oe=V.delay,F=V.onEnd,U=V.onStart,J=V.onPauseResume,ce=V.onReset,j=V.onUpdate,Z=f(V,E),se=n.useRef(),le=n.useRef(),he=n.useRef(!1),De=M(function(){return k(typeof q=="string"?q:q.current,Z)}),fe=M(function(ne){var pe=se.current;if(pe&&!ne)return pe;var me=De();return se.current=me,me}),ft=M(function(){var ne=function(){return fe(!0).start(function(){F==null||F({pauseResume:Te,reset:Qe,start:Kt,update:Ae})})};oe&&oe>0?le.current=setTimeout(ne,oe*1e3):ne(),U==null||U({pauseResume:Te,reset:Qe,update:Ae})}),Te=M(function(){fe().pauseResume(),J==null||J({reset:Qe,start:Kt,update:Ae})}),Qe=M(function(){fe().el&&(le.current&&clearTimeout(le.current),fe().reset(),ce==null||ce({pauseResume:Te,start:Kt,update:Ae}))}),Ae=M(function(ne){fe().update(ne),j==null||j({pauseResume:Te,reset:Qe,start:Kt})}),Kt=M(function(){Qe(),ft()}),we=M(function(ne){ae&&(ne&&Qe(),ft())});return n.useEffect(function(){he.current?de&&we(!0):(he.current=!0,we())},[de,he,we,oe,L.start,L.suffix,L.prefix,L.duration,L.separator,L.decimals,L.decimal,L.formattingFn]),n.useEffect(function(){return function(){Qe()}},[Qe]),{start:Kt,pauseResume:Te,reset:Qe,update:Ae,getCountUp:fe}},P=["className","redraw","containerProps","children","style"],N=function(L){var I=L.className,V=L.redraw,q=L.containerProps,ae=L.children,de=L.style,oe=f(L,P),F=n.useRef(null),U=n.useRef(!1),J=T(i(i({},oe),{},{ref:F,startOnMount:typeof ae!="function"||L.delay===0,enableReinitialize:!1})),ce=J.start,j=J.reset,Z=J.update,se=J.pauseResume,le=J.getCountUp,he=M(function(){ce()}),De=M(function(Te){L.preserveValue||j(),Z(Te)}),fe=M(function(){if(typeof L.children=="function"&&!(F.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}le()});n.useEffect(function(){fe()},[fe]),n.useEffect(function(){U.current&&De(L.end)},[L.end,De]);var ft=V&&L;return n.useEffect(function(){V&&U.current&&he()},[he,V,ft]),n.useEffect(function(){!V&&U.current&&he()},[he,V,L.start,L.suffix,L.prefix,L.duration,L.separator,L.decimals,L.decimal,L.className,L.formattingFn]),n.useEffect(function(){U.current=!0},[]),typeof ae=="function"?ae({countUpRef:F,start:ce,reset:j,update:Z,pauseResume:se,getCountUp:le}):n.createElement("span",c({className:I,ref:F,style:de},q),typeof L.start<"u"?le().formattingFn(L.start):"")};return nh.default=N,nh.useCountUp=T,nh}var Sle=wle();const Mle=kp(Sle),sw=({icon:n,label:e,value:t,color:r,loading:i,onClick:s})=>{const o=typeof t=="number"&&Number.isFinite(t)?t:0;return C.jsxs("div",{className:`stat-card-container ${s?"clickable":""}`,style:{backgroundColor:r||"#f5f5f5"},onClick:s,children:[C.jsx("div",{className:"stat-card-icon-wrapper",children:n}),C.jsxs("div",{className:"stat-card-content-wrapper",children:[C.jsx("div",{className:"stat-card-label",children:e}),C.jsx("div",{className:"stat-card-value",children:i?"...":C.jsx(Mle,{end:o,duration:1,separator:","})})]})]})},Dle=()=>{const[n,e]=D.useState({totalDiaryCount:0,journalingCount:0,galleryImageCount:0}),[t,r]=D.useState(!0),i=es(),{user:s,loading:o}=Wr(),a=qr(),c=ar(new Date,"yyyy-MM-dd"),d=f=>{a()&&i(f)};return D.useEffect(()=>{(async()=>{if(!s||o)return;r(!0);const p=await ble();e(p),r(!1)})()},[s,o]),C.jsx("section",{className:"record-status-widget-container",children:C.jsxs("div",{className:"record-status-card-grid",children:[C.jsx(sw,{icon:C.jsx(nle,{}),label:C.jsxs(C.Fragment,{children:["일기",C.jsx("br",{}),"기록수"]}),value:n.totalDiaryCount,color:"#e3f2fd",loading:t,onClick:()=>d(`/diary/date/${c}`)}),C.jsx(sw,{icon:C.jsx(ole,{}),label:C.jsxs(C.Fragment,{children:["저널링",C.jsx("br",{}),"기록수"]}),value:n.journalingCount,color:"#e8f5e9",loading:t,onClick:()=>d("/journal")}),C.jsx(sw,{icon:C.jsx(ile,{}),label:C.jsxs(C.Fragment,{children:["갤러리",C.jsx("br",{}),"사진수"]}),value:n.galleryImageCount,color:"#f3e5f5",loading:t,onClick:()=>d("/gallery")})]})})},Cle=()=>{const{user:n,loading:e}=Wr(),t=es(),{question:r,isLoading:i,refreshQuestion:s}=nC(),o=()=>{if(!r||r.includes("실패"))return;const c=ar(new Date,"yyyy-MM-dd");t(`/diary/date/${c}`)},a=()=>e||i&&!r?C.jsx("div",{className:"status-text",children:"오늘의 질문 : 로딩 중..."}):n?C.jsxs("div",{className:"question-content-wrapper",children:[C.jsxs("p",{className:"question-text",onClick:o,title:"클릭하여 일기 작성하기",children:["오늘의 질문 : ",r]}),C.jsx("button",{onClick:c=>{c.stopPropagation(),s()},className:"btn-refresh",title:"새로운 질문 보기",disabled:i,children:C.jsx(E0,{className:i?"rotating":""})})]}):C.jsx("div",{className:"status-text",children:"오늘의 질문 : 로그인 후 질문에 답변해보세요."});return C.jsx(C.Fragment,{children:a()})},kle=()=>C.jsx("div",{className:"wordcloud-message",children:"표시할 데이터가 없습니다."});var xy={exports:{}};/*!
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
 */var Ele=xy.exports,t2;function Tle(){return t2||(t2=1,function(n){window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var r=[void 0],i="zero-timeout-message",s=function(a){var c=r.length;return r.push(a),window.postMessage(i+c.toString(36),"*"),c};return window.addEventListener("message",function(a){if(!(typeof a.data!="string"||a.data.substr(0,i.length)!==i)){a.stopImmediatePropagation();var c=parseInt(a.data.substr(i.length),36);r[c]&&(r[c](),r[c]=void 0)}},!0),window.clearImmediate=function(a){r[a]&&(r[a]=void 0)},s}()||function(r){window.setTimeout(r,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(r){window.clearTimeout(r)}}()),function(e){var t=function(){var d=document.createElement("canvas");if(!d||!d.getContext)return!1;var f=d.getContext("2d");return!(!f||!f.getImageData||!f.fillText||!Array.prototype.some||!Array.prototype.push)}(),r=function(){if(t){for(var d=document.createElement("canvas").getContext("2d"),f=20,p,m;f;){if(d.font=f.toString(10)+"px sans-serif",d.measureText("Ｗ").width===p&&d.measureText("m").width===m)return f+1;p=d.measureText("Ｗ").width,m=d.measureText("m").width,f--}return 0}}(),i=function(c){if(Array.isArray(c)){var d=c.slice();return d.splice(0,2),d}else return[]},s=function(d){for(var f,p,m=d.length;m;)f=Math.floor(Math.random()*m),p=d[--m],d[m]=d[f],d[f]=p;return d},o={},a=function(d,f){if(!t)return;var p=Math.floor(Math.random()*Date.now());Array.isArray(d)||(d=[d]),d.forEach(function(we,ne){if(typeof we=="string"){if(d[ne]=document.getElementById(we),!d[ne])throw new Error("The element id specified is not found.")}else if(!we.tagName&&!we.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var m={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(f)for(var y in f)y in m&&(m[y]=f[y]);if(typeof m.weightFactor!="function"){var b=m.weightFactor;m.weightFactor=function(ne){return ne*b}}if(typeof m.shape!="function")switch(m.shape){case"circle":default:m.shape="circle";break;case"cardioid":m.shape=function(ne){return 1-Math.sin(ne)};break;case"diamond":m.shape=function(ne){var pe=ne%(2*Math.PI/4);return 1/(Math.cos(pe)+Math.sin(pe))};break;case"square":m.shape=function(ne){return Math.min(1/Math.abs(Math.cos(ne)),1/Math.abs(Math.sin(ne)))};break;case"triangle-forward":m.shape=function(ne){var pe=ne%(2*Math.PI/3);return 1/(Math.cos(pe)+Math.sqrt(3)*Math.sin(pe))};break;case"triangle":case"triangle-upright":m.shape=function(ne){var pe=(ne+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(pe)+Math.sqrt(3)*Math.sin(pe))};break;case"pentagon":m.shape=function(ne){var pe=(ne+.955)%(2*Math.PI/5);return 1/(Math.cos(pe)+.726543*Math.sin(pe))};break;case"star":m.shape=function(ne){var pe=(ne+.955)%(2*Math.PI/10);return(ne+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-pe)+3.07768*Math.sin(2*Math.PI/10-pe)):1/(Math.cos(pe)+3.07768*Math.sin(pe))};break}m.gridSize=Math.max(Math.floor(m.gridSize),4);var v=m.gridSize,w=v-m.maskGapWidth,M=Math.abs(m.maxRotation-m.minRotation),k=Math.abs(Math.floor(m.rotationSteps)),E=Math.min(m.maxRotation,m.minRotation),A,T,P,N,_,L,I;function V(we,ne){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(ne-we)+we).toFixed()+"%)"}switch(m.color){case"random-dark":I=function(){return V(10,50)};break;case"random-light":I=function(){return V(50,90)};break;default:typeof m.color=="function"&&(I=m.color);break}var q;typeof m.fontWeight=="function"&&(q=m.fontWeight);var ae=null;typeof m.classes=="function"&&(ae=m.classes);var de=!1,oe=[],F,U=function(ne){var pe=ne.currentTarget,me=pe.getBoundingClientRect(),Pe,Se;ne.touches?(Pe=ne.touches[0].clientX,Se=ne.touches[0].clientY):(Pe=ne.clientX,Se=ne.clientY);var Ye=Pe-me.left,rt=Ye<0?0:Ye,Ze=Se-me.top,Fe=Math.floor(rt*(pe.width/me.width||1)/v),Bt=Math.floor(Ze*(pe.height/me.height||1)/v);return oe[Fe]?oe[Fe][Bt]:null},J=function(ne){var pe=U(ne);if(F!==pe){if(F=pe,!pe){m.hover(void 0,void 0,ne);return}m.hover(pe.item,pe.dimension,ne)}},ce=function(ne){var pe=U(ne);pe&&(m.click(pe.item,pe.dimension,ne),ne.preventDefault())},j=[],Z=function(ne){if(j[ne])return j[ne];var pe=ne*8,me=pe,Pe=[];for(ne===0&&Pe.push([N[0],N[1],0]);me--;){var Se=1;m.shape!=="circle"&&(Se=m.shape(me/pe*2*Math.PI)),Pe.push([N[0]+ne*Se*Math.cos(-me/pe*2*Math.PI),N[1]+ne*Se*Math.sin(-me/pe*2*Math.PI)*m.ellipticity,me/pe*2*Math.PI])}return j[ne]=Pe,Pe},se=function(){return m.abortThreshold>0&&new Date().getTime()-L>m.abortThreshold},le=function(){return m.rotateRatio===0||Math.random()>m.rotateRatio?0:M===0?E:k>0?E+Math.floor(Math.random()*k)*M/(k-1):E+Math.random()*M},he=function(ne,pe,me,Pe){var Se=m.weightFactor(pe);if(Se<=m.minSize)return!1;var Ye=1;Se<r&&(Ye=function(){for(var Pt=2;Pt*Se<r;)Pt+=2;return Pt}());var rt;q?rt=q(ne,pe,Se,Pe):rt=m.fontWeight;var Ze=document.createElement("canvas"),Fe=Ze.getContext("2d",{willReadFrequently:!0});Fe.font=rt+" "+(Se*Ye).toString(10)+"px "+m.fontFamily;var Bt=Fe.measureText(ne).width/Ye,st=Math.max(Se*Ye,Fe.measureText("m").width,Fe.measureText("Ｗ").width)/Ye,Ot=Bt+st*2,Qt=st*3,Rt=Math.ceil(Ot/v),lt=Math.ceil(Qt/v);Ot=Rt*v,Qt=lt*v;var Le=-Bt/2,Be=-st*.4,tn=Math.ceil((Ot*Math.abs(Math.sin(me))+Qt*Math.abs(Math.cos(me)))/v),Nt=Math.ceil((Ot*Math.abs(Math.cos(me))+Qt*Math.abs(Math.sin(me)))/v),Gr=Nt*v,Xr=tn*v;Ze.setAttribute("width",Gr),Ze.setAttribute("height",Xr),Fe.scale(1/Ye,1/Ye),Fe.translate(Gr*Ye/2,Xr*Ye/2),Fe.rotate(-me),Fe.font=rt+" "+(Se*Ye).toString(10)+"px "+m.fontFamily,Fe.fillStyle="#000",Fe.textBaseline="middle",Fe.fillText(ne,Le*Ye,(Be+Se*.5)*Ye);var ji=Fe.getImageData(0,0,Gr,Xr).data;if(se())return!1;for(var Nr=[],vr=Nt,er,Uo,$o,Pr=[tn/2,Nt/2,tn/2,Nt/2];vr--;)for(er=tn;er--;){$o=v;e:for(;$o--;)for(Uo=v;Uo--;)if(ji[((er*v+$o)*Gr+(vr*v+Uo))*4+3]){Nr.push([vr,er]),vr<Pr[3]&&(Pr[3]=vr),vr>Pr[1]&&(Pr[1]=vr),er<Pr[0]&&(Pr[0]=er),er>Pr[2]&&(Pr[2]=er);break e}}return{mu:Ye,occupied:Nr,bounds:Pr,gw:Nt,gh:tn,fillTextOffsetX:Le,fillTextOffsetY:Be,fillTextWidth:Bt,fillTextHeight:st,fontSize:Se}},De=function(ne,pe,me,Pe,Se){for(var Ye=Se.length;Ye--;){var rt=ne+Se[Ye][0],Ze=pe+Se[Ye][1];if(rt>=T||Ze>=P||rt<0||Ze<0){if(!m.drawOutOfBound)return!1;continue}if(!A[rt][Ze])return!1}return!0},fe=function(ne,pe,me,Pe,Se,Ye,rt,Ze,Fe,Bt){var st=me.fontSize,Ot;I?Ot=I(Pe,Se,st,Ye,rt,Bt):Ot=m.color;var Qt;q?Qt=q(Pe,Se,st,Bt):Qt=m.fontWeight;var Rt;ae?Rt=ae(Pe,Se,st,Bt):Rt=m.classes,d.forEach(function(lt){if(lt.getContext){var Le=lt.getContext("2d"),Be=me.mu;Le.save(),Le.scale(1/Be,1/Be),Le.font=Qt+" "+(st*Be).toString(10)+"px "+m.fontFamily,Le.fillStyle=Ot,Le.translate((ne+me.gw/2)*v*Be,(pe+me.gh/2)*v*Be),Ze!==0&&Le.rotate(-Ze),Le.textBaseline="middle",Le.fillText(Pe,me.fillTextOffsetX*Be,(me.fillTextOffsetY+st*.5)*Be),Le.restore()}else{var tn=document.createElement("span"),Nt="";Nt="rotate("+-Ze/Math.PI*180+"deg) ",me.mu!==1&&(Nt+="translateX(-"+me.fillTextWidth/4+"px) scale("+1/me.mu+")");var Gr={position:"absolute",display:"block",font:Qt+" "+st*me.mu+"px "+m.fontFamily,left:(ne+me.gw/2)*v+me.fillTextOffsetX+"px",top:(pe+me.gh/2)*v+me.fillTextOffsetY+"px",width:me.fillTextWidth+"px",height:me.fillTextHeight+"px",lineHeight:st+"px",whiteSpace:"nowrap",transform:Nt,webkitTransform:Nt,msTransform:Nt,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Ot&&(Gr.color=Ot),tn.textContent=Pe;for(var Xr in Gr)tn.style[Xr]=Gr[Xr];if(Fe)for(var ji in Fe)tn.setAttribute(ji,Fe[ji]);Rt&&(tn.className+=Rt),lt.appendChild(tn)}})},ft=function(ne,pe,me,Pe,Se){if(!(ne>=T||pe>=P||ne<0||pe<0)){if(A[ne][pe]=!1,me){var Ye=d[0].getContext("2d");Ye.fillRect(ne*v,pe*v,w,w)}de&&(oe[ne][pe]={item:Se,dimension:Pe})}},Te=function(ne,pe,me,Pe,Se,Ye){var rt=Se.occupied,Ze=m.drawMask,Fe;Ze&&(Fe=d[0].getContext("2d"),Fe.save(),Fe.fillStyle=m.maskColor);var Bt;if(de){var st=Se.bounds;Bt={x:(ne+st[3])*v,y:(pe+st[0])*v,w:(st[1]-st[3]+1)*v,h:(st[2]-st[0]+1)*v}}for(var Ot=rt.length;Ot--;){var Qt=ne+rt[Ot][0],Rt=pe+rt[Ot][1];Qt>=T||Rt>=P||Qt<0||Rt<0||ft(Qt,Rt,Ze,Bt,Ye)}Ze&&Fe.restore()},Ge=function we(ne){var pe,me,Pe;Array.isArray(ne)?(pe=ne[0],me=ne[1]):(pe=ne.word,me=ne.weight,Pe=ne.attributes);var Se=le(),Ye=i(ne),rt=he(pe,me,Se,Ye);if(!rt||se())return!1;if(!m.drawOutOfBound&&!m.shrinkToFit){var Ze=rt.bounds;if(Ze[1]-Ze[3]+1>T||Ze[2]-Ze[0]+1>P)return!1}for(var Fe=_+1,Bt=function(Qt){var Rt=Math.floor(Qt[0]-rt.gw/2),lt=Math.floor(Qt[1]-rt.gh/2),Le=rt.gw,Be=rt.gh;return De(Rt,lt,Le,Be,rt.occupied)?(fe(Rt,lt,rt,pe,me,_-Fe,Qt[2],Se,Pe,Ye),Te(Rt,lt,Le,Be,rt,ne),!0):!1};Fe--;){var st=Z(_-Fe);m.shuffle&&(st=[].concat(st),s(st));var Ot=st.some(Bt);if(Ot)return!0}return m.shrinkToFit?(Array.isArray(ne)?ne[1]=ne[1]*3/4:ne.weight=ne.weight*3/4,we(ne)):!1},Ae=function(ne,pe,me){if(pe)return!d.some(function(Pe){var Se=new CustomEvent(ne,{detail:me||{}});return!Pe.dispatchEvent(Se)},this);d.forEach(function(Pe){var Se=new CustomEvent(ne,{detail:me||{}});Pe.dispatchEvent(Se)},this)},Kt=function(){var ne=d[0];if(ne.getContext)T=Math.ceil(ne.width/v),P=Math.ceil(ne.height/v);else{var pe=ne.getBoundingClientRect();T=Math.ceil(pe.width/v),P=Math.ceil(pe.height/v)}if(Ae("wordcloudstart",!0)){N=m.origin?[m.origin[0]/v,m.origin[1]/v]:[T/2,P/2],_=Math.floor(Math.sqrt(T*T+P*P)),A=[];var me,Pe,Se;if(!ne.getContext||m.clearCanvas)for(d.forEach(function(Le){if(Le.getContext){var Be=Le.getContext("2d");Be.fillStyle=m.backgroundColor,Be.clearRect(0,0,T*(v+1),P*(v+1)),Be.fillRect(0,0,T*(v+1),P*(v+1))}else Le.textContent="",Le.style.backgroundColor=m.backgroundColor,Le.style.position="relative"}),me=T;me--;)for(A[me]=[],Pe=P;Pe--;)A[me][Pe]=!0;else{var Ye=document.createElement("canvas").getContext("2d");Ye.fillStyle=m.backgroundColor,Ye.fillRect(0,0,1,1);var rt=Ye.getImageData(0,0,1,1).data,Ze=ne.getContext("2d").getImageData(0,0,T*v,P*v).data;me=T;for(var Fe,Bt;me--;)for(A[me]=[],Pe=P;Pe--;){Bt=v;e:for(;Bt--;)for(Fe=v;Fe--;)for(Se=4;Se--;)if(Ze[((Pe*v+Bt)*T*v+(me*v+Fe))*4+Se]!==rt[Se]){A[me][Pe]=!1;break e}A[me][Pe]!==!1&&(A[me][Pe]=!0)}Ze=Ye=rt=void 0}if(m.hover||m.click){for(de=!0,me=T+1;me--;)oe[me]=[];m.hover&&ne.addEventListener("mousemove",J),m.click&&(ne.addEventListener("click",ce),ne.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),ne.addEventListener("wordcloudstart",function Le(){ne.removeEventListener("wordcloudstart",Le),ne.removeEventListener("mousemove",J),ne.removeEventListener("click",ce),F=void 0})}Se=0;var st,Ot;m.wait!==0?(st=window.setTimeout,Ot=window.clearTimeout):(st=window.setImmediate,Ot=window.clearImmediate);var Qt=function(Be,tn){d.forEach(function(Nt){Nt.addEventListener(Be,tn)},this)},Rt=function(Be,tn){d.forEach(function(Nt){Nt.removeEventListener(Be,tn)},this)},lt=function Le(){Rt("wordcloudstart",Le),Ot(o[p])};Qt("wordcloudstart",lt),o[p]=st(function Le(){if(Se>=m.list.length){Ot(o[p]),Ae("wordcloudstop",!1),Rt("wordcloudstart",lt),delete o[p];return}L=new Date().getTime();var Be=Ge(m.list[Se]),tn=!Ae("wordclouddrawn",!0,{item:m.list[Se],drawn:Be});if(se()||tn){Ot(o[p]),m.abort(),Ae("wordcloudabort",!1),Ae("wordcloudstop",!1),Rt("wordcloudstart",lt),delete o[p];return}Se++,o[p]=st(Le,m.wait)},m.wait)}};Kt()};a.isSupported=t,a.minFontSize=r,a.stop=function(){if(o)for(var d in o)window.clearImmediate(o[d])},n.exports?n.exports=a:e.WordCloud=a}(Ele)}(xy)),xy.exports}var Ole=Tle();const _le=Ep(Ole),Ale=({words:n,width:e,height:t})=>{const r=D.useRef(null);return D.useEffect(()=>{if(r.current&&n&&n.length>0&&e>0&&t>0){const i=["#65B3B4","#87C6B8","#A8D8B9","#4E9A9B","#B2D5BA"],s=n.map(v=>v[1]),o=Math.max(...s),a=Math.min(...s),c=12,d=Math.min(e/8,t/8,60),f=n.slice().sort((v,w)=>w[1]-v[1]),p=Math.max(Math.ceil(f.length*.2),5),m=f.slice(0,p),y=f.slice(p);for(let v=y.length-1;v>0;v--){const w=Math.floor(Math.random()*(v+1));[y[v],y[w]]=[y[w],y[v]]}[...m,...y];const b={list:f,gridSize:Math.round(15*e/1024),weightFactor:v=>o===a?(c+d)/2:c+(v-a)/(o-a)*(d-c),fontFamily:"Pretendard, Arial, sans-serif",color:(v,w)=>i[Math.floor(Math.random()*i.length)],backgroundColor:"transparent",rotateRatio:.5,rotationSteps:2,ellipticity:1.8,drawOutOfBound:!1,shrinkToFit:!0,shuffle:!1};try{_le(r.current,b)}catch(v){console.error("❌ 워드클라우드 렌더링 오류:",v)}}},[n,e,t]),C.jsx("canvas",{ref:r,width:e,height:t},n.toString())},C3=async()=>{try{return(await en.get("/api/dashboard/wordcloud")).data}catch(n){return n.response?n.response.status===401?[]:(console.error("워드클라우드 데이터 로딩에 실패했습니다: ",n),[]):(console.error("워드클라우드 데이터 로딩 중 알 수 없는 오류: ",n),[])}},Rle=()=>{const n=D.useRef(null),[e,t]=D.useState({width:0,height:0}),[r,i]=D.useState([]),[s,o]=D.useState(!0),[a,c]=D.useState(!1),d=D.useCallback(async()=>{const p=await C3();if(p&&Array.isArray(p)){const m=p.map(y=>[y.text,y.value]);i(m)}else i([])},[]),f=D.useCallback(async()=>{c(!0),await d(),setTimeout(()=>c(!1),500)},[d]);return D.useEffect(()=>{(async()=>{o(!0),await d(),o(!1)})()},[d]),D.useEffect(()=>{if(!s&&n.current){const p=new ResizeObserver(m=>{if(m&&m.length>0){const{width:y,height:b}=m[0].contentRect;y>0&&b>0&&t({width:y,height:b})}});return p.observe(n.current),()=>{p.disconnect()}}},[s]),s?C.jsx("div",{className:"wordcloud-message",children:"로딩 중..."}):!r||r.length===0?C.jsxs("div",{className:"wordcloud-container-with-button",children:[C.jsx("div",{className:"wordcloud-display-area",children:C.jsx(kle,{})}),C.jsx("button",{className:"refresh-button",title:"새로고침",onClick:f,disabled:a,children:C.jsx(E0,{className:a?"spin":""})})]}):C.jsxs("div",{className:"wordcloud-container-with-button",children:[C.jsx("div",{ref:n,className:"wordcloud-display-area",children:e.width>0&&e.height>0&&C.jsx(Ale,{words:r,width:e.width,height:e.height})}),C.jsx("button",{onClick:f,className:"refresh-button",title:"새로고침",disabled:a,children:C.jsx(E0,{className:a?"spin":""})})]})},Nle=({lat:n,lon:e})=>en.get("/api/dashboard/weather",{params:{lat:n,lon:e}}),Ple=n=>{const e=n==null?void 0:n.latitude,t=n==null?void 0:n.longitude;return V0({queryKey:["weather",e,t],queryFn:()=>Nle({lat:e,lon:t}),enabled:!!e&&!!t,staleTime:1e3*60*10})},Lle={Clear:"맑음",Clouds:"구름 많음",Rain:"비",Snow:"눈",Drizzle:"이슬비",Thunderstorm:"천둥번개",Mist:"안개",Smoke:"연기",Haze:"실안개",Dust:"먼지",Fog:"짙은 안개",Sand:"황사",Ash:"화산재",Squall:"돌풍",Tornado:"토네이도"},Ile=()=>{const[n,e]=D.useState(null);D.useEffect(()=>{navigator.geolocation.getCurrentPosition(o=>{e({latitude:o.coords.latitude,longitude:o.coords.longitude})},o=>{console.error("Geolocation error: ",o),e({latitude:37.5665,longitude:126.978})})},[]);const{data:t,isLoading:r,isError:i}=Ple(n);if(r)return C.jsx("div",{className:"weather-loading",children:"날씨 정보 로딩 중..."});if(i)return C.jsx("div",{className:"weather-error",children:"날씨를 가져올 수 없어요."});const s=t==null?void 0:t.data;return C.jsx("div",{className:"weather-container",children:s?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"weather-location",children:s.city}),C.jsxs("div",{className:"weather-content",children:[C.jsx("img",{src:`https://openweathermap.org/img/wn/${s.icon}@2x.png`,alt:s.main,className:"weather-icon"}),C.jsxs("div",{className:"weather-details",children:[C.jsx("p",{className:"weather-main-text",children:Lle[s.main]||s.main}),C.jsxs("p",{className:"weather-temp-current",children:[Math.round(s.temp),"°C"]})]})]})]}):C.jsx("p",{children:"날씨 정보가 없습니다."})})},jle=()=>en.get("/api/dashboard/fortune"),Ble=()=>en.post("/api/dashboard/fortune"),Fle=()=>{var a;const{user:n}=Un(),e=PM(),{data:t,isLoading:r}=V0({queryKey:["fortuneStatus"],queryFn:jle,enabled:!!n}),{mutate:i,isPending:s,data:o}=sH({mutationFn:Ble,onSuccess:()=>{e.invalidateQueries({queryKey:["fortuneStatus"]})},onError:c=>{var d;console.error("포춘쿠키 열기 실패:",c),Je.error(((d=c.response)==null?void 0:d.data)||"이미 확인한 운세입니다.")}});return{status:t==null?void 0:t.data,isStatusLoading:r,openCookie:i,isOpening:s,fortuneMessage:(a=o==null?void 0:o.data)==null?void 0:a.message}},n2="/images/cookie.svg",zle="/images/cracked_cookie.svg",Vle=()=>{const{user:n}=Un(),e=Kr(),{status:t,isStatusLoading:r,openCookie:i,isOpening:s,fortuneMessage:o}=Fle(),[a,c]=D.useState(!1),[d,f]=D.useState(!1);if(D.useEffect(()=>{d||t&&c(!t.canOpen)},[t,d]),!n)return C.jsxs("div",{className:"fortune-cookie-container",children:[C.jsx("div",{className:"cookie-image-container disabled grayscale",title:"로그인이 필요합니다",onClick:e,children:C.jsx("img",{src:n2,alt:"포춘쿠키",className:"cookie-img"})}),C.jsx("div",{className:"fortune-message",children:"로그인하고 확인해보세요!"})]});const p=()=>{!(t!=null&&t.canOpen)||s||a||d||(f(!0),i(null,{onSuccess:()=>{setTimeout(()=>{c(!0),f(!1)},2e3)},onError:()=>{f(!1)}}))},m=o||(t==null?void 0:t.message)||"클릭하여 확인해보세요!";return C.jsxs("div",{className:"fortune-cookie-container",children:[C.jsx("div",{className:`cookie-image-container ${d&&!a?"shaking":""} 
                ${!(t!=null&&t.canOpen)||a?"disabled":""}`,onClick:p,title:t!=null&&t.canOpen?"클릭하여 운세 확인":"오늘은 이미 확인했어요",children:C.jsx("img",{src:a?zle:n2,alt:"포춘쿠키",className:a?"cracked-cookie-img":"cookie-img"})}),C.jsx("div",{className:"fortune-message",children:r&&n?"운세를 불러오는 중...":a?m:"클릭하여 확인해보세요!"})]})},Hle=async(n,e)=>{try{return(await en.get("/api/record/date",{params:{year:n,month:e}})).data}catch(t){return console.error("기록 날짜 데이터를 가져오는 중 오류가 발생했습니다:",t),{}}},Ule=()=>{const[n,e]=D.useState(new Date),[t,r]=D.useState({}),i=new Date;i.setHours(0,0,0,0);const s=Kr(),{user:o}=Un(),a=ts();D.useEffect(()=>{(async()=>{if(o){const b=n.getFullYear(),v=n.getMonth()+1,w=await Hle(b,v);r(w)}else r({})})()},[n,o]);const c=()=>e(new Date(n.getFullYear(),n.getMonth()-1,1)),d=()=>e(new Date(n.getFullYear(),n.getMonth()+1,1)),f=()=>C.jsxs("div",{className:"header",children:[C.jsx("button",{onClick:c,"aria-label":"이전 달로 이동",children:"<"}),C.jsxs("h2",{children:[n.getFullYear(),"년 ",n.getMonth()+1,"월"]}),C.jsx("button",{onClick:d,"aria-label":"다음 달로 이동",children:">"})]}),p=()=>{const y=["월","화","수","목","금","토","일"];return C.jsx("div",{className:"days",children:y.map(b=>C.jsx("div",{className:"day",children:b},b))})},m=()=>{const y=n.getFullYear(),b=n.getMonth(),v=new Date(y,b,1).getDay(),w=v===0?6:v-1,M=new Date(y,b+1,0).getDate(),k=[];for(let E=0;E<w;E++)k.push(C.jsx("div",{className:"cell empty"},`empty-${E}`));for(let E=1;E<=M;E++){const A=t[E],P=new Date(y,b,E)>i,N=`cell ${P?"disabled":""}`,_=`${y}-${String(b+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;k.push(C.jsxs("div",{className:N,onClick:()=>{if(!(P||!A||A==="both")&&s()){const L=A==="diary"?`/diary/date/${_}`:`/journal?date=${_}`;a(L)}},children:[C.jsx("span",{children:E}),C.jsxs("div",{className:"dots",children:[!P&&(A==="diary"||A==="both")&&C.jsx("div",{className:`dot diary ${A==="both"?"clickable":""}`,title:"일기 보기",onClick:L=>{A==="both"&&(L.stopPropagation(),s()&&a(`/diary/date/${_}`))}}),!P&&(A==="journal"||A==="both")&&C.jsx("div",{className:`dot journal ${A==="both"?"clickable":""}`,title:"저널 보기",onClick:L=>{A==="both"&&(L.stopPropagation(),s()&&a(`/journal?date=${_}`))}})]})]},E))}return C.jsx("div",{className:"cells",children:k})};return C.jsxs("div",{className:"calendar",children:[f(),p(),m()]})},r2=[{id:"diary",text:"일기 쓰기"},{id:"sleep",text:"수면 기록하기"},{id:"exercise",text:"운동 기록하기"},{id:"meal",text:"식사 기록하기"},{id:"journaling",text:"저널링 하기"}],$le={diary:"/diary",sleep:"/diary",exercise:"/diary",meal:"/diary",journaling:"/journal"},Yle=async()=>{var n;try{return(await en.get("/api/todolist/today")).data}catch(e){throw((n=e.response)==null?void 0:n.status)!==401&&console.error("오늘의 미션 상태 조회 API 호출 실패:",e),e}},Wle=()=>{const{user:n,loading:e}=Un(),t=ts(),[r,i]=D.useState({}),[s,o]=D.useState(!0),a=D.useMemo(()=>Object.keys(r).length===0?!1:r2.every(f=>r[f.id]===!0),[r]);D.useEffect(()=>{if(e)return;(async()=>{if(n)try{const p=await Yle();i(p)}catch{console.log("미션 데이터 로딩 중 에러 발생")}o(!1)})()},[e,n]);const c=()=>{const f=new Date,p=f.getTime()+f.getTimezoneOffset()*60*1e3,m=9*60*60*1e3;return new Date(p+m).toISOString().slice(0,10)},d=f=>{const p=$le[f];if(p)if(f==="diary"){const m=c();t(`/diary/date/${m}`)}else if(f==="journaling"){const m=c();t(p,{state:{date:m}})}else t(p);else console.warn(`'${f}'에 대한 경로가 지정되지 않았습니다.`)};return e||s?C.jsxs("div",{className:"daily-mission-container",children:[C.jsx("h4",{children:"오늘의 일정"}),C.jsx("div",{children:"로딩 중..."})]}):C.jsxs("div",{className:"daily-mission-container",children:[C.jsx("h4",{className:"title",children:"오늘의 일정"}),n?C.jsxs(C.Fragment,{children:[a&&C.jsx("div",{className:"all-complete-message",children:"오늘의 일정을 모두 완료했습니다!"}),C.jsx("ul",{className:"mission-list",children:r2.map(f=>C.jsxs("li",{className:"mission-item",onClick:()=>d(f.id),children:[C.jsx("div",{className:`status-icon ${r[f.id]?"completed":""}`,children:r[f.id]&&"✓"}),C.jsx("span",{className:`mission-text ${r[f.id]?"completed":""}`,children:f.text})]},f.id))})]}):C.jsx("div",{className:"login-prompt",children:"로그인 후 이용해주세요."})]})},qle=()=>{const{user:n}=Un(),[e,t]=D.useState(!1),[r,i]=D.useState(0),[s,o]=D.useState([]),[a,c]=D.useState(!0);D.useEffect(()=>{if(!n||!n.id){c(!1),o([]);return}(async()=>{c(!0);try{const m=await C3();o(m||[])}catch(m){console.error("DashboardPage에서 초기 워드클라우드 데이터를 가져오는 데 실패했습니다.",m),o([])}finally{c(!1)}})()},[n==null?void 0:n.id]),D.useEffect(()=>{if(r===0)return;(async()=>{t(!0);try{const m=await fetchTestEmotionData();o(m||[])}catch(m){console.error("DashboardPage에서 워드클라우드 데이터를 새로고침하는 데 실패했습니다.",m)}finally{t(!1)}})()},[r]);const d=()=>{e||i(p=>p+1)},f=D.useMemo(()=>!s||s.length===0?[]:s.filter(p=>p.text&&typeof p.value=="number"&&!isNaN(p.value)).map(p=>[p.text,p.value]),[s]);return C.jsxs("div",{className:"dashboard-two-column-layout",children:[C.jsxs("div",{className:"left-column",children:[C.jsx("div",{className:"component-wrapper",children:C.jsx(Dle,{})}),C.jsx("div",{className:"component-wrapper",children:C.jsx(Cle,{})}),C.jsxs("div",{className:"bottom-content-area",children:[C.jsx("div",{className:"component-wrapper mission-wrapper",children:C.jsx(Wle,{})}),C.jsxs("div",{className:"cookie-calendar-column",children:[C.jsx("div",{className:"component-wrapper",children:C.jsx(Vle,{})}),C.jsx("div",{className:"component-wrapper",children:C.jsx(Ule,{})})]})]})]}),C.jsxs("div",{className:"right-column",children:[C.jsx("div",{className:"component-wrapper",children:C.jsx(Ile,{})}),C.jsx("div",{className:"component-wrapper word-cloud-wrapper",children:C.jsx(Rle,{words:f,isLoading:a,isRefreshing:e,onRefresh:d},r)})]})]})},jc=({children:n,active:e,...t})=>{const r=`btn ${e?"active":""}`;return C.jsx("button",{className:r.trim(),...t,children:n})},Nb=n=>{if(!n)return null;const{journalId:e,...t}=n;return{id:e,...t}},Kle=async n=>{var e;try{const t=await en.get("/api/journal",{params:{category:n}});return Array.isArray(t.data)?t.data.map(Nb):(console.warn("API 응답이 배열이 아닙니다:",t.data),[])}catch(t){return console.error("저널 데이터를 불러오는 중 오류가 발생했습니다.",t),((e=t.response)==null?void 0:e.status)===401?(window.location.href="/login",[]):[]}},Qle=async n=>{var e;try{const t=await en.post("/api/journal",n);return Nb(t.data)}catch(t){const r=((e=t.response)==null?void 0:e.data)||t.message||"알 수 없는 오류";throw console.error("저널 생성 중 오류가 발생했습니다.",r),r}},k3=async n=>{try{const e=await en.get(`/api/journal/${n}`);return Nb(e.data)}catch(e){throw console.error(`ID가 ${n}인 저널을 불러오는 중 오류 발생:`,e),e}},Gle=async(n,e)=>{try{const t=await en.put(`/api/journal/${n}`,e);return Nb(t.data)}catch(t){throw console.error(`ID가 ${n}인 저널을 수정하는 중 오류 발생:`,t),t}},Xle=async n=>await en.delete(`/api/journal/${n}`),Jle=({children:n,...e})=>C.jsx("div",{className:"card",...e,children:n}),Zle=({journal:n,onSelect:e,isSelected:t})=>{const{id:r,title:i,content:s,rating:o,journalDate:a}=n,c=()=>{e(r)},d=()=>Array.from({length:5},(p,m)=>C.jsx(eC,{color:m<o?"#f1c40f":"#e0e0e0"},m)),f=`journal-item-wrapper ${t?"active":""}`;return C.jsx("div",{className:f,onClick:c,children:C.jsxs(Jle,{children:[C.jsx("div",{className:"journal-item-header",children:C.jsx("h3",{className:"journal-item-title",children:i})}),C.jsx("div",{className:"journal-item-rating",children:d()}),C.jsx("p",{className:"journal-item-content",children:s}),C.jsx("span",{className:"journal-item-date",children:a?new Date(a).toLocaleDateString():"날짜 미지정"})]})})},ece=({category:n,onItemSelect:e,user:t,selectedJournalId:r,refreshKey:i})=>{const[s,o]=D.useState([]),[a,c]=D.useState(!0),[d,f]=D.useState(null);return D.useEffect(()=>{if(!t){c(!1),o([]);return}c(!0),Kle(n).then(p=>o(p)).catch(()=>f("데이터를 불러오는 데 실패했습니다.")).finally(()=>c(!1))},[n,t,i]),t?a?C.jsx("div",{className:"status-message",children:"로딩 중..."}):d?C.jsx("div",{className:"status-message",children:d}):s.length===0?C.jsx("div",{className:"status-message",children:"작성된 기록이 없습니다."}):C.jsx("div",{className:"journal-list-container",children:s.map(p=>C.jsx(Zle,{journal:p,onSelect:e,isSelected:p.id===r},p.id))}):C.jsx("div",{className:"status-message",children:"로그인 후 이용해주세요."})};function wy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wy=function(e){return typeof e}:wy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(n)}function nC(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tce(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function rC(n,e,t){return e&&tce(n.prototype,e),n}function YS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T0(){return T0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},T0.apply(this,arguments)}function Sy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){YS(n,i,t[i])})}return n}function iC(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&WS(n,e)}function pp(n){return pp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pp(n)}function WS(n,e){return WS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},WS(n,e)}function qi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function sC(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:qi(n)}var ow={display:"inline-block",borderRadius:"50%",border:"5px double white",width:30,height:30},aw={empty:Sy({},ow,{backgroundColor:"#ccc"}),full:Sy({},ow,{backgroundColor:"black"}),placeholder:Sy({},ow,{backgroundColor:"red"})},i2=function(e){if($.isValidElement(e))return e;if(wy(e)==="object"&&e!==null)return $.createElement("span",{style:e});if(Object.prototype.toString.call(e)==="[object String]")return $.createElement("span",{className:e})},nce=function(n){iC(e,n);function e(){return nC(this,e),sC(this,pp(e).apply(this,arguments))}return rC(e,[{key:"render",value:function(){var r,i=this.props,s=i.index,o=i.inactiveIcon,a=i.activeIcon,c=i.percent,d=i.direction,f=i.readonly,p=i.onClick,m=i.onMouseMove,y=i2(o),b=c<100,v=b?{}:{visibility:"hidden"},w=i2(a),M=(r={display:"inline-block",position:"absolute",overflow:"hidden",top:0},YS(r,d==="rtl"?"right":"left",0),YS(r,"width","".concat(c,"%")),r),k={cursor:f?"inherit":"pointer",display:"inline-block",position:"relative"};function E(T){m&&m(s,T)}function A(T){p&&(T.preventDefault(),p(s,T))}return $.createElement("span",{style:k,onClick:A,onMouseMove:E,onTouchMove:E,onTouchEnd:A},$.createElement("span",{style:v},y),$.createElement("span",{style:M},w))}}]),e}($.PureComponent),rce=function(n){iC(e,n);function e(t){var r;return nC(this,e),r=sC(this,pp(e).call(this,t)),r.state={displayValue:r.props.value,interacting:!1},r.onMouseLeave=r.onMouseLeave.bind(qi(qi(r))),r.symbolMouseMove=r.symbolMouseMove.bind(qi(qi(r))),r.symbolClick=r.symbolClick.bind(qi(qi(r))),r}return rC(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){var i=this.props.value!==r.value;this.setState(function(s){return{displayValue:i?r.value:s.displayValue}})}},{key:"componentDidUpdate",value:function(r,i){if(r.value===this.props.value){if(i.interacting&&!this.state.interacting)return this.props.onHover();this.state.interacting&&this.props.onHover(this.state.displayValue)}}},{key:"symbolClick",value:function(r,i){var s=this.calculateDisplayValue(r,i);this.props.onClick(s,i)}},{key:"symbolMouseMove",value:function(r,i){var s=this.calculateDisplayValue(r,i);this.setState({interacting:!this.props.readonly,displayValue:s})}},{key:"onMouseLeave",value:function(){this.setState({displayValue:this.props.value,interacting:!1})}},{key:"calculateDisplayValue",value:function(r,i){var s=this.calculateHoverPercentage(i),o=Math.ceil(s%1*this.props.fractions)/this.props.fractions,a=Math.pow(10,3),c=r+(Math.floor(s)+Math.floor(o*a)/a);return c>0?c>this.props.totalSymbols?this.props.totalSymbols:c:1/this.props.fractions}},{key:"calculateHoverPercentage",value:function(r){var i=r.nativeEvent.type.indexOf("touch")>-1?r.nativeEvent.type.indexOf("touchend")>-1?r.changedTouches[0].clientX:r.touches[0].clientX:r.clientX,s=r.target.getBoundingClientRect(),o=this.props.direction==="rtl"?s.right-i:i-s.left;return o<0?0:o/s.width}},{key:"render",value:function(){var r=this.props,i=r.readonly,s=r.quiet,o=r.totalSymbols,a=r.value,c=r.placeholderValue,d=r.direction,f=r.emptySymbol,p=r.fullSymbol,m=r.placeholderSymbol,y=r.className,b=r.id,v=r.style,w=r.tabIndex,M=this.state,k=M.displayValue,E=M.interacting,A=[],T=[].concat(f),P=[].concat(p),N=[].concat(m),_=c!==0&&a===0&&!E,L;_?L=c:L=s?a:k;for(var I=Math.floor(L),V=0;V<o;V++){var q=void 0;V-I<0?q=100:V-I===0?q=(L-V)*100:q=0,A.push($.createElement(nce,T0({key:V,index:V,readonly:i,inactiveIcon:T[V%T.length],activeIcon:_?N[V%P.length]:P[V%P.length],percent:q,direction:d},!i&&{onClick:this.symbolClick,onMouseMove:this.symbolMouseMove,onTouchMove:this.symbolMouseMove,onTouchEnd:this.symbolClick})))}return $.createElement("span",T0({id:b,style:Sy({},v,{display:"inline-block",direction:d}),className:y,tabIndex:w,"aria-label":this.props["aria-label"]},!i&&{onMouseLeave:this.onMouseLeave}),A)}}]),e}($.PureComponent);function My(){}My._name="react_rating_noop";var E3=function(n){iC(e,n);function e(t){var r;return nC(this,e),r=sC(this,pp(e).call(this,t)),r.state={value:t.initialRating},r.handleClick=r.handleClick.bind(qi(qi(r))),r.handleHover=r.handleHover.bind(qi(qi(r))),r}return rC(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){this.setState({value:r.initialRating})}},{key:"handleClick",value:function(r,i){var s=this,o=this.translateDisplayValueToValue(r);this.props.onClick(o),this.state.value!==o&&this.setState({value:o},function(){return s.props.onChange(s.state.value)})}},{key:"handleHover",value:function(r){var i=r===void 0?r:this.translateDisplayValueToValue(r);this.props.onHover(i)}},{key:"translateDisplayValueToValue",value:function(r){var i=r*this.props.step+this.props.start;return i===this.props.start?i+1/this.props.fractions:i}},{key:"tranlateValueToDisplayValue",value:function(r){return r===void 0?0:(r-this.props.start)/this.props.step}},{key:"render",value:function(){var r=this.props,i=r.step,s=r.emptySymbol,o=r.fullSymbol,a=r.placeholderSymbol,c=r.readonly,d=r.quiet,f=r.fractions,p=r.direction,m=r.start,y=r.stop,b=r.id,v=r.className,w=r.style,M=r.tabIndex;function k(E,A,T){return Math.floor((A-E)/T)}return $.createElement(rce,{id:b,style:w,className:v,tabIndex:M,"aria-label":this.props["aria-label"],totalSymbols:k(m,y,i),value:this.tranlateValueToDisplayValue(this.state.value),placeholderValue:this.tranlateValueToDisplayValue(this.props.placeholderRating),readonly:c,quiet:d,fractions:f,direction:p,emptySymbol:s,fullSymbol:o,placeholderSymbol:a,onClick:this.handleClick,onHover:this.handleHover})}}]),e}($.PureComponent);E3.defaultProps={start:0,stop:5,step:1,readonly:!1,quiet:!1,fractions:1,direction:"ltr",onHover:My,onClick:My,onChange:My,emptySymbol:aw.empty,fullSymbol:aw.full,placeholderSymbol:aw.placeholder};const s2=n=>{let e;const t=new Set,r=(d,f)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=e=n(r,i,a);return a},ice=n=>n?s2(n):s2,sce=n=>n;function oce(n,e=sce){const t=$.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return $.useDebugValue(t),t}const o2=n=>{const e=ice(n),t=r=>oce(e,r);return Object.assign(t,e),t},ace=n=>n?o2(n):o2;function T3(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const qS=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return qS(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return qS(r)(t)}}}},lce=(n,e)=>(t,r,i)=>{let s={storage:T3(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...e},o=!1;const a=new Set,c=new Set;let d=s.storage;if(!d)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...v)},r,i);const f=()=>{const v=s.partialize({...r()});return d.setItem(s.name,{state:v,version:s.version})},p=i.setState;i.setState=(v,w)=>{p(v,w),f()};const m=n((...v)=>{t(...v),f()},r,i);i.getInitialState=()=>m;let y;const b=()=>{var v,w;if(!d)return;o=!1,a.forEach(k=>{var E;return k((E=r())!=null?E:m)});const M=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(v=r())!=null?v:m))||void 0;return qS(d.getItem.bind(d))(s.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==s.version){if(s.migrate){const E=s.migrate(k.state,k.version);return E instanceof Promise?E.then(A=>[!0,A]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var E;const[A,T]=k;if(y=s.merge(T,(E=r())!=null?E:m),t(y,!0),A)return f()}).then(()=>{M==null||M(y,void 0),y=r(),o=!0,c.forEach(k=>k(y))}).catch(k=>{M==null||M(void 0,k)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},s.skipHydration||b(),y||m},cce=lce,O3=ace(cce(n=>({drafts:{},setDraft:(e,t)=>n(r=>({drafts:{...r.drafts,[e]:{...r.drafts[e]||{},...t}}})),clearDraft:e=>n(t=>{const r={...t.drafts};return delete r[e],{drafts:r}}),clearAllDrafts:()=>n({drafts:{}})}),{name:"journal-draft-storage",storage:T3(()=>sessionStorage)})),uce={...rS,options:{...rS.options,weekStartsOn:1}};UI("ko-monday",uce);const dce=[{key:"ALL",name:"all"},{key:"MOVIE",name:"🎬"},{key:"BOOK",name:"📖"},{key:"MUSIC",name:"🎵"},{key:"ETC",name:"etc"}],_3=()=>new Date().toISOString().split("T")[0],a2=()=>({title:"",content:"",category:"MOVIE",rating:2.5,journalDate:_3()}),fce=D.forwardRef(({value:n,onClick:e},t)=>C.jsxs("button",{type:"button",className:"custom-date-button",onClick:e,ref:t,children:[n,C.jsx(w3,{className:"calendar-icon"})]}));fce.displayName="CustomDateButton";const hce=({onSubmit:n,onCancel:e,initialData:t,isSubmitting:r,draftKey:i})=>{const{drafts:s,setDraft:o}=O3(),a=s[i],[c,d]=D.useState(a2());D.useEffect(()=>{if(t){const v=a||t;d({title:v.title||"",content:v.content||"",category:v.category||"MOVIE",rating:v.rating??2.5,journalDate:v.journalDate?new Date(v.journalDate).toISOString().split("T")[0]:_3()})}else d(a||a2())},[t,a,i]);const f=D.useCallback(v=>{d(v),o(i,v)},[i,o]),p=v=>{const{name:w,value:M}=v.target;f({...c,[w]:M})},m=v=>{f({...c,rating:v})},y=v=>{v&&f({...c,journalDate:v.toISOString().split("T")[0]})},b=v=>{if(v.preventDefault(),c.rating===0){Je.error("별점을 0.5점 이상 선택해주세요.");return}n(c)};return C.jsxs("form",{className:"journal-form",onSubmit:b,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"title",children:"제목"}),C.jsx("input",{type:"text",id:"title",name:"title",value:c.title,onChange:p,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"category",children:"카테고리"}),C.jsx("select",{id:"category",name:"category",value:c.category,onChange:p,children:dce.map(v=>C.jsx("option",{value:v.key,children:v.name},v.key))})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"별점"}),C.jsx("div",{className:"rating-group",children:C.jsx(E3,{fractions:2,initialRating:c.rating,onChange:m,emptySymbol:C.jsx(lle,{size:24,color:"e0e0e0"}),fullSymbol:C.jsx(eC,{size:24,color:"f1c40f"})},t?t.id:"new")})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"날짜"}),C.jsxs("div",{className:"datepicker-container",children:[C.jsxs("label",{htmlFor:"journalDatePicker",className:"custom-date-label",children:[C.jsx("span",{children:c.journalDate}),C.jsx(w3,{className:"calendar-icon"})]}),C.jsx(XI,{id:"journalDatePicker",locale:"ko-monday",selected:new Date(c.journalDate),onChange:y,dateFormat:"yyyy-MM-dd",maxDate:new Date,className:"hidden-datepicker",popperPlacement:"bottom",showMonthYearDropdown:!0})]})]}),C.jsxs("div",{className:"form-group content-group",children:[C.jsx("label",{htmlFor:"content",children:"내용"}),C.jsx("textarea",{id:"content",name:"content",value:c.content,onChange:p,required:!0})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx(jc,{type:"button",onClick:e,disabled:r,children:"닫기"}),C.jsx(jc,{type:"submit",active:!0,disabled:r,children:r?"저장 중...":"저장"})]})]})},l2=({journalId:n,onSaveSuccess:e,onCancel:t})=>{const r=!!n,[i,s]=D.useState(null),[o,a]=D.useState(r),[c,d]=D.useState(!1),f=n||"new",{clearDraft:p}=O3();D.useEffect(()=>{r&&(a(!0),k3(n).then(b=>{s(b)}).catch(()=>{Je.error("데이터를 불러오는 데 실패했습니다."),t()}).finally(()=>a(!1)))},[n,r,t]);const m=async b=>{d(!0);const v=r?()=>Gle(n,b):()=>Qle(b);try{const w=await v();e(w),Je.success(`저널이 성공적으로 ${r?"수정":"등록"}되었습니다.`),p(f)}catch{Je.error("저장 중 오류가 발생했습니다.")}finally{d(!1)}},y=D.useCallback(()=>{p(f),t()},[f,p,t]);return o?C.jsx("div",{className:"status-message",children:"수정할 내용을 불러오는 중..."}):C.jsxs("div",{className:"journal-editor-container",children:[C.jsx("h2",{className:"editor-title",children:r?"저널 수정":"새 저널 작성"}),C.jsx(hce,{onSubmit:m,onCancel:y,initialData:i,isSubmitting:c,draftKey:f},f)]})},pce=[{key:"ALL",name:"all"},{key:"MOVIE",name:"🎬"},{key:"BOOK",name:"📖"},{key:"MUSIC",name:"🎵"},{key:"ETC",name:"etc"}],mce=({selectedCategory:n,onSelectCategory:e})=>C.jsx("div",{className:"filter-container",children:pce.map(t=>C.jsx(jc,{active:n===t.key,onClick:()=>e(t.key),children:t.name},t.key))}),gce=({journalId:n,onEdit:e,onDelete:t,initialData:r})=>{const[i,s]=D.useState(null),[o,a]=D.useState(!0),[c,d]=D.useState(null);D.useEffect(()=>{if(n){if(a(!0),d(null),r&&r.id===n){s(r),a(!1);return}(async()=>{try{const m=await k3(n);s(m)}catch(m){d("저널을 불러오는 데 실패했습니다."),console.error(m)}finally{a(!1)}})()}},[n]);const f=(p=0)=>Array.from({length:5},(m,y)=>C.jsx(eC,{color:y<p?"#f1c40f":"#e0e0e0"},y));return o?C.jsx("div",{className:"status-message",children:"로딩 중..."}):c?C.jsx("div",{className:"status-message",children:c}):i?C.jsxs("div",{className:"journal-viewer-container",children:[C.jsxs("div",{className:"viewer-header",children:[C.jsx("h2",{className:"viewer-title",children:i.title}),C.jsx("div",{className:"viewer-rating",children:f(i.rating)}),C.jsx("p",{className:"viewer-date",children:i.journalDate?new Date(i.journalDate).toLocaleDateString():"날짜 미지정"})]}),C.jsx("div",{className:"viewer-content",children:i.content}),C.jsxs("div",{className:"viewer-actions",children:[C.jsx("button",{onClick:e,className:"btn edit-btn",children:"수정"}),C.jsx("button",{onClick:t,className:"btn delete-btn",children:"삭제"})]})]}):C.jsx("div",{className:"status-message",children:"저널을 찾을 수 없습니다."})},oC=D.createContext({});function aC(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const lC=typeof window<"u",A3=lC?D.useLayoutEffect:D.useEffect,Pb=D.createContext(null);function cC(n,e){n.indexOf(e)===-1&&n.push(e)}function uC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Bo=(n,e,t)=>t>e?e:t<n?n:t;let dC=()=>{};const Fo={},R3=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function N3(n){return typeof n=="object"&&n!==null}const P3=n=>/^0[^.\s]+$/u.test(n);function fC(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ri=n=>n,yce=(n,e)=>t=>e(n(t)),Qp=(...n)=>n.reduce(yce),mp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class hC{constructor(){this.subscriptions=[]}add(e){return cC(this.subscriptions,e),()=>uC(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=n=>n*1e3,Ns=n=>n/1e3;function L3(n,e){return e?n*(1e3/e):0}const I3=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,bce=1e-7,vce=12;function xce(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=I3(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>bce&&++a<vce);return o}function Gp(n,e,t,r){if(n===e&&t===r)return Ri;const i=s=>xce(s,0,1,n,t);return s=>s===0||s===1?s:I3(i(s),e,r)}const j3=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,B3=n=>e=>1-n(1-e),F3=Gp(.33,1.53,.69,.99),pC=B3(F3),z3=j3(pC),V3=n=>(n*=2)<1?.5*pC(n):.5*(2-Math.pow(2,-10*(n-1))),mC=n=>1-Math.sin(Math.acos(n)),H3=B3(mC),U3=j3(mC),wce=Gp(.42,0,1,1),Sce=Gp(0,0,.58,1),$3=Gp(.42,0,.58,1),Mce=n=>Array.isArray(n)&&typeof n[0]!="number",Y3=n=>Array.isArray(n)&&typeof n[0]=="number",Dce={linear:Ri,easeIn:wce,easeInOut:$3,easeOut:Sce,circIn:mC,circInOut:U3,circOut:H3,backIn:pC,backInOut:z3,backOut:F3,anticipate:V3},Cce=n=>typeof n=="string",c2=n=>{if(Y3(n)){dC(n.length===4);const[e,t,r,i]=n;return Gp(e,t,r,i)}else if(Cce(n))return Dce[n];return n},Yg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kce(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),n()),f(a)}const d={schedule:(f,p=!1,m=!1)=>{const b=m&&i?t:r;return p&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(c),t.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const Ece=40;function W3(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Yg.reduce((E,A)=>(E[A]=kce(s),E),{}),{setup:a,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:m,render:y,postRender:b}=o,v=()=>{const E=Fo.useManualTiming?i.timestamp:performance.now();t=!1,Fo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,Ece),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),c.process(i),d.process(i),f.process(i),p.process(i),m.process(i),y.process(i),b.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(v))},w=()=>{t=!0,r=!0,i.isProcessing||n(v)};return{schedule:Yg.reduce((E,A)=>{const T=o[A];return E[A]=(P,N=!1,_=!1)=>(t||w(),T.schedule(P,N,_)),E},{}),cancel:E=>{for(let A=0;A<Yg.length;A++)o[Yg[A]].cancel(E)},state:i,steps:o}}const{schedule:qt,cancel:al,state:Gn,steps:lw}=W3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ri,!0);let Dy;function Tce(){Dy=void 0}const Ur={now:()=>(Dy===void 0&&Ur.set(Gn.isProcessing||Fo.useManualTiming?Gn.timestamp:performance.now()),Dy),set:n=>{Dy=n,queueMicrotask(Tce)}},q3=n=>e=>typeof e=="string"&&e.startsWith(n),gC=q3("--"),Oce=q3("var(--"),yC=n=>Oce(n)?_ce.test(n.split("/*")[0].trim()):!1,_ce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yd={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},gp={...Yd,transform:n=>Bo(0,1,n)},Wg={...Yd,default:1},jh=n=>Math.round(n*1e5)/1e5,bC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ace(n){return n==null}const Rce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vC=(n,e)=>t=>!!(typeof t=="string"&&Rce.test(t)&&t.startsWith(n)||e&&!Ace(t)&&Object.prototype.hasOwnProperty.call(t,e)),K3=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(bC);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Nce=n=>Bo(0,255,n),cw={...Yd,transform:n=>Math.round(Nce(n))},Zl={test:vC("rgb","red"),parse:K3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+cw.transform(n)+", "+cw.transform(e)+", "+cw.transform(t)+", "+jh(gp.transform(r))+")"};function Pce(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const KS={test:vC("#"),parse:Pce,transform:Zl.transform},Xp=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),va=Xp("deg"),Ps=Xp("%"),Ne=Xp("px"),Lce=Xp("vh"),Ice=Xp("vw"),u2={...Ps,parse:n=>Ps.parse(n)/100,transform:n=>Ps.transform(n*100)},zu={test:vC("hsl","hue"),parse:K3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ps.transform(jh(e))+", "+Ps.transform(jh(t))+", "+jh(gp.transform(r))+")"},vn={test:n=>Zl.test(n)||KS.test(n)||zu.test(n),parse:n=>Zl.test(n)?Zl.parse(n):zu.test(n)?zu.parse(n):KS.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zl.transform(n):zu.transform(n),getAnimatableNone:n=>{const e=vn.parse(n);return e.alpha=0,vn.transform(e)}},jce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bce(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(bC))==null?void 0:e.length)||0)+(((t=n.match(jce))==null?void 0:t.length)||0)>0}const Q3="number",G3="color",Fce="var",zce="var(",d2="${}",Vce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Vce,c=>(vn.test(c)?(r.color.push(s),i.push(G3),t.push(vn.parse(c))):c.startsWith(zce)?(r.var.push(s),i.push(Fce),t.push(c)):(r.number.push(s),i.push(Q3),t.push(parseFloat(c))),++s,d2)).split(d2);return{values:t,split:a,indexes:r,types:i}}function X3(n){return yp(n).values}function J3(n){const{split:e,types:t}=yp(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===Q3?s+=jh(i[o]):a===G3?s+=vn.transform(i[o]):s+=i[o]}return s}}const Hce=n=>typeof n=="number"?0:vn.test(n)?vn.getAnimatableNone(n):n;function Uce(n){const e=X3(n);return J3(n)(e.map(Hce))}const ll={test:Bce,parse:X3,createTransformer:J3,getAnimatableNone:Uce};function uw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $ce({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;i=uw(c,a,n+1/3),s=uw(c,a,n),o=uw(c,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function O0(n,e){return t=>t>0?e:n}const Jt=(n,e,t)=>n+(e-n)*t,dw=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Yce=[KS,Zl,zu],Wce=n=>Yce.find(e=>e.test(n));function f2(n){const e=Wce(n);if(!e)return!1;let t=e.parse(n);return e===zu&&(t=$ce(t)),t}const h2=(n,e)=>{const t=f2(n),r=f2(e);if(!t||!r)return O0(n,e);const i={...t};return s=>(i.red=dw(t.red,r.red,s),i.green=dw(t.green,r.green,s),i.blue=dw(t.blue,r.blue,s),i.alpha=Jt(t.alpha,r.alpha,s),Zl.transform(i))},QS=new Set(["none","hidden"]);function qce(n,e){return QS.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Kce(n,e){return t=>Jt(n,e,t)}function xC(n){return typeof n=="number"?Kce:typeof n=="string"?yC(n)?O0:vn.test(n)?h2:Xce:Array.isArray(n)?Z3:typeof n=="object"?vn.test(n)?h2:Qce:O0}function Z3(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>xC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function Qce(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=xC(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function Gce(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],a=n.values[o]??0;t[i]=a,r[s]++}return t}const Xce=(n,e)=>{const t=ll.createTransformer(e),r=yp(n),i=yp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?QS.has(n)&&!i.values.length||QS.has(e)&&!r.values.length?qce(n,e):Qp(Z3(Gce(r,i),i.values),t):O0(n,e)};function ez(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jt(n,e,t):xC(n)(n,e)}const Jce=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>qt.update(e,t),stop:()=>al(e),now:()=>Gn.isProcessing?Gn.timestamp:Ur.now()}},tz=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_0=2e4;function wC(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<_0;)e+=t,r=n.next(e);return e>=_0?1/0:e}function Zce(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(wC(r),_0);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ns(i)}}const eue=5;function nz(n,e,t){const r=Math.max(e-eue,0);return L3(t-n(r),e-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fw=.001;function tue({duration:n=on.duration,bounce:e=on.bounce,velocity:t=on.velocity,mass:r=on.mass}){let i,s,o=1-e;o=Bo(on.minDamping,on.maxDamping,o),n=Bo(on.minDuration,on.maxDuration,Ns(n)),o<1?(i=d=>{const f=d*o,p=f*n,m=f-t,y=GS(d,o),b=Math.exp(-p);return fw-m/y*b},s=d=>{const p=d*o*n,m=p*t+t,y=Math.pow(o,2)*Math.pow(d,2)*n,b=Math.exp(-p),v=GS(Math.pow(d,2),o);return(-i(d)+fw>0?-1:1)*((m-y)*b)/v}):(i=d=>{const f=Math.exp(-d*n),p=(d-t)*n+1;return-fw+f*p},s=d=>{const f=Math.exp(-d*n),p=(t-d)*(n*n);return f*p});const a=5/n,c=rue(i,s,a);if(n=Rs(n),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:n};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:n}}}const nue=12;function rue(n,e,t){let r=t;for(let i=1;i<nue;i++)r=r-n(r)/e(r);return r}function GS(n,e){return n*Math.sqrt(1-e*e)}const iue=["duration","bounce"],sue=["stiffness","damping","mass"];function p2(n,e){return e.some(t=>n[t]!==void 0)}function oue(n){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...n};if(!p2(n,sue)&&p2(n,iue))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Bo(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:on.mass,stiffness:i,damping:s}}else{const t=tue(n);e={...e,...t,mass:on.mass},e.isResolvedFromDuration=!0}return e}function A0(n=on.visualDuration,e=on.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:m,isResolvedFromDuration:y}=oue({...t,velocity:-Ns(t.velocity||0)}),b=m||0,v=d/(2*Math.sqrt(c*f)),w=o-s,M=Ns(Math.sqrt(c/f)),k=Math.abs(w)<5;r||(r=k?on.restSpeed.granular:on.restSpeed.default),i||(i=k?on.restDelta.granular:on.restDelta.default);let E;if(v<1){const T=GS(M,v);E=P=>{const N=Math.exp(-v*M*P);return o-N*((b+v*M*w)/T*Math.sin(T*P)+w*Math.cos(T*P))}}else if(v===1)E=T=>o-Math.exp(-M*T)*(w+(b+M*w)*T);else{const T=M*Math.sqrt(v*v-1);E=P=>{const N=Math.exp(-v*M*P),_=Math.min(T*P,300);return o-N*((b+v*M*w)*Math.sinh(_)+T*w*Math.cosh(_))/T}}const A={calculatedDuration:y&&p||null,next:T=>{const P=E(T);if(y)a.done=T>=p;else{let N=T===0?b:0;v<1&&(N=T===0?Rs(b):nz(E,T,P));const _=Math.abs(N)<=r,L=Math.abs(o-P)<=i;a.done=_&&L}return a.value=a.done?o:P,a},toString:()=>{const T=Math.min(wC(A),_0),P=tz(N=>A.next(T*N).value,T,30);return T+"ms "+P},toTransition:()=>{}};return A}A0.applyToOptions=n=>{const e=Zce(n,100,A0);return n.ease=e.ease,n.duration=Rs(e.duration),n.type="keyframes",n};function XS({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const p=n[0],m={done:!1,value:p},y=_=>a!==void 0&&_<a||c!==void 0&&_>c,b=_=>a===void 0?c:c===void 0||Math.abs(a-_)<Math.abs(c-_)?a:c;let v=t*e;const w=p+v,M=o===void 0?w:o(w);M!==w&&(v=M-p);const k=_=>-v*Math.exp(-_/r),E=_=>M+k(_),A=_=>{const L=k(_),I=E(_);m.done=Math.abs(L)<=d,m.value=m.done?M:I};let T,P;const N=_=>{y(m.value)&&(T=_,P=A0({keyframes:[m.value,b(m.value)],velocity:nz(E,_,m.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return N(0),{calculatedDuration:null,next:_=>{let L=!1;return!P&&T===void 0&&(L=!0,A(_),N(_)),T!==void 0&&_>=T?P.next(_-T):(!L&&A(_),m)}}}function aue(n,e,t){const r=[],i=t||Fo.mix||ez,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ri:e;a=Qp(c,a)}r.push(a)}return r}function lue(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(dC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=aue(e,r,i),c=a.length,d=f=>{if(o&&f<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const m=mp(n[p],n[p+1],f);return a[p](m)};return t?f=>d(Bo(n[0],n[s-1],f)):d}function cue(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=mp(0,e,r);n.push(Jt(t,1,i))}}function uue(n){const e=[0];return cue(e,n.length-1),e}function due(n,e){return n.map(t=>t*e)}function fue(n,e){return n.map(()=>e||$3).splice(0,n.length-1)}function Bh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=Mce(r)?r.map(c2):c2(r),s={done:!1,value:e[0]},o=due(t&&t.length===e.length?t:uue(e),n),a=lue(o,e,{ease:Array.isArray(i)?i:fue(e,i)});return{calculatedDuration:n,next:c=>(s.value=a(c),s.done=c>=n,s)}}const hue=n=>n!==null;function SC(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(hue),a=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const pue={decay:XS,inertia:XS,tween:Bh,keyframes:Bh,spring:A0};function rz(n){typeof n.type=="string"&&(n.type=pue[n.type])}class MC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const mue=n=>n/100;class DC extends MC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Ur.now()&&this.tick(Ur.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rz(e);const{type:t=Bh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=t||Bh;c!==Bh&&typeof a[0]!="number"&&(this.mixKeyframes=Qp(mue,ez(a[0],a[1])),a=[0,100]);const d=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=wC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:m,repeatDelay:y,type:b,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,A=r;if(p){const _=Math.min(this.currentTime,i)/a;let L=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(m==="reverse"?(I=1-I,y&&(I-=y/a)):m==="mirror"&&(A=o)),E=Bo(0,1,I)*a}const T=k?{done:!1,value:f[0]}:A.next(E);s&&(T.value=s(T.value));let{done:P}=T;!k&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return N&&b!==XS&&(T.value=SC(f,this.options,w,this.speed)),v&&v(T.value),N&&this.finish(),T}then(e,t){return this.finished.then(e,t)}get duration(){return Ns(this.calculatedDuration)}get time(){return Ns(this.currentTime)}set time(e){var t;e=Rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ur.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ns(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Jce,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ur.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function gue(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ec=n=>n*180/Math.PI,JS=n=>{const e=ec(Math.atan2(n[1],n[0]));return ZS(e)},yue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:JS,rotateZ:JS,skewX:n=>ec(Math.atan(n[1])),skewY:n=>ec(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ZS=n=>(n=n%360,n<0&&(n+=360),n),m2=JS,g2=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),y2=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),bue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g2,scaleY:y2,scale:n=>(g2(n)+y2(n))/2,rotateX:n=>ZS(ec(Math.atan2(n[6],n[5]))),rotateY:n=>ZS(ec(Math.atan2(-n[2],n[0]))),rotateZ:m2,rotate:m2,skewX:n=>ec(Math.atan(n[4])),skewY:n=>ec(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function eM(n){return n.includes("scale")?1:0}function tM(n,e){if(!n||n==="none")return eM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=bue,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yue,i=a}if(!i)return eM(e);const s=r[e],o=i[1].split(",").map(xue);return typeof s=="function"?s(o):o[s]}const vue=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return tM(t,e)};function xue(n){return parseFloat(n.trim())}const Wd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qd=new Set(Wd),b2=n=>n===Yd||n===Ne,wue=new Set(["x","y","z"]),Sue=Wd.filter(n=>!wue.has(n));function Mue(n){const e=[];return Sue.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Sc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>tM(e,"x"),y:(n,{transform:e})=>tM(e,"y")};Sc.translateX=Sc.x;Sc.translateY=Sc.y;const Mc=new Set;let nM=!1,rM=!1,iM=!1;function iz(){if(rM){const n=Array.from(Mc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Mue(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rM=!1,nM=!1,Mc.forEach(n=>n.complete(iM)),Mc.clear()}function sz(){Mc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(rM=!0)})}function Due(){iM=!0,sz(),iz(),iM=!1}class CC{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Mc.add(this),nM||(nM=!0,qt.read(sz),qt.resolveKeyframes(iz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const a=r.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}gue(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mc.delete(this)}cancel(){this.state==="scheduled"&&(Mc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cue=n=>n.startsWith("--");function kue(n,e,t){Cue(e)?n.style.setProperty(e,t):n.style[e]=t}const Eue=fC(()=>window.ScrollTimeline!==void 0),Tue={};function Oue(n,e){const t=fC(n);return()=>Tue[e]??t()}const oz=Oue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,v2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bh([0,.65,.55,1]),circOut:bh([.55,0,1,.45]),backIn:bh([.31,.01,.66,-.59]),backOut:bh([.33,1.53,.69,.99])};function az(n,e){if(n)return typeof n=="function"?oz()?tz(n,e):"ease-out":Y3(n)?bh(n):Array.isArray(n)?n.map(t=>az(t,e)||v2.easeOut):v2[n]}function _ue(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},d=void 0){const f={[e]:t};c&&(f.offset=c);const p=az(a,i);Array.isArray(p)&&(f.easing=p);const m={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),n.animate(f,m)}function lz(n){return typeof n=="function"&&"applyToOptions"in n}function Aue({type:n,...e}){return lz(n)&&oz()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Rue extends MC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,dC(typeof e.type!="string");const d=Aue(e);this.animation=_ue(t,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=SC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):kue(t,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Ns(Number(e))}get time(){return Ns(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Eue()?(this.animation.timeline=e,Ri):t(this)}}const cz={anticipate:V3,backInOut:z3,circInOut:U3};function Nue(n){return n in cz}function Pue(n){typeof n.ease=="string"&&Nue(n.ease)&&(n.ease=cz[n.ease])}const x2=10;class Lue extends Rue{constructor(e){Pue(e),rz(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new DC({...o,autoplay:!1}),c=Rs(this.finishedTime??this.time);t.setWithVelocity(a.sample(c-x2).value,a.sample(c).value,x2),a.stop()}}const w2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ll.test(n)||n==="0")&&!n.startsWith("url("));function Iue(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function jue(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=w2(i,e),a=w2(s,e);return!o||!a?!1:Iue(n)||(t==="spring"||lz(t))&&r}const Bue=new Set(["opacity","clipPath","filter","transform"]),Fue=fC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zue(n){var f;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Fue()&&t&&Bue.has(t)&&(t!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Vue=40;class Hue extends MC{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:d,element:f,...p}){var b;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ur.now();const m={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...p},y=(f==null?void 0:f.KeyframeResolver)||CC;this.keyframeResolver=new y(a,(v,w,M)=>this.onKeyframesResolved(v,w,m,!M),c,d,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Ur.now(),jue(e,s,o,a)||((Fo.instantAnimations||!c)&&(f==null||f(SC(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Vue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},y=!d&&zue(m)?new Lue({...m,element:m.motionValue.owner.current}):new DC(m);y.finished.then(()=>this.notifyFinished()).catch(Ri),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Due()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Uue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $ue(n){const e=Uue.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function uz(n,e,t=1){const[r,i]=$ue(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return R3(o)?parseFloat(o):o}return yC(i)?uz(i,e,t+1):i}function kC(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const dz=new Set(["width","height","top","left","right","bottom",...Wd]),Yue={test:n=>n==="auto",parse:n=>n},fz=n=>e=>e.test(n),hz=[Yd,Ne,Ps,va,Ice,Lce,Yue],S2=n=>hz.find(fz(n));function Wue(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||P3(n):!0}const que=new Set(["brightness","contrast","saturate","opacity"]);function Kue(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(bC)||[];if(!r)return n;const i=t.replace(r,"");let s=que.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const Que=/\b([a-z-]*)\(.*?\)/gu,sM={...ll,getAnimatableNone:n=>{const e=n.match(Que);return e?e.map(Kue).join(" "):n}},M2={...Yd,transform:Math.round},Gue={rotate:va,rotateX:va,rotateY:va,rotateZ:va,scale:Wg,scaleX:Wg,scaleY:Wg,scaleZ:Wg,skew:va,skewX:va,skewY:va,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:gp,originX:u2,originY:u2,originZ:Ne},EC={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...Gue,zIndex:M2,fillOpacity:gp,strokeOpacity:gp,numOctaves:M2},Xue={...EC,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:sM,WebkitFilter:sM},pz=n=>Xue[n];function mz(n,e){let t=pz(n);return t!==sM&&(t=ll),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Jue=new Set(["auto","none","0"]);function Zue(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!Jue.has(s)&&yp(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=mz(t,i)}class ede extends CC{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),yC(d))){const f=uz(d,t.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!dz.has(r)||e.length!==2)return;const[i,s]=e,o=S2(i),a=S2(s);if(o!==a)if(b2(o)&&b2(a))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Sc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Wue(e[i]))&&r.push(i);r.length&&Zue(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Sc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function tde(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const gz=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function yz(n){return N3(n)&&"offsetHeight"in n}const D2=30,nde=n=>!isNaN(parseFloat(n));class rde{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Ur.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new hC);const r=this.events[e].add(t);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,D2);return L3(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Td(n,e){return new rde(n,e)}const{schedule:TC}=W3(queueMicrotask,!1),Hi={x:!1,y:!1};function bz(){return Hi.x||Hi.y}function ide(n){return n==="x"||n==="y"?Hi[n]?null:(Hi[n]=!0,()=>{Hi[n]=!1}):Hi.x||Hi.y?null:(Hi.x=Hi.y=!0,()=>{Hi.x=Hi.y=!1})}function vz(n,e){const t=tde(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function C2(n){return!(n.pointerType==="touch"||bz())}function sde(n,e,t={}){const[r,i,s]=vz(n,t),o=a=>{if(!C2(a))return;const{target:c}=a,d=e(c,a);if(typeof d!="function"||!c)return;const f=p=>{C2(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const xz=(n,e)=>e?n===e?!0:xz(n,e.parentElement):!1,OC=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,ode=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ade(n){return ode.has(n.tagName)||n.tabIndex!==-1}const Cy=new WeakSet;function k2(n){return e=>{e.key==="Enter"&&n(e)}}function hw(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lde=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=k2(()=>{if(Cy.has(t))return;hw(t,"down");const i=k2(()=>{hw(t,"up")}),s=()=>hw(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function E2(n){return OC(n)&&!bz()}function cde(n,e,t={}){const[r,i,s]=vz(n,t),o=a=>{const c=a.currentTarget;if(!E2(a))return;Cy.add(c);const d=e(c,a),f=(y,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),Cy.has(c)&&Cy.delete(c),E2(y)&&typeof d=="function"&&d(y,{success:b})},p=y=>{f(y,c===window||c===document||t.useGlobalTarget||xz(c,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),yz(a)&&(a.addEventListener("focus",d=>lde(d,i)),!ade(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function wz(n){return N3(n)&&"ownerSVGElement"in n}function ude(n){return wz(n)&&n.tagName==="svg"}const gr=n=>!!(n&&n.getVelocity),dde=[...hz,vn,ll],fde=n=>dde.find(fz(n)),_C=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class hde extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=yz(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pde({children:n,isPresent:e,anchorX:t,root:r}){const i=D.useId(),s=D.useRef(null),o=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=D.useContext(_C);return D.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:p,right:m}=o.current;if(e||!s.current||!c||!d)return;const y=t==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const v=r??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
========
 */var Ele=xy.exports,t2;function Tle(){return t2||(t2=1,function(n){window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var r=[void 0],i="zero-timeout-message",s=function(a){var c=r.length;return r.push(a),window.postMessage(i+c.toString(36),"*"),c};return window.addEventListener("message",function(a){if(!(typeof a.data!="string"||a.data.substr(0,i.length)!==i)){a.stopImmediatePropagation();var c=parseInt(a.data.substr(i.length),36);r[c]&&(r[c](),r[c]=void 0)}},!0),window.clearImmediate=function(a){r[a]&&(r[a]=void 0)},s}()||function(r){window.setTimeout(r,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(r){window.clearTimeout(r)}}()),function(e){var t=function(){var d=document.createElement("canvas");if(!d||!d.getContext)return!1;var f=d.getContext("2d");return!(!f||!f.getImageData||!f.fillText||!Array.prototype.some||!Array.prototype.push)}(),r=function(){if(t){for(var d=document.createElement("canvas").getContext("2d"),f=20,p,m;f;){if(d.font=f.toString(10)+"px sans-serif",d.measureText("Ｗ").width===p&&d.measureText("m").width===m)return f+1;p=d.measureText("Ｗ").width,m=d.measureText("m").width,f--}return 0}}(),i=function(c){if(Array.isArray(c)){var d=c.slice();return d.splice(0,2),d}else return[]},s=function(d){for(var f,p,m=d.length;m;)f=Math.floor(Math.random()*m),p=d[--m],d[m]=d[f],d[f]=p;return d},o={},a=function(d,f){if(!t)return;var p=Math.floor(Math.random()*Date.now());Array.isArray(d)||(d=[d]),d.forEach(function(we,ne){if(typeof we=="string"){if(d[ne]=document.getElementById(we),!d[ne])throw new Error("The element id specified is not found.")}else if(!we.tagName&&!we.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var m={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(f)for(var y in f)y in m&&(m[y]=f[y]);if(typeof m.weightFactor!="function"){var b=m.weightFactor;m.weightFactor=function(ne){return ne*b}}if(typeof m.shape!="function")switch(m.shape){case"circle":default:m.shape="circle";break;case"cardioid":m.shape=function(ne){return 1-Math.sin(ne)};break;case"diamond":m.shape=function(ne){var pe=ne%(2*Math.PI/4);return 1/(Math.cos(pe)+Math.sin(pe))};break;case"square":m.shape=function(ne){return Math.min(1/Math.abs(Math.cos(ne)),1/Math.abs(Math.sin(ne)))};break;case"triangle-forward":m.shape=function(ne){var pe=ne%(2*Math.PI/3);return 1/(Math.cos(pe)+Math.sqrt(3)*Math.sin(pe))};break;case"triangle":case"triangle-upright":m.shape=function(ne){var pe=(ne+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(pe)+Math.sqrt(3)*Math.sin(pe))};break;case"pentagon":m.shape=function(ne){var pe=(ne+.955)%(2*Math.PI/5);return 1/(Math.cos(pe)+.726543*Math.sin(pe))};break;case"star":m.shape=function(ne){var pe=(ne+.955)%(2*Math.PI/10);return(ne+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-pe)+3.07768*Math.sin(2*Math.PI/10-pe)):1/(Math.cos(pe)+3.07768*Math.sin(pe))};break}m.gridSize=Math.max(Math.floor(m.gridSize),4);var v=m.gridSize,w=v-m.maskGapWidth,M=Math.abs(m.maxRotation-m.minRotation),k=Math.abs(Math.floor(m.rotationSteps)),E=Math.min(m.maxRotation,m.minRotation),_,T,P,N,A,L,I;function V(we,ne){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(ne-we)+we).toFixed()+"%)"}switch(m.color){case"random-dark":I=function(){return V(10,50)};break;case"random-light":I=function(){return V(50,90)};break;default:typeof m.color=="function"&&(I=m.color);break}var q;typeof m.fontWeight=="function"&&(q=m.fontWeight);var ae=null;typeof m.classes=="function"&&(ae=m.classes);var de=!1,oe=[],F,U=function(ne){var pe=ne.currentTarget,me=pe.getBoundingClientRect(),Pe,Se;ne.touches?(Pe=ne.touches[0].clientX,Se=ne.touches[0].clientY):(Pe=ne.clientX,Se=ne.clientY);var Ye=Pe-me.left,rt=Ye<0?0:Ye,Ze=Se-me.top,Fe=Math.floor(rt*(pe.width/me.width||1)/v),Bt=Math.floor(Ze*(pe.height/me.height||1)/v);return oe[Fe]?oe[Fe][Bt]:null},J=function(ne){var pe=U(ne);if(F!==pe){if(F=pe,!pe){m.hover(void 0,void 0,ne);return}m.hover(pe.item,pe.dimension,ne)}},ce=function(ne){var pe=U(ne);pe&&(m.click(pe.item,pe.dimension,ne),ne.preventDefault())},j=[],Z=function(ne){if(j[ne])return j[ne];var pe=ne*8,me=pe,Pe=[];for(ne===0&&Pe.push([N[0],N[1],0]);me--;){var Se=1;m.shape!=="circle"&&(Se=m.shape(me/pe*2*Math.PI)),Pe.push([N[0]+ne*Se*Math.cos(-me/pe*2*Math.PI),N[1]+ne*Se*Math.sin(-me/pe*2*Math.PI)*m.ellipticity,me/pe*2*Math.PI])}return j[ne]=Pe,Pe},se=function(){return m.abortThreshold>0&&new Date().getTime()-L>m.abortThreshold},le=function(){return m.rotateRatio===0||Math.random()>m.rotateRatio?0:M===0?E:k>0?E+Math.floor(Math.random()*k)*M/(k-1):E+Math.random()*M},he=function(ne,pe,me,Pe){var Se=m.weightFactor(pe);if(Se<=m.minSize)return!1;var Ye=1;Se<r&&(Ye=function(){for(var Pt=2;Pt*Se<r;)Pt+=2;return Pt}());var rt;q?rt=q(ne,pe,Se,Pe):rt=m.fontWeight;var Ze=document.createElement("canvas"),Fe=Ze.getContext("2d",{willReadFrequently:!0});Fe.font=rt+" "+(Se*Ye).toString(10)+"px "+m.fontFamily;var Bt=Fe.measureText(ne).width/Ye,st=Math.max(Se*Ye,Fe.measureText("m").width,Fe.measureText("Ｗ").width)/Ye,Ot=Bt+st*2,Qt=st*3,Rt=Math.ceil(Ot/v),lt=Math.ceil(Qt/v);Ot=Rt*v,Qt=lt*v;var Le=-Bt/2,Be=-st*.4,tn=Math.ceil((Ot*Math.abs(Math.sin(me))+Qt*Math.abs(Math.cos(me)))/v),Nt=Math.ceil((Ot*Math.abs(Math.cos(me))+Qt*Math.abs(Math.sin(me)))/v),Qr=Nt*v,Gr=tn*v;Ze.setAttribute("width",Qr),Ze.setAttribute("height",Gr),Fe.scale(1/Ye,1/Ye),Fe.translate(Qr*Ye/2,Gr*Ye/2),Fe.rotate(-me),Fe.font=rt+" "+(Se*Ye).toString(10)+"px "+m.fontFamily,Fe.fillStyle="#000",Fe.textBaseline="middle",Fe.fillText(ne,Le*Ye,(Be+Se*.5)*Ye);var Ii=Fe.getImageData(0,0,Qr,Gr).data;if(se())return!1;for(var Ar=[],yr=Nt,Jn,Ho,Uo,Rr=[tn/2,Nt/2,tn/2,Nt/2];yr--;)for(Jn=tn;Jn--;){Uo=v;e:for(;Uo--;)for(Ho=v;Ho--;)if(Ii[((Jn*v+Uo)*Qr+(yr*v+Ho))*4+3]){Ar.push([yr,Jn]),yr<Rr[3]&&(Rr[3]=yr),yr>Rr[1]&&(Rr[1]=yr),Jn<Rr[0]&&(Rr[0]=Jn),Jn>Rr[2]&&(Rr[2]=Jn);break e}}return{mu:Ye,occupied:Ar,bounds:Rr,gw:Nt,gh:tn,fillTextOffsetX:Le,fillTextOffsetY:Be,fillTextWidth:Bt,fillTextHeight:st,fontSize:Se}},De=function(ne,pe,me,Pe,Se){for(var Ye=Se.length;Ye--;){var rt=ne+Se[Ye][0],Ze=pe+Se[Ye][1];if(rt>=T||Ze>=P||rt<0||Ze<0){if(!m.drawOutOfBound)return!1;continue}if(!_[rt][Ze])return!1}return!0},fe=function(ne,pe,me,Pe,Se,Ye,rt,Ze,Fe,Bt){var st=me.fontSize,Ot;I?Ot=I(Pe,Se,st,Ye,rt,Bt):Ot=m.color;var Qt;q?Qt=q(Pe,Se,st,Bt):Qt=m.fontWeight;var Rt;ae?Rt=ae(Pe,Se,st,Bt):Rt=m.classes,d.forEach(function(lt){if(lt.getContext){var Le=lt.getContext("2d"),Be=me.mu;Le.save(),Le.scale(1/Be,1/Be),Le.font=Qt+" "+(st*Be).toString(10)+"px "+m.fontFamily,Le.fillStyle=Ot,Le.translate((ne+me.gw/2)*v*Be,(pe+me.gh/2)*v*Be),Ze!==0&&Le.rotate(-Ze),Le.textBaseline="middle",Le.fillText(Pe,me.fillTextOffsetX*Be,(me.fillTextOffsetY+st*.5)*Be),Le.restore()}else{var tn=document.createElement("span"),Nt="";Nt="rotate("+-Ze/Math.PI*180+"deg) ",me.mu!==1&&(Nt+="translateX(-"+me.fillTextWidth/4+"px) scale("+1/me.mu+")");var Qr={position:"absolute",display:"block",font:Qt+" "+st*me.mu+"px "+m.fontFamily,left:(ne+me.gw/2)*v+me.fillTextOffsetX+"px",top:(pe+me.gh/2)*v+me.fillTextOffsetY+"px",width:me.fillTextWidth+"px",height:me.fillTextHeight+"px",lineHeight:st+"px",whiteSpace:"nowrap",transform:Nt,webkitTransform:Nt,msTransform:Nt,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Ot&&(Qr.color=Ot),tn.textContent=Pe;for(var Gr in Qr)tn.style[Gr]=Qr[Gr];if(Fe)for(var Ii in Fe)tn.setAttribute(Ii,Fe[Ii]);Rt&&(tn.className+=Rt),lt.appendChild(tn)}})},ft=function(ne,pe,me,Pe,Se){if(!(ne>=T||pe>=P||ne<0||pe<0)){if(_[ne][pe]=!1,me){var Ye=d[0].getContext("2d");Ye.fillRect(ne*v,pe*v,w,w)}de&&(oe[ne][pe]={item:Se,dimension:Pe})}},Te=function(ne,pe,me,Pe,Se,Ye){var rt=Se.occupied,Ze=m.drawMask,Fe;Ze&&(Fe=d[0].getContext("2d"),Fe.save(),Fe.fillStyle=m.maskColor);var Bt;if(de){var st=Se.bounds;Bt={x:(ne+st[3])*v,y:(pe+st[0])*v,w:(st[1]-st[3]+1)*v,h:(st[2]-st[0]+1)*v}}for(var Ot=rt.length;Ot--;){var Qt=ne+rt[Ot][0],Rt=pe+rt[Ot][1];Qt>=T||Rt>=P||Qt<0||Rt<0||ft(Qt,Rt,Ze,Bt,Ye)}Ze&&Fe.restore()},Qe=function we(ne){var pe,me,Pe;Array.isArray(ne)?(pe=ne[0],me=ne[1]):(pe=ne.word,me=ne.weight,Pe=ne.attributes);var Se=le(),Ye=i(ne),rt=he(pe,me,Se,Ye);if(!rt||se())return!1;if(!m.drawOutOfBound&&!m.shrinkToFit){var Ze=rt.bounds;if(Ze[1]-Ze[3]+1>T||Ze[2]-Ze[0]+1>P)return!1}for(var Fe=A+1,Bt=function(Qt){var Rt=Math.floor(Qt[0]-rt.gw/2),lt=Math.floor(Qt[1]-rt.gh/2),Le=rt.gw,Be=rt.gh;return De(Rt,lt,Le,Be,rt.occupied)?(fe(Rt,lt,rt,pe,me,A-Fe,Qt[2],Se,Pe,Ye),Te(Rt,lt,Le,Be,rt,ne),!0):!1};Fe--;){var st=Z(A-Fe);m.shuffle&&(st=[].concat(st),s(st));var Ot=st.some(Bt);if(Ot)return!0}return m.shrinkToFit?(Array.isArray(ne)?ne[1]=ne[1]*3/4:ne.weight=ne.weight*3/4,we(ne)):!1},Ae=function(ne,pe,me){if(pe)return!d.some(function(Pe){var Se=new CustomEvent(ne,{detail:me||{}});return!Pe.dispatchEvent(Se)},this);d.forEach(function(Pe){var Se=new CustomEvent(ne,{detail:me||{}});Pe.dispatchEvent(Se)},this)},Kt=function(){var ne=d[0];if(ne.getContext)T=Math.ceil(ne.width/v),P=Math.ceil(ne.height/v);else{var pe=ne.getBoundingClientRect();T=Math.ceil(pe.width/v),P=Math.ceil(pe.height/v)}if(Ae("wordcloudstart",!0)){N=m.origin?[m.origin[0]/v,m.origin[1]/v]:[T/2,P/2],A=Math.floor(Math.sqrt(T*T+P*P)),_=[];var me,Pe,Se;if(!ne.getContext||m.clearCanvas)for(d.forEach(function(Le){if(Le.getContext){var Be=Le.getContext("2d");Be.fillStyle=m.backgroundColor,Be.clearRect(0,0,T*(v+1),P*(v+1)),Be.fillRect(0,0,T*(v+1),P*(v+1))}else Le.textContent="",Le.style.backgroundColor=m.backgroundColor,Le.style.position="relative"}),me=T;me--;)for(_[me]=[],Pe=P;Pe--;)_[me][Pe]=!0;else{var Ye=document.createElement("canvas").getContext("2d");Ye.fillStyle=m.backgroundColor,Ye.fillRect(0,0,1,1);var rt=Ye.getImageData(0,0,1,1).data,Ze=ne.getContext("2d").getImageData(0,0,T*v,P*v).data;me=T;for(var Fe,Bt;me--;)for(_[me]=[],Pe=P;Pe--;){Bt=v;e:for(;Bt--;)for(Fe=v;Fe--;)for(Se=4;Se--;)if(Ze[((Pe*v+Bt)*T*v+(me*v+Fe))*4+Se]!==rt[Se]){_[me][Pe]=!1;break e}_[me][Pe]!==!1&&(_[me][Pe]=!0)}Ze=Ye=rt=void 0}if(m.hover||m.click){for(de=!0,me=T+1;me--;)oe[me]=[];m.hover&&ne.addEventListener("mousemove",J),m.click&&(ne.addEventListener("click",ce),ne.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),ne.addEventListener("wordcloudstart",function Le(){ne.removeEventListener("wordcloudstart",Le),ne.removeEventListener("mousemove",J),ne.removeEventListener("click",ce),F=void 0})}Se=0;var st,Ot;m.wait!==0?(st=window.setTimeout,Ot=window.clearTimeout):(st=window.setImmediate,Ot=window.clearImmediate);var Qt=function(Be,tn){d.forEach(function(Nt){Nt.addEventListener(Be,tn)},this)},Rt=function(Be,tn){d.forEach(function(Nt){Nt.removeEventListener(Be,tn)},this)},lt=function Le(){Rt("wordcloudstart",Le),Ot(o[p])};Qt("wordcloudstart",lt),o[p]=st(function Le(){if(Se>=m.list.length){Ot(o[p]),Ae("wordcloudstop",!1),Rt("wordcloudstart",lt),delete o[p];return}L=new Date().getTime();var Be=Qe(m.list[Se]),tn=!Ae("wordclouddrawn",!0,{item:m.list[Se],drawn:Be});if(se()||tn){Ot(o[p]),m.abort(),Ae("wordcloudabort",!1),Ae("wordcloudstop",!1),Rt("wordcloudstart",lt),delete o[p];return}Se++,o[p]=st(Le,m.wait)},m.wait)}};Kt()};a.isSupported=t,a.minFontSize=r,a.stop=function(){if(o)for(var d in o)window.clearImmediate(o[d])},n.exports?n.exports=a:e.WordCloud=a}(Ele)}(xy)),xy.exports}var Ole=Tle();const _le=kp(Ole),Ale=({words:n,width:e,height:t})=>{const r=D.useRef(null);return D.useEffect(()=>{if(r.current&&n&&n.length>0&&e>0&&t>0){const i=["#65B3B4","#87C6B8","#A8D8B9","#4E9A9B","#B2D5BA"],s=n.map(v=>v[1]),o=Math.max(...s),a=Math.min(...s),c=12,d=Math.min(e/8,t/8,60),f=n.slice().sort((v,w)=>w[1]-v[1]),p=Math.max(Math.ceil(f.length*.2),5),m=f.slice(0,p),y=f.slice(p);for(let v=y.length-1;v>0;v--){const w=Math.floor(Math.random()*(v+1));[y[v],y[w]]=[y[w],y[v]]}[...m,...y];const b={list:f,gridSize:Math.round(15*e/1024),weightFactor:v=>o===a?(c+d)/2:c+(v-a)/(o-a)*(d-c),fontFamily:"Pretendard, Arial, sans-serif",color:(v,w)=>i[Math.floor(Math.random()*i.length)],backgroundColor:"transparent",rotateRatio:.5,rotationSteps:2,ellipticity:1.8,drawOutOfBound:!1,shrinkToFit:!0,shuffle:!1};try{_le(r.current,b)}catch(v){console.error("❌ 워드클라우드 렌더링 오류:",v)}}},[n,e,t]),C.jsx("canvas",{ref:r,width:e,height:t},n.toString())},k3=async()=>{try{return(await en.get("/api/dashboard/wordcloud")).data}catch(n){return n.response?n.response.status===401?[]:(console.error("워드클라우드 데이터 로딩에 실패했습니다: ",n),[]):(console.error("워드클라우드 데이터 로딩 중 알 수 없는 오류: ",n),[])}},Rle=()=>{const n=D.useRef(null),[e,t]=D.useState({width:0,height:0}),[r,i]=D.useState([]),[s,o]=D.useState(!0),[a,c]=D.useState(!1),d=D.useCallback(async()=>{const p=await k3();if(p&&Array.isArray(p)){const m=p.map(y=>[y.text,y.value]);i(m)}else i([])},[]),f=D.useCallback(async()=>{c(!0),await d(),setTimeout(()=>c(!1),500)},[d]);return D.useEffect(()=>{(async()=>{o(!0),await d(),o(!1)})()},[d]),D.useEffect(()=>{if(!s&&n.current){const p=new ResizeObserver(m=>{if(m&&m.length>0){const{width:y,height:b}=m[0].contentRect;y>0&&b>0&&t({width:y,height:b})}});return p.observe(n.current),()=>{p.disconnect()}}},[s]),s?C.jsx("div",{className:"wordcloud-message",children:"로딩 중..."}):!r||r.length===0?C.jsxs("div",{className:"wordcloud-container-with-button",children:[C.jsx("div",{className:"wordcloud-display-area",children:C.jsx(kle,{})}),C.jsx("button",{className:"refresh-button",title:"새로고침",onClick:f,disabled:a,children:C.jsx(E0,{className:a?"spin":""})})]}):C.jsxs("div",{className:"wordcloud-container-with-button",children:[C.jsx("div",{ref:n,className:"wordcloud-display-area",children:e.width>0&&e.height>0&&C.jsx(Ale,{words:r,width:e.width,height:e.height})}),C.jsx("button",{onClick:f,className:"refresh-button",title:"새로고침",disabled:a,children:C.jsx(E0,{className:a?"spin":""})})]})},Nle=({lat:n,lon:e})=>en.get("/api/dashboard/weather",{params:{lat:n,lon:e}}),Ple=n=>{const e=n==null?void 0:n.latitude,t=n==null?void 0:n.longitude;return V0({queryKey:["weather",e,t],queryFn:()=>Nle({lat:e,lon:t}),enabled:!!e&&!!t,staleTime:1e3*60*10})},Lle={Clear:"맑음",Clouds:"구름 많음",Rain:"비",Snow:"눈",Drizzle:"이슬비",Thunderstorm:"천둥번개",Mist:"안개",Smoke:"연기",Haze:"실안개",Dust:"먼지",Fog:"짙은 안개",Sand:"황사",Ash:"화산재",Squall:"돌풍",Tornado:"토네이도"},Ile=()=>{const[n,e]=D.useState(null);D.useEffect(()=>{navigator.geolocation.getCurrentPosition(o=>{e({latitude:o.coords.latitude,longitude:o.coords.longitude})},o=>{console.error("Geolocation error: ",o),e({latitude:37.5665,longitude:126.978})})},[]);const{data:t,isLoading:r,isError:i}=Ple(n);if(r)return C.jsx("div",{className:"weather-loading",children:"날씨 정보 로딩 중..."});if(i)return C.jsx("div",{className:"weather-error",children:"날씨를 가져올 수 없어요."});const s=t==null?void 0:t.data;return C.jsx("div",{className:"weather-container",children:s?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"weather-location",children:s.city}),C.jsxs("div",{className:"weather-content",children:[C.jsx("img",{src:`https://openweathermap.org/img/wn/${s.icon}@2x.png`,alt:s.main,className:"weather-icon"}),C.jsxs("div",{className:"weather-details",children:[C.jsx("p",{className:"weather-main-text",children:Lle[s.main]||s.main}),C.jsxs("p",{className:"weather-temp-current",children:[Math.round(s.temp),"°C"]})]})]})]}):C.jsx("p",{children:"날씨 정보가 없습니다."})})},jle=()=>en.get("/api/dashboard/fortune"),Ble=()=>en.post("/api/dashboard/fortune"),Fle=()=>{var a;const{user:n}=Wr(),e=LM(),{data:t,isLoading:r}=V0({queryKey:["fortuneStatus"],queryFn:jle,enabled:!!n}),{mutate:i,isPending:s,data:o}=uH({mutationFn:Ble,onSuccess:()=>{e.invalidateQueries({queryKey:["fortuneStatus"]})},onError:c=>{var d;console.error("포춘쿠키 열기 실패:",c),Xe.error(((d=c.response)==null?void 0:d.data)||"이미 확인한 운세입니다.")}});return{status:t==null?void 0:t.data,isStatusLoading:r,openCookie:i,isOpening:s,fortuneMessage:(a=o==null?void 0:o.data)==null?void 0:a.message}},n2="/images/cookie.svg",zle="/images/cracked_cookie.svg",Vle=()=>{const{user:n}=Wr(),e=qr(),{status:t,isStatusLoading:r,openCookie:i,isOpening:s,fortuneMessage:o}=Fle(),[a,c]=D.useState(!1),[d,f]=D.useState(!1);if(D.useEffect(()=>{d||t&&c(!t.canOpen)},[t,d]),!n)return C.jsxs("div",{className:"fortune-cookie-container",children:[C.jsx("div",{className:"cookie-image-container disabled grayscale",title:"로그인이 필요합니다",onClick:e,children:C.jsx("img",{src:n2,alt:"포춘쿠키",className:"cookie-img"})}),C.jsx("div",{className:"fortune-message",children:"로그인하고 확인해보세요!"})]});const p=()=>{!(t!=null&&t.canOpen)||s||a||d||(f(!0),i(null,{onSuccess:()=>{setTimeout(()=>{c(!0),f(!1)},2e3)},onError:()=>{f(!1)}}))},m=o||(t==null?void 0:t.message)||"클릭하여 확인해보세요!";return C.jsxs("div",{className:"fortune-cookie-container",children:[C.jsx("div",{className:`cookie-image-container ${d&&!a?"shaking":""} 
                ${!(t!=null&&t.canOpen)||a?"disabled":""}`,onClick:p,title:t!=null&&t.canOpen?"클릭하여 운세 확인":"오늘은 이미 확인했어요",children:C.jsx("img",{src:a?zle:n2,alt:"포춘쿠키",className:a?"cracked-cookie-img":"cookie-img"})}),C.jsx("div",{className:"fortune-message",children:r&&n?"운세를 불러오는 중...":a?m:"클릭하여 확인해보세요!"})]})},Hle=async(n,e)=>{try{return(await en.get("/api/record/date",{params:{year:n,month:e}})).data}catch(t){return console.error("기록 날짜 데이터를 가져오는 중 오류가 발생했습니다:",t),{}}},Ule=()=>{const[n,e]=D.useState(new Date),[t,r]=D.useState({}),i=new Date;i.setHours(0,0,0,0);const s=qr(),{user:o}=Wr(),a=es();D.useEffect(()=>{(async()=>{if(o){const b=n.getFullYear(),v=n.getMonth()+1,w=await Hle(b,v);r(w)}else r({})})()},[n,o]);const c=()=>e(new Date(n.getFullYear(),n.getMonth()-1,1)),d=()=>e(new Date(n.getFullYear(),n.getMonth()+1,1)),f=()=>C.jsxs("div",{className:"header",children:[C.jsx("button",{onClick:c,"aria-label":"이전 달로 이동",children:"<"}),C.jsxs("h2",{children:[n.getFullYear(),"년 ",n.getMonth()+1,"월"]}),C.jsx("button",{onClick:d,"aria-label":"다음 달로 이동",children:">"})]}),p=()=>{const y=["월","화","수","목","금","토","일"];return C.jsx("div",{className:"days",children:y.map(b=>C.jsx("div",{className:"day",children:b},b))})},m=()=>{const y=n.getFullYear(),b=n.getMonth(),v=new Date(y,b,1).getDay(),w=v===0?6:v-1,M=new Date(y,b+1,0).getDate(),k=[];for(let E=0;E<w;E++)k.push(C.jsx("div",{className:"cell empty"},`empty-${E}`));for(let E=1;E<=M;E++){const _=t[E],P=new Date(y,b,E)>i,N=`cell ${P?"disabled":""}`,A=`${y}-${String(b+1).padStart(2,"0")}-${String(E).padStart(2,"0")}`;k.push(C.jsxs("div",{className:N,onClick:()=>{if(!(P||!_||_==="both")&&s()){const L=_==="diary"?`/diary/date/${A}`:`/journal?date=${A}`;a(L)}},children:[C.jsx("span",{children:E}),C.jsxs("div",{className:"dots",children:[!P&&(_==="diary"||_==="both")&&C.jsx("div",{className:`dot diary ${_==="both"?"clickable":""}`,title:"일기 보기",onClick:L=>{_==="both"&&(L.stopPropagation(),s()&&a(`/diary/date/${A}`))}}),!P&&(_==="journal"||_==="both")&&C.jsx("div",{className:`dot journal ${_==="both"?"clickable":""}`,title:"저널 보기",onClick:L=>{_==="both"&&(L.stopPropagation(),s()&&a(`/journal?date=${A}`))}})]})]},E))}return C.jsx("div",{className:"cells",children:k})};return C.jsxs("div",{className:"calendar",children:[f(),p(),m()]})},r2=[{id:"diary",text:"일기 쓰기"},{id:"sleep",text:"수면 기록하기"},{id:"exercise",text:"운동 기록하기"},{id:"meal",text:"식사 기록하기"},{id:"journaling",text:"저널링 하기"}],$le={diary:"/diary",sleep:"/diary",exercise:"/diary",meal:"/diary",journaling:"/journal"},Yle=async()=>{var n;try{return(await en.get("/api/todolist/today")).data}catch(e){throw((n=e.response)==null?void 0:n.status)!==401&&console.error("오늘의 미션 상태 조회 API 호출 실패:",e),e}},Wle=()=>{const{user:n,loading:e}=Wr(),t=es(),[r,i]=D.useState({}),[s,o]=D.useState(!0),a=D.useMemo(()=>Object.keys(r).length===0?!1:r2.every(f=>r[f.id]===!0),[r]);D.useEffect(()=>{if(e)return;(async()=>{if(n)try{const p=await Yle();i(p)}catch{console.log("미션 데이터 로딩 중 에러 발생")}o(!1)})()},[e,n]);const c=()=>{const f=new Date,p=f.getTime()+f.getTimezoneOffset()*60*1e3,m=9*60*60*1e3;return new Date(p+m).toISOString().slice(0,10)},d=f=>{const p=$le[f];if(p)if(f==="diary"){const m=c();t(`/diary/date/${m}`)}else if(f==="journaling"){const m=c();t(p,{state:{date:m}})}else t(p);else console.warn(`'${f}'에 대한 경로가 지정되지 않았습니다.`)};return e||s?C.jsxs("div",{className:"daily-mission-container",children:[C.jsx("h4",{children:"오늘의 일정"}),C.jsx("div",{children:"로딩 중..."})]}):C.jsxs("div",{className:"daily-mission-container",children:[C.jsx("h4",{className:"title",children:"오늘의 일정"}),n?C.jsxs(C.Fragment,{children:[a&&C.jsx("div",{className:"all-complete-message",children:"오늘의 일정을 모두 완료했습니다!"}),C.jsx("ul",{className:"mission-list",children:r2.map(f=>C.jsxs("li",{className:"mission-item",onClick:()=>d(f.id),children:[C.jsx("div",{className:`status-icon ${r[f.id]?"completed":""}`,children:r[f.id]&&"✓"}),C.jsx("span",{className:`mission-text ${r[f.id]?"completed":""}`,children:f.text})]},f.id))})]}):C.jsx("div",{className:"login-prompt",children:"로그인 후 이용해주세요."})]})},qle=()=>{const{user:n}=Wr(),[e,t]=D.useState(!1),[r,i]=D.useState(0),[s,o]=D.useState([]),[a,c]=D.useState(!0);D.useEffect(()=>{if(!n||!n.id){c(!1),o([]);return}(async()=>{c(!0);try{const m=await k3();o(m||[])}catch(m){console.error("DashboardPage에서 초기 워드클라우드 데이터를 가져오는 데 실패했습니다.",m),o([])}finally{c(!1)}})()},[n==null?void 0:n.id]),D.useEffect(()=>{if(r===0)return;(async()=>{t(!0);try{const m=await fetchTestEmotionData();o(m||[])}catch(m){console.error("DashboardPage에서 워드클라우드 데이터를 새로고침하는 데 실패했습니다.",m)}finally{t(!1)}})()},[r]);const d=()=>{e||i(p=>p+1)},f=D.useMemo(()=>!s||s.length===0?[]:s.filter(p=>p.text&&typeof p.value=="number"&&!isNaN(p.value)).map(p=>[p.text,p.value]),[s]);return C.jsxs("div",{className:"dashboard-two-column-layout",children:[C.jsxs("div",{className:"left-column",children:[C.jsx("div",{className:"component-wrapper",children:C.jsx(Dle,{})}),C.jsx("div",{className:"component-wrapper",children:C.jsx(Cle,{})}),C.jsxs("div",{className:"bottom-content-area",children:[C.jsx("div",{className:"component-wrapper mission-wrapper",children:C.jsx(Wle,{})}),C.jsxs("div",{className:"cookie-calendar-column",children:[C.jsx("div",{className:"component-wrapper",children:C.jsx(Vle,{})}),C.jsx("div",{className:"component-wrapper",children:C.jsx(Ule,{})})]})]})]}),C.jsxs("div",{className:"right-column",children:[C.jsx("div",{className:"component-wrapper",children:C.jsx(Ile,{})}),C.jsx("div",{className:"component-wrapper word-cloud-wrapper",children:C.jsx(Rle,{words:f,isLoading:a,isRefreshing:e,onRefresh:d},r)})]})]})},Nb=n=>{if(!n)return null;const{journalId:e,...t}=n;return{id:e,...t}},Kle=async n=>{var e;try{const t=await en.get("/api/journal",{params:{category:n}});return Array.isArray(t.data)?t.data.map(Nb):(console.warn("API 응답이 배열이 아닙니다:",t.data),[])}catch(t){return console.error("저널 데이터를 불러오는 중 오류가 발생했습니다.",t),((e=t.response)==null?void 0:e.status)===401?(window.location.href="/login",[]):[]}},Qle=async n=>{var e;try{const t=await en.post("/api/journal",n);return Nb(t.data)}catch(t){const r=((e=t.response)==null?void 0:e.data)||t.message||"알 수 없는 오류";throw console.error("저널 생성 중 오류가 발생했습니다.",r),r}},E3=async n=>{try{const e=await en.get(`/api/journal/${n}`);return Nb(e.data)}catch(e){throw console.error(`ID가 ${n}인 저널을 불러오는 중 오류 발생:`,e),e}},Gle=async(n,e)=>{try{const t=await en.put(`/api/journal/${n}`,e);return Nb(t.data)}catch(t){throw console.error(`ID가 ${n}인 저널을 수정하는 중 오류 발생:`,t),t}},Xle=async n=>await en.delete(`/api/journal/${n}`),Jle=({journal:n,onSelect:e,isSelected:t})=>{const{id:r,title:i,content:s,rating:o,journalDate:a}=n,c=()=>{e(r)},d=()=>Array.from({length:5},(p,m)=>C.jsx(tC,{color:m<o?"#f1c40f":"#e0e0e0"},m)),f=`journal-item-wrapper ${t?"active":""}`;return C.jsx("div",{className:f,onClick:c,children:C.jsxs("div",{className:"journal-item-card",children:[C.jsx("div",{className:"journal-item-header",children:C.jsx("h3",{className:"journal-item-title",children:i})}),C.jsx("div",{className:"journal-item-rating",children:d()}),C.jsx("p",{className:"journal-item-content",children:s}),C.jsx("span",{className:"journal-item-date",children:a?new Date(a).toLocaleDateString():"날짜 미지정"})]})})},Zle=({category:n,onItemSelect:e,user:t,selectedJournalId:r,refreshKey:i})=>{const[s,o]=D.useState([]),[a,c]=D.useState(!0),[d,f]=D.useState(null);return D.useEffect(()=>{if(!t){c(!1),o([]);return}c(!0),Kle(n).then(p=>o(p)).catch(()=>f("데이터를 불러오는 데 실패했습니다.")).finally(()=>c(!1))},[n,t,i]),t?a?C.jsx("div",{className:"status-message",children:"로딩 중..."}):d?C.jsx("div",{className:"status-message",children:d}):s.length===0?C.jsx("div",{className:"status-message",children:"작성된 기록이 없습니다."}):C.jsx("div",{className:"journal-list-container",children:s.map(p=>C.jsx(Jle,{journal:p,onSelect:e,isSelected:p.id===r},p.id))}):C.jsx("div",{className:"status-message",children:"로그인 후 이용해주세요."})};function wy(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wy=function(e){return typeof e}:wy=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(n)}function rC(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ece(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function iC(n,e,t){return e&&ece(n.prototype,e),n}function YS(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T0(){return T0=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},T0.apply(this,arguments)}function Sy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){YS(n,i,t[i])})}return n}function sC(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&WS(n,e)}function hp(n){return hp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hp(n)}function WS(n,e){return WS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},WS(n,e)}function Wi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function oC(n,e){return e&&(typeof e=="object"||typeof e=="function")?e:Wi(n)}var ow={display:"inline-block",borderRadius:"50%",border:"5px double white",width:30,height:30},aw={empty:Sy({},ow,{backgroundColor:"#ccc"}),full:Sy({},ow,{backgroundColor:"black"}),placeholder:Sy({},ow,{backgroundColor:"red"})},i2=function(e){if($.isValidElement(e))return e;if(wy(e)==="object"&&e!==null)return $.createElement("span",{style:e});if(Object.prototype.toString.call(e)==="[object String]")return $.createElement("span",{className:e})},tce=function(n){sC(e,n);function e(){return rC(this,e),oC(this,hp(e).apply(this,arguments))}return iC(e,[{key:"render",value:function(){var r,i=this.props,s=i.index,o=i.inactiveIcon,a=i.activeIcon,c=i.percent,d=i.direction,f=i.readonly,p=i.onClick,m=i.onMouseMove,y=i2(o),b=c<100,v=b?{}:{visibility:"hidden"},w=i2(a),M=(r={display:"inline-block",position:"absolute",overflow:"hidden",top:0},YS(r,d==="rtl"?"right":"left",0),YS(r,"width","".concat(c,"%")),r),k={cursor:f?"inherit":"pointer",display:"inline-block",position:"relative"};function E(T){m&&m(s,T)}function _(T){p&&(T.preventDefault(),p(s,T))}return $.createElement("span",{style:k,onClick:_,onMouseMove:E,onTouchMove:E,onTouchEnd:_},$.createElement("span",{style:v},y),$.createElement("span",{style:M},w))}}]),e}($.PureComponent),nce=function(n){sC(e,n);function e(t){var r;return rC(this,e),r=oC(this,hp(e).call(this,t)),r.state={displayValue:r.props.value,interacting:!1},r.onMouseLeave=r.onMouseLeave.bind(Wi(Wi(r))),r.symbolMouseMove=r.symbolMouseMove.bind(Wi(Wi(r))),r.symbolClick=r.symbolClick.bind(Wi(Wi(r))),r}return iC(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){var i=this.props.value!==r.value;this.setState(function(s){return{displayValue:i?r.value:s.displayValue}})}},{key:"componentDidUpdate",value:function(r,i){if(r.value===this.props.value){if(i.interacting&&!this.state.interacting)return this.props.onHover();this.state.interacting&&this.props.onHover(this.state.displayValue)}}},{key:"symbolClick",value:function(r,i){var s=this.calculateDisplayValue(r,i);this.props.onClick(s,i)}},{key:"symbolMouseMove",value:function(r,i){var s=this.calculateDisplayValue(r,i);this.setState({interacting:!this.props.readonly,displayValue:s})}},{key:"onMouseLeave",value:function(){this.setState({displayValue:this.props.value,interacting:!1})}},{key:"calculateDisplayValue",value:function(r,i){var s=this.calculateHoverPercentage(i),o=Math.ceil(s%1*this.props.fractions)/this.props.fractions,a=Math.pow(10,3),c=r+(Math.floor(s)+Math.floor(o*a)/a);return c>0?c>this.props.totalSymbols?this.props.totalSymbols:c:1/this.props.fractions}},{key:"calculateHoverPercentage",value:function(r){var i=r.nativeEvent.type.indexOf("touch")>-1?r.nativeEvent.type.indexOf("touchend")>-1?r.changedTouches[0].clientX:r.touches[0].clientX:r.clientX,s=r.target.getBoundingClientRect(),o=this.props.direction==="rtl"?s.right-i:i-s.left;return o<0?0:o/s.width}},{key:"render",value:function(){var r=this.props,i=r.readonly,s=r.quiet,o=r.totalSymbols,a=r.value,c=r.placeholderValue,d=r.direction,f=r.emptySymbol,p=r.fullSymbol,m=r.placeholderSymbol,y=r.className,b=r.id,v=r.style,w=r.tabIndex,M=this.state,k=M.displayValue,E=M.interacting,_=[],T=[].concat(f),P=[].concat(p),N=[].concat(m),A=c!==0&&a===0&&!E,L;A?L=c:L=s?a:k;for(var I=Math.floor(L),V=0;V<o;V++){var q=void 0;V-I<0?q=100:V-I===0?q=(L-V)*100:q=0,_.push($.createElement(tce,T0({key:V,index:V,readonly:i,inactiveIcon:T[V%T.length],activeIcon:A?N[V%P.length]:P[V%P.length],percent:q,direction:d},!i&&{onClick:this.symbolClick,onMouseMove:this.symbolMouseMove,onTouchMove:this.symbolMouseMove,onTouchEnd:this.symbolClick})))}return $.createElement("span",T0({id:b,style:Sy({},v,{display:"inline-block",direction:d}),className:y,tabIndex:w,"aria-label":this.props["aria-label"]},!i&&{onMouseLeave:this.onMouseLeave}),_)}}]),e}($.PureComponent);function My(){}My._name="react_rating_noop";var T3=function(n){sC(e,n);function e(t){var r;return rC(this,e),r=oC(this,hp(e).call(this,t)),r.state={value:t.initialRating},r.handleClick=r.handleClick.bind(Wi(Wi(r))),r.handleHover=r.handleHover.bind(Wi(Wi(r))),r}return iC(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){this.setState({value:r.initialRating})}},{key:"handleClick",value:function(r,i){var s=this,o=this.translateDisplayValueToValue(r);this.props.onClick(o),this.state.value!==o&&this.setState({value:o},function(){return s.props.onChange(s.state.value)})}},{key:"handleHover",value:function(r){var i=r===void 0?r:this.translateDisplayValueToValue(r);this.props.onHover(i)}},{key:"translateDisplayValueToValue",value:function(r){var i=r*this.props.step+this.props.start;return i===this.props.start?i+1/this.props.fractions:i}},{key:"tranlateValueToDisplayValue",value:function(r){return r===void 0?0:(r-this.props.start)/this.props.step}},{key:"render",value:function(){var r=this.props,i=r.step,s=r.emptySymbol,o=r.fullSymbol,a=r.placeholderSymbol,c=r.readonly,d=r.quiet,f=r.fractions,p=r.direction,m=r.start,y=r.stop,b=r.id,v=r.className,w=r.style,M=r.tabIndex;function k(E,_,T){return Math.floor((_-E)/T)}return $.createElement(nce,{id:b,style:w,className:v,tabIndex:M,"aria-label":this.props["aria-label"],totalSymbols:k(m,y,i),value:this.tranlateValueToDisplayValue(this.state.value),placeholderValue:this.tranlateValueToDisplayValue(this.props.placeholderRating),readonly:c,quiet:d,fractions:f,direction:p,emptySymbol:s,fullSymbol:o,placeholderSymbol:a,onClick:this.handleClick,onHover:this.handleHover})}}]),e}($.PureComponent);T3.defaultProps={start:0,stop:5,step:1,readonly:!1,quiet:!1,fractions:1,direction:"ltr",onHover:My,onClick:My,onChange:My,emptySymbol:aw.empty,fullSymbol:aw.full,placeholderSymbol:aw.placeholder};const s2=n=>{let e;const t=new Set,r=(d,f)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(y=>y(e,m))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=e=n(r,i,a);return a},rce=n=>n?s2(n):s2,ice=n=>n;function sce(n,e=ice){const t=$.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return $.useDebugValue(t),t}const o2=n=>{const e=rce(n),t=r=>sce(e,r);return Object.assign(t,e),t},oce=n=>n?o2(n):o2;function O3(n,e){let t;try{t=n()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=t.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const qS=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return qS(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return qS(r)(t)}}}},ace=(n,e)=>(t,r,i)=>{let s={storage:O3(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...e},o=!1;const a=new Set,c=new Set;let d=s.storage;if(!d)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...v)},r,i);const f=()=>{const v=s.partialize({...r()});return d.setItem(s.name,{state:v,version:s.version})},p=i.setState;i.setState=(v,w)=>{p(v,w),f()};const m=n((...v)=>{t(...v),f()},r,i);i.getInitialState=()=>m;let y;const b=()=>{var v,w;if(!d)return;o=!1,a.forEach(k=>{var E;return k((E=r())!=null?E:m)});const M=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(v=r())!=null?v:m))||void 0;return qS(d.getItem.bind(d))(s.name).then(k=>{if(k)if(typeof k.version=="number"&&k.version!==s.version){if(s.migrate){const E=s.migrate(k.state,k.version);return E instanceof Promise?E.then(_=>[!0,_]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,k.state];return[!1,void 0]}).then(k=>{var E;const[_,T]=k;if(y=s.merge(T,(E=r())!=null?E:m),t(y,!0),_)return f()}).then(()=>{M==null||M(y,void 0),y=r(),o=!0,c.forEach(k=>k(y))}).catch(k=>{M==null||M(void 0,k)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},s.skipHydration||b(),y||m},lce=ace,_3=oce(lce(n=>({drafts:{},setDraft:(e,t)=>n(r=>({drafts:{...r.drafts,[e]:{...r.drafts[e]||{},...t}}})),clearDraft:e=>n(t=>{const r={...t.drafts};return delete r[e],{drafts:r}}),clearAllDrafts:()=>n({drafts:{}})}),{name:"journal-draft-storage",storage:O3(()=>sessionStorage)})),cce=({placeholder:n,value:e,onChange:t,...r})=>C.jsx("input",{className:"input",type:"text",placeholder:n,value:e,onChange:t,...r}),uce={...rS,options:{...rS.options,weekStartsOn:1}};YI("ko-monday",uce);const a2=[{key:"ALL",name:"all"},{key:"MOVIE",name:"🎬"},{key:"BOOK",name:"📖"},{key:"MUSIC",name:"🎵"},{key:"ETC",name:"etc"}],A3=()=>new Date().toISOString().split("T")[0],l2=()=>({title:"",content:"",category:"MOVIE",rating:2.5,journalDate:A3()}),dce=D.forwardRef(({value:n,onClick:e},t)=>C.jsxs("button",{type:"button",className:"custom-date-button",onClick:e,ref:t,children:[n,C.jsx(S3,{className:"calendar-icon"})]}));dce.displayName="CustomDateButton";const fce=({onSubmit:n,onCancel:e,initialData:t,isSubmitting:r,draftKey:i})=>{var E;const{drafts:s,setDraft:o}=_3(),a=s[i],[c,d]=D.useState(l2()),[f,p]=D.useState(!1);D.useEffect(()=>{if(t){const _=a||t;d({title:_.title||"",content:_.content||"",category:_.category||"MOVIE",rating:_.rating??2.5,journalDate:_.journalDate?new Date(_.journalDate).toISOString().split("T")[0]:A3()})}else d(a||l2())},[t,a,i]);const m=D.useCallback(_=>{d(_),o(i,_)},[i,o]),y=_=>{const{name:T,value:P}=_.target;m({...c,[T]:P})},b=_=>{m({...c,rating:_})},v=_=>{_&&m({...c,journalDate:_.toISOString().split("T")[0]})},w=_=>{m({...c,category:_}),p(!1)},M=_=>{if(_.preventDefault(),c.rating===0){Xe.error("별점을 0.5점 이상 선택해주세요.");return}n(c)},k=((E=a2.find(_=>_.key===c.category))==null?void 0:E.name)||"선택하세요";return C.jsxs("form",{className:"journal-form",onSubmit:M,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"title"}),C.jsx(cce,{type:"text",id:"title",name:"title",placeholder:"제목",value:c.title,onChange:y,required:!0})]}),C.jsxs("div",{className:"categoryArating",children:[C.jsxs("div",{className:"form-group category-select-wrapper",children:[C.jsx("label",{htmlFor:"category",className:"categoryLabel",children:"카테고리"}),C.jsxs("div",{className:`custom-select-display ${f?"open":""}`,onClick:()=>p(!f),children:[k,C.jsx("span",{className:"dropdown-arrow",children:"▼"})," "]}),f&&C.jsx("ul",{className:"custom-select-options",children:a2.map(_=>C.jsx("li",{className:`custom-select-option-item ${c.category===_.key?"active":""}`,onClick:()=>w(_.key),children:_.name},_.key))})]}),C.jsxs("div",{className:"form-group rating-plus",children:[C.jsx("label",{className:"ratingLabel",children:"별점"}),C.jsx("div",{className:"rating-group",children:C.jsx(T3,{fractions:2,initialRating:c.rating,onChange:b,emptySymbol:C.jsx(lle,{size:24,color:"e0e0e0"}),fullSymbol:C.jsx(tC,{size:24,color:"f1c40f"})},t?t.id:"new")})]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{}),C.jsxs("div",{className:"datepicker-container",children:[C.jsxs("label",{htmlFor:"journalDatePicker",className:"custom-date-label",children:[C.jsx("span",{children:c.journalDate}),C.jsx(S3,{className:"calendar-icon"})]}),C.jsx(ZI,{id:"journalDatePicker",locale:"ko-monday",selected:new Date(c.journalDate),onChange:v,dateFormat:"yyyy-MM-dd",maxDate:new Date,className:"hidden-datepicker",popperPlacement:"bottom",showMonthYearDropdown:!0})]})]}),C.jsxs("div",{className:"form-group content-group",children:[C.jsx("label",{htmlFor:"content"}),C.jsx("textarea",{id:"content",name:"content",placeholder:"내용을 입력하세요...",value:c.content,onChange:y,required:!0})]}),C.jsxs("div",{className:"form-actions",children:[C.jsx(Cs,{variant:"button2",type:"submit",active:!0,disabled:r,children:r?"저장 중...":"저장"}),C.jsx(Cs,{variant:"button2",type:"button",onClick:e,disabled:r,children:"닫기"})]})]})},c2=({journalId:n,onSaveSuccess:e,onCancel:t})=>{const r=!!n,[i,s]=D.useState(null),[o,a]=D.useState(r),[c,d]=D.useState(!1),f=n||"new",{clearDraft:p}=_3();D.useEffect(()=>{r&&(a(!0),E3(n).then(b=>{s(b)}).catch(()=>{Xe.error("데이터를 불러오는 데 실패했습니다."),t()}).finally(()=>a(!1)))},[n,r,t]);const m=async b=>{d(!0);const v=r?()=>Gle(n,b):()=>Qle(b);try{const w=await v();e(w),Xe.success(`저널이 성공적으로 ${r?"수정":"등록"}되었습니다.`),p(f)}catch{Xe.error("저장 중 오류가 발생했습니다.")}finally{d(!1)}},y=D.useCallback(()=>{p(f),t()},[f,p,t]);return o?C.jsx("div",{className:"status-message",children:"수정할 내용을 불러오는 중..."}):C.jsx("div",{className:"journal-editor-container",children:C.jsx(fce,{onSubmit:m,onCancel:y,initialData:i,isSubmitting:c,draftKey:f},f)})};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hce={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=(n,e,t,r)=>{const i=D.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:c,className:d,children:f,...p},m)=>D.createElement("svg",{ref:m,...hce[n],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,d].join(" "),...n==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...p},[c&&D.createElement("title",{key:"svg-title"},c),...r.map(([y,b])=>D.createElement(y,b)),...Array.isArray(f)?f:[f]]));return i.displayName=`${t}`,i};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],R3=hl("outline","book","Book",pce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M17.286 21.09q -1.69 .001 -5.288 -2.615q -3.596 2.617 -5.288 2.616q -2.726 0 -.495 -6.8q -9.389 -6.775 2.135 -6.775h.076q 1.785 -5.516 3.574 -5.516q 1.785 0 3.574 5.516h.076q 11.525 0 2.133 6.774q 2.23 6.802 -.497 6.8",key:"svg-0"}]],gce=hl("outline","carambola","Carambola",mce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l-4 4l-4 -4",key:"svg-1"}],["path",{d:"M15 7v13",key:"svg-2"}],["path",{d:"M18 15v.01",key:"svg-3"}],["path",{d:"M18 12v.01",key:"svg-4"}]],N3=hl("outline","device-tv-old","DeviceTvOld",yce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 4l0 16",key:"svg-1"}],["path",{d:"M16 4l0 16",key:"svg-2"}],["path",{d:"M4 8l4 0",key:"svg-3"}],["path",{d:"M4 16l4 0",key:"svg-4"}],["path",{d:"M4 12l16 0",key:"svg-5"}],["path",{d:"M16 8l4 0",key:"svg-6"}],["path",{d:"M16 16l4 0",key:"svg-7"}]],P3=hl("outline","movie","Movie",bce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]],L3=hl("outline","music","Music",vce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]],wce=hl("outline","square-check","SquareCheck",xce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]],Mce=hl("outline","square","Square",Sce);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M17.108 22.085c-1.266 -.068 -2.924 -.859 -5.071 -2.355l-.04 -.027l-.037 .027c-2.147 1.497 -3.804 2.288 -5.072 2.356l-.178 .005c-2.747 0 -3.097 -2.64 -1.718 -7.244l.054 -.178l-.1 -.075c-6.056 -4.638 -5.046 -7.848 2.554 -8.066l.202 -.005l.115 -.326c1.184 -3.33 2.426 -5.085 4.027 -5.192l.156 -.005c1.674 0 2.957 1.76 4.182 5.197l.114 .326l.204 .005c7.6 .218 8.61 3.428 2.553 8.065l-.102 .075l.055 .178c1.35 4.512 1.04 7.137 -1.556 7.24l-.163 .003z",key:"svg-0"}]],Cce=hl("filled","carambola-filled","CarambolaFilled",Dce),$g={IconMovie:P3,IconDeviceTvOld:N3,IconBook:R3,IconMusic:L3},u2=[{key:"ALL",name:"All"},{key:"MOVIE",name:C.jsx($g.IconMovie,{})},{key:"TV",name:C.jsx($g.IconDeviceTvOld,{})},{key:"BOOK",name:C.jsx($g.IconBook,{})},{key:"MUSIC",name:C.jsx($g.IconMusic,{})}],kce=({onSelectCategory:n,theme:e})=>{const[t,r]=D.useState(u2[0].key),i=s=>{r(s),n(s)};return C.jsx("div",{className:"filter-container",children:u2.map(s=>C.jsx("button",{className:`theme1
                        filter-button
                        ${t===s.key?"active":"inactive"}
                    `,onClick:()=>i(s.key),children:s.name},s.key))})},Ece=({journalId:n,onEdit:e,onDelete:t,initialData:r})=>{const[i,s]=D.useState(null),[o,a]=D.useState(!0),[c,d]=D.useState(null);D.useEffect(()=>{if(n){if(a(!0),d(null),r&&r.id===n){s(r),a(!1);return}(async()=>{try{const m=await E3(n);s(m)}catch(m){d("저널을 불러오는 데 실패했습니다."),console.error(m)}finally{a(!1)}})()}},[n]);const f=(p=0)=>Array.from({length:5},(m,y)=>C.jsx(tC,{color:y<p?"#f1c40f":"#e0e0e0"},y));return o?C.jsx("div",{className:"status-message",children:"로딩 중..."}):c?C.jsx("div",{className:"status-message",children:c}):i?C.jsxs("div",{className:"journal-viewer-container",children:[C.jsxs("div",{className:"viewer-header",children:[C.jsx("h2",{className:"viewer-title",children:i.title}),C.jsx("div",{className:"viewer-rating",children:f(i.rating)}),C.jsx("p",{className:"viewer-date",children:i.journalDate?new Date(i.journalDate).toLocaleDateString():"날짜 미지정"})]}),C.jsx("div",{className:"viewer-content",children:i.content}),C.jsxs("div",{className:"viewer-actions",children:[C.jsx(Cs,{variant:"button2",type:"submit",onClick:e,className:"btn edit-btn",children:"수정"}),C.jsx(Cs,{variant:"button2",type:"button",onClick:t,className:"btn delete-btn",children:"삭제"})]})]}):C.jsx("div",{className:"status-message",children:"저널을 찾을 수 없습니다."})},aC=D.createContext({});function lC(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const cC=typeof window<"u",I3=cC?D.useLayoutEffect:D.useEffect,Pb=D.createContext(null);function uC(n,e){n.indexOf(e)===-1&&n.push(e)}function dC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const jo=(n,e,t)=>t>e?e:t<n?n:t;let fC=()=>{};const Bo={},j3=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function B3(n){return typeof n=="object"&&n!==null}const F3=n=>/^0[^.\s]+$/u.test(n);function hC(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ai=n=>n,Tce=(n,e)=>t=>e(n(t)),Kp=(...n)=>n.reduce(Tce),pp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class pC{constructor(){this.subscriptions=[]}add(e){return uC(this.subscriptions,e),()=>dC(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=n=>n*1e3,Ns=n=>n/1e3;function z3(n,e){return e?n*(1e3/e):0}const V3=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Oce=1e-7,_ce=12;function Ace(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=V3(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Oce&&++a<_ce);return o}function Qp(n,e,t,r){if(n===e&&t===r)return Ai;const i=s=>Ace(s,0,1,n,t);return s=>s===0||s===1?s:V3(i(s),e,r)}const H3=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,U3=n=>e=>1-n(1-e),$3=Qp(.33,1.53,.69,.99),mC=U3($3),Y3=H3(mC),W3=n=>(n*=2)<1?.5*mC(n):.5*(2-Math.pow(2,-10*(n-1))),gC=n=>1-Math.sin(Math.acos(n)),q3=U3(gC),K3=H3(gC),Rce=Qp(.42,0,1,1),Nce=Qp(0,0,.58,1),Q3=Qp(.42,0,.58,1),Pce=n=>Array.isArray(n)&&typeof n[0]!="number",G3=n=>Array.isArray(n)&&typeof n[0]=="number",Lce={linear:Ai,easeIn:Rce,easeInOut:Q3,easeOut:Nce,circIn:gC,circInOut:K3,circOut:q3,backIn:mC,backInOut:Y3,backOut:$3,anticipate:W3},Ice=n=>typeof n=="string",d2=n=>{if(G3(n)){fC(n.length===4);const[e,t,r,i]=n;return Qp(e,t,r,i)}else if(Ice(n))return Lce[n];return n},Yg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jce(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),n()),f(a)}const d={schedule:(f,p=!1,m=!1)=>{const b=m&&i?t:r;return p&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(c),t.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const Bce=40;function X3(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Yg.reduce((E,_)=>(E[_]=jce(s),E),{}),{setup:a,read:c,resolveKeyframes:d,preUpdate:f,update:p,preRender:m,render:y,postRender:b}=o,v=()=>{const E=Bo.useManualTiming?i.timestamp:performance.now();t=!1,Bo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,Bce),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),c.process(i),d.process(i),f.process(i),p.process(i),m.process(i),y.process(i),b.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(v))},w=()=>{t=!0,r=!0,i.isProcessing||n(v)};return{schedule:Yg.reduce((E,_)=>{const T=o[_];return E[_]=(P,N=!1,A=!1)=>(t||w(),T.schedule(P,N,A)),E},{}),cancel:E=>{for(let _=0;_<Yg.length;_++)o[Yg[_]].cancel(E)},state:i,steps:o}}const{schedule:qt,cancel:ol,state:Kn,steps:lw}=X3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ai,!0);let Dy;function Fce(){Dy=void 0}const Vr={now:()=>(Dy===void 0&&Vr.set(Kn.isProcessing||Bo.useManualTiming?Kn.timestamp:performance.now()),Dy),set:n=>{Dy=n,queueMicrotask(Fce)}},J3=n=>e=>typeof e=="string"&&e.startsWith(n),yC=J3("--"),zce=J3("var(--"),bC=n=>zce(n)?Vce.test(n.split("/*")[0].trim()):!1,Vce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$d={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},mp={...$d,transform:n=>jo(0,1,n)},Wg={...$d,default:1},Ih=n=>Math.round(n*1e5)/1e5,vC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hce(n){return n==null}const Uce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xC=(n,e)=>t=>!!(typeof t=="string"&&Uce.test(t)&&t.startsWith(n)||e&&!Hce(t)&&Object.prototype.hasOwnProperty.call(t,e)),Z3=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(vC);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$ce=n=>jo(0,255,n),cw={...$d,transform:n=>Math.round($ce(n))},Zl={test:xC("rgb","red"),parse:Z3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+cw.transform(n)+", "+cw.transform(e)+", "+cw.transform(t)+", "+Ih(mp.transform(r))+")"};function Yce(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const KS={test:xC("#"),parse:Yce,transform:Zl.transform},Gp=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ba=Gp("deg"),Ps=Gp("%"),Ne=Gp("px"),Wce=Gp("vh"),qce=Gp("vw"),f2={...Ps,parse:n=>Ps.parse(n)/100,transform:n=>Ps.transform(n*100)},Fu={test:xC("hsl","hue"),parse:Z3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ps.transform(Ih(e))+", "+Ps.transform(Ih(t))+", "+Ih(mp.transform(r))+")"},vn={test:n=>Zl.test(n)||KS.test(n)||Fu.test(n),parse:n=>Zl.test(n)?Zl.parse(n):Fu.test(n)?Fu.parse(n):KS.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Zl.transform(n):Fu.transform(n),getAnimatableNone:n=>{const e=vn.parse(n);return e.alpha=0,vn.transform(e)}},Kce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Qce(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(vC))==null?void 0:e.length)||0)+(((t=n.match(Kce))==null?void 0:t.length)||0)>0}const e5="number",t5="color",Gce="var",Xce="var(",h2="${}",Jce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gp(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(Jce,c=>(vn.test(c)?(r.color.push(s),i.push(t5),t.push(vn.parse(c))):c.startsWith(Xce)?(r.var.push(s),i.push(Gce),t.push(c)):(r.number.push(s),i.push(e5),t.push(parseFloat(c))),++s,h2)).split(h2);return{values:t,split:a,indexes:r,types:i}}function n5(n){return gp(n).values}function r5(n){const{split:e,types:t}=gp(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===e5?s+=Ih(i[o]):a===t5?s+=vn.transform(i[o]):s+=i[o]}return s}}const Zce=n=>typeof n=="number"?0:vn.test(n)?vn.getAnimatableNone(n):n;function eue(n){const e=n5(n);return r5(n)(e.map(Zce))}const al={test:Qce,parse:n5,createTransformer:r5,getAnimatableNone:eue};function uw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tue({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,c=2*t-a;i=uw(c,a,n+1/3),s=uw(c,a,n),o=uw(c,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function O0(n,e){return t=>t>0?e:n}const Jt=(n,e,t)=>n+(e-n)*t,dw=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},nue=[KS,Zl,Fu],rue=n=>nue.find(e=>e.test(n));function p2(n){const e=rue(n);if(!e)return!1;let t=e.parse(n);return e===Fu&&(t=tue(t)),t}const m2=(n,e)=>{const t=p2(n),r=p2(e);if(!t||!r)return O0(n,e);const i={...t};return s=>(i.red=dw(t.red,r.red,s),i.green=dw(t.green,r.green,s),i.blue=dw(t.blue,r.blue,s),i.alpha=Jt(t.alpha,r.alpha,s),Zl.transform(i))},QS=new Set(["none","hidden"]);function iue(n,e){return QS.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function sue(n,e){return t=>Jt(n,e,t)}function wC(n){return typeof n=="number"?sue:typeof n=="string"?bC(n)?O0:vn.test(n)?m2:lue:Array.isArray(n)?i5:typeof n=="object"?vn.test(n)?m2:oue:O0}function i5(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>wC(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function oue(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=wC(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function aue(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],a=n.values[o]??0;t[i]=a,r[s]++}return t}const lue=(n,e)=>{const t=al.createTransformer(e),r=gp(n),i=gp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?QS.has(n)&&!i.values.length||QS.has(e)&&!r.values.length?iue(n,e):Kp(i5(aue(r,i),i.values),t):O0(n,e)};function s5(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jt(n,e,t):wC(n)(n,e)}const cue=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>qt.update(e,t),stop:()=>ol(e),now:()=>Kn.isProcessing?Kn.timestamp:Vr.now()}},o5=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_0=2e4;function SC(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<_0;)e+=t,r=n.next(e);return e>=_0?1/0:e}function uue(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(SC(r),_0);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ns(i)}}const due=5;function a5(n,e,t){const r=Math.max(e-due,0);return z3(t-n(r),e-r)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fw=.001;function fue({duration:n=on.duration,bounce:e=on.bounce,velocity:t=on.velocity,mass:r=on.mass}){let i,s,o=1-e;o=jo(on.minDamping,on.maxDamping,o),n=jo(on.minDuration,on.maxDuration,Ns(n)),o<1?(i=d=>{const f=d*o,p=f*n,m=f-t,y=GS(d,o),b=Math.exp(-p);return fw-m/y*b},s=d=>{const p=d*o*n,m=p*t+t,y=Math.pow(o,2)*Math.pow(d,2)*n,b=Math.exp(-p),v=GS(Math.pow(d,2),o);return(-i(d)+fw>0?-1:1)*((m-y)*b)/v}):(i=d=>{const f=Math.exp(-d*n),p=(d-t)*n+1;return-fw+f*p},s=d=>{const f=Math.exp(-d*n),p=(t-d)*(n*n);return f*p});const a=5/n,c=pue(i,s,a);if(n=Rs(n),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:n};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:n}}}const hue=12;function pue(n,e,t){let r=t;for(let i=1;i<hue;i++)r=r-n(r)/e(r);return r}function GS(n,e){return n*Math.sqrt(1-e*e)}const mue=["duration","bounce"],gue=["stiffness","damping","mass"];function g2(n,e){return e.some(t=>n[t]!==void 0)}function yue(n){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...n};if(!g2(n,gue)&&g2(n,mue))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*jo(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:on.mass,stiffness:i,damping:s}}else{const t=fue(n);e={...e,...t,mass:on.mass},e.isResolvedFromDuration=!0}return e}function A0(n=on.visualDuration,e=on.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:p,velocity:m,isResolvedFromDuration:y}=yue({...t,velocity:-Ns(t.velocity||0)}),b=m||0,v=d/(2*Math.sqrt(c*f)),w=o-s,M=Ns(Math.sqrt(c/f)),k=Math.abs(w)<5;r||(r=k?on.restSpeed.granular:on.restSpeed.default),i||(i=k?on.restDelta.granular:on.restDelta.default);let E;if(v<1){const T=GS(M,v);E=P=>{const N=Math.exp(-v*M*P);return o-N*((b+v*M*w)/T*Math.sin(T*P)+w*Math.cos(T*P))}}else if(v===1)E=T=>o-Math.exp(-M*T)*(w+(b+M*w)*T);else{const T=M*Math.sqrt(v*v-1);E=P=>{const N=Math.exp(-v*M*P),A=Math.min(T*P,300);return o-N*((b+v*M*w)*Math.sinh(A)+T*w*Math.cosh(A))/T}}const _={calculatedDuration:y&&p||null,next:T=>{const P=E(T);if(y)a.done=T>=p;else{let N=T===0?b:0;v<1&&(N=T===0?Rs(b):a5(E,T,P));const A=Math.abs(N)<=r,L=Math.abs(o-P)<=i;a.done=A&&L}return a.value=a.done?o:P,a},toString:()=>{const T=Math.min(SC(_),_0),P=o5(N=>_.next(T*N).value,T,30);return T+"ms "+P},toTransition:()=>{}};return _}A0.applyToOptions=n=>{const e=uue(n,100,A0);return n.ease=e.ease,n.duration=Rs(e.duration),n.type="keyframes",n};function XS({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const p=n[0],m={done:!1,value:p},y=A=>a!==void 0&&A<a||c!==void 0&&A>c,b=A=>a===void 0?c:c===void 0||Math.abs(a-A)<Math.abs(c-A)?a:c;let v=t*e;const w=p+v,M=o===void 0?w:o(w);M!==w&&(v=M-p);const k=A=>-v*Math.exp(-A/r),E=A=>M+k(A),_=A=>{const L=k(A),I=E(A);m.done=Math.abs(L)<=d,m.value=m.done?M:I};let T,P;const N=A=>{y(m.value)&&(T=A,P=A0({keyframes:[m.value,b(m.value)],velocity:a5(E,A,m.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return N(0),{calculatedDuration:null,next:A=>{let L=!1;return!P&&T===void 0&&(L=!0,_(A),N(A)),T!==void 0&&A>=T?P.next(A-T):(!L&&_(A),m)}}}function bue(n,e,t){const r=[],i=t||Bo.mix||s5,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ai:e;a=Kp(c,a)}r.push(a)}return r}function vue(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(fC(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=bue(e,r,i),c=a.length,d=f=>{if(o&&f<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const m=pp(n[p],n[p+1],f);return a[p](m)};return t?f=>d(jo(n[0],n[s-1],f)):d}function xue(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=pp(0,e,r);n.push(Jt(t,1,i))}}function wue(n){const e=[0];return xue(e,n.length-1),e}function Sue(n,e){return n.map(t=>t*e)}function Mue(n,e){return n.map(()=>e||Q3).splice(0,n.length-1)}function jh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=Pce(r)?r.map(d2):d2(r),s={done:!1,value:e[0]},o=Sue(t&&t.length===e.length?t:wue(e),n),a=vue(o,e,{ease:Array.isArray(i)?i:Mue(e,i)});return{calculatedDuration:n,next:c=>(s.value=a(c),s.done=c>=n,s)}}const Due=n=>n!==null;function MC(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(Due),a=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Cue={decay:XS,inertia:XS,tween:jh,keyframes:jh,spring:A0};function l5(n){typeof n.type=="string"&&(n.type=Cue[n.type])}class DC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const kue=n=>n/100;class CC extends DC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Vr.now()&&this.tick(Vr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;l5(e);const{type:t=jh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const c=t||jh;c!==jh&&typeof a[0]!="number"&&(this.mixKeyframes=Kp(kue,s5(a[0],a[1])),a=[0,100]);const d=c({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=SC(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:m,repeatDelay:y,type:b,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,_=r;if(p){const A=Math.min(this.currentTime,i)/a;let L=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&L--,L=Math.min(L,p+1),!!(L%2)&&(m==="reverse"?(I=1-I,y&&(I-=y/a)):m==="mirror"&&(_=o)),E=jo(0,1,I)*a}const T=k?{done:!1,value:f[0]}:_.next(E);s&&(T.value=s(T.value));let{done:P}=T;!k&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return N&&b!==XS&&(T.value=MC(f,this.options,w,this.speed)),v&&v(T.value),N&&this.finish(),T}then(e,t){return this.finished.then(e,t)}get duration(){return Ns(this.calculatedDuration)}get time(){return Ns(this.currentTime)}set time(e){var t;e=Rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ns(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=cue,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Eue(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ec=n=>n*180/Math.PI,JS=n=>{const e=ec(Math.atan2(n[1],n[0]));return ZS(e)},Tue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:JS,rotateZ:JS,skewX:n=>ec(Math.atan(n[1])),skewY:n=>ec(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ZS=n=>(n=n%360,n<0&&(n+=360),n),y2=JS,b2=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),v2=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Oue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b2,scaleY:v2,scale:n=>(b2(n)+v2(n))/2,rotateX:n=>ZS(ec(Math.atan2(n[6],n[5]))),rotateY:n=>ZS(ec(Math.atan2(-n[2],n[0]))),rotateZ:y2,rotate:y2,skewX:n=>ec(Math.atan(n[4])),skewY:n=>ec(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function eM(n){return n.includes("scale")?1:0}function tM(n,e){if(!n||n==="none")return eM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=Oue,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Tue,i=a}if(!i)return eM(e);const s=r[e],o=i[1].split(",").map(Aue);return typeof s=="function"?s(o):o[s]}const _ue=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return tM(t,e)};function Aue(n){return parseFloat(n.trim())}const Yd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wd=new Set(Yd),x2=n=>n===$d||n===Ne,Rue=new Set(["x","y","z"]),Nue=Yd.filter(n=>!Rue.has(n));function Pue(n){const e=[];return Nue.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Sc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>tM(e,"x"),y:(n,{transform:e})=>tM(e,"y")};Sc.translateX=Sc.x;Sc.translateY=Sc.y;const Mc=new Set;let nM=!1,rM=!1,iM=!1;function c5(){if(rM){const n=Array.from(Mc).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Pue(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rM=!1,nM=!1,Mc.forEach(n=>n.complete(iM)),Mc.clear()}function u5(){Mc.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(rM=!0)})}function Lue(){iM=!0,u5(),c5(),iM=!1}class kC{constructor(e,t,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Mc.add(this),nM||(nM=!0,qt.read(u5),qt.resolveKeyframes(c5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const a=r.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}Eue(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mc.delete(this)}cancel(){this.state==="scheduled"&&(Mc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Iue=n=>n.startsWith("--");function jue(n,e,t){Iue(e)?n.style.setProperty(e,t):n.style[e]=t}const Bue=hC(()=>window.ScrollTimeline!==void 0),Fue={};function zue(n,e){const t=hC(n);return()=>Fue[e]??t()}const d5=zue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,w2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function f5(n,e){if(n)return typeof n=="function"?d5()?o5(n,e):"ease-out":G3(n)?yh(n):Array.isArray(n)?n.map(t=>f5(t,e)||w2.easeOut):w2[n]}function Vue(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:c}={},d=void 0){const f={[e]:t};c&&(f.offset=c);const p=f5(a,i);Array.isArray(p)&&(f.easing=p);const m={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),n.animate(f,m)}function h5(n){return typeof n=="function"&&"applyToOptions"in n}function Hue({type:n,...e}){return h5(n)&&d5()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Uue extends DC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,fC(typeof e.type!="string");const d=Hue(e);this.animation=Vue(t,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=MC(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):jue(t,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return Ns(Number(e))}get time(){return Ns(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Bue()?(this.animation.timeline=e,Ai):t(this)}}const p5={anticipate:W3,backInOut:Y3,circInOut:K3};function $ue(n){return n in p5}function Yue(n){typeof n.ease=="string"&&$ue(n.ease)&&(n.ease=p5[n.ease])}const S2=10;class Wue extends Uue{constructor(e){Yue(e),l5(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new CC({...o,autoplay:!1}),c=Rs(this.finishedTime??this.time);t.setWithVelocity(a.sample(c-S2).value,a.sample(c).value,S2),a.stop()}}const M2=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(al.test(n)||n==="0")&&!n.startsWith("url("));function que(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Kue(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=M2(i,e),a=M2(s,e);return!o||!a?!1:que(n)||(t==="spring"||h5(t))&&r}const Que=new Set(["opacity","clipPath","filter","transform"]),Gue=hC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xue(n){var f;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:o}=n;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Gue()&&t&&Que.has(t)&&(t!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Jue=40;class Zue extends DC{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:c,motionValue:d,element:f,...p}){var b;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Vr.now();const m={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...p},y=(f==null?void 0:f.KeyframeResolver)||kC;this.keyframeResolver=new y(a,(v,w,M)=>this.onKeyframesResolved(v,w,m,!M),c,d,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Vr.now(),Kue(e,s,o,a)||((Bo.instantAnimations||!c)&&(f==null||f(MC(e,r,t))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Jue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},y=!d&&Xue(m)?new Wue({...m,element:m.motionValue.owner.current}):new CC(m);y.finished.then(()=>this.notifyFinished()).catch(Ai),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Lue()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ede=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tde(n){const e=ede.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function m5(n,e,t=1){const[r,i]=tde(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return j3(o)?parseFloat(o):o}return bC(i)?m5(i,e,t+1):i}function EC(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const g5=new Set(["width","height","top","left","right","bottom",...Yd]),nde={test:n=>n==="auto",parse:n=>n},y5=n=>e=>e.test(n),b5=[$d,Ne,Ps,ba,qce,Wce,nde],D2=n=>b5.find(y5(n));function rde(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||F3(n):!0}const ide=new Set(["brightness","contrast","saturate","opacity"]);function sde(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(vC)||[];if(!r)return n;const i=t.replace(r,"");let s=ide.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const ode=/\b([a-z-]*)\(.*?\)/gu,sM={...al,getAnimatableNone:n=>{const e=n.match(ode);return e?e.map(sde).join(" "):n}},C2={...$d,transform:Math.round},ade={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:Wg,scaleX:Wg,scaleY:Wg,scaleZ:Wg,skew:ba,skewX:ba,skewY:ba,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:mp,originX:f2,originY:f2,originZ:Ne},TC={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...ade,zIndex:C2,fillOpacity:mp,strokeOpacity:mp,numOctaves:C2},lde={...TC,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:sM,WebkitFilter:sM},v5=n=>lde[n];function x5(n,e){let t=v5(n);return t!==sM&&(t=al),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const cde=new Set(["auto","none","0"]);function ude(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!cde.has(s)&&gp(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=x5(t,i)}class dde extends kC{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),bC(d))){const f=m5(d,t.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!g5.has(r)||e.length!==2)return;const[i,s]=e,o=D2(i),a=D2(s);if(o!==a)if(x2(o)&&x2(a))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Sc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||rde(e[i]))&&r.push(i);r.length&&ude(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Sc[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function fde(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const w5=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function S5(n){return B3(n)&&"offsetHeight"in n}const k2=30,hde=n=>!isNaN(parseFloat(n));class pde{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Vr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new pC);const r=this.events[e].add(t);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>k2)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,k2);return z3(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ed(n,e){return new pde(n,e)}const{schedule:OC}=X3(queueMicrotask,!1),Vi={x:!1,y:!1};function M5(){return Vi.x||Vi.y}function mde(n){return n==="x"||n==="y"?Vi[n]?null:(Vi[n]=!0,()=>{Vi[n]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function D5(n,e){const t=fde(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function E2(n){return!(n.pointerType==="touch"||M5())}function gde(n,e,t={}){const[r,i,s]=D5(n,t),o=a=>{if(!E2(a))return;const{target:c}=a,d=e(c,a);if(typeof d!="function"||!c)return;const f=p=>{E2(p)&&(d(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const C5=(n,e)=>e?n===e?!0:C5(n,e.parentElement):!1,_C=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,yde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bde(n){return yde.has(n.tagName)||n.tabIndex!==-1}const Cy=new WeakSet;function T2(n){return e=>{e.key==="Enter"&&n(e)}}function hw(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vde=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=T2(()=>{if(Cy.has(t))return;hw(t,"down");const i=T2(()=>{hw(t,"up")}),s=()=>hw(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function O2(n){return _C(n)&&!M5()}function xde(n,e,t={}){const[r,i,s]=D5(n,t),o=a=>{const c=a.currentTarget;if(!O2(a))return;Cy.add(c);const d=e(c,a),f=(y,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),Cy.has(c)&&Cy.delete(c),O2(y)&&typeof d=="function"&&d(y,{success:b})},p=y=>{f(y,c===window||c===document||t.useGlobalTarget||C5(c,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),S5(a)&&(a.addEventListener("focus",d=>vde(d,i)),!bde(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function k5(n){return B3(n)&&"ownerSVGElement"in n}function wde(n){return k5(n)&&n.tagName==="svg"}const pr=n=>!!(n&&n.getVelocity),Sde=[...b5,vn,al],Mde=n=>Sde.find(y5(n)),AC=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Dde extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=S5(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cde({children:n,isPresent:e,anchorX:t,root:r}){const i=D.useId(),s=D.useRef(null),o=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=D.useContext(AC);return D.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:p,right:m}=o.current;if(e||!s.current||!c||!d)return;const y=t==="left"?`left: ${p}`:`right: ${m}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const v=r??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
        `),()=>{v.removeChild(b),v.contains(b)&&v.removeChild(b)}},[e]),C.jsx(hde,{isPresent:e,childRef:s,sizeRef:o,children:D.cloneElement(n,{ref:s})})}const mde=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const d=aC(gde),f=D.useId();let p=!0,m=D.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:t,custom:i,onExitComplete:y=>{d.set(y,!0);for(const b of d.values())if(!b)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[t,d,r]);return s&&p&&(m={...m}),D.useMemo(()=>{d.forEach((y,b)=>d.set(b,!1))},[t]),D.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),o==="popLayout"&&(n=C.jsx(pde,{isPresent:t,anchorX:a,root:c,children:n})),C.jsx(Pb.Provider,{value:m,children:n})};function gde(){return new Map}function Sz(n=!0){const e=D.useContext(Pb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=D.useId();D.useEffect(()=>{if(n)return i(s)},[n]);const o=D.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const qg=n=>n.key||"";function T2(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const Mz=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[d,f]=Sz(o),p=D.useMemo(()=>T2(n),[n]),m=o&&!d?[]:p.map(qg),y=D.useRef(!0),b=D.useRef(p),v=aC(()=>new Map),[w,M]=D.useState(p),[k,E]=D.useState(p);A3(()=>{y.current=!1,b.current=p;for(let P=0;P<k.length;P++){const N=qg(k[P]);m.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[k,m.length,m.join("-")]);const A=[];if(p!==w){let P=[...p];for(let N=0;N<k.length;N++){const _=k[N],L=qg(_);m.includes(L)||(P.splice(N,0,_),A.push(_))}return s==="wait"&&A.length&&(P=A),E(T2(P)),M(p),null}const{forceRender:T}=D.useContext(oC);return C.jsx(C.Fragment,{children:k.map(P=>{const N=qg(P),_=o&&!d?!1:p===k||m.includes(N),L=()=>{if(v.has(N))v.set(N,!0);else return;let I=!0;v.forEach(V=>{V||(I=!1)}),I&&(T==null||T(),E(b.current),o&&(f==null||f()),r&&r())};return C.jsx(mde,{isPresent:_,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:_?void 0:L,anchorX:a,children:P},N)})})},Dz=D.createContext({strict:!1}),O2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Od={};for(const n in O2)Od[n]={isEnabled:e=>O2[n].some(t=>!!e[t])};function yde(n){for(const e in n)Od[e]={...Od[e],...n[e]}}const bde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||bde.has(n)}let Cz=n=>!R0(n);function vde(n){typeof n=="function"&&(Cz=e=>e.startsWith("on")?!R0(e):n(e))}try{vde(require("@emotion/is-prop-valid").default)}catch{}function xde(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(Cz(i)||t===!0&&R0(i)||!e&&!R0(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const Lb=D.createContext({});function Ib(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function bp(n){return typeof n=="string"||Array.isArray(n)}const AC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RC=["initial",...AC];function jb(n){return Ib(n.animate)||RC.some(e=>bp(n[e]))}function kz(n){return!!(jb(n)||n.variants)}function wde(n,e){if(jb(n)){const{initial:t,animate:r}=n;return{initial:t===!1||bp(t)?t:void 0,animate:bp(r)?r:void 0}}return n.inherit!==!1?e:{}}function Sde(n){const{initial:e,animate:t}=wde(n,D.useContext(Lb));return D.useMemo(()=>({initial:e,animate:t}),[_2(e),_2(t)])}function _2(n){return Array.isArray(n)?n.join(" "):n}const vp={};function Mde(n){for(const e in n)vp[e]=n[e],gC(e)&&(vp[e].isCSSVariable=!0)}function Ez(n,{layout:e,layoutId:t}){return qd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!vp[n]||n==="opacity")}const Dde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cde=Wd.length;function kde(n,e,t){let r="",i=!0;for(let s=0;s<Cde;s++){const o=Wd[s],a=n[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||t){const d=gz(a,EC[o]);if(!c){i=!1;const f=Dde[o]||o;r+=`${f}(${d}) `}t&&(e[o]=d)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function NC(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const c in e){const d=e[c];if(qd.has(c)){o=!0;continue}else if(gC(c)){i[c]=d;continue}else{const f=gz(d,EC[c]);c.startsWith("origin")?(a=!0,s[c]=f):r[c]=f}}if(e.transform||(o||t?r.transform=kde(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}const PC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tz(n,e,t){for(const r in e)!gr(e[r])&&!Ez(r,t)&&(n[r]=e[r])}function Ede({transformTemplate:n},e){return D.useMemo(()=>{const t=PC();return NC(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Tde(n,e){const t=n.style||{},r={};return Tz(r,t,n),Object.assign(r,Ede(n,e)),r}function Ode(n,e){const t={},r=Tde(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const _de={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ade={offset:"strokeDashoffset",array:"strokeDasharray"};function Rde(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?_de:Ade;n[s.offset]=Ne.transform(-r);const o=Ne.transform(e),a=Ne.transform(t);n[s.array]=`${o} ${a}`}function Oz(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,d,f){if(NC(n,a,d),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m}=n;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),i!==void 0&&Rde(p,i,s,o,!1)}const _z=()=>({...PC(),attrs:{}}),Az=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Nde(n,e,t,r){const i=D.useMemo(()=>{const s=_z();return Oz(s,e,Az(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Tz(s,n.style,n),i.style={...s,...i.style}}return i}const Pde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LC(n){return typeof n!="string"||n.includes("-")?!1:!!(Pde.indexOf(n)>-1||/[A-Z]/u.test(n))}function Lde(n,e,t,{latestValues:r},i,s=!1){const a=(LC(n)?Nde:Ode)(e,r,i,n),c=xde(e,typeof n=="string",s),d=n!==D.Fragment?{...c,...a,ref:t}:{},{children:f}=e,p=D.useMemo(()=>gr(f)?f.get():f,[f]);return D.createElement(n,{...d,children:p})}function A2(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function IC(n,e,t,r){if(typeof e=="function"){const[i,s]=A2(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=A2(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function ky(n){return gr(n)?n.get():n}function Ide({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:jde(t,r,i,n),renderState:e()}}function jde(n,e,t,r){const i={},s=r(n,{});for(const m in s)i[m]=ky(s[m]);let{initial:o,animate:a}=n;const c=jb(n),d=kz(n);e&&d&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!Ib(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const b=IC(n,m[y]);if(b){const{transitionEnd:v,transition:w,...M}=b;for(const k in M){let E=M[k];if(Array.isArray(E)){const A=f?E.length-1:0;E=E[A]}E!==null&&(i[k]=E)}for(const k in v)i[k]=v[k]}}}return i}const Rz=n=>(e,t)=>{const r=D.useContext(Lb),i=D.useContext(Pb),s=()=>Ide(n,e,r,i);return t?s():aC(s)};function jC(n,e,t){var s;const{style:r}=n,i={};for(const o in r)(gr(r[o])||e.style&&gr(e.style[o])||Ez(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Bde=Rz({scrapeMotionValuesFromProps:jC,createRenderState:PC});function Nz(n,e,t){const r=jC(n,e,t);for(const i in n)if(gr(n[i])||gr(e[i])){const s=Wd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const Fde=Rz({scrapeMotionValuesFromProps:Nz,createRenderState:_z}),zde=Symbol.for("motionComponentSymbol");function Vu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Vde(n,e,t){return D.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Vu(t)&&(t.current=r))},[e])}const BC=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Hde="framerAppearId",Pz="data-"+BC(Hde),Lz=D.createContext({});function Ude(n,e,t,r,i){var v,w;const{visualElement:s}=D.useContext(Lb),o=D.useContext(Dz),a=D.useContext(Pb),c=D.useContext(_C).reducedMotion,d=D.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=D.useContext(Lz);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&$de(d.current,t,i,p);const m=D.useRef(!1);D.useInsertionEffect(()=>{f&&m.current&&f.update(t,a)});const y=t[Pz],b=D.useRef(!!y&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,y))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,y)));return A3(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),D.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,y)}),b.current=!1))}),f}function $de(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Iz(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Vu(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function Iz(n){if(n)return n.options.allowProjection!==!1?n.projection:Iz(n.parent)}function pw(n,{forwardMotionProps:e=!1}={},t,r){t&&yde(t);const i=LC(n)?Fde:Bde;function s(a,c){let d;const f={...D.useContext(_C),...a,layoutId:Yde(a)},{isStatic:p}=f,m=Sde(a),y=i(a,p);if(!p&&lC){Wde();const b=qde(f);d=b.MeasureLayout,m.visualElement=Ude(n,y,f,r,b.ProjectionNode)}return C.jsxs(Lb.Provider,{value:m,children:[d&&m.visualElement?C.jsx(d,{visualElement:m.visualElement,...f}):null,Lde(n,a,Vde(y,m.visualElement,c),y,p,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=D.forwardRef(s);return o[zde]=n,o}function Yde({layoutId:n}){const e=D.useContext(oC).id;return e&&n!==void 0?e+"-"+n:n}function Wde(n,e){D.useContext(Dz).strict}function qde(n){const{drag:e,layout:t}=Od;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Kde(n,e){if(typeof Proxy>"u")return pw;const t=new Map,r=(s,o)=>pw(s,o,n,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(t.has(o)||t.set(o,pw(o,void 0,n,e)),t.get(o))})}function jz({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Qde({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Gde(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function mw(n){return n===void 0||n===1}function oM({scale:n,scaleX:e,scaleY:t}){return!mw(n)||!mw(e)||!mw(t)}function Hl(n){return oM(n)||Bz(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Bz(n){return R2(n.x)||R2(n.y)}function R2(n){return n&&n!=="0%"}function N0(n,e,t){const r=n-t,i=e*r;return t+i}function N2(n,e,t,r,i){return i!==void 0&&(n=N0(n,i,r)),N0(n,t,r)+e}function aM(n,e=0,t=1,r,i){n.min=N2(n.min,e,t,r,i),n.max=N2(n.max,e,t,r,i)}function Fz(n,{x:e,y:t}){aM(n.x,e.translate,e.scale,e.originPoint),aM(n.y,t.translate,t.scale,t.originPoint)}const P2=.999999999999,L2=1.0000000000001;function Xde(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Uu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Fz(n,o)),r&&Hl(s.latestValues)&&Uu(n,s.latestValues))}e.x<L2&&e.x>P2&&(e.x=1),e.y<L2&&e.y>P2&&(e.y=1)}function Hu(n,e){n.min=n.min+e,n.max=n.max+e}function I2(n,e,t,r,i=.5){const s=Jt(n.min,n.max,i);aM(n,e,t,s,r)}function Uu(n,e){I2(n.x,e.x,e.scaleX,e.scale,e.originX),I2(n.y,e.y,e.scaleY,e.scale,e.originY)}function zz(n,e){return jz(Gde(n.getBoundingClientRect(),e))}function Jde(n,e,t){const r=zz(n,t),{scroll:i}=e;return i&&(Hu(r.x,i.offset.x),Hu(r.y,i.offset.y)),r}const j2=()=>({translate:0,scale:1,origin:0,originPoint:0}),$u=()=>({x:j2(),y:j2()}),B2=()=>({min:0,max:0}),fn=()=>({x:B2(),y:B2()}),lM={current:null},Vz={current:!1};function Zde(){if(Vz.current=!0,!!lC)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>lM.current=n.matches;n.addEventListener("change",e),e()}else lM.current=!1}const efe=new WeakMap;function tfe(n,e,t){for(const r in e){const i=e[r],s=t[r];if(gr(i))n.addValue(r,i);else if(gr(s))n.addValue(r,Td(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,Td(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const F2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nfe{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=CC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ur.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,qt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=jb(t),this.isVariantNode=kz(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const y=p[m];c[m]!==void 0&&gr(y)&&y.set(c[m],!1)}}mount(e){this.current=e,efe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Vz.current||Zde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),al(this.notifyUpdate),al(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=qd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Od){const t=Od[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<F2.length;r++){const i=F2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=tfe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Td(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(R3(r)||P3(r))?r=parseFloat(r):!fde(r)&&ll.test(t)&&(r=mz(e,t)),this.setBaseTarget(e,gr(r)?r.get():r)),gr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=IC(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!gr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new hC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){TC.render(this.render)}}class Hz extends nfe{constructor(){super(...arguments),this.KeyframeResolver=ede}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Uz(n,{style:e,vars:t},r,i){const s=n.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in t)s.setProperty(o,t[o])}function rfe(n){return window.getComputedStyle(n)}class ife extends Hz{constructor(){super(...arguments),this.type="html",this.renderInstance=Uz}readValueFromInstance(e,t){var r;if(qd.has(t))return(r=this.projection)!=null&&r.isProjecting?eM(t):vue(e,t);{const i=rfe(e),s=(gC(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return zz(e,t)}build(e,t,r){NC(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return jC(e,t,r)}}const $z=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sfe(n,e,t,r){Uz(n,e,void 0,r);for(const i in e.attrs)n.setAttribute($z.has(i)?i:BC(i),e.attrs[i])}class ofe extends Hz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qd.has(t)){const r=pz(t);return r&&r.default||0}return t=$z.has(t)?t:BC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Nz(e,t,r)}build(e,t,r){Oz(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){sfe(e,t,r,i)}mount(e){this.isSVGTag=Az(e.tagName),super.mount(e)}}const afe=(n,e)=>LC(n)?new ofe(e):new ife(e,{allowProjection:n!==D.Fragment});function xp(n,e,t){const r=n.getProps();return IC(r,e,t!==void 0?t:r.custom,n)}const cM=n=>Array.isArray(n);function lfe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Td(t))}function cfe(n){return cM(n)?n[n.length-1]||0:n}function ufe(n,e){const t=xp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=cfe(s[o]);lfe(n,o,a)}}function dfe(n){return!!(gr(n)&&n.add)}function uM(n,e){const t=n.getValue("willChange");if(dfe(t))return t.add(e);if(!t&&Fo.WillChange){const r=new Fo.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Yz(n){return n.props[Pz]}const ffe=n=>n!==null;function hfe(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(ffe),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const pfe={type:"spring",stiffness:500,damping:25,restSpeed:10},mfe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gfe={type:"keyframes",duration:.8},yfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bfe=(n,{keyframes:e})=>e.length>2?gfe:qd.has(n)?n.startsWith("scale")?mfe(e[1]):pfe:yfe;function vfe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const FC=(n,e,t,r={},i,s)=>o=>{const a=kC(r,n)||{},c=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Rs(c);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};vfe(a)||Object.assign(f,bfe(n,f)),f.duration&&(f.duration=Rs(f.duration)),f.repeatDelay&&(f.repeatDelay=Rs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),(Fo.instantAnimations||Fo.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const m=hfe(f.keyframes,a);if(m!==void 0){qt.update(()=>{f.onUpdate(m),f.onComplete()});return}}return a.isSync?new DC(f):new Hue(f)};function xfe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Wz(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f,n.latestValues[f]??null),m=a[f];if(m===void 0||d&&xfe(d,f))continue;const y={delay:t,...kC(s||{},f)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===b&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const M=Yz(n);if(M){const k=window.MotionHandoffAnimation(M,f,qt);k!==null&&(y.startTime=k,v=!0)}}uM(n,f),p.start(FC(f,p,m,n.shouldReduceMotion&&dz.has(f)?{type:!1}:y,n,v));const w=p.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{qt.update(()=>{o&&ufe(n,o)})}),c}function dM(n,e,t={}){var c;const r=xp(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(Wz(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return wfe(n,e,d,f,p,m,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,f]=a==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(t.delay)])}function wfe(n,e,t=0,r=0,i=0,s=1,o){const a=[],c=n.variantChildren.size,d=(c-1)*i,f=typeof r=="function",p=f?m=>r(m,c):s===1?(m=0)=>m*i:(m=0)=>d-m*i;return Array.from(n.variantChildren).sort(Sfe).forEach((m,y)=>{m.notify("AnimationStart",e),a.push(dM(m,e,{...o,delay:t+(f?0:r)+p(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(a)}function Sfe(n,e){return n.sortNodePosition(e)}function Mfe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>dM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=dM(n,e,t);else{const i=typeof e=="function"?xp(n,e,t.custom):e;r=Promise.all(Wz(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function qz(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Dfe=RC.length;function Kz(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Kz(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Dfe;t++){const r=RC[t],i=n.props[r];(bp(i)||i===!1)&&(e[r]=i)}return e}const Cfe=[...AC].reverse(),kfe=AC.length;function Efe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Mfe(n,t,r)))}function Tfe(n){let e=Efe(n),t=z2(),r=!0;const i=c=>(d,f)=>{var m;const p=xp(n,f,c==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);if(p){const{transition:y,transitionEnd:b,...v}=p;d={...d,...v,...b}}return d};function s(c){e=c(n)}function o(c){const{props:d}=n,f=Kz(n.parent)||{},p=[],m=new Set;let y={},b=1/0;for(let w=0;w<kfe;w++){const M=Cfe[w],k=t[M],E=d[M]!==void 0?d[M]:f[M],A=bp(E),T=M===c?k.isActive:null;T===!1&&(b=w);let P=E===f[M]&&E!==d[M]&&A;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),k.protectedKeys={...y},!k.isActive&&T===null||!E&&!k.prevProp||Ib(E)||typeof E=="boolean")continue;const N=Ofe(k.prevProp,E);let _=N||M===c&&k.isActive&&!P&&A||w>b&&A,L=!1;const I=Array.isArray(E)?E:[E];let V=I.reduce(i(M),{});T===!1&&(V={});const{prevResolvedValues:q={}}=k,ae={...q,...V},de=U=>{_=!0,m.has(U)&&(L=!0,m.delete(U)),k.needsAnimating[U]=!0;const J=n.getValue(U);J&&(J.liveStyle=!1)};for(const U in ae){const J=V[U],ce=q[U];if(y.hasOwnProperty(U))continue;let j=!1;cM(J)&&cM(ce)?j=!qz(J,ce):j=J!==ce,j?J!=null?de(U):m.add(U):J!==void 0&&m.has(U)?de(U):k.protectedKeys[U]=!0}k.prevProp=E,k.prevResolvedValues=V,k.isActive&&(y={...y,...V}),r&&n.blockInitialAnimation&&(_=!1),_&&(!(P&&N)||L)&&p.push(...I.map(U=>({animation:U,options:{type:M}})))}if(m.size){const w={};if(typeof d.initial!="boolean"){const M=xp(n,Array.isArray(d.initial)?d.initial[0]:d.initial);M&&M.transition&&(w.transition=M.transition)}m.forEach(M=>{const k=n.getBaseTarget(M),E=n.getValue(M);E&&(E.liveStyle=!0),w[M]=k??null}),p.push({animation:w})}let v=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function a(c,d){var p;if(t[c].isActive===d)return Promise.resolve();(p=n.variantChildren)==null||p.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(c,d)}),t[c].isActive=d;const f=o(c);for(const m in t)t[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=z2(),r=!0}}}function Ofe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!qz(e,n):!1}function jl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z2(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _fe extends pl{constructor(e){super(e),e.animationState||(e.animationState=Tfe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ib(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Afe=0;class Rfe extends pl{constructor(){super(...arguments),this.id=Afe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nfe={animation:{Feature:_fe},exit:{Feature:Rfe}};function wp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Jp(n){return{point:{x:n.pageX,y:n.pageY}}}const Pfe=n=>e=>OC(e)&&n(e,Jp(e));function Fh(n,e,t,r){return wp(n,e,Pfe(t),r)}const Qz=1e-4,Lfe=1-Qz,Ife=1+Qz,Gz=.01,jfe=0-Gz,Bfe=0+Gz;function Tr(n){return n.max-n.min}function Ffe(n,e,t){return Math.abs(n-e)<=t}function V2(n,e,t,r=.5){n.origin=r,n.originPoint=Jt(e.min,e.max,n.origin),n.scale=Tr(t)/Tr(e),n.translate=Jt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Lfe&&n.scale<=Ife||isNaN(n.scale))&&(n.scale=1),(n.translate>=jfe&&n.translate<=Bfe||isNaN(n.translate))&&(n.translate=0)}function zh(n,e,t,r){V2(n.x,e.x,t.x,r?r.originX:void 0),V2(n.y,e.y,t.y,r?r.originY:void 0)}function H2(n,e,t){n.min=t.min+e.min,n.max=n.min+Tr(e)}function zfe(n,e,t){H2(n.x,e.x,t.x),H2(n.y,e.y,t.y)}function U2(n,e,t){n.min=e.min-t.min,n.max=n.min+Tr(e)}function Vh(n,e,t){U2(n.x,e.x,t.x),U2(n.y,e.y,t.y)}function Mi(n){return[n("x"),n("y")]}const Xz=({current:n})=>n?n.ownerDocument.defaultView:null,$2=(n,e)=>Math.abs(n-e);function Vfe(n,e){const t=$2(n.x,e.x),r=$2(n.y,e.y);return Math.sqrt(t**2+r**2)}class Jz{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=yw(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=Vfe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:v}=m,{timestamp:w}=Gn;this.history.push({...v,timestamp:w});const{onStart:M,onMove:k}=this.handlers;y||(M&&M(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=gw(y,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=yw(m.type==="pointercancel"?this.lastMoveEventInfo:gw(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,M),v&&v(m,M)},!OC(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Jp(e),c=gw(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=Gn;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,yw(c,this.history)),this.removeListeners=Qp(Fh(this.contextWindow,"pointermove",this.handlePointerMove),Fh(this.contextWindow,"pointerup",this.handlePointerUp),Fh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),al(this.updatePoint)}}function gw(n,e){return e?{point:e(n.point)}:n}function Y2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function yw({point:n},e){return{point:n,delta:Y2(n,Zz(e)),offset:Y2(n,Hfe(e)),velocity:Ufe(e,.1)}}function Hfe(n){return n[0]}function Zz(n){return n[n.length-1]}function Ufe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Zz(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Rs(e)));)t--;if(!r)return{x:0,y:0};const s=Ns(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $fe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jt(t,n,r.max):Math.min(n,t)),n}function W2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Yfe(n,{top:e,left:t,bottom:r,right:i}){return{x:W2(n.x,t,i),y:W2(n.y,e,r)}}function q2(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Wfe(n,e){return{x:q2(n.x,e.x),y:q2(n.y,e.y)}}function qfe(n,e){let t=.5;const r=Tr(n),i=Tr(e);return i>r?t=mp(e.min,e.max-r,n.min):r>i&&(t=mp(n.min,n.max-i,e.min)),Bo(0,1,t)}function Kfe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const fM=.35;function Qfe(n=fM){return n===!1?n=0:n===!0&&(n=fM),{x:K2(n,"left","right"),y:K2(n,"top","bottom")}}function K2(n,e,t){return{min:Q2(n,e),max:Q2(n,t)}}function Q2(n,e){return typeof n=="number"?n:n[e]||0}const Gfe=new WeakMap;class Xfe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Jp(p).point)},o=(p,m)=>{const{drag:y,dragPropagation:b,onDragStart:v}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ide(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(M=>{let k=this.getAxisMotionValue(M).get()||0;if(Ps.test(k)){const{projection:E}=this.visualElement;if(E&&E.layout){const A=E.layout.layoutBox[M];A&&(k=Tr(A)*(parseFloat(k)/100))}}this.originPoint[M]=k}),v&&qt.postRender(()=>v(p,m)),uM(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:v,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:M}=m;if(b&&this.currentDirection===null){this.currentDirection=Jfe(M),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,M),this.updateAxis("y",m.point,M),this.visualElement.render(),w&&w(p,m)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Mi(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Jz(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:Xz(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Kg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$fe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Vu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Yfe(r.layoutBox,e):this.constraints=!1,this.elastic=Qfe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kfe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Jde(r,i.root,this.visualElement.getTransformPagePoint());let o=Wfe(i.layout.layoutBox,s);if(t){const a=t(Qde(o));this.hasMutatedConstraints=!!a,a&&(o=jz(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=Mi(f=>{if(!Kg(f,t,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return uM(this.visualElement,e),r.start(FC(e,r,0,t,this.visualElement,!1))}stopAnimation(){Mi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mi(t=>{const{drag:r}=this.getProps();if(!Kg(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Jt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Vu(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=qfe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mi(o=>{if(!Kg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(Jt(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Gfe.set(this.visualElement,this);const e=this.visualElement.current,t=Fh(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Vu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qt.read(r);const o=wp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mi(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Kg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Jfe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Zfe extends pl{constructor(e){super(e),this.removeGroupControls=Ri,this.removeListeners=Ri,this.controls=new Xfe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const G2=n=>(e,t)=>{n&&qt.postRender(()=>n(e,t))};class ehe extends pl{constructor(){super(...arguments),this.removePointerDownListener=Ri}onPointerDown(e){this.session=new Jz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:G2(e),onStart:G2(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&qt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ey={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ih={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ne.test(n))n=parseFloat(n);else return n;const t=X2(n,e.target.x),r=X2(n,e.target.y);return`${t}% ${r}%`}},the={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=ll.parse(n);if(i.length>5)return r;const s=ll.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=Jt(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let J2=!1;class nhe extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Mde(rhe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),J2&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ey.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,J2=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||qt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),TC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e5(n){const[e,t]=Sz(),r=D.useContext(oC);return C.jsx(nhe,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(Lz),isPresent:e,safeToRemove:t})}const rhe={borderRadius:{...ih,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ih,borderTopRightRadius:ih,borderBottomLeftRadius:ih,borderBottomRightRadius:ih,boxShadow:the};function ihe(n,e,t){const r=gr(n)?n:Td(n);return r.start(FC("",r,e,t)),r.animation}const she=(n,e)=>n.depth-e.depth;class ohe{constructor(){this.children=[],this.isDirty=!1}add(e){cC(this.children,e),this.isDirty=!0}remove(e){uC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(she),this.isDirty=!1,this.children.forEach(e)}}function ahe(n,e){const t=Ur.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(al(r),n(s-e))};return qt.setup(r,!0),()=>al(r)}const t5=["TopLeft","TopRight","BottomLeft","BottomRight"],lhe=t5.length,Z2=n=>typeof n=="string"?parseFloat(n):n,eP=n=>typeof n=="number"||Ne.test(n);function che(n,e,t,r,i,s){i?(n.opacity=Jt(0,t.opacity??1,uhe(r)),n.opacityExit=Jt(e.opacity??1,0,dhe(r))):s&&(n.opacity=Jt(e.opacity??1,t.opacity??1,r));for(let o=0;o<lhe;o++){const a=`border${t5[o]}Radius`;let c=tP(e,a),d=tP(t,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||eP(c)===eP(d)?(n[a]=Math.max(Jt(Z2(c),Z2(d),r),0),(Ps.test(d)||Ps.test(c))&&(n[a]+="%")):n[a]=d}(e.rotate||t.rotate)&&(n.rotate=Jt(e.rotate||0,t.rotate||0,r))}function tP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const uhe=n5(0,.5,H3),dhe=n5(.5,.95,Ri);function n5(n,e,t){return r=>r<n?0:r>e?1:t(mp(n,e,r))}function nP(n,e){n.min=e.min,n.max=e.max}function Si(n,e){nP(n.x,e.x),nP(n.y,e.y)}function rP(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function iP(n,e,t,r,i){return n-=e,n=N0(n,1/t,r),i!==void 0&&(n=N0(n,1/i,r)),n}function fhe(n,e=0,t=1,r=.5,i,s=n,o=n){if(Ps.test(e)&&(e=parseFloat(e),e=Jt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Jt(s.min,s.max,r);n===s&&(a-=e),n.min=iP(n.min,e,t,a,i),n.max=iP(n.max,e,t,a,i)}function sP(n,e,[t,r,i],s,o){fhe(n,e[t],e[r],e[i],e.scale,s,o)}const hhe=["x","scaleX","originX"],phe=["y","scaleY","originY"];function oP(n,e,t,r){sP(n.x,e,hhe,t?t.x:void 0,r?r.x:void 0),sP(n.y,e,phe,t?t.y:void 0,r?r.y:void 0)}function aP(n){return n.translate===0&&n.scale===1}function r5(n){return aP(n.x)&&aP(n.y)}function lP(n,e){return n.min===e.min&&n.max===e.max}function mhe(n,e){return lP(n.x,e.x)&&lP(n.y,e.y)}function cP(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function i5(n,e){return cP(n.x,e.x)&&cP(n.y,e.y)}function uP(n){return Tr(n.x)/Tr(n.y)}function dP(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class ghe{constructor(){this.members=[]}add(e){cC(this.members,e),e.scheduleRender()}remove(e){if(uC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yhe(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:y,skewY:b}=t;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=n.x.scale*e.x,c=n.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const bw=["","X","Y","Z"],bhe=1e3;let vhe=0;function vw(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function s5(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Yz(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",qt,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&s5(r)}function o5({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=vhe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(She),this.nodes.forEach(khe),this.nodes.forEach(Ehe),this.nodes.forEach(Mhe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ohe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wz(o)&&!ude(o),this.instance=o;const{layoutId:a,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),n){let f,p=0;const m=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{p=window.innerWidth}),n(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=ahe(m,250),Ey.hasAnimatedSinceResize&&(Ey.hasAnimatedSinceResize=!1,this.nodes.forEach(pP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Rhe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),M=!this.targetLayout||!i5(this.targetLayout,y),k=!p&&m;if(this.options.layoutRoot||this.resumeFrom||k||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...kC(b,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,k)}else p||pP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),al(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(The),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&s5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Che),this.nodes.forEach(xhe),this.nodes.forEach(whe)):this.nodes.forEach(hP),this.clearAllSnapshots();const a=Ur.now();Gn.delta=Bo(0,1e3/60,a-Gn.timestamp),Gn.timestamp=a,Gn.isProcessing=!0,lw.update.process(Gn),lw.preRender.process(Gn),lw.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,TC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dhe),this.sharedNodes.forEach(Ohe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tr(this.snapshot.measuredBox.x)&&!Tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!r5(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||Hl(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),Nhe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return fn();const a=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Phe))){const{scroll:f}=this.root;f&&(Hu(a.x,f.offset.x),Hu(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=fn();if(Si(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Si(a,o),Hu(a.x,p.offset.x),Hu(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=fn();Si(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Uu(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Hl(f.latestValues)&&Uu(c,f.latestValues)}return Hl(this.latestValues)&&Uu(c,this.latestValues),c}removeTransform(o){const a=fn();Si(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Hl(d.latestValues))continue;oM(d.latestValues)&&d.updateSnapshot();const f=fn(),p=d.measurePageBox();Si(f,p),oP(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Hl(this.latestValues)&&oP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Vh(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Si(this.target,this.layout.layoutBox),Fz(this.target,this.targetDelta)):Si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Vh(this.relativeTargetOrigin,this.target,y.target),Si(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oM(this.parent.latestValues)||Bz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Si(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Xde(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=fn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rP(this.prevProjectionDelta.x,this.projectionDelta.x),rP(this.prevProjectionDelta.y,this.projectionDelta.y)),zh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!dP(this.projectionDelta.x,this.prevProjectionDelta.x)||!dP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$u(),this.projectionDelta=$u(),this.projectionDeltaWithTransform=$u()}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=$u();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=fn(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=y!==b,w=this.getStack(),M=!w||w.members.length<=1,k=!!(v&&!M&&this.options.crossfade===!0&&!this.path.some(Ahe));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const T=A/1e3;mP(p.x,o.x,T),mP(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_he(this.relativeTarget,this.relativeTargetOrigin,m,T),E&&mhe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=fn()),Si(E,this.relativeTarget)),v&&(this.animationValues=f,che(f,d,this.latestValues,T,k,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(al(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Ey.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Td(0)),this.currentAnimation=ihe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bhe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&a5(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||fn();const p=Tr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const m=Tr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Si(a,c),Uu(a,f),zh(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ghe),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const d={};c.z&&vw("z",o,d,this.animationValues);for(let f=0;f<bw.length;f++)vw(`rotate${bw[f]}`,o,d,this.animationValues),vw(`skew${bw[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ky(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ky(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Hl(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=yhe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in vp){if(f[b]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:M}=vp[b],k=p==="none"?f[b]:v(f[b],d);if(w){const E=w.length;for(let A=0;A<E;A++)o[w[A]]=k}else M?this.options.visualElement.renderState.vars[b]=k:o[b]=k}this.options.layoutId&&(o.pointerEvents=d===this?ky(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(fP),this.root.sharedNodes.clear()}}}function xhe(n){n.updateLayout()}function whe(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?Mi(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=Tr(m);m.min=r[p].min,m.max=m.min+y}):a5(s,e.layoutBox,r)&&Mi(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=Tr(r[p]);m.max=m.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+y)});const a=$u();zh(a,r,e.layoutBox);const c=$u();o?zh(c,n.applyTransform(i,!0),e.measuredBox):zh(c,r,e.layoutBox);const d=!r5(a);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const b=fn();Vh(b,e.layoutBox,m.layoutBox);const v=fn();Vh(v,r,y.layoutBox),i5(b,v)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=b,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function She(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Mhe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Dhe(n){n.clearSnapshot()}function fP(n){n.clearMeasurements()}function hP(n){n.isLayoutDirty=!1}function Che(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function pP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function khe(n){n.resolveTargetDelta()}function Ehe(n){n.calcProjection()}function The(n){n.resetSkewAndRotation()}function Ohe(n){n.removeLeadSnapshot()}function mP(n,e,t){n.translate=Jt(e.translate,0,t),n.scale=Jt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function gP(n,e,t,r){n.min=Jt(e.min,t.min,r),n.max=Jt(e.max,t.max,r)}function _he(n,e,t,r){gP(n.x,e.x,t.x,r),gP(n.y,e.y,t.y,r)}function Ahe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Rhe={duration:.45,ease:[.4,0,.1,1]},yP=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),bP=yP("applewebkit/")&&!yP("chrome/")?Math.round:Ri;function vP(n){n.min=bP(n.min),n.max=bP(n.max)}function Nhe(n){vP(n.x),vP(n.y)}function a5(n,e,t){return n==="position"||n==="preserve-aspect"&&!Ffe(uP(e),uP(t),.2)}function Phe(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Lhe=o5({attachResizeListener:(n,e)=>wp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xw={current:void 0},l5=o5({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xw.current){const n=new Lhe({});n.mount(window),n.setOptions({layoutScroll:!0}),xw.current=n}return xw.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ihe={pan:{Feature:ehe},drag:{Feature:Zfe,ProjectionNode:l5,MeasureLayout:e5}};function xP(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&qt.postRender(()=>s(e,Jp(e)))}class jhe extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=sde(e,(t,r)=>(xP(this.node,r,"Start"),i=>xP(this.node,i,"End"))))}unmount(){}}class Bhe extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qp(wp(this.node.current,"focus",()=>this.onFocus()),wp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wP(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&qt.postRender(()=>s(e,Jp(e)))}class Fhe extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=cde(e,(t,r)=>(wP(this.node,r,"Start"),(i,{success:s})=>wP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hM=new WeakMap,ww=new WeakMap,zhe=n=>{const e=hM.get(n.target);e&&e(n)},Vhe=n=>{n.forEach(zhe)};function Hhe({root:n,...e}){const t=n||document;ww.has(t)||ww.set(t,{});const r=ww.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Vhe,{root:n,...e})),r[i]}function Uhe(n,e,t){const r=Hhe(e);return hM.set(n,t),r.observe(n),()=>{hM.delete(n),r.unobserve(n)}}const $he={some:0,all:1};class Yhe extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$he[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(c)};return Uhe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Whe(e,t))&&this.startObserver()}unmount(){}}function Whe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const qhe={inView:{Feature:Yhe},tap:{Feature:Fhe},focus:{Feature:Bhe},hover:{Feature:jhe}},Khe={layout:{ProjectionNode:l5,MeasureLayout:e5}},Qhe={...Nfe,...qhe,...Ihe,...Khe},tc=Kde(Qhe,afe),Os={duration:.8,ease:[.6,0,.01,.99]},SP={initial:{opacity:0,y:"100vh",scale:.9,transition:{...Os,duration:.6}},animate:{opacity:1,y:0,scale:1,transition:Os},exit:{opacity:0,y:"-100vh",scale:.9,transition:{...Os,duration:.6}}},Ghe={initial:{opacity:0,transition:Os},animate:{opacity:1,transition:Os},exit:{opacity:0,transition:{...Os,duration:.4}}},MP={slideLeft:{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1,transition:Os},exit:{x:"-100%",opacity:0,transition:Os}},slideRight:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1,transition:Os},exit:{x:"100%",opacity:0,transition:Os}}},Xhe={initial:{opacity:1},animate:{opacity:1},exit:{opacity:1}},c5=()=>{var t;const n=zo();switch((t=n.state)==null?void 0:t.animationType){case"fade":return{key:n.pathname,variants:Ghe,initial:"initial",animate:"animate",exit:"exit"};case"slideLeft":return{key:n.pathname,variants:MP.slideLeft,initial:"initial",animate:"animate",exit:"exit"};case"slideRight":return{key:n.pathname,variants:MP.slideRight,initial:"initial",animate:"animate",exit:"exit"};case"scroll":return{key:n.pathname,variants:SP,initial:"initial",animate:"animate",exit:"exit"};case"none":return{key:n.pathname,variants:Xhe,initial:"initial",animate:"animate",exit:"exit"}}return{key:n.pathname,variants:SP,initial:"initial",animate:"animate",exit:"exit"}},Jhe=()=>{const[n,e]=D.useState({mode:"list",journalId:null}),[t,r]=D.useState(null),[i,s]=D.useState(0),[o,a]=D.useState("all"),{user:c}=Un(),d=Kr(),[f,p]=D.useState(!1);c5();const m=T=>{d()&&(e({mode:"view",journalId:T}),r(null))},y=()=>{e(T=>({...T,mode:"edit"}))},b=()=>{d()&&e({mode:"create",journalId:null})},v=()=>{n.mode==="edit"?e(T=>({...T,mode:"view"})):e({mode:"list",journalId:null})},w=T=>{s(P=>P+1),T&&T.id?(r(T),e({mode:"view",journalId:T.id})):(e({mode:"list",journalId:null}),r(null))},M=()=>{d()&&p(!0)},k=async()=>{try{await Xle(n.journalId),Je.success("삭제되었습니다."),e({mode:"list",journalId:null}),s(T=>T+1)}catch{Je.error("삭제 중 오류가 발생했습니다.")}finally{p(!1)}},E={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},A=()=>{const T=n.mode+(n.journalId||"");switch(n.mode){case"create":return C.jsx(tc.div,{...E,children:C.jsx(l2,{onSaveSuccess:w,onCancel:v})},T);case"edit":return C.jsx(tc.div,{...E,children:C.jsx(l2,{journalId:n.journalId,onSaveSuccess:w,onCancel:v})},T);case"view":return C.jsx(tc.div,{...E,children:C.jsx(gce,{journalId:n.journalId,initialData:t,onEdit:y,onDelete:M})},T);default:return C.jsx(tc.div,{...E,children:C.jsxs("div",{className:"journal-placeholder",children:[C.jsxs("p",{children:["새로운 기록을 작성하거나",C.jsx("br",{}),"목록에서 수정할 항목을 선택해주세요."]}),C.jsx(jc,{onClick:b,active:!0,children:"작성하기"})]})},"placeholder")}};return C.jsxs("main",{className:"journal-page-wrapper",children:[C.jsxs("div",{className:"journal-page-container two-column",children:[C.jsxs("div",{className:"left-panel",children:[C.jsxs("div",{className:"panel-header",children:[C.jsx("h1",{className:"panel-title",children:"나의 저널 기록"}),C.jsx(mce,{selectedCategory:o,onSelectCategory:a})]}),C.jsx(ece,{category:o,onItemSelect:m,selectedJournalId:n.journalId,user:c},i)]}),C.jsx("div",{className:"right-panel",children:C.jsxs(Mz,{mode:"wait",children:[" // 추가",A()]})})]}),C.jsx(S3,{isOpen:f,onClose:()=>p(!1),onConfirm:k,message:"정말로 이 저널을 삭제하시겠습니까?"})]})},Zhe=()=>{const{openGallery:n}=LM();return D.useEffect(()=>{n()},[]),null},epe=()=>{const n=c5(),{key:e,...t}=n,r=()=>{window.dispatchEvent(new Event("layoutAnimationComplete"))};return C.jsx(tc.div,{style:{height:"100%",width:"100%"},...t,onAnimationComplete:r,children:C.jsx(Ap,{})},e)},DP=()=>{const n=ts();return D.useEffect(()=>{const t=Wi(new Date);n(`/diary/date/${t}`,{replace:!0})},[n]),null},tpe=()=>C.jsx("div",{className:"calendarPage-container",children:C.jsx(Ap,{})}),npe=async(n,e)=>{try{return(await en.get("/api/calendar",{params:{year:n,month:e}})).data}catch(t){throw console.error("Error fetching calendar entries:",t),t}},rpe=(n,e,t=!0)=>V0({queryKey:["calendarEntries",n,e],queryFn:()=>npe(n,e),enabled:t,staleTime:1e3*60*5});var $r=function(){return $r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$r.apply(this,arguments)};function P0(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Vt="-ms-",Hh="-moz-",bt="-webkit-",u5="comm",Bb="rule",zC="decl",ipe="@import",d5="@keyframes",spe="@layer",f5=Math.abs,VC=String.fromCharCode,pM=Object.assign;function ope(n,e){return Pn(n,0)^45?(((e<<2^Pn(n,0))<<2^Pn(n,1))<<2^Pn(n,2))<<2^Pn(n,3):0}function h5(n){return n.trim()}function yo(n,e){return(n=e.exec(n))?n[0]:n}function $e(n,e,t){return n.replace(e,t)}function Ty(n,e,t){return n.indexOf(e,t)}function Pn(n,e){return n.charCodeAt(e)|0}function _d(n,e,t){return n.slice(e,t)}function ws(n){return n.length}function p5(n){return n.length}function vh(n,e){return e.push(n),n}function ape(n,e){return n.map(e).join("")}function CP(n,e){return n.filter(function(t){return!yo(t,e)})}var Fb=1,Ad=1,m5=0,Li=0,wn=0,Kd="";function zb(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Fb,column:Ad,length:o,return:"",siblings:a}}function xa(n,e){return pM(zb("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Ru(n){for(;n.root;)n=xa(n.root,{children:[n]});vh(n,n.siblings)}function lpe(){return wn}function cpe(){return wn=Li>0?Pn(Kd,--Li):0,Ad--,wn===10&&(Ad=1,Fb--),wn}function Xi(){return wn=Li<m5?Pn(Kd,Li++):0,Ad++,wn===10&&(Ad=1,Fb++),wn}function Dc(){return Pn(Kd,Li)}function Oy(){return Li}function Vb(n,e){return _d(Kd,n,e)}function mM(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function upe(n){return Fb=Ad=1,m5=ws(Kd=n),Li=0,[]}function dpe(n){return Kd="",n}function Sw(n){return h5(Vb(Li-1,gM(n===91?n+2:n===40?n+1:n)))}function fpe(n){for(;(wn=Dc())&&wn<33;)Xi();return mM(n)>2||mM(wn)>3?"":" "}function hpe(n,e){for(;--e&&Xi()&&!(wn<48||wn>102||wn>57&&wn<65||wn>70&&wn<97););return Vb(n,Oy()+(e<6&&Dc()==32&&Xi()==32))}function gM(n){for(;Xi();)switch(wn){case n:return Li;case 34:case 39:n!==34&&n!==39&&gM(wn);break;case 40:n===41&&gM(n);break;case 92:Xi();break}return Li}function ppe(n,e){for(;Xi()&&n+wn!==57;)if(n+wn===84&&Dc()===47)break;return"/*"+Vb(e,Li-1)+"*"+VC(n===47?n:Xi())}function mpe(n){for(;!mM(Dc());)Xi();return Vb(n,Li)}function gpe(n){return dpe(_y("",null,null,null,[""],n=upe(n),0,[0],n))}function _y(n,e,t,r,i,s,o,a,c){for(var d=0,f=0,p=o,m=0,y=0,b=0,v=1,w=1,M=1,k=0,E="",A=i,T=s,P=r,N=E;w;)switch(b=k,k=Xi()){case 40:if(b!=108&&Pn(N,p-1)==58){Ty(N+=$e(Sw(k),"&","&\f"),"&\f",f5(d?a[d-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:N+=Sw(k);break;case 9:case 10:case 13:case 32:N+=fpe(b);break;case 92:N+=hpe(Oy()-1,7);continue;case 47:switch(Dc()){case 42:case 47:vh(ype(ppe(Xi(),Oy()),e,t,c),c);break;default:N+="/"}break;case 123*v:a[d++]=ws(N)*M;case 125*v:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+f:M==-1&&(N=$e(N,/\f/g,"")),y>0&&ws(N)-p&&vh(y>32?EP(N+";",r,t,p-1,c):EP($e(N," ","")+";",r,t,p-2,c),c);break;case 59:N+=";";default:if(vh(P=kP(N,e,t,d,f,i,a,E,A=[],T=[],p,s),s),k===123)if(f===0)_y(N,e,P,P,A,s,p,a,T);else switch(m===99&&Pn(N,3)===110?100:m){case 100:case 108:case 109:case 115:_y(n,P,P,r&&vh(kP(n,P,P,0,0,i,a,E,i,A=[],p,T),T),i,T,p,a,r?A:T);break;default:_y(N,P,P,P,[""],T,0,a,T)}}d=f=y=0,v=M=1,E=N="",p=o;break;case 58:p=1+ws(N),y=b;default:if(v<1){if(k==123)--v;else if(k==125&&v++==0&&cpe()==125)continue}switch(N+=VC(k),k*v){case 38:M=f>0?1:(N+="\f",-1);break;case 44:a[d++]=(ws(N)-1)*M,M=1;break;case 64:Dc()===45&&(N+=Sw(Xi())),m=Dc(),f=p=ws(E=N+=mpe(Oy())),k++;break;case 45:b===45&&ws(N)==2&&(v=0)}}return s}function kP(n,e,t,r,i,s,o,a,c,d,f,p){for(var m=i-1,y=i===0?s:[""],b=p5(y),v=0,w=0,M=0;v<r;++v)for(var k=0,E=_d(n,m+1,m=f5(w=o[v])),A=n;k<b;++k)(A=h5(w>0?y[k]+" "+E:$e(E,/&\f/g,y[k])))&&(c[M++]=A);return zb(n,e,t,i===0?Bb:a,c,d,f,p)}function ype(n,e,t,r){return zb(n,e,t,u5,VC(lpe()),_d(n,2,-2),0,r)}function EP(n,e,t,r,i){return zb(n,e,t,zC,_d(n,0,r),_d(n,r+1,-1),r,i)}function g5(n,e,t){switch(ope(n,e)){case 5103:return bt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+n+n;case 4789:return Hh+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+n+Hh+n+Vt+n+n;case 5936:switch(Pn(n,e+11)){case 114:return bt+n+Vt+$e(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return bt+n+Vt+$e(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return bt+n+Vt+$e(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return bt+n+Vt+n+n;case 6165:return bt+n+Vt+"flex-"+n+n;case 5187:return bt+n+$e(n,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Vt+"flex-$1$2")+n;case 5443:return bt+n+Vt+"flex-item-"+$e(n,/flex-|-self/g,"")+(yo(n,/flex-|baseline/)?"":Vt+"grid-row-"+$e(n,/flex-|-self/g,""))+n;case 4675:return bt+n+Vt+"flex-line-pack"+$e(n,/align-content|flex-|-self/g,"")+n;case 5548:return bt+n+Vt+$e(n,"shrink","negative")+n;case 5292:return bt+n+Vt+$e(n,"basis","preferred-size")+n;case 6060:return bt+"box-"+$e(n,"-grow","")+bt+n+Vt+$e(n,"grow","positive")+n;case 4554:return bt+$e(n,/([^-])(transform)/g,"$1"+bt+"$2")+n;case 6187:return $e($e($e(n,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),n,"")+n;case 5495:case 3959:return $e(n,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return $e($e(n,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+n+n;case 4200:if(!yo(n,/flex-|baseline/))return Vt+"grid-column-align"+_d(n,e)+n;break;case 2592:case 3360:return Vt+$e(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,yo(r.props,/grid-\w+-end/)})?~Ty(n+(t=t[e].value),"span",0)?n:Vt+$e(n,"-start","")+n+Vt+"grid-row-span:"+(~Ty(t,"span",0)?yo(t,/\d+/):+yo(t,/\d+/)-+yo(n,/\d+/))+";":Vt+$e(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return yo(r.props,/grid-\w+-start/)})?n:Vt+$e($e(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return $e(n,/(.+)-inline(.+)/,bt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ws(n)-1-e>6)switch(Pn(n,e+1)){case 109:if(Pn(n,e+4)!==45)break;case 102:return $e(n,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Hh+(Pn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ty(n,"stretch",0)?g5($e(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return $e(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,d){return Vt+i+":"+s+d+(o?Vt+i+"-span:"+(a?c:+c-+s)+d:"")+n});case 4949:if(Pn(n,e+6)===121)return $e(n,":",":"+bt)+n;break;case 6444:switch(Pn(n,Pn(n,14)===45?18:11)){case 120:return $e(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(Pn(n,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Vt+"$2box$3")+n;case 100:return $e(n,":",":"+Vt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $e(n,"scroll-","scroll-snap-")+n}return n}function L0(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function bpe(n,e,t,r){switch(n.type){case spe:if(n.children.length)break;case ipe:case zC:return n.return=n.return||n.value;case u5:return"";case d5:return n.return=n.value+"{"+L0(n.children,r)+"}";case Bb:if(!ws(n.value=n.props.join(",")))return""}return ws(t=L0(n.children,r))?n.return=n.value+"{"+t+"}":""}function vpe(n){var e=p5(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function xpe(n){return function(e){e.root||(e=e.return)&&n(e)}}function wpe(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case zC:n.return=g5(n.value,n.length,t);return;case d5:return L0([xa(n,{value:$e(n.value,"@","@"+bt)})],r);case Bb:if(n.length)return ape(t=n.props,function(i){switch(yo(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ru(xa(n,{props:[$e(i,/:(read-\w+)/,":"+Hh+"$1")]})),Ru(xa(n,{props:[i]})),pM(n,{props:CP(t,r)});break;case"::placeholder":Ru(xa(n,{props:[$e(i,/:(plac\w+)/,":"+bt+"input-$1")]})),Ru(xa(n,{props:[$e(i,/:(plac\w+)/,":"+Hh+"$1")]})),Ru(xa(n,{props:[$e(i,/:(plac\w+)/,Vt+"input-$1")]})),Ru(xa(n,{props:[i]})),pM(n,{props:CP(t,r)});break}return""})}}var Spe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ai={},Rd=typeof process<"u"&&ai!==void 0&&(ai.REACT_APP_SC_ATTR||ai.SC_ATTR)||"data-styled",y5="active",b5="data-styled-version",Hb="6.1.19",HC=`/*!sc*/
`,I0=typeof window<"u"&&typeof document<"u",Mpe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ai!==void 0&&ai.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ai.REACT_APP_SC_DISABLE_SPEEDY!==""?ai.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ai.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ai!==void 0&&ai.SC_DISABLE_SPEEDY!==void 0&&ai.SC_DISABLE_SPEEDY!==""&&ai.SC_DISABLE_SPEEDY!=="false"&&ai.SC_DISABLE_SPEEDY),Ub=Object.freeze([]),Nd=Object.freeze({});function Dpe(n,e,t){return t===void 0&&(t=Nd),n.theme!==t.theme&&n.theme||e||t.theme}var v5=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Cpe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kpe=/(^-|-$)/g;function TP(n){return n.replace(Cpe,"-").replace(kpe,"")}var Epe=/(a)(d)/gi,Qg=52,OP=function(n){return String.fromCharCode(n+(n>25?39:97))};function yM(n){var e,t="";for(e=Math.abs(n);e>Qg;e=e/Qg|0)t=OP(e%Qg)+t;return(OP(e%Qg)+t).replace(Epe,"$1-$2")}var Mw,x5=5381,Yu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},w5=function(n){return Yu(x5,n)};function Tpe(n){return yM(w5(n)>>>0)}function Ope(n){return n.displayName||n.name||"Component"}function Dw(n){return typeof n=="string"&&!0}var S5=typeof Symbol=="function"&&Symbol.for,M5=S5?Symbol.for("react.memo"):60115,_pe=S5?Symbol.for("react.forward_ref"):60112,Ape={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Rpe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},D5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Npe=((Mw={})[_pe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mw[M5]=D5,Mw);function _P(n){return("type"in(e=n)&&e.type.$$typeof)===M5?D5:"$$typeof"in n?Npe[n.$$typeof]:Ape;var e}var Ppe=Object.defineProperty,Lpe=Object.getOwnPropertyNames,AP=Object.getOwnPropertySymbols,Ipe=Object.getOwnPropertyDescriptor,jpe=Object.getPrototypeOf,RP=Object.prototype;function C5(n,e,t){if(typeof e!="string"){if(RP){var r=jpe(e);r&&r!==RP&&C5(n,r,t)}var i=Lpe(e);AP&&(i=i.concat(AP(e)));for(var s=_P(n),o=_P(e),a=0;a<i.length;++a){var c=i[a];if(!(c in Rpe||t&&t[c]||o&&c in o||s&&c in s)){var d=Ipe(e,c);try{Ppe(n,c,d)}catch{}}}}return n}function Pd(n){return typeof n=="function"}function UC(n){return typeof n=="object"&&"styledComponentId"in n}function nc(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function NP(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function Sp(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function bM(n,e,t){if(t===void 0&&(t=!1),!t&&!Sp(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=bM(n[r],e[r]);else if(Sp(e))for(var r in e)n[r]=bM(n[r],e[r]);return n}function $C(n,e){Object.defineProperty(n,"toString",{value:e})}function Zp(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Bpe=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Zp(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),c=(o=0,t.length);o<c;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(HC);return t},n}(),Ay=new Map,j0=new Map,Ry=1,Gg=function(n){if(Ay.has(n))return Ay.get(n);for(;j0.has(Ry);)Ry++;var e=Ry++;return Ay.set(n,e),j0.set(e,n),e},Fpe=function(n,e){Ry=e+1,Ay.set(n,e),j0.set(e,n)},zpe="style[".concat(Rd,"][").concat(b5,'="').concat(Hb,'"]'),Vpe=new RegExp("^".concat(Rd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Hpe=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},Upe=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(HC),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(Vpe);if(c){var d=0|parseInt(c[1],10),f=c[2];d!==0&&(Fpe(f,d),Hpe(n,f,c[3]),n.getTag().insertRules(d,i)),i.length=0}else i.push(a)}}},PP=function(n){for(var e=document.querySelectorAll(zpe),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(Rd)!==y5&&(Upe(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function $pe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var k5=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Rd,"]")));return c[c.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Rd,y5),r.setAttribute(b5,Hb);var o=$pe();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},Ype=function(){function n(e){this.element=k5(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw Zp(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),Wpe=function(){function n(e){this.element=k5(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),qpe=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),LP=I0,Kpe={isServer:!I0,useCSSOMInjection:!Mpe},E5=function(){function n(e,t,r){e===void 0&&(e=Nd),t===void 0&&(t={});var i=this;this.options=$r($r({},Kpe),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&I0&&LP&&(LP=!1,PP(this)),$C(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",d=function(p){var m=function(M){return j0.get(M)}(p);if(m===void 0)return"continue";var y=s.names.get(m),b=o.getGroup(p);if(y===void 0||!y.size||b.length===0)return"continue";var v="".concat(Rd,".g").concat(p,'[id="').concat(m,'"]'),w="";y!==void 0&&y.forEach(function(M){M.length>0&&(w+="".concat(M,","))}),c+="".concat(b).concat(v,'{content:"').concat(w,'"}').concat(HC)},f=0;f<a;f++)d(f);return c}(i)})}return n.registerId=function(e){return Gg(e)},n.prototype.rehydrate=function(){!this.server&&I0&&PP(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n($r($r({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new qpe(i):r?new Ype(i):new Wpe(i)}(this.options),new Bpe(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Gg(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(Gg(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Gg(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Qpe=/&/g,Gpe=/^\s*\/\/.*$/gm;function T5(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=T5(t.children,e)),t})}function Xpe(n){var e,t,r,i=Nd,s=i.options,o=s===void 0?Nd:s,a=i.plugins,c=a===void 0?Ub:a,d=function(m,y,b){return b.startsWith(t)&&b.endsWith(t)&&b.replaceAll(t,"").length>0?".".concat(e):m},f=c.slice();f.push(function(m){m.type===Bb&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(Qpe,t).replace(r,d))}),o.prefix&&f.push(wpe),f.push(bpe);var p=function(m,y,b,v){y===void 0&&(y=""),b===void 0&&(b=""),v===void 0&&(v="&"),e=v,t=y,r=new RegExp("\\".concat(t,"\\b"),"g");var w=m.replace(Gpe,""),M=gpe(b||y?"".concat(b," ").concat(y," { ").concat(w," }"):w);o.namespace&&(M=T5(M,o.namespace));var k=[];return L0(M,vpe(f.concat(xpe(function(E){return k.push(E)})))),k};return p.hash=c.length?c.reduce(function(m,y){return y.name||Zp(15),Yu(m,y.name)},x5).toString():"",p}var Jpe=new E5,vM=Xpe(),O5=$.createContext({shouldForwardProp:void 0,styleSheet:Jpe,stylis:vM});O5.Consumer;$.createContext(void 0);function IP(){return D.useContext(O5)}var Zpe=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=vM);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,$C(this,function(){throw Zp(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=vM),this.name+e.hash},n}(),eme=function(n){return n>="A"&&n<="Z"};function jP(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;eme(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var _5=function(n){return n==null||n===!1||n===""},A5=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!_5(s)&&(Array.isArray(s)&&s.isCss||Pd(s)?r.push("".concat(jP(i),":"),s,";"):Sp(s)?r.push.apply(r,P0(P0(["".concat(i," {")],A5(s),!1),["}"],!1)):r.push("".concat(jP(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in Spe||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Cc(n,e,t,r){if(_5(n))return[];if(UC(n))return[".".concat(n.styledComponentId)];if(Pd(n)){if(!Pd(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return Cc(i,e,t,r)}var s;return n instanceof Zpe?t?(n.inject(t,r),[n.getName(r)]):[n]:Sp(n)?A5(n):Array.isArray(n)?Array.prototype.concat.apply(Ub,n.map(function(o){return Cc(o,e,t,r)})):[n.toString()]}function tme(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Pd(t)&&!UC(t))return!1}return!0}var nme=w5(Hb),rme=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&tme(e),this.componentId=t,this.baseHash=Yu(nme,t),this.baseStyle=r,E5.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=nc(i,this.staticRulesId);else{var s=NP(Cc(this.rules,e,t,r)),o=yM(Yu(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=nc(i,o),this.staticRulesId=o}else{for(var c=Yu(this.baseHash,r.hash),d="",f=0;f<this.rules.length;f++){var p=this.rules[f];if(typeof p=="string")d+=p;else if(p){var m=NP(Cc(p,e,t,r));c=Yu(c,m+f),d+=m}}if(d){var y=yM(c>>>0);t.hasNameForId(this.componentId,y)||t.insertRules(this.componentId,y,r(d,".".concat(y),void 0,this.componentId)),i=nc(i,y)}}return i},n}(),R5=$.createContext(void 0);R5.Consumer;var Cw={};function ime(n,e,t){var r=UC(n),i=n,s=!Dw(n),o=e.attrs,a=o===void 0?Ub:o,c=e.componentId,d=c===void 0?function(A,T){var P=typeof A!="string"?"sc":TP(A);Cw[P]=(Cw[P]||0)+1;var N="".concat(P,"-").concat(Tpe(Hb+P+Cw[P]));return T?"".concat(T,"-").concat(N):N}(e.displayName,e.parentComponentId):c,f=e.displayName,p=f===void 0?function(A){return Dw(A)?"styled.".concat(A):"Styled(".concat(Ope(A),")")}(n):f,m=e.displayName&&e.componentId?"".concat(TP(e.displayName),"-").concat(e.componentId):e.componentId||d,y=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;b=function(A,T){return v(A,T)&&w(A,T)}}else b=v}var M=new rme(t,m,r?i.componentStyle:void 0);function k(A,T){return function(P,N,_){var L=P.attrs,I=P.componentStyle,V=P.defaultProps,q=P.foldedComponentIds,ae=P.styledComponentId,de=P.target,oe=$.useContext(R5),F=IP(),U=P.shouldForwardProp||F.shouldForwardProp,J=Dpe(N,oe,V)||Nd,ce=function(De,fe,ft){for(var Te,Ge=$r($r({},fe),{className:void 0,theme:ft}),Ae=0;Ae<De.length;Ae+=1){var Kt=Pd(Te=De[Ae])?Te(Ge):Te;for(var we in Kt)Ge[we]=we==="className"?nc(Ge[we],Kt[we]):we==="style"?$r($r({},Ge[we]),Kt[we]):Kt[we]}return fe.className&&(Ge.className=nc(Ge.className,fe.className)),Ge}(L,N,J),j=ce.as||de,Z={};for(var se in ce)ce[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&ce.theme===J||(se==="forwardedAs"?Z.as=ce.forwardedAs:U&&!U(se,j)||(Z[se]=ce[se]));var le=function(De,fe){var ft=IP(),Te=De.generateAndInjectStyles(fe,ft.styleSheet,ft.stylis);return Te}(I,ce),he=nc(q,ae);return le&&(he+=" "+le),ce.className&&(he+=" "+ce.className),Z[Dw(j)&&!v5.has(j)?"class":"className"]=he,_&&(Z.ref=_),D.createElement(j,Z)}(E,A,T)}k.displayName=p;var E=$.forwardRef(k);return E.attrs=y,E.componentStyle=M,E.displayName=p,E.shouldForwardProp=b,E.foldedComponentIds=r?nc(i.foldedComponentIds,i.styledComponentId):"",E.styledComponentId=m,E.target=r?i.target:n,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(T){for(var P=[],N=1;N<arguments.length;N++)P[N-1]=arguments[N];for(var _=0,L=P;_<L.length;_++)bM(T,L[_],!0);return T}({},i.defaultProps,A):A}}),$C(E,function(){return".".concat(E.styledComponentId)}),s&&C5(E,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function BP(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var FP=function(n){return Object.assign(n,{isCss:!0})};function sme(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Pd(n)||Sp(n))return FP(Cc(BP(Ub,P0([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Cc(r):FP(Cc(BP(r,e)))}function xM(n,e,t){if(t===void 0&&(t=Nd),!e)throw Zp(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,sme.apply(void 0,P0([i],s,!1)))};return r.attrs=function(i){return xM(n,e,$r($r({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return xM(n,e,$r($r({},t),i))},r}var N5=function(n){return xM(ime,n)},$s=N5;v5.forEach(function(n){$s[n]=N5(n)});const ome=$s.div`
========
        `),()=>{v.removeChild(b),v.contains(b)&&v.removeChild(b)}},[e]),C.jsx(Dde,{isPresent:e,childRef:s,sizeRef:o,children:D.cloneElement(n,{ref:s})})}const kde=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:c})=>{const d=lC(Ede),f=D.useId();let p=!0,m=D.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:t,custom:i,onExitComplete:y=>{d.set(y,!0);for(const b of d.values())if(!b)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[t,d,r]);return s&&p&&(m={...m}),D.useMemo(()=>{d.forEach((y,b)=>d.set(b,!1))},[t]),D.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),o==="popLayout"&&(n=C.jsx(Cde,{isPresent:t,anchorX:a,root:c,children:n})),C.jsx(Pb.Provider,{value:m,children:n})};function Ede(){return new Map}function E5(n=!0){const e=D.useContext(Pb);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=D.useId();D.useEffect(()=>{if(n)return i(s)},[n]);const o=D.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const qg=n=>n.key||"";function _2(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const T5=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[d,f]=E5(o),p=D.useMemo(()=>_2(n),[n]),m=o&&!d?[]:p.map(qg),y=D.useRef(!0),b=D.useRef(p),v=lC(()=>new Map),[w,M]=D.useState(p),[k,E]=D.useState(p);I3(()=>{y.current=!1,b.current=p;for(let P=0;P<k.length;P++){const N=qg(k[P]);m.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[k,m.length,m.join("-")]);const _=[];if(p!==w){let P=[...p];for(let N=0;N<k.length;N++){const A=k[N],L=qg(A);m.includes(L)||(P.splice(N,0,A),_.push(A))}return s==="wait"&&_.length&&(P=_),E(_2(P)),M(p),null}const{forceRender:T}=D.useContext(aC);return C.jsx(C.Fragment,{children:k.map(P=>{const N=qg(P),A=o&&!d?!1:p===k||m.includes(N),L=()=>{if(v.has(N))v.set(N,!0);else return;let I=!0;v.forEach(V=>{V||(I=!1)}),I&&(T==null||T(),E(b.current),o&&(f==null||f()),r&&r())};return C.jsx(kde,{isPresent:A,initial:!y.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:A?void 0:L,anchorX:a,children:P},N)})})},O5=D.createContext({strict:!1}),A2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Td={};for(const n in A2)Td[n]={isEnabled:e=>A2[n].some(t=>!!e[t])};function Tde(n){for(const e in n)Td[e]={...Td[e],...n[e]}}const Ode=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R0(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Ode.has(n)}let _5=n=>!R0(n);function _de(n){typeof n=="function"&&(_5=e=>e.startsWith("on")?!R0(e):n(e))}try{_de(require("@emotion/is-prop-valid").default)}catch{}function Ade(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(_5(i)||t===!0&&R0(i)||!e&&!R0(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const Lb=D.createContext({});function Ib(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function yp(n){return typeof n=="string"||Array.isArray(n)}const RC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NC=["initial",...RC];function jb(n){return Ib(n.animate)||NC.some(e=>yp(n[e]))}function A5(n){return!!(jb(n)||n.variants)}function Rde(n,e){if(jb(n)){const{initial:t,animate:r}=n;return{initial:t===!1||yp(t)?t:void 0,animate:yp(r)?r:void 0}}return n.inherit!==!1?e:{}}function Nde(n){const{initial:e,animate:t}=Rde(n,D.useContext(Lb));return D.useMemo(()=>({initial:e,animate:t}),[R2(e),R2(t)])}function R2(n){return Array.isArray(n)?n.join(" "):n}const bp={};function Pde(n){for(const e in n)bp[e]=n[e],yC(e)&&(bp[e].isCSSVariable=!0)}function R5(n,{layout:e,layoutId:t}){return Wd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!bp[n]||n==="opacity")}const Lde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ide=Yd.length;function jde(n,e,t){let r="",i=!0;for(let s=0;s<Ide;s++){const o=Yd[s],a=n[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||t){const d=w5(a,TC[o]);if(!c){i=!1;const f=Lde[o]||o;r+=`${f}(${d}) `}t&&(e[o]=d)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function PC(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const c in e){const d=e[c];if(Wd.has(c)){o=!0;continue}else if(yC(c)){i[c]=d;continue}else{const f=w5(d,TC[c]);c.startsWith("origin")?(a=!0,s[c]=f):r[c]=f}}if(e.transform||(o||t?r.transform=jde(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}const LC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N5(n,e,t){for(const r in e)!pr(e[r])&&!R5(r,t)&&(n[r]=e[r])}function Bde({transformTemplate:n},e){return D.useMemo(()=>{const t=LC();return PC(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Fde(n,e){const t=n.style||{},r={};return N5(r,t,n),Object.assign(r,Bde(n,e)),r}function zde(n,e){const t={},r=Fde(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const Vde={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hde={offset:"strokeDashoffset",array:"strokeDasharray"};function Ude(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Vde:Hde;n[s.offset]=Ne.transform(-r);const o=Ne.transform(e),a=Ne.transform(t);n[s.array]=`${o} ${a}`}function P5(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},c,d,f){if(PC(n,a,d),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m}=n;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),i!==void 0&&Ude(p,i,s,o,!1)}const L5=()=>({...LC(),attrs:{}}),I5=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $de(n,e,t,r){const i=D.useMemo(()=>{const s=L5();return P5(s,e,I5(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};N5(s,n.style,n),i.style={...s,...i.style}}return i}const Yde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IC(n){return typeof n!="string"||n.includes("-")?!1:!!(Yde.indexOf(n)>-1||/[A-Z]/u.test(n))}function Wde(n,e,t,{latestValues:r},i,s=!1){const a=(IC(n)?$de:zde)(e,r,i,n),c=Ade(e,typeof n=="string",s),d=n!==D.Fragment?{...c,...a,ref:t}:{},{children:f}=e,p=D.useMemo(()=>pr(f)?f.get():f,[f]);return D.createElement(n,{...d,children:p})}function N2(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function jC(n,e,t,r){if(typeof e=="function"){const[i,s]=N2(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=N2(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function ky(n){return pr(n)?n.get():n}function qde({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:Kde(t,r,i,n),renderState:e()}}function Kde(n,e,t,r){const i={},s=r(n,{});for(const m in s)i[m]=ky(s[m]);let{initial:o,animate:a}=n;const c=jb(n),d=A5(n);e&&d&&!c&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const p=f?a:o;if(p&&typeof p!="boolean"&&!Ib(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const b=jC(n,m[y]);if(b){const{transitionEnd:v,transition:w,...M}=b;for(const k in M){let E=M[k];if(Array.isArray(E)){const _=f?E.length-1:0;E=E[_]}E!==null&&(i[k]=E)}for(const k in v)i[k]=v[k]}}}return i}const j5=n=>(e,t)=>{const r=D.useContext(Lb),i=D.useContext(Pb),s=()=>qde(n,e,r,i);return t?s():lC(s)};function BC(n,e,t){var s;const{style:r}=n,i={};for(const o in r)(pr(r[o])||e.style&&pr(e.style[o])||R5(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Qde=j5({scrapeMotionValuesFromProps:BC,createRenderState:LC});function B5(n,e,t){const r=BC(n,e,t);for(const i in n)if(pr(n[i])||pr(e[i])){const s=Yd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const Gde=j5({scrapeMotionValuesFromProps:B5,createRenderState:L5}),Xde=Symbol.for("motionComponentSymbol");function zu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Jde(n,e,t){return D.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):zu(t)&&(t.current=r))},[e])}const FC=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zde="framerAppearId",F5="data-"+FC(Zde),z5=D.createContext({});function efe(n,e,t,r,i){var v,w;const{visualElement:s}=D.useContext(Lb),o=D.useContext(O5),a=D.useContext(Pb),c=D.useContext(AC).reducedMotion,d=D.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,p=D.useContext(z5);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&tfe(d.current,t,i,p);const m=D.useRef(!1);D.useInsertionEffect(()=>{f&&m.current&&f.update(t,a)});const y=t[F5],b=D.useRef(!!y&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,y))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,y)));return I3(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),D.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,y)}),b.current=!1))}),f}function tfe(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:V5(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&zu(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function V5(n){if(n)return n.options.allowProjection!==!1?n.projection:V5(n.parent)}function pw(n,{forwardMotionProps:e=!1}={},t,r){t&&Tde(t);const i=IC(n)?Gde:Qde;function s(a,c){let d;const f={...D.useContext(AC),...a,layoutId:nfe(a)},{isStatic:p}=f,m=Nde(a),y=i(a,p);if(!p&&cC){rfe();const b=ife(f);d=b.MeasureLayout,m.visualElement=efe(n,y,f,r,b.ProjectionNode)}return C.jsxs(Lb.Provider,{value:m,children:[d&&m.visualElement?C.jsx(d,{visualElement:m.visualElement,...f}):null,Wde(n,a,Jde(y,m.visualElement,c),y,p,e)]})}s.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=D.forwardRef(s);return o[Xde]=n,o}function nfe({layoutId:n}){const e=D.useContext(aC).id;return e&&n!==void 0?e+"-"+n:n}function rfe(n,e){D.useContext(O5).strict}function ife(n){const{drag:e,layout:t}=Td;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sfe(n,e){if(typeof Proxy>"u")return pw;const t=new Map,r=(s,o)=>pw(s,o,n,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(t.has(o)||t.set(o,pw(o,void 0,n,e)),t.get(o))})}function H5({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function ofe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function afe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function mw(n){return n===void 0||n===1}function oM({scale:n,scaleX:e,scaleY:t}){return!mw(n)||!mw(e)||!mw(t)}function Hl(n){return oM(n)||U5(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function U5(n){return P2(n.x)||P2(n.y)}function P2(n){return n&&n!=="0%"}function N0(n,e,t){const r=n-t,i=e*r;return t+i}function L2(n,e,t,r,i){return i!==void 0&&(n=N0(n,i,r)),N0(n,t,r)+e}function aM(n,e=0,t=1,r,i){n.min=L2(n.min,e,t,r,i),n.max=L2(n.max,e,t,r,i)}function $5(n,{x:e,y:t}){aM(n.x,e.translate,e.scale,e.originPoint),aM(n.y,t.translate,t.scale,t.originPoint)}const I2=.999999999999,j2=1.0000000000001;function lfe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$5(n,o)),r&&Hl(s.latestValues)&&Hu(n,s.latestValues))}e.x<j2&&e.x>I2&&(e.x=1),e.y<j2&&e.y>I2&&(e.y=1)}function Vu(n,e){n.min=n.min+e,n.max=n.max+e}function B2(n,e,t,r,i=.5){const s=Jt(n.min,n.max,i);aM(n,e,t,s,r)}function Hu(n,e){B2(n.x,e.x,e.scaleX,e.scale,e.originX),B2(n.y,e.y,e.scaleY,e.scale,e.originY)}function Y5(n,e){return H5(afe(n.getBoundingClientRect(),e))}function cfe(n,e,t){const r=Y5(n,t),{scroll:i}=e;return i&&(Vu(r.x,i.offset.x),Vu(r.y,i.offset.y)),r}const F2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uu=()=>({x:F2(),y:F2()}),z2=()=>({min:0,max:0}),fn=()=>({x:z2(),y:z2()}),lM={current:null},W5={current:!1};function ufe(){if(W5.current=!0,!!cC)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>lM.current=n.matches;n.addEventListener("change",e),e()}else lM.current=!1}const dfe=new WeakMap;function ffe(n,e,t){for(const r in e){const i=e[r],s=t[r];if(pr(i))n.addValue(r,i);else if(pr(s))n.addValue(r,Ed(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,Ed(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const V2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hfe{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Vr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,qt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=jb(t),this.isVariantNode=A5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in p){const y=p[m];c[m]!==void 0&&pr(y)&&y.set(c[m],!1)}}mount(e){this.current=e,dfe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),W5.current||ufe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Td){const t=Td[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<V2.length;r++){const i=V2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ffe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ed(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(j3(r)||F3(r))?r=parseFloat(r):!Mde(r)&&al.test(t)&&(r=x5(e,t)),this.setBaseTarget(e,pr(r)?r.get():r)),pr(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=jC(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new pC),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){OC.render(this.render)}}class q5 extends hfe{constructor(){super(...arguments),this.KeyframeResolver=dde}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function K5(n,{style:e,vars:t},r,i){const s=n.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in t)s.setProperty(o,t[o])}function pfe(n){return window.getComputedStyle(n)}class mfe extends q5{constructor(){super(...arguments),this.type="html",this.renderInstance=K5}readValueFromInstance(e,t){var r;if(Wd.has(t))return(r=this.projection)!=null&&r.isProjecting?eM(t):_ue(e,t);{const i=pfe(e),s=(yC(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Y5(e,t)}build(e,t,r){PC(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return BC(e,t,r)}}const Q5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gfe(n,e,t,r){K5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(Q5.has(i)?i:FC(i),e.attrs[i])}class yfe extends q5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Wd.has(t)){const r=v5(t);return r&&r.default||0}return t=Q5.has(t)?t:FC(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return B5(e,t,r)}build(e,t,r){P5(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){gfe(e,t,r,i)}mount(e){this.isSVGTag=I5(e.tagName),super.mount(e)}}const bfe=(n,e)=>IC(n)?new yfe(e):new mfe(e,{allowProjection:n!==D.Fragment});function vp(n,e,t){const r=n.getProps();return jC(r,e,t!==void 0?t:r.custom,n)}const cM=n=>Array.isArray(n);function vfe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ed(t))}function xfe(n){return cM(n)?n[n.length-1]||0:n}function wfe(n,e){const t=vp(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=xfe(s[o]);vfe(n,o,a)}}function Sfe(n){return!!(pr(n)&&n.add)}function uM(n,e){const t=n.getValue("willChange");if(Sfe(t))return t.add(e);if(!t&&Bo.WillChange){const r=new Bo.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function G5(n){return n.props[F5]}const Mfe=n=>n!==null;function Dfe(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Mfe),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Cfe={type:"spring",stiffness:500,damping:25,restSpeed:10},kfe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Efe={type:"keyframes",duration:.8},Tfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ofe=(n,{keyframes:e})=>e.length>2?Efe:Wd.has(n)?n.startsWith("scale")?kfe(e[1]):Cfe:Tfe;function _fe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const zC=(n,e,t,r={},i,s)=>o=>{const a=EC(r,n)||{},c=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Rs(c);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-d,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};_fe(a)||Object.assign(f,Ofe(n,f)),f.duration&&(f.duration=Rs(f.duration)),f.repeatDelay&&(f.repeatDelay=Rs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),(Bo.instantAnimations||Bo.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!a.type&&!a.ease,p&&!s&&e.get()!==void 0){const m=Dfe(f.keyframes,a);if(m!==void 0){qt.update(()=>{f.onUpdate(m),f.onComplete()});return}}return a.isSync?new CC(f):new Zue(f)};function Afe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function X5(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const c=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const p=n.getValue(f,n.latestValues[f]??null),m=a[f];if(m===void 0||d&&Afe(d,f))continue;const y={delay:t,...EC(s||{},f)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===b&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const M=G5(n);if(M){const k=window.MotionHandoffAnimation(M,f,qt);k!==null&&(y.startTime=k,v=!0)}}uM(n,f),p.start(zC(f,p,m,n.shouldReduceMotion&&g5.has(f)?{type:!1}:y,n,v));const w=p.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{qt.update(()=>{o&&wfe(n,o)})}),c}function dM(n,e,t={}){var c;const r=vp(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(X5(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return Rfe(n,e,d,f,p,m,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,f]=a==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(t.delay)])}function Rfe(n,e,t=0,r=0,i=0,s=1,o){const a=[],c=n.variantChildren.size,d=(c-1)*i,f=typeof r=="function",p=f?m=>r(m,c):s===1?(m=0)=>m*i:(m=0)=>d-m*i;return Array.from(n.variantChildren).sort(Nfe).forEach((m,y)=>{m.notify("AnimationStart",e),a.push(dM(m,e,{...o,delay:t+(f?0:r)+p(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(a)}function Nfe(n,e){return n.sortNodePosition(e)}function Pfe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>dM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=dM(n,e,t);else{const i=typeof e=="function"?vp(n,e,t.custom):e;r=Promise.all(X5(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function J5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Lfe=NC.length;function Z5(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Z5(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Lfe;t++){const r=NC[t],i=n.props[r];(yp(i)||i===!1)&&(e[r]=i)}return e}const Ife=[...RC].reverse(),jfe=RC.length;function Bfe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Pfe(n,t,r)))}function Ffe(n){let e=Bfe(n),t=H2(),r=!0;const i=c=>(d,f)=>{var m;const p=vp(n,f,c==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);if(p){const{transition:y,transitionEnd:b,...v}=p;d={...d,...v,...b}}return d};function s(c){e=c(n)}function o(c){const{props:d}=n,f=Z5(n.parent)||{},p=[],m=new Set;let y={},b=1/0;for(let w=0;w<jfe;w++){const M=Ife[w],k=t[M],E=d[M]!==void 0?d[M]:f[M],_=yp(E),T=M===c?k.isActive:null;T===!1&&(b=w);let P=E===f[M]&&E!==d[M]&&_;if(P&&r&&n.manuallyAnimateOnMount&&(P=!1),k.protectedKeys={...y},!k.isActive&&T===null||!E&&!k.prevProp||Ib(E)||typeof E=="boolean")continue;const N=zfe(k.prevProp,E);let A=N||M===c&&k.isActive&&!P&&_||w>b&&_,L=!1;const I=Array.isArray(E)?E:[E];let V=I.reduce(i(M),{});T===!1&&(V={});const{prevResolvedValues:q={}}=k,ae={...q,...V},de=U=>{A=!0,m.has(U)&&(L=!0,m.delete(U)),k.needsAnimating[U]=!0;const J=n.getValue(U);J&&(J.liveStyle=!1)};for(const U in ae){const J=V[U],ce=q[U];if(y.hasOwnProperty(U))continue;let j=!1;cM(J)&&cM(ce)?j=!J5(J,ce):j=J!==ce,j?J!=null?de(U):m.add(U):J!==void 0&&m.has(U)?de(U):k.protectedKeys[U]=!0}k.prevProp=E,k.prevResolvedValues=V,k.isActive&&(y={...y,...V}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(P&&N)||L)&&p.push(...I.map(U=>({animation:U,options:{type:M}})))}if(m.size){const w={};if(typeof d.initial!="boolean"){const M=vp(n,Array.isArray(d.initial)?d.initial[0]:d.initial);M&&M.transition&&(w.transition=M.transition)}m.forEach(M=>{const k=n.getBaseTarget(M),E=n.getValue(M);E&&(E.liveStyle=!0),w[M]=k??null}),p.push({animation:w})}let v=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function a(c,d){var p;if(t[c].isActive===d)return Promise.resolve();(p=n.variantChildren)==null||p.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(c,d)}),t[c].isActive=d;const f=o(c);for(const m in t)t[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=H2(),r=!0}}}function zfe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!J5(e,n):!1}function jl(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H2(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Vfe extends pl{constructor(e){super(e),e.animationState||(e.animationState=Ffe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ib(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hfe=0;class Ufe extends pl{constructor(){super(...arguments),this.id=Hfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $fe={animation:{Feature:Vfe},exit:{Feature:Ufe}};function xp(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Xp(n){return{point:{x:n.pageX,y:n.pageY}}}const Yfe=n=>e=>_C(e)&&n(e,Xp(e));function Bh(n,e,t,r){return xp(n,e,Yfe(t),r)}const ez=1e-4,Wfe=1-ez,qfe=1+ez,tz=.01,Kfe=0-tz,Qfe=0+tz;function kr(n){return n.max-n.min}function Gfe(n,e,t){return Math.abs(n-e)<=t}function U2(n,e,t,r=.5){n.origin=r,n.originPoint=Jt(e.min,e.max,n.origin),n.scale=kr(t)/kr(e),n.translate=Jt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Wfe&&n.scale<=qfe||isNaN(n.scale))&&(n.scale=1),(n.translate>=Kfe&&n.translate<=Qfe||isNaN(n.translate))&&(n.translate=0)}function Fh(n,e,t,r){U2(n.x,e.x,t.x,r?r.originX:void 0),U2(n.y,e.y,t.y,r?r.originY:void 0)}function $2(n,e,t){n.min=t.min+e.min,n.max=n.min+kr(e)}function Xfe(n,e,t){$2(n.x,e.x,t.x),$2(n.y,e.y,t.y)}function Y2(n,e,t){n.min=e.min-t.min,n.max=n.min+kr(e)}function zh(n,e,t){Y2(n.x,e.x,t.x),Y2(n.y,e.y,t.y)}function Si(n){return[n("x"),n("y")]}const nz=({current:n})=>n?n.ownerDocument.defaultView:null,W2=(n,e)=>Math.abs(n-e);function Jfe(n,e){const t=W2(n.x,e.x),r=W2(n.y,e.y);return Math.sqrt(t**2+r**2)}class rz{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=yw(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=Jfe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:v}=m,{timestamp:w}=Kn;this.history.push({...v,timestamp:w});const{onStart:M,onMove:k}=this.handlers;y||(M&&M(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=gw(y,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=yw(m.type==="pointercancel"?this.lastMoveEventInfo:gw(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,M),v&&v(m,M)},!_C(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Xp(e),c=gw(a,this.transformPagePoint),{point:d}=c,{timestamp:f}=Kn;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,yw(c,this.history)),this.removeListeners=Kp(Bh(this.contextWindow,"pointermove",this.handlePointerMove),Bh(this.contextWindow,"pointerup",this.handlePointerUp),Bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function gw(n,e){return e?{point:e(n.point)}:n}function q2(n,e){return{x:n.x-e.x,y:n.y-e.y}}function yw({point:n},e){return{point:n,delta:q2(n,iz(e)),offset:q2(n,Zfe(e)),velocity:ehe(e,.1)}}function Zfe(n){return n[0]}function iz(n){return n[n.length-1]}function ehe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=iz(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Rs(e)));)t--;if(!r)return{x:0,y:0};const s=Ns(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function the(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jt(t,n,r.max):Math.min(n,t)),n}function K2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function nhe(n,{top:e,left:t,bottom:r,right:i}){return{x:K2(n.x,t,i),y:K2(n.y,e,r)}}function Q2(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function rhe(n,e){return{x:Q2(n.x,e.x),y:Q2(n.y,e.y)}}function ihe(n,e){let t=.5;const r=kr(n),i=kr(e);return i>r?t=pp(e.min,e.max-r,n.min):r>i&&(t=pp(n.min,n.max-i,e.min)),jo(0,1,t)}function she(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const fM=.35;function ohe(n=fM){return n===!1?n=0:n===!0&&(n=fM),{x:G2(n,"left","right"),y:G2(n,"top","bottom")}}function G2(n,e,t){return{min:X2(n,e),max:X2(n,t)}}function X2(n,e){return typeof n=="number"?n:n[e]||0}const ahe=new WeakMap;class lhe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Xp(p).point)},o=(p,m)=>{const{drag:y,dragPropagation:b,onDragStart:v}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mde(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(M=>{let k=this.getAxisMotionValue(M).get()||0;if(Ps.test(k)){const{projection:E}=this.visualElement;if(E&&E.layout){const _=E.layout.layoutBox[M];_&&(k=kr(_)*(parseFloat(k)/100))}}this.originPoint[M]=k}),v&&qt.postRender(()=>v(p,m)),uM(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:v,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:M}=m;if(b&&this.currentDirection===null){this.currentDirection=che(M),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,M),this.updateAxis("y",m.point,M),this.visualElement.render(),w&&w(p,m)},c=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Si(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new rz(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:nz(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qt.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Kg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=the(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&zu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=nhe(r.layoutBox,e):this.constraints=!1,this.elastic=ohe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=she(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=cfe(r,i.root,this.visualElement.getTransformPagePoint());let o=rhe(i.layout.layoutBox,s);if(t){const a=t(ofe(o));this.hasMutatedConstraints=!!a,a&&(o=H5(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=Si(f=>{if(!Kg(f,t,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return uM(this.visualElement,e),r.start(zC(e,r,0,t,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Si(t=>{const{drag:r}=this.getProps();if(!Kg(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Jt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!zu(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Si(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=ihe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Si(o=>{if(!Kg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(Jt(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;ahe.set(this.visualElement,this);const e=this.visualElement.current,t=Bh(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();zu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qt.read(r);const o=xp(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Si(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Kg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function che(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class uhe extends pl{constructor(e){super(e),this.removeGroupControls=Ai,this.removeListeners=Ai,this.controls=new lhe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const J2=n=>(e,t)=>{n&&qt.postRender(()=>n(e,t))};class dhe extends pl{constructor(){super(...arguments),this.removePointerDownListener=Ai}onPointerDown(e){this.session=new rz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:J2(e),onStart:J2(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&qt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ey={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const rh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ne.test(n))n=parseFloat(n);else return n;const t=Z2(n,e.target.x),r=Z2(n,e.target.y);return`${t}% ${r}%`}},fhe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=al.parse(n);if(i.length>5)return r;const s=al.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=Jt(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let eP=!1;class hhe extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Pde(phe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),eP&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ey.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,eP=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||qt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),OC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sz(n){const[e,t]=E5(),r=D.useContext(aC);return C.jsx(hhe,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(z5),isPresent:e,safeToRemove:t})}const phe={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:fhe};function mhe(n,e,t){const r=pr(n)?n:Ed(n);return r.start(zC("",r,e,t)),r.animation}const ghe=(n,e)=>n.depth-e.depth;class yhe{constructor(){this.children=[],this.isDirty=!1}add(e){uC(this.children,e),this.isDirty=!0}remove(e){dC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ghe),this.isDirty=!1,this.children.forEach(e)}}function bhe(n,e){const t=Vr.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(ol(r),n(s-e))};return qt.setup(r,!0),()=>ol(r)}const oz=["TopLeft","TopRight","BottomLeft","BottomRight"],vhe=oz.length,tP=n=>typeof n=="string"?parseFloat(n):n,nP=n=>typeof n=="number"||Ne.test(n);function xhe(n,e,t,r,i,s){i?(n.opacity=Jt(0,t.opacity??1,whe(r)),n.opacityExit=Jt(e.opacity??1,0,She(r))):s&&(n.opacity=Jt(e.opacity??1,t.opacity??1,r));for(let o=0;o<vhe;o++){const a=`border${oz[o]}Radius`;let c=rP(e,a),d=rP(t,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||nP(c)===nP(d)?(n[a]=Math.max(Jt(tP(c),tP(d),r),0),(Ps.test(d)||Ps.test(c))&&(n[a]+="%")):n[a]=d}(e.rotate||t.rotate)&&(n.rotate=Jt(e.rotate||0,t.rotate||0,r))}function rP(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const whe=az(0,.5,q3),She=az(.5,.95,Ai);function az(n,e,t){return r=>r<n?0:r>e?1:t(pp(n,e,r))}function iP(n,e){n.min=e.min,n.max=e.max}function wi(n,e){iP(n.x,e.x),iP(n.y,e.y)}function sP(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function oP(n,e,t,r,i){return n-=e,n=N0(n,1/t,r),i!==void 0&&(n=N0(n,1/i,r)),n}function Mhe(n,e=0,t=1,r=.5,i,s=n,o=n){if(Ps.test(e)&&(e=parseFloat(e),e=Jt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Jt(s.min,s.max,r);n===s&&(a-=e),n.min=oP(n.min,e,t,a,i),n.max=oP(n.max,e,t,a,i)}function aP(n,e,[t,r,i],s,o){Mhe(n,e[t],e[r],e[i],e.scale,s,o)}const Dhe=["x","scaleX","originX"],Che=["y","scaleY","originY"];function lP(n,e,t,r){aP(n.x,e,Dhe,t?t.x:void 0,r?r.x:void 0),aP(n.y,e,Che,t?t.y:void 0,r?r.y:void 0)}function cP(n){return n.translate===0&&n.scale===1}function lz(n){return cP(n.x)&&cP(n.y)}function uP(n,e){return n.min===e.min&&n.max===e.max}function khe(n,e){return uP(n.x,e.x)&&uP(n.y,e.y)}function dP(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function cz(n,e){return dP(n.x,e.x)&&dP(n.y,e.y)}function fP(n){return kr(n.x)/kr(n.y)}function hP(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Ehe{constructor(){this.members=[]}add(e){uC(this.members,e),e.scheduleRender()}remove(e){if(dC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function The(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:m,skewX:y,skewY:b}=t;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=n.x.scale*e.x,c=n.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const bw=["","X","Y","Z"],Ohe=1e3;let _he=0;function vw(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function uz(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=G5(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",qt,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&uz(r)}function dz({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_he++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nhe),this.nodes.forEach(jhe),this.nodes.forEach(Bhe),this.nodes.forEach(Phe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yhe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=k5(o)&&!wde(o),this.instance=o;const{layoutId:a,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),n){let f,p=0;const m=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{p=window.innerWidth}),n(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=bhe(m,250),Ey.hasAnimatedSinceResize&&(Ey.hasAnimatedSinceResize=!1,this.nodes.forEach(gP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Uhe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),M=!this.targetLayout||!cz(this.targetLayout,y),k=!p&&m;if(this.options.layoutRoot||this.resumeFrom||k||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...EC(b,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,k)}else p||gP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fhe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ihe),this.nodes.forEach(Ahe),this.nodes.forEach(Rhe)):this.nodes.forEach(mP),this.clearAllSnapshots();const a=Vr.now();Kn.delta=jo(0,1e3/60,a-Kn.timestamp),Kn.timestamp=a,Kn.isProcessing=!0,lw.update.process(Kn),lw.preRender.process(Kn),lw.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Lhe),this.sharedNodes.forEach(zhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kr(this.snapshot.measuredBox.x)&&!kr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lz(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(a||Hl(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),$he(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return fn();const a=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Yhe))){const{scroll:f}=this.root;f&&(Vu(a.x,f.offset.x),Vu(a.y,f.offset.y))}return a}removeElementScroll(o){var c;const a=fn();if(wi(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&wi(a,o),Vu(a.x,p.offset.x),Vu(a.y,p.offset.y))}return a}applyTransform(o,a=!1){const c=fn();wi(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Hu(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Hl(f.latestValues)&&Hu(c,f.latestValues)}return Hl(this.latestValues)&&Hu(c,this.latestValues),c}removeTransform(o){const a=fn();wi(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Hl(d.latestValues))continue;oM(d.latestValues)&&d.updateSnapshot();const f=fn(),p=d.measurePageBox();wi(f,p),lP(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Hl(this.latestValues)&&lP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),zh(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),$5(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),zh(this.relativeTargetOrigin,this.target,y.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oM(this.parent.latestValues)||U5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;wi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;lfe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=fn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sP(this.prevProjectionDelta.x,this.projectionDelta.x),sP(this.prevProjectionDelta.y,this.projectionDelta.y)),Fh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!hP(this.projectionDelta.x,this.prevProjectionDelta.x)||!hP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uu(),this.projectionDelta=Uu(),this.projectionDeltaWithTransform=Uu()}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},p=Uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=fn(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=y!==b,w=this.getStack(),M=!w||w.members.length<=1,k=!!(v&&!M&&this.options.crossfade===!0&&!this.path.some(Hhe));this.animationProgress=0;let E;this.mixTargetDelta=_=>{const T=_/1e3;yP(p.x,o.x,T),yP(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vhe(this.relativeTarget,this.relativeTargetOrigin,m,T),E&&khe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=fn()),wi(E,this.relativeTarget)),v&&(this.animationValues=f,xhe(f,d,this.latestValues,T,k,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Ey.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ed(0)),this.currentAnimation=mhe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ohe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&fz(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||fn();const p=kr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const m=kr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}wi(a,c),Hu(a,f),Fh(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ehe),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const d={};c.z&&vw("z",o,d,this.animationValues);for(let f=0;f<bw.length;f++)vw(`rotate${bw[f]}`,o,d,this.animationValues),vw(`skew${bw[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ky(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ky(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Hl(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=The(this.projectionDeltaWithTransform,this.treeScale,f);c&&(p=c(f,p)),o.transform=p;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in bp){if(f[b]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:M}=bp[b],k=p==="none"?f[b]:v(f[b],d);if(w){const E=w.length;for(let _=0;_<E;_++)o[w[_]]=k}else M?this.options.visualElement.renderState.vars[b]=k:o[b]=k}this.options.layoutId&&(o.pointerEvents=d===this?ky(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(pP),this.root.sharedNodes.clear()}}}function Ahe(n){n.updateLayout()}function Rhe(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?Si(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=kr(m);m.min=r[p].min,m.max=m.min+y}):fz(s,e.layoutBox,r)&&Si(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=kr(r[p]);m.max=m.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+y)});const a=Uu();Fh(a,r,e.layoutBox);const c=Uu();o?Fh(c,n.applyTransform(i,!0),e.measuredBox):Fh(c,r,e.layoutBox);const d=!lz(a);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const b=fn();zh(b,e.layoutBox,m.layoutBox);const v=fn();zh(v,r,y.layoutBox),cz(b,v)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=b,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Nhe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Phe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Lhe(n){n.clearSnapshot()}function pP(n){n.clearMeasurements()}function mP(n){n.isLayoutDirty=!1}function Ihe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function gP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function jhe(n){n.resolveTargetDelta()}function Bhe(n){n.calcProjection()}function Fhe(n){n.resetSkewAndRotation()}function zhe(n){n.removeLeadSnapshot()}function yP(n,e,t){n.translate=Jt(e.translate,0,t),n.scale=Jt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function bP(n,e,t,r){n.min=Jt(e.min,t.min,r),n.max=Jt(e.max,t.max,r)}function Vhe(n,e,t,r){bP(n.x,e.x,t.x,r),bP(n.y,e.y,t.y,r)}function Hhe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Uhe={duration:.45,ease:[.4,0,.1,1]},vP=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),xP=vP("applewebkit/")&&!vP("chrome/")?Math.round:Ai;function wP(n){n.min=xP(n.min),n.max=xP(n.max)}function $he(n){wP(n.x),wP(n.y)}function fz(n,e,t){return n==="position"||n==="preserve-aspect"&&!Gfe(fP(e),fP(t),.2)}function Yhe(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Whe=dz({attachResizeListener:(n,e)=>xp(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xw={current:void 0},hz=dz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xw.current){const n=new Whe({});n.mount(window),n.setOptions({layoutScroll:!0}),xw.current=n}return xw.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),qhe={pan:{Feature:dhe},drag:{Feature:uhe,ProjectionNode:hz,MeasureLayout:sz}};function SP(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&qt.postRender(()=>s(e,Xp(e)))}class Khe extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=gde(e,(t,r)=>(SP(this.node,r,"Start"),i=>SP(this.node,i,"End"))))}unmount(){}}class Qhe extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kp(xp(this.node.current,"focus",()=>this.onFocus()),xp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function MP(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&qt.postRender(()=>s(e,Xp(e)))}class Ghe extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=xde(e,(t,r)=>(MP(this.node,r,"Start"),(i,{success:s})=>MP(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hM=new WeakMap,ww=new WeakMap,Xhe=n=>{const e=hM.get(n.target);e&&e(n)},Jhe=n=>{n.forEach(Xhe)};function Zhe({root:n,...e}){const t=n||document;ww.has(t)||ww.set(t,{});const r=ww.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Jhe,{root:n,...e})),r[i]}function epe(n,e,t){const r=Zhe(e);return hM.set(n,t),r.observe(n),()=>{hM.delete(n),r.unobserve(n)}}const tpe={some:0,all:1};class npe extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tpe[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=d?f:p;m&&m(c)};return epe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(rpe(e,t))&&this.startObserver()}unmount(){}}function rpe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ipe={inView:{Feature:npe},tap:{Feature:Ghe},focus:{Feature:Qhe},hover:{Feature:Khe}},spe={layout:{ProjectionNode:hz,MeasureLayout:sz}},ope={...$fe,...ipe,...qhe,...spe},tc=sfe(ope,bfe),Os={duration:.8,ease:[.6,0,.01,.99]},DP={initial:{opacity:0,y:"100vh",scale:.9,transition:{...Os,duration:.6}},animate:{opacity:1,y:0,scale:1,transition:Os},exit:{opacity:0,y:"-100vh",scale:.9,transition:{...Os,duration:.6}}},ape={initial:{opacity:0,transition:Os},animate:{opacity:1,transition:Os},exit:{opacity:0,transition:{...Os,duration:.4}}},CP={slideLeft:{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1,transition:Os},exit:{x:"-100%",opacity:0,transition:Os}},slideRight:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1,transition:Os},exit:{x:"100%",opacity:0,transition:Os}}},lpe={initial:{opacity:1},animate:{opacity:1},exit:{opacity:1}},pz=()=>{var t;const n=Fo();switch((t=n.state)==null?void 0:t.animationType){case"fade":return{key:n.pathname,variants:ape,initial:"initial",animate:"animate",exit:"exit"};case"slideLeft":return{key:n.pathname,variants:CP.slideLeft,initial:"initial",animate:"animate",exit:"exit"};case"slideRight":return{key:n.pathname,variants:CP.slideRight,initial:"initial",animate:"animate",exit:"exit"};case"scroll":return{key:n.pathname,variants:DP,initial:"initial",animate:"animate",exit:"exit"};case"none":return{key:n.pathname,variants:lpe,initial:"initial",animate:"animate",exit:"exit"}}return{key:n.pathname,variants:DP,initial:"initial",animate:"animate",exit:"exit"}},cpe=()=>{const[n,e]=D.useState({mode:"list",journalId:null}),[t,r]=D.useState(null),[i,s]=D.useState(0),[o,a]=D.useState("all"),{user:c}=Wr(),d=qr(),[f,p]=D.useState(!1);pz();const m=T=>{d()&&(e({mode:"view",journalId:T}),r(null))},y=()=>{e(T=>({...T,mode:"edit"}))},b=()=>{d()&&e({mode:"create",journalId:null})},v=()=>{n.mode==="edit"?e(T=>({...T,mode:"view"})):e({mode:"list",journalId:null})},w=T=>{s(P=>P+1),T&&T.id?(r(T),e({mode:"view",journalId:T.id})):(e({mode:"list",journalId:null}),r(null))},M=()=>{d()&&p(!0)},k=async()=>{try{await Xle(n.journalId),Xe.success("삭제되었습니다."),e({mode:"list",journalId:null}),s(T=>T+1)}catch{Xe.error("삭제 중 오류가 발생했습니다.")}finally{p(!1)}},E={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},_=()=>{const T=n.mode+(n.journalId||"");switch(n.mode){case"create":return C.jsx(tc.div,{...E,style:{height:"100%"},children:C.jsx(c2,{onSaveSuccess:w,onCancel:v})},T);case"edit":return C.jsx(tc.div,{...E,style:{height:"100%"},children:C.jsx(c2,{journalId:n.journalId,onSaveSuccess:w,onCancel:v})},T);case"view":return C.jsx(tc.div,{...E,style:{height:"100%"},children:C.jsx(Ece,{journalId:n.journalId,initialData:t,onEdit:y,onDelete:M})},T);default:return C.jsx(tc.div,{...E,style:{height:"100%"},children:C.jsxs("div",{className:"journal-placeholder",children:[C.jsxs("p",{children:["새로운 기록을 작성하거나",C.jsx("br",{}),"목록에서 수정할 항목을 선택해주세요."]}),C.jsx(Cs,{variant:"button2",type:"button",onClick:b,className:"creatBtn",active:!0,children:"작성하기"})]})},"placeholder")}};return C.jsxs("div",{className:"journal-page-wrapper",children:[C.jsxs("div",{className:"journal-page-container two-column",children:[C.jsxs("div",{className:"left-panel",children:[C.jsx(kce,{selectedCategory:o,onSelectCategory:a}),C.jsx(Zle,{category:o,onItemSelect:m,selectedJournalId:n.journalId,user:c},i)]}),C.jsx("div",{className:"right-panel",children:C.jsxs(T5,{mode:"wait",children:[" // 추가",_()]})})]}),C.jsx(M3,{isOpen:f,onClose:()=>p(!1),onConfirm:k,message:"정말로 이 저널을 삭제하시겠습니까?"})]})},upe=()=>{const{openGallery:n}=IM();return D.useEffect(()=>{n()},[]),null},dpe=()=>{const n=pz(),{key:e,...t}=n,r=()=>{window.dispatchEvent(new Event("layoutAnimationComplete"))};return C.jsx(tc.div,{style:{height:"100%",width:"100%"},...t,onAnimationComplete:r,children:C.jsx(_p,{})},e)},kP=()=>{const n=es();return D.useEffect(()=>{const t=Yi(new Date);n(`/diary/date/${t}`,{replace:!0})},[n]),null},fpe=()=>C.jsx("div",{className:"calendarPage-container",children:C.jsx(_p,{})}),hpe=async(n,e)=>{try{return(await en.get("/api/calendar",{params:{year:n,month:e}})).data}catch(t){throw console.error("Error fetching calendar entries:",t),t}},ppe=(n,e,t=!0)=>V0({queryKey:["calendarEntries",n,e],queryFn:()=>hpe(n,e),enabled:t,staleTime:1e3*60*5});var Hr=function(){return Hr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Hr.apply(this,arguments)};function P0(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Vt="-ms-",Vh="-moz-",bt="-webkit-",mz="comm",Bb="rule",VC="decl",mpe="@import",gz="@keyframes",gpe="@layer",yz=Math.abs,HC=String.fromCharCode,pM=Object.assign;function ype(n,e){return Nn(n,0)^45?(((e<<2^Nn(n,0))<<2^Nn(n,1))<<2^Nn(n,2))<<2^Nn(n,3):0}function bz(n){return n.trim()}function yo(n,e){return(n=e.exec(n))?n[0]:n}function $e(n,e,t){return n.replace(e,t)}function Ty(n,e,t){return n.indexOf(e,t)}function Nn(n,e){return n.charCodeAt(e)|0}function Od(n,e,t){return n.slice(e,t)}function xs(n){return n.length}function vz(n){return n.length}function bh(n,e){return e.push(n),n}function bpe(n,e){return n.map(e).join("")}function EP(n,e){return n.filter(function(t){return!yo(t,e)})}var Fb=1,_d=1,xz=0,Pi=0,wn=0,qd="";function zb(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Fb,column:_d,length:o,return:"",siblings:a}}function va(n,e){return pM(zb("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Au(n){for(;n.root;)n=va(n.root,{children:[n]});bh(n,n.siblings)}function vpe(){return wn}function xpe(){return wn=Pi>0?Nn(qd,--Pi):0,_d--,wn===10&&(_d=1,Fb--),wn}function Gi(){return wn=Pi<xz?Nn(qd,Pi++):0,_d++,wn===10&&(_d=1,Fb++),wn}function Dc(){return Nn(qd,Pi)}function Oy(){return Pi}function Vb(n,e){return Od(qd,n,e)}function mM(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wpe(n){return Fb=_d=1,xz=xs(qd=n),Pi=0,[]}function Spe(n){return qd="",n}function Sw(n){return bz(Vb(Pi-1,gM(n===91?n+2:n===40?n+1:n)))}function Mpe(n){for(;(wn=Dc())&&wn<33;)Gi();return mM(n)>2||mM(wn)>3?"":" "}function Dpe(n,e){for(;--e&&Gi()&&!(wn<48||wn>102||wn>57&&wn<65||wn>70&&wn<97););return Vb(n,Oy()+(e<6&&Dc()==32&&Gi()==32))}function gM(n){for(;Gi();)switch(wn){case n:return Pi;case 34:case 39:n!==34&&n!==39&&gM(wn);break;case 40:n===41&&gM(n);break;case 92:Gi();break}return Pi}function Cpe(n,e){for(;Gi()&&n+wn!==57;)if(n+wn===84&&Dc()===47)break;return"/*"+Vb(e,Pi-1)+"*"+HC(n===47?n:Gi())}function kpe(n){for(;!mM(Dc());)Gi();return Vb(n,Pi)}function Epe(n){return Spe(_y("",null,null,null,[""],n=wpe(n),0,[0],n))}function _y(n,e,t,r,i,s,o,a,c){for(var d=0,f=0,p=o,m=0,y=0,b=0,v=1,w=1,M=1,k=0,E="",_=i,T=s,P=r,N=E;w;)switch(b=k,k=Gi()){case 40:if(b!=108&&Nn(N,p-1)==58){Ty(N+=$e(Sw(k),"&","&\f"),"&\f",yz(d?a[d-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:N+=Sw(k);break;case 9:case 10:case 13:case 32:N+=Mpe(b);break;case 92:N+=Dpe(Oy()-1,7);continue;case 47:switch(Dc()){case 42:case 47:bh(Tpe(Cpe(Gi(),Oy()),e,t,c),c);break;default:N+="/"}break;case 123*v:a[d++]=xs(N)*M;case 125*v:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+f:M==-1&&(N=$e(N,/\f/g,"")),y>0&&xs(N)-p&&bh(y>32?OP(N+";",r,t,p-1,c):OP($e(N," ","")+";",r,t,p-2,c),c);break;case 59:N+=";";default:if(bh(P=TP(N,e,t,d,f,i,a,E,_=[],T=[],p,s),s),k===123)if(f===0)_y(N,e,P,P,_,s,p,a,T);else switch(m===99&&Nn(N,3)===110?100:m){case 100:case 108:case 109:case 115:_y(n,P,P,r&&bh(TP(n,P,P,0,0,i,a,E,i,_=[],p,T),T),i,T,p,a,r?_:T);break;default:_y(N,P,P,P,[""],T,0,a,T)}}d=f=y=0,v=M=1,E=N="",p=o;break;case 58:p=1+xs(N),y=b;default:if(v<1){if(k==123)--v;else if(k==125&&v++==0&&xpe()==125)continue}switch(N+=HC(k),k*v){case 38:M=f>0?1:(N+="\f",-1);break;case 44:a[d++]=(xs(N)-1)*M,M=1;break;case 64:Dc()===45&&(N+=Sw(Gi())),m=Dc(),f=p=xs(E=N+=kpe(Oy())),k++;break;case 45:b===45&&xs(N)==2&&(v=0)}}return s}function TP(n,e,t,r,i,s,o,a,c,d,f,p){for(var m=i-1,y=i===0?s:[""],b=vz(y),v=0,w=0,M=0;v<r;++v)for(var k=0,E=Od(n,m+1,m=yz(w=o[v])),_=n;k<b;++k)(_=bz(w>0?y[k]+" "+E:$e(E,/&\f/g,y[k])))&&(c[M++]=_);return zb(n,e,t,i===0?Bb:a,c,d,f,p)}function Tpe(n,e,t,r){return zb(n,e,t,mz,HC(vpe()),Od(n,2,-2),0,r)}function OP(n,e,t,r,i){return zb(n,e,t,VC,Od(n,0,r),Od(n,r+1,-1),r,i)}function wz(n,e,t){switch(ype(n,e)){case 5103:return bt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+n+n;case 4789:return Vh+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+n+Vh+n+Vt+n+n;case 5936:switch(Nn(n,e+11)){case 114:return bt+n+Vt+$e(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return bt+n+Vt+$e(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return bt+n+Vt+$e(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return bt+n+Vt+n+n;case 6165:return bt+n+Vt+"flex-"+n+n;case 5187:return bt+n+$e(n,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Vt+"flex-$1$2")+n;case 5443:return bt+n+Vt+"flex-item-"+$e(n,/flex-|-self/g,"")+(yo(n,/flex-|baseline/)?"":Vt+"grid-row-"+$e(n,/flex-|-self/g,""))+n;case 4675:return bt+n+Vt+"flex-line-pack"+$e(n,/align-content|flex-|-self/g,"")+n;case 5548:return bt+n+Vt+$e(n,"shrink","negative")+n;case 5292:return bt+n+Vt+$e(n,"basis","preferred-size")+n;case 6060:return bt+"box-"+$e(n,"-grow","")+bt+n+Vt+$e(n,"grow","positive")+n;case 4554:return bt+$e(n,/([^-])(transform)/g,"$1"+bt+"$2")+n;case 6187:return $e($e($e(n,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),n,"")+n;case 5495:case 3959:return $e(n,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return $e($e(n,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+n+n;case 4200:if(!yo(n,/flex-|baseline/))return Vt+"grid-column-align"+Od(n,e)+n;break;case 2592:case 3360:return Vt+$e(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,yo(r.props,/grid-\w+-end/)})?~Ty(n+(t=t[e].value),"span",0)?n:Vt+$e(n,"-start","")+n+Vt+"grid-row-span:"+(~Ty(t,"span",0)?yo(t,/\d+/):+yo(t,/\d+/)-+yo(n,/\d+/))+";":Vt+$e(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return yo(r.props,/grid-\w+-start/)})?n:Vt+$e($e(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return $e(n,/(.+)-inline(.+)/,bt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xs(n)-1-e>6)switch(Nn(n,e+1)){case 109:if(Nn(n,e+4)!==45)break;case 102:return $e(n,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Vh+(Nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ty(n,"stretch",0)?wz($e(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return $e(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,c,d){return Vt+i+":"+s+d+(o?Vt+i+"-span:"+(a?c:+c-+s)+d:"")+n});case 4949:if(Nn(n,e+6)===121)return $e(n,":",":"+bt)+n;break;case 6444:switch(Nn(n,Nn(n,14)===45?18:11)){case 120:return $e(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(Nn(n,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Vt+"$2box$3")+n;case 100:return $e(n,":",":"+Vt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $e(n,"scroll-","scroll-snap-")+n}return n}function L0(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function Ope(n,e,t,r){switch(n.type){case gpe:if(n.children.length)break;case mpe:case VC:return n.return=n.return||n.value;case mz:return"";case gz:return n.return=n.value+"{"+L0(n.children,r)+"}";case Bb:if(!xs(n.value=n.props.join(",")))return""}return xs(t=L0(n.children,r))?n.return=n.value+"{"+t+"}":""}function _pe(n){var e=vz(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function Ape(n){return function(e){e.root||(e=e.return)&&n(e)}}function Rpe(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case VC:n.return=wz(n.value,n.length,t);return;case gz:return L0([va(n,{value:$e(n.value,"@","@"+bt)})],r);case Bb:if(n.length)return bpe(t=n.props,function(i){switch(yo(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Au(va(n,{props:[$e(i,/:(read-\w+)/,":"+Vh+"$1")]})),Au(va(n,{props:[i]})),pM(n,{props:EP(t,r)});break;case"::placeholder":Au(va(n,{props:[$e(i,/:(plac\w+)/,":"+bt+"input-$1")]})),Au(va(n,{props:[$e(i,/:(plac\w+)/,":"+Vh+"$1")]})),Au(va(n,{props:[$e(i,/:(plac\w+)/,Vt+"input-$1")]})),Au(va(n,{props:[i]})),pM(n,{props:EP(t,r)});break}return""})}}var Npe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oi={},Ad=typeof process<"u"&&oi!==void 0&&(oi.REACT_APP_SC_ATTR||oi.SC_ATTR)||"data-styled",Sz="active",Mz="data-styled-version",Hb="6.1.19",UC=`/*!sc*/
`,I0=typeof window<"u"&&typeof document<"u",Ppe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&oi!==void 0&&oi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&oi.REACT_APP_SC_DISABLE_SPEEDY!==""?oi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&oi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&oi!==void 0&&oi.SC_DISABLE_SPEEDY!==void 0&&oi.SC_DISABLE_SPEEDY!==""&&oi.SC_DISABLE_SPEEDY!=="false"&&oi.SC_DISABLE_SPEEDY),Ub=Object.freeze([]),Rd=Object.freeze({});function Lpe(n,e,t){return t===void 0&&(t=Rd),n.theme!==t.theme&&n.theme||e||t.theme}var Dz=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ipe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,jpe=/(^-|-$)/g;function _P(n){return n.replace(Ipe,"-").replace(jpe,"")}var Bpe=/(a)(d)/gi,Qg=52,AP=function(n){return String.fromCharCode(n+(n>25?39:97))};function yM(n){var e,t="";for(e=Math.abs(n);e>Qg;e=e/Qg|0)t=AP(e%Qg)+t;return(AP(e%Qg)+t).replace(Bpe,"$1-$2")}var Mw,Cz=5381,$u=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},kz=function(n){return $u(Cz,n)};function Fpe(n){return yM(kz(n)>>>0)}function zpe(n){return n.displayName||n.name||"Component"}function Dw(n){return typeof n=="string"&&!0}var Ez=typeof Symbol=="function"&&Symbol.for,Tz=Ez?Symbol.for("react.memo"):60115,Vpe=Ez?Symbol.for("react.forward_ref"):60112,Hpe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Upe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Oz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$pe=((Mw={})[Vpe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mw[Tz]=Oz,Mw);function RP(n){return("type"in(e=n)&&e.type.$$typeof)===Tz?Oz:"$$typeof"in n?$pe[n.$$typeof]:Hpe;var e}var Ype=Object.defineProperty,Wpe=Object.getOwnPropertyNames,NP=Object.getOwnPropertySymbols,qpe=Object.getOwnPropertyDescriptor,Kpe=Object.getPrototypeOf,PP=Object.prototype;function _z(n,e,t){if(typeof e!="string"){if(PP){var r=Kpe(e);r&&r!==PP&&_z(n,r,t)}var i=Wpe(e);NP&&(i=i.concat(NP(e)));for(var s=RP(n),o=RP(e),a=0;a<i.length;++a){var c=i[a];if(!(c in Upe||t&&t[c]||o&&c in o||s&&c in s)){var d=qpe(e,c);try{Ype(n,c,d)}catch{}}}}return n}function Nd(n){return typeof n=="function"}function $C(n){return typeof n=="object"&&"styledComponentId"in n}function nc(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function LP(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function wp(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function bM(n,e,t){if(t===void 0&&(t=!1),!t&&!wp(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=bM(n[r],e[r]);else if(wp(e))for(var r in e)n[r]=bM(n[r],e[r]);return n}function YC(n,e){Object.defineProperty(n,"toString",{value:e})}function Jp(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Qpe=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Jp(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),c=(o=0,t.length);o<c;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(UC);return t},n}(),Ay=new Map,j0=new Map,Ry=1,Gg=function(n){if(Ay.has(n))return Ay.get(n);for(;j0.has(Ry);)Ry++;var e=Ry++;return Ay.set(n,e),j0.set(e,n),e},Gpe=function(n,e){Ry=e+1,Ay.set(n,e),j0.set(e,n)},Xpe="style[".concat(Ad,"][").concat(Mz,'="').concat(Hb,'"]'),Jpe=new RegExp("^".concat(Ad,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Zpe=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},eme=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(UC),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var c=a.match(Jpe);if(c){var d=0|parseInt(c[1],10),f=c[2];d!==0&&(Gpe(f,d),Zpe(n,f,c[3]),n.getTag().insertRules(d,i)),i.length=0}else i.push(a)}}},IP=function(n){for(var e=document.querySelectorAll(Xpe),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(Ad)!==Sz&&(eme(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function tme(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Az=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Ad,"]")));return c[c.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ad,Sz),r.setAttribute(Mz,Hb);var o=tme();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},nme=function(){function n(e){this.element=Az(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw Jp(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),rme=function(){function n(e){this.element=Az(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),ime=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),jP=I0,sme={isServer:!I0,useCSSOMInjection:!Ppe},Rz=function(){function n(e,t,r){e===void 0&&(e=Rd),t===void 0&&(t={});var i=this;this.options=Hr(Hr({},sme),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&I0&&jP&&(jP=!1,IP(this)),YC(this,function(){return function(s){for(var o=s.getTag(),a=o.length,c="",d=function(p){var m=function(M){return j0.get(M)}(p);if(m===void 0)return"continue";var y=s.names.get(m),b=o.getGroup(p);if(y===void 0||!y.size||b.length===0)return"continue";var v="".concat(Ad,".g").concat(p,'[id="').concat(m,'"]'),w="";y!==void 0&&y.forEach(function(M){M.length>0&&(w+="".concat(M,","))}),c+="".concat(b).concat(v,'{content:"').concat(w,'"}').concat(UC)},f=0;f<a;f++)d(f);return c}(i)})}return n.registerId=function(e){return Gg(e)},n.prototype.rehydrate=function(){!this.server&&I0&&IP(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Hr(Hr({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new ime(i):r?new nme(i):new rme(i)}(this.options),new Qpe(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Gg(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(Gg(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Gg(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),ome=/&/g,ame=/^\s*\/\/.*$/gm;function Nz(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=Nz(t.children,e)),t})}function lme(n){var e,t,r,i=Rd,s=i.options,o=s===void 0?Rd:s,a=i.plugins,c=a===void 0?Ub:a,d=function(m,y,b){return b.startsWith(t)&&b.endsWith(t)&&b.replaceAll(t,"").length>0?".".concat(e):m},f=c.slice();f.push(function(m){m.type===Bb&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(ome,t).replace(r,d))}),o.prefix&&f.push(Rpe),f.push(Ope);var p=function(m,y,b,v){y===void 0&&(y=""),b===void 0&&(b=""),v===void 0&&(v="&"),e=v,t=y,r=new RegExp("\\".concat(t,"\\b"),"g");var w=m.replace(ame,""),M=Epe(b||y?"".concat(b," ").concat(y," { ").concat(w," }"):w);o.namespace&&(M=Nz(M,o.namespace));var k=[];return L0(M,_pe(f.concat(Ape(function(E){return k.push(E)})))),k};return p.hash=c.length?c.reduce(function(m,y){return y.name||Jp(15),$u(m,y.name)},Cz).toString():"",p}var cme=new Rz,vM=lme(),Pz=$.createContext({shouldForwardProp:void 0,styleSheet:cme,stylis:vM});Pz.Consumer;$.createContext(void 0);function BP(){return D.useContext(Pz)}var ume=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=vM);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,YC(this,function(){throw Jp(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=vM),this.name+e.hash},n}(),dme=function(n){return n>="A"&&n<="Z"};function FP(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;dme(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Lz=function(n){return n==null||n===!1||n===""},Iz=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!Lz(s)&&(Array.isArray(s)&&s.isCss||Nd(s)?r.push("".concat(FP(i),":"),s,";"):wp(s)?r.push.apply(r,P0(P0(["".concat(i," {")],Iz(s),!1),["}"],!1)):r.push("".concat(FP(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in Npe||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Cc(n,e,t,r){if(Lz(n))return[];if($C(n))return[".".concat(n.styledComponentId)];if(Nd(n)){if(!Nd(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return Cc(i,e,t,r)}var s;return n instanceof ume?t?(n.inject(t,r),[n.getName(r)]):[n]:wp(n)?Iz(n):Array.isArray(n)?Array.prototype.concat.apply(Ub,n.map(function(o){return Cc(o,e,t,r)})):[n.toString()]}function fme(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Nd(t)&&!$C(t))return!1}return!0}var hme=kz(Hb),pme=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&fme(e),this.componentId=t,this.baseHash=$u(hme,t),this.baseStyle=r,Rz.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=nc(i,this.staticRulesId);else{var s=LP(Cc(this.rules,e,t,r)),o=yM($u(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=nc(i,o),this.staticRulesId=o}else{for(var c=$u(this.baseHash,r.hash),d="",f=0;f<this.rules.length;f++){var p=this.rules[f];if(typeof p=="string")d+=p;else if(p){var m=LP(Cc(p,e,t,r));c=$u(c,m+f),d+=m}}if(d){var y=yM(c>>>0);t.hasNameForId(this.componentId,y)||t.insertRules(this.componentId,y,r(d,".".concat(y),void 0,this.componentId)),i=nc(i,y)}}return i},n}(),jz=$.createContext(void 0);jz.Consumer;var Cw={};function mme(n,e,t){var r=$C(n),i=n,s=!Dw(n),o=e.attrs,a=o===void 0?Ub:o,c=e.componentId,d=c===void 0?function(_,T){var P=typeof _!="string"?"sc":_P(_);Cw[P]=(Cw[P]||0)+1;var N="".concat(P,"-").concat(Fpe(Hb+P+Cw[P]));return T?"".concat(T,"-").concat(N):N}(e.displayName,e.parentComponentId):c,f=e.displayName,p=f===void 0?function(_){return Dw(_)?"styled.".concat(_):"Styled(".concat(zpe(_),")")}(n):f,m=e.displayName&&e.componentId?"".concat(_P(e.displayName),"-").concat(e.componentId):e.componentId||d,y=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;b=function(_,T){return v(_,T)&&w(_,T)}}else b=v}var M=new pme(t,m,r?i.componentStyle:void 0);function k(_,T){return function(P,N,A){var L=P.attrs,I=P.componentStyle,V=P.defaultProps,q=P.foldedComponentIds,ae=P.styledComponentId,de=P.target,oe=$.useContext(jz),F=BP(),U=P.shouldForwardProp||F.shouldForwardProp,J=Lpe(N,oe,V)||Rd,ce=function(De,fe,ft){for(var Te,Qe=Hr(Hr({},fe),{className:void 0,theme:ft}),Ae=0;Ae<De.length;Ae+=1){var Kt=Nd(Te=De[Ae])?Te(Qe):Te;for(var we in Kt)Qe[we]=we==="className"?nc(Qe[we],Kt[we]):we==="style"?Hr(Hr({},Qe[we]),Kt[we]):Kt[we]}return fe.className&&(Qe.className=nc(Qe.className,fe.className)),Qe}(L,N,J),j=ce.as||de,Z={};for(var se in ce)ce[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&ce.theme===J||(se==="forwardedAs"?Z.as=ce.forwardedAs:U&&!U(se,j)||(Z[se]=ce[se]));var le=function(De,fe){var ft=BP(),Te=De.generateAndInjectStyles(fe,ft.styleSheet,ft.stylis);return Te}(I,ce),he=nc(q,ae);return le&&(he+=" "+le),ce.className&&(he+=" "+ce.className),Z[Dw(j)&&!Dz.has(j)?"class":"className"]=he,A&&(Z.ref=A),D.createElement(j,Z)}(E,_,T)}k.displayName=p;var E=$.forwardRef(k);return E.attrs=y,E.componentStyle=M,E.displayName=p,E.shouldForwardProp=b,E.foldedComponentIds=r?nc(i.foldedComponentIds,i.styledComponentId):"",E.styledComponentId=m,E.target=r?i.target:n,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(T){for(var P=[],N=1;N<arguments.length;N++)P[N-1]=arguments[N];for(var A=0,L=P;A<L.length;A++)bM(T,L[A],!0);return T}({},i.defaultProps,_):_}}),YC(E,function(){return".".concat(E.styledComponentId)}),s&&_z(E,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function zP(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var VP=function(n){return Object.assign(n,{isCss:!0})};function gme(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Nd(n)||wp(n))return VP(Cc(zP(Ub,P0([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Cc(r):VP(Cc(zP(r,e)))}function xM(n,e,t){if(t===void 0&&(t=Rd),!e)throw Jp(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,gme.apply(void 0,P0([i],s,!1)))};return r.attrs=function(i){return xM(n,e,Hr(Hr({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return xM(n,e,Hr(Hr({},t),i))},r}var Bz=function(n){return xM(mme,n)},$s=Bz;Dz.forEach(function(n){$s[n]=Bz(n)});const yme=$s.div`
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
`,bme=$s.div`
    display: flex;
    gap: 8px;
`,vme=$s.div`
    flex: 1;
    text-align: center;
    font-size: 1.2rem;
    font-weight: bold;
`;function xme({onPrev:n,onToday:e,onNext:t,currentDate:r}){return C.jsxs(yme,{children:[C.jsxs(bme,{children:[C.jsx("button",{onClick:n,children:"이전"}),C.jsx("button",{onClick:e,children:"이번 달"}),C.jsx("button",{onClick:t,children:"다음"})]}),C.jsxs(vme,{children:[r.getFullYear(),"년 ",String(r.getMonth()+1).padStart(2,"0"),"월"]}),C.jsx("div",{style:{width:"96px"}})]})}const wme=$s.div`
  position: fixed;
  top: ${({y:n})=>n}px;
  left: ${({x:n})=>n}px;
  background: #222;
  color: #fff;
  padding: 8px 14px;
  border-radius: 6px;
  font-size: 0.95rem;
  pointer-events: none;
  z-index: 1000;
  white-space: pre-line;
  box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  opacity: 0.95;
`;function Sme({visible:n,x:e,y:t,children:r}){return n?C.jsx(wme,{x:e,y:t,children:r}):null}const wM=[{score:-125,color:"#393E75"},{score:-100,color:"#644C80"},{score:-75,color:"#8E588A"},{score:-50,color:"#B5698F"},{score:-25,color:"#D07A91"},{score:0,color:"#DC8991"},{score:25,color:"#ED8991"},{score:50,color:"#FE978E"},{score:75,color:"#FEA88D"},{score:100,color:"#FEBB8E"},{score:125,color:"#FFE5AE"},{score:150,color:"#FFF7CA"}];function Ny(n){let e=wM[0].score,t=Math.abs(n-e);for(const r of wM){const i=Math.abs(n-r.score);i<t&&(e=r.score,t=i)}return e}function Py(n){const e=wM.find(t=>t.score===n);return e?e.color:"#DC8991"}function Mme(n){const e=Ny(n+50);return Py(e)}function Dme(n){const e=Ny(n),t=Ny(e-25),r=Ny(e+25);return[{score:t,color:Py(t)},{score:e,color:Py(e)},{score:r,color:Py(r)}]}const Cme=["M0,71 Q14,68,25,78 Q40,92 53,84 Q69,74 87,80 Q92,82 100,79 L100,120 L0,120Z","M0,83 Q7,88 18,81 Q38,72 55,84 Q71,94 84,83 Q92,77 100,79 L100,120 L0,120Z","M0,95 Q9,93 20,102 Q41,117 61,100 Q73,91 87,103 Q94,109 100,108 L100,120 L0,120Z"],kme=[["M0,71 Q14,68,25,78 Q40,92 53,84 Q69,74 87,80 Q92,82 100,79 L100,120 L0,120Z","M0,68 Q14,80 25,75 Q40,66 53,81 Q69,95 87,82 Q92,78 100,80 L100,120 L0,120Z","M0,73 Q14,69 25,76 Q40,86 53,79 Q69,71 87,80 Q92,83 100,81 L100,120 L0,120Z","M0,66 Q14,77 25,72 Q40,62 53,76 Q69,90 86,80 Q92,75 100,79 L100,120 L0,120Z","M0,72 Q14,67 25,71 Q40,78 53,68 Q69,57 86,72 Q92,78 100,79 L100,120 L0,120Z","M0,66 Q14,79 25,73 Q40,64 53,70 Q69,80 86,70 Q92,66 100,68 L100,120 L0,120Z","M0,71 Q14,68,25,78 Q40,92 53,84 Q69,74 87,80 Q92,82 100,79 L100,120 L0,120Z"],["M0,83 Q7,88 18,81 Q38,72 55,84 Q71,94 84,83 Q92,77 100,79 L100,120 L0,120Z","M0,90 Q7,80 18,85 Q38,92 55,87 Q71,81 84,89 Q92,95 100,87 L100,120 L0,120Z","M0,85 Q7,90 18,87 Q38,78 55,90 Q71,98 84,91 Q92,86 100,87 L100,120 L0,120Z","M0,92 Q7,85 18,89 Q38,96 55,92 Q71,86 84,90 Q92,94 100,87 L100,120 L0,120Z","M0,84 Q7,87 18,85 Q38,76 55,88 Q71,98 84,92 Q92,88 100,90 L100,120 L0,120Z","M0,89 Q7,80 18,86 Q38,94 55,89 Q71,81 84,92 Q92,97 100,87 L100,120 L0,120Z","M0,83 Q7,88 18,83 Q38,72 55,84 Q71,94 84,83 Q92,77 100,80 L100,120 L0,120Z"],["M0,96 Q9,91 17,98 Q33,113 53,100 Q66,93 80,102 Q92,111 100,107 L100,120 L0,120Z","M0,95 Q5,91 13,98 Q28,110 48,100 Q60,93 73,102 Q88,111 100,107 L100,120 L0,120Z","M0,95 Q9,105 17,98 Q33,88 53,104 Q66,114 80,104 Q92,94 100,95 L100,120 L0,120Z","M0,94 Q5,88 13,94 Q28,105 48,98 Q60,93 73,102 Q92,115 100,109 L100,120 L0,120Z","M0,96 Q9,92 17,98 Q33,108 53,96 Q66,88 80,99 Q92,108 100,96 L100,120 L0,120Z","M0,95 Q5,100 13,95 Q28,83 48,98 Q60,105 73,100 Q88,94 100,105 L100,120 L0,120Z","M0,96 Q9,91 17,98 Q33,113 53,100 Q66,93 80,102 Q92,111 100,107 L100,120 L0,120Z"]],Eme=$s.div`
    width: ${({width:n})=>n||"420px"};
    margin: 0 auto;
    background: #f0f0f0;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    padding: 20px;
`,Tme=$s.div`
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    margin-bottom: 8px;
    color: #888;
    font-weight: 500;
    font-size: 1rem;
`,Ome=$s.div`
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    justify-content: center;
    align-items: center;
    gap: 5px;
    //font-size: 0.7rem;
`,_me=$s.div`
    height: ${({cellHeight:n})=>n||"60px"};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    background: ${({isToday:n})=>n?"none":"#fff"};
    font-weight: ${({isToday:n})=>n?"bold":"normal"};
    border: ${({isSelected:n})=>n?"3px inset #DDD":"transparent"};
    box-shadow: ${({isSelected:n})=>n?"none":"2px 2px 2px 0px #999"};
    opacity: ${({isCurrentMonth:n})=>n?1:.55};
    cursor: pointer;
    transition: border 0.2s;
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
`;function xme({rows:n,currentDate:e,calendarEntries:t,isLoggedIn:r,selectedDate:i,onSelectDate:s,width:o="420px",cellHeight:a="60px"}){const[c,d]=D.useState(new Date);D.useEffect(()=>{const N=setInterval(()=>d(new Date),6e4);return()=>clearInterval(N)},[]);const f=D.useRef(),[p,m]=D.useState({visible:!1,x:0,y:0,title:""}),y=["월","화","수","목","금","토","일"],b=ts();function v(N=new Date){const _=N.getHours();return _>=7&&_<=18}const w=v(c);function M(){return w?"rgb(220 137 145 /0.55)":"rgb(57 62 117 /0.35)"}function k(N,_){_&&(f.current=setTimeout(()=>{m({visible:!0,x:N.clientX+12,y:N.clientY+12,title:_.title})},500))}function E(N,_){_&&m(L=>({...L,x:N.clientX+12,y:N.clientY+12}))}function A(){f.current=setTimeout(()=>{m({visible:!1,x:0,y:0,title:""})})}const T=new Map;t.forEach(N=>{const _=cr(new Date(N.diaryDate),"yyyy-MM-dd");T.set(_,N)});function P(N){if(!r)return;const _=cr(N,"yyyy-MM-dd");s&&s(N),b(`/diary/date/${_}`)}return C.jsxs(gme,{width:o,children:[C.jsx(yme,{children:y.map(N=>C.jsx("div",{style:{textAlign:"center"},children:N},N))}),C.jsx(bme,{children:n.flat().map((N,_)=>{const L=cr(N,"yyyy-MM-dd"),I=T.get(L),V=i&&N.toDateString()===i.toDateString(),q=I&&typeof I.moodScore=="number"?fme(I.moodScore):M(),ae=I&&typeof I.moodScore=="number"?hme(I.moodScore):null,de=w?"#FE978E":"#FFF6E5",oe=N.toDateString()===new Date().toDateString();return C.jsxs(vme,{isToday:oe,isSelected:V,isCurrentMonth:N.getMonth()===e.getMonth(),cellHeight:a,onClick:()=>s(N),onDoubleClick:()=>P(N),onMouseEnter:F=>k(F,I),onMouseMove:F=>E(F,I),onMouseLeave:A,style:{position:"relative",background:q,transition:"background 0.3s",borderRadius:"8px",overflow:"hidden"},children:[C.jsx("div",{className:"sunMoon",style:{display:"flex",justifyContent:"center",alignItems:"center",width:oe?"32%":"23%",height:oe?"32%":"23%",border:oe?"5px dotted magenta":"none",borderRadius:"50%",marginBottom:"33%",backgroundColor:I?"rgba(255,246,229,0.75)":"transparent",color:"#393E75",zIndex:5},children:C.jsx("div",{style:{fontSize:I?"0.6rem":"0.85rem",lineHeight:V?"100%":"inherit"},children:N.getDate()})}),C.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:0,height:"100%",pointerEvents:"none",zIndex:1},children:[0,1,2].map(F=>{const U=pme[F],J=mme[F],ce=[4.1,3.2,2.3];if(ae){const j=ae.slice().reverse().reverse()[F];return V?C.jsx(tc.svg,{viewBox:"0 0 100 120",preserveAspectRatio:"none",style:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%"},children:C.jsx(tc.path,{fill:j.color,initial:{d:J[0]},animate:{d:[J[0],J[1],J[2],J[3],J[4],J[5],J[6]]},transition:{duration:ce[F],repeat:1/0,repeatType:"reverse",ease:"linear",delay:F*.3}})},`wave-animated-${F}`):C.jsx("svg",{viewBox:"0 0 100 120",preserveAspectRatio:"none",style:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%"},children:C.jsx("path",{d:U,fill:j.color})},`wave-static-${F}`)}return C.jsx("svg",{viewBox:"0 0 100 120",preserveAspectRatio:"none",style:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%"},children:C.jsx("path",{d:U,fill:de,fillOpacity:.15,stroke:"rgb(225 225 225 / 0.90)",strokeWidth:"1px"})},`default-wave-${F}`)})})]},_)})}),C.jsx(dme,{visible:p.visible,x:p.x,y:p.y,children:p.title})]})}const wme=$s.div`
========
`;function Ame({rows:n,currentDate:e,calendarEntries:t,isLoggedIn:r,selectedDate:i,onSelectDate:s,width:o="420px",cellHeight:a="60px"}){const[c,d]=D.useState(new Date);D.useEffect(()=>{const N=setInterval(()=>d(new Date),6e4);return()=>clearInterval(N)},[]);const f=D.useRef(),[p,m]=D.useState({visible:!1,x:0,y:0,title:""}),y=["월","화","수","목","금","토","일"],b=es();function v(N=new Date){const A=N.getHours();return A>=7&&A<=18}const w=v(c);function M(){return w?"rgb(220 137 145 /0.55)":"rgb(57 62 117 /0.35)"}function k(N,A){A&&(f.current=setTimeout(()=>{m({visible:!0,x:N.clientX+12,y:N.clientY+12,title:A.title})},500))}function E(N,A){A&&m(L=>({...L,x:N.clientX+12,y:N.clientY+12}))}function _(){f.current=setTimeout(()=>{m({visible:!1,x:0,y:0,title:""})})}const T=new Map;t.forEach(N=>{const A=ar(new Date(N.diaryDate),"yyyy-MM-dd");T.set(A,N)});function P(N){if(!r)return;const A=ar(N,"yyyy-MM-dd");s&&s(N),b(`/diary/date/${A}`)}return C.jsxs(Eme,{width:o,children:[C.jsx(Tme,{children:y.map(N=>C.jsx("div",{style:{textAlign:"center"},children:N},N))}),C.jsx(Ome,{children:n.flat().map((N,A)=>{const L=ar(N,"yyyy-MM-dd"),I=T.get(L),V=i&&N.toDateString()===i.toDateString(),q=I&&typeof I.moodScore=="number"?Mme(I.moodScore):M(),ae=I&&typeof I.moodScore=="number"?Dme(I.moodScore):null,de=w?"#FE978E":"#FFF6E5",oe=N.toDateString()===new Date().toDateString();return C.jsxs(_me,{isToday:oe,isSelected:V,isCurrentMonth:N.getMonth()===e.getMonth(),cellHeight:a,onClick:()=>s(N),onDoubleClick:()=>P(N),onMouseEnter:F=>k(F,I),onMouseMove:F=>E(F,I),onMouseLeave:_,style:{position:"relative",background:q,transition:"background 0.3s",borderRadius:"8px",overflow:"hidden"},children:[C.jsx("div",{className:"sunMoon",style:{display:"flex",justifyContent:"center",alignItems:"center",width:oe?"32%":"23%",height:oe?"32%":"23%",border:oe?"5px dotted magenta":"none",borderRadius:"50%",marginBottom:"33%",backgroundColor:I?"rgba(255,246,229,0.75)":"transparent",color:"#393E75",zIndex:5},children:C.jsx("div",{style:{fontSize:I?"0.6rem":"0.85rem",lineHeight:V?"100%":"inherit"},children:N.getDate()})}),C.jsx("div",{style:{position:"absolute",left:0,right:0,bottom:0,height:"100%",pointerEvents:"none",zIndex:1},children:[0,1,2].map(F=>{const U=Cme[F],J=kme[F],ce=[4.1,3.2,2.3];if(ae){const j=ae.slice().reverse().reverse()[F];return V?C.jsx(tc.svg,{viewBox:"0 0 100 120",preserveAspectRatio:"none",style:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%"},children:C.jsx(tc.path,{fill:j.color,initial:{d:J[0]},animate:{d:[J[0],J[1],J[2],J[3],J[4],J[5],J[6]]},transition:{duration:ce[F],repeat:1/0,repeatType:"reverse",ease:"linear",delay:F*.3}})},`wave-animated-${F}`):C.jsx("svg",{viewBox:"0 0 100 120",preserveAspectRatio:"none",style:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%"},children:C.jsx("path",{d:U,fill:j.color})},`wave-static-${F}`)}return C.jsx("svg",{viewBox:"0 0 100 120",preserveAspectRatio:"none",style:{position:"absolute",bottom:0,left:0,width:"100%",height:"100%"},children:C.jsx("path",{d:U,fill:de,fillOpacity:.15,stroke:"rgb(225 225 225 / 0.90)",strokeWidth:"1px"})},`default-wave-${F}`)})})]},A)})}),C.jsx(Sme,{visible:p.visible,x:p.x,y:p.y,children:p.title})]})}const Rme=$s.div`
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
  width: ${({width:n})=>n||"420px"};
  height: ${({height:n})=>n||"auto"};
  margin: 0 auto;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  padding: 20px;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
<<<<<<<< HEAD:Spring/src/main/resources/static/js/index-B5mV0R9E.js
`;function P5({width:n="900px",height:e="auto",cellHeight:t="100px"}){const{user:r,loading:i}=Un(),s=Kr(),[o,a]=D.useState(new Date),c=o.getFullYear(),d=o.getMonth()+1,[f,p]=D.useState(null),{data:m,isLoading:y,isError:b}=rpe(c,d,!!r);if(console.log("calendarEntries",m),i)return C.jsx("div",{children:"로딩 중..."});if(b)return C.jsx("div",{children:"데이터를 불러오는 중 오류가 발생했습니다."});const v=()=>a(Wa(o,1)),w=()=>a(hr(o,1)),M=()=>a(new Date),k=HM(o),E=VM(k),A=Is(k,{weekStartsOn:1}),T=vI(E,{weekStartsOn:1}),P=[];let N=[],_=A;for(;_<=T;){for(let I=0;I<7;I++)N.push(_),_=Ln(_,1);P.push(N),N=[]}const L=I=>{s()&&p(I)};return C.jsxs(wme,{width:n,height:e,children:[C.jsx(cme,{onPrev:v,onToday:M,onNext:w,currentDate:o}),C.jsx(xme,{rows:P,currentDate:o,selectedDate:f,onSelectDate:L,calendarEntries:m||[],isLoggedIn:!!r,width:"800px",cellHeight:t})]})}function Sme({test:n,onClose:e}){const[t,r]=D.useState(0),[i,s]=D.useState(Array(n.questions.length).fill(null)),o=n.optionMap?n.optionMap[t]:0,a=Array.isArray(n.options[0])?n.options[o]:n.options,c=(m,y)=>{const b=[...i];b[m]=y,s(b),m<n.questions.length-1&&r(m+1)},d=i.every(m=>m!==null),f=()=>{d&&(p(),e())},p=()=>{let m=0;return i.forEach((y,b)=>{y!==null&&(n.reverseScoreIdx&&n.reverseScoreIdx.includes(b)?m+=a.length-1-y:m+=y)}),m};return C.jsx("div",{className:"modal-background",children:C.jsxs("div",{className:"modal-box",children:[C.jsx("button",{className:"close-btn",onClick:e,children:" x "}),C.jsx("h2",{children:n.label}),C.jsxs("div",{className:"question-box",children:[C.jsxs("p",{children:[" ",t+1,". ",n.questions[t]," "]}),C.jsx("div",{className:"options",children:a.map((m,y)=>C.jsxs("label",{className:"option-label",children:[C.jsx("input",{type:"radio",name:`q${t}`,checked:i[t]===y,onChange:()=>c(t,y)}),C.jsx("span",{children:m})]},y))})]}),C.jsxs("div",{className:"modal-nav",children:[C.jsx("button",{onClick:()=>r(m=>Math.max(m-1,0)),disabled:t===0,children:" 이전 "}),C.jsx("button",{onClick:()=>r(m=>Math.min(m+1,n.questions.length-1)),disabled:t===n.questions.length-1,children:" 다음 "})]}),t===n.questions.length-1&&C.jsx("button",{className:"submit-btn",disabled:!d,onClick:f,children:" 제출하기 "})]})})}const zP=[{type:"depression",label:"우울 자가진단 테스트",questions:["일에 대한 흥미나 즐거움이 거의 없다.","기분이 처지거나, 우울하거나 희망이 없다고 느낀다.","잠들기 어렵거나 잠을 너무 많이 잔다.","피로하거나 기운이 거의 없다.","식욕이 없거나 과식을 한다.","스스로에 대해 부정적인 감정이 든다. 자신을 실패자라고 여기거나 자신, 또는 가족을 실망시켰다고 생각한다.","신문을 읽거나 TV를 보는 등 집중해야 하는 일에서 어려움을 겪는다.","다른 사람들이 알아챌 정도로 말이나 행동이 매우 느리다. 혹은 반대로 평소보다 안절부절 못하거나 과하게 움직인다.","차라리 자신을 해치거나 죽는 것이 낫다고 생각한다.","만약 당신이 앞의 질문에 체크를 했다면, 업무를 하거나, 다른 사람들을 만나거나, 집안일을 하는 등 일상적인 일을 할 때 얼마나 어려움을 겪었나요?"],options:[["전혀 없음","며칠 정도","일주일 이상","거의 매일"],["전혀 어렵지 않음","다소 어려움","어려움","매우 어려움"]],optionMap:[0,0,0,0,0,0,0,0,0,1]},{type:"anxiety",label:"불안 자가진단 테스트",questions:["불안하거나, 초조하거나, 신경이 곤두서는 느낌이 든다.","걱정을 멈추거나 조절하기 어렵다.","여러 가지 일을 지나치게 많이 걱정한다.","편안히 있는 것이 힘들다.","너무 안절부절 못해 가만히 앉아있기가 힘들다.","사소한 일에도 쉽게 짜증이 나거나 예민해진다.","안 좋은 일이 일어날 것 같아 두려움을 느낀다.","만약 당신이 앞의 질문에 체크를 했다면, 업무를 하거나, 다른 사람들을 만나거나, 집안일을 하는 등 일상적인 일을 할 때 얼마나 어려움을 겪었나요?"],options:[["전혀 없음","며칠 정도","일주일 이상","거의 매일"],["전혀 어렵지 않음","다소 어려움","어려움","매우 어려움"]],optionMap:[0,0,0,0,0,0,0,1]},{type:"stress",label:"스트레스 자가진단 테스트",questions:["지난 한 달 동안, 예상치 못한 일 때문에 속상했던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 인생에서 중요한 일들을 통제할 수 없다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 긴장되고 스트레스를 받는다고 느낀 적이 얼마나 자주 있었나요?","지난 한 달 동안, 개인적인 문제를 처리할 때 자신의 능력에 대해 자신감을 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 일이 잘 풀리고 있다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 해야 할 일이 너무 많아 감당할 수 없다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 스트레스에 유연하게 대처할 수 있다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 모든 일이 잘 되고 있다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 당신의 통제를 벗어나는 일 때문에 화가 났던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 어려운 일들이 쌓여 극복할 수 없다고 느꼈던 적이 얼마나 자주 있었나요?"],options:["전혀 없음","며칠 정도","가끔","일주일 이상","거의 매일"],reverseScoreIdx:[3,4,6,7]}];function Mme(){const[n,e]=D.useState(null),t=i=>{e(i)},r=()=>e(null);return C.jsxs("div",{children:[zP.map(i=>C.jsx("button",{onClick:()=>t(i.type),children:i.label},i.type)),n&&C.jsx(Sme,{test:zP.find(i=>i.type===n),onClose:r})]})}function Dme(){return C.jsxs("div",{children:[C.jsx(P5,{}),C.jsx(Mme,{})]})}const Cme=async()=>(await Qe.get("/api/recommend/movies",{withCredentials:!0})).data,kme=async()=>(await Qe.get("/api/recommend/movies/refresh",{withCredentials:!0})).data,Eme=async n=>(await Qe.post(`/api/recommend/movies/dislike?movieKey=${n}`,null,{withCredentials:!0})).data;function Tme({onClose:n,movieKey:e,onDisLike:t}){const r=async()=>{console.log("movieKey : ",e);try{await Eme(e),console.log("movieKey : ",e),alert("영화가 싫어요 목록에 추가되었습니다."),t(e)}catch(i){console.error("영화 싫어요 추가 실패:",i),console.log("movieKey : ",e),alert("영화 싫어요 추가에 실패했습니다. 나중에 다시 시도해주세요.")}finally{n()}};return C.jsx("div",{className:"dislike-modal",onClick:i=>i.stopPropagation(),children:C.jsx("button",{onClick:r,children:"싫어요에 추가"})})}function Ome({movies:n,onDisLike:e}){const[t,r]=D.useState(!1),[i,s]=D.useState(""),[o,a]=D.useState(null),[c,d]=D.useState(null),f=()=>{r(!1),s("")};return C.jsx("div",{children:C.jsxs("div",{className:"movie-list",children:[n.slice(0,6).map(p=>C.jsxs("div",{className:"movie-card",onClick:()=>{a(p),p.trailerUrl?s(p.trailerUrl):s(""),r(!0)},children:[C.jsx("img",{src:p.poster_path?`https://image.tmdb.org/t/p/w500${p.poster_path}`:"/no-image.png",alt:p.title,className:"movie-poster"}),C.jsxs("div",{className:"movie-info",children:[C.jsx("h2",{className:"movie-title",children:p.title}),C.jsx("h3",{className:"movie-vote",children:p.vote_average}),C.jsx("button",{className:"movie-plus",onClick:m=>{m.stopPropagation(),c===p.id?d(null):d(p.id)}}),c===p.id&&C.jsx(Tme,{movieKey:p.id,onClose:()=>d(null),onDisLike:e}),C.jsx("p",{className:"movie-overview",children:p.overview||"줄거리 정보 없음"})]})]},p.id)),t&&o&&C.jsx("div",{className:"modal-backdrop",onClick:f,children:C.jsx("div",{className:"modal-content",onClick:p=>p.stopPropagation(),children:i?C.jsx("iframe",{width:"100%",height:"400",src:i,title:"Movie Trailer",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):C.jsxs("div",{className:"overview-fallback",children:[C.jsx("h2",{className:"modal-title",children:o.title}),C.jsxs("h3",{className:"modal-director",children:["감독 : ",o.directorName]}),C.jsxs("h3",{className:"modal-cast",children:["출연진 : ",o.castNames.join(", ")]}),C.jsx("p",{className:"modal-overview",children:o.overview||"줄거리 정보가 없습니다."})]})})})]})})}function _me({emotion:n}){const e=[{emotion:"슬픔/우울",text:"마음이 무거울 때 위로가 되어줄 영화입니다."},{emotion:"슬픔/우울",text:"지친 하루 끝, 조용히 감정을 어루만질 작품이에요."},{emotion:"슬픔/우울",text:"가슴속 응어리를 풀어줄 영화가 여기 있어요."},{emotion:"슬픔/우울",text:"감정을 꾹꾹 눌러 담은 진심 어린 이야기입니다."},{emotion:"슬픔/우울",text:"당신의 우울을 이해해줄 영화 한 편."},{emotion:"슬픔/우울",text:"혼자 있기 싫은 날, 함께해줄 영화예요."},{emotion:"기쁨/행복",text:"좋은 기분을 더 높여줄 유쾌한 영화입니다!"},{emotion:"기쁨/행복",text:"행복한 당신에게 딱 맞는 에너지 넘치는 영화예요."},{emotion:"기쁨/행복",text:"기분 좋은 날엔 더 신나는 이야기가 필요하죠!"},{emotion:"기쁨/행복",text:"웃음이 멈추지 않는, 즐거움을 더해줄 영화입니다."},{emotion:"기쁨/행복",text:"이 기분 그대로! 활력을 더해줄 작품이에요."},{emotion:"기쁨/행복",text:"행복한 순간을 더욱 특별하게 만들어줄 영화예요."},{emotion:"평온/만족",text:"마음이 편안해지는 잔잔한 이야기를 담았어요."},{emotion:"평온/만족",text:"평온한 기분을 유지해줄 따뜻한 영화입니다."},{emotion:"평온/만족",text:"조용한 하루에 잘 어울리는 감성적인 작품이에요."},{emotion:"평온/만족",text:"잔잔한 위로와 소소한 행복이 담긴 영화예요."},{emotion:"평온/만족",text:"마음을 안정시켜주는 고요한 이야기입니다."},{emotion:"평온/만족",text:"편안함 속에서 삶을 되돌아보게 해주는 영화예요."},{emotion:"불안/걱정",text:"혼란스러운 마음을 잠시 잊게 해줄 영화입니다."},{emotion:"불안/걱정",text:"걱정이 많을 땐 몰입할 수 있는 이야기가 도움이 돼요."},{emotion:"불안/걱정",text:"불안한 생각을 잠재워줄 몰입도 높은 영화예요."},{emotion:"불안/걱정",text:"불안감을 덜어줄 따뜻한 시선의 영화입니다."},{emotion:"불안/걱정",text:"불확실한 마음에 작은 쉼표를 줄 영화예요."},{emotion:"불안/걱정",text:"지친 머리를 잠시 쉬게 해주는 스토리입니다."},{emotion:"분노/짜증",text:"화가 나는 날엔 속 시원한 영화가 필요하죠!"},{emotion:"분노/짜증",text:"짜증나는 기분, 통쾌한 이야기로 날려보세요."},{emotion:"분노/짜증",text:"울분을 시원하게 풀어주는 영화입니다."},{emotion:"분노/짜증",text:"답답한 하루, 확 뚫어줄 이야기예요."},{emotion:"분노/짜증",text:"기분 전환엔 강렬한 전개가 제격이죠!"},{emotion:"분노/짜증",text:"감정을 해소해줄 사이다 같은 영화입니다."},{emotion:"지루/심심",text:"심심할 땐 시간 순삭 영화가 최고예요!"},{emotion:"지루/심심",text:"따분한 하루에 재미를 더해줄 영화입니다."},{emotion:"지루/심심",text:"지루함을 날려줄 흥미진진한 이야기가 있어요."},{emotion:"지루/심심",text:"할 일 없을 땐 이 영화 한 편 어떠세요?"},{emotion:"지루/심심",text:"무료한 시간을 달래줄 몰입감 있는 작품이에요."},{emotion:"지루/심심",text:"심심함을 확 날려줄 영화, 준비했어요!"},{emotion:"중립/기타",text:"마음 한 켠에 잔잔히 스며드는 그런 영화입니다."},{emotion:"중립/기타",text:"특별하지 않아도 충분히 재미있는 영화입니다."},{emotion:"중립/기타",text:"평범한 일상 속 작은 쉼표 같은 영화입니다."},{emotion:"중립/기타",text:"부담 없이 편안하게 마음을 열 수 있는 작품입니다."},{emotion:"중립/기타",text:"크게 웃거나 울진 않아도, 마음이 따뜻해지는 순간들을 위한 영화입니다."},{emotion:"중립/기타",text:"가만히 있어도 좋고, 조용히 생각에 잠기게 하는 영화입니다."},{emotion:"종합추천",text:"어떤 기분이든 잘 어울리는, 모두를 위한 영화입니다."},{emotion:"종합추천",text:"웃음과 감동을 한 번에 느낄 수 있는 영화예요."},{emotion:"종합추천",text:"지친 하루를 다독여주는 종합 선물 같은 영화입니다."},{emotion:"종합추천",text:"가볍게 보기에도, 깊이 빠져들기에도 좋은 영화예요."},{emotion:"종합추천",text:"보고 나면 마음에 잔잔한 여운이 남는 영화입니다."},{emotion:"종합추천",text:"생각할 거리와 따뜻함을 동시에 안겨주는 영화예요."},{emotion:"",text:"일기를 작성해 보세요."}],t=r=>{const i=e.filter(o=>o.emotion===r);if(console.log("현재감정 : ",r),!i.length)return"추천할 수 있는 영화가 없습니다.";const s=Math.floor(Math.random()*i.length);return i[s].text};return C.jsxs("div",{children:[C.jsx("p",{className:"today-movie",children:"오늘의 추천 영화"}),C.jsxs("p",{className:"recommend-text",children:['"',t(n),'"']})]})}const Ame=()=>({preloadRecommendations:async(e=!1)=>{try{const t=e?await kme():await Cme(),r=(t.moods||[]).map(a=>a.moodType).filter(Boolean),i=["종합추천",...r],s={종합추천:t.combinedResults},o=t.resultsByEmotion||{};return r.forEach(a=>{s[a]=Array.isArray(o[a])?o[a]:[]}),localStorage.setItem("lastEmotionResult",JSON.stringify(i)),localStorage.setItem("cachedMoviesByPage",JSON.stringify(s)),localStorage.setItem("cacheTimestamp",Date.now().toString()),console.log("moviesByPageData : ",s),console.log("newEmotionResult : ",i),console.log("✅ 추천 캐시 저장 완료"),console.log("📦 백엔드 응답 전체: ",t),console.log("📦 감정별 추천: ",t.resultsByEmotion),{newEmotionResult:i,moviesByPageData:s}}catch(t){return console.error("❌ 추천 캐시 실패:",t),null}}});function VP(){return C.jsx("div",{className:"loading-modal-overlay",children:C.jsxs("div",{className:"loading-modal-content",children:[C.jsx("p",{children:"🔍 분석 결과 컨텐츠 추천 중입니다. 기다려 주세요..."}),C.jsx("div",{className:"spinner"})]})})}function Rme(){const{user:n}=Un(),[e,t]=D.useState([]),[r,i]=D.useState({}),[s,o]=D.useState(0),[a,c]=D.useState({}),[d,f]=D.useState(!1),{preloadRecommendations:p}=Ame();D.useEffect(()=>{(async()=>{f(!0);try{const k=await p(!1);if(k)t(k.newEmotionResult),i(k.moviesByPageData);else{const E=localStorage.getItem("lastEmotionResult"),A=localStorage.getItem("cachedMoviesByPage");E&&A&&(t(JSON.parse(E)),i(JSON.parse(A)))}}catch(k){console.error("초기 추천 데이터 불러오기 실패",k)}finally{f(!1)}})()},[]),D.useEffect(()=>{console.log("preLoading changed:",d)},[d]);const m=async()=>{try{const M=await p(!0);t(M.newEmotionResult),i(M.moviesByPageData),console.log("🔄 API 호출 후 캐시 갱신")}catch(M){console.error("추천 영화 불러오기 실패:",M)}};if(D.useEffect(()=>{if(Object.keys(r).length===0)return;const M={};for(const[k,E]of Object.entries(r)){if(!Array.isArray(E)){console.warn(`Warning: moviesByPage[${k}] is not an array`,E);continue}const A=[...E];for(let T=A.length-1;T>0;T--){const P=Math.floor(Math.random()*(T+1));[A[T],A[P]]=[A[P],A[T]]}M[k]=A}c(M)},[r]),!n)return C.jsxs("div",{children:[C.jsx("div",{children:"로그인이 필요합니다."}),C.jsx("button",{className:"next-emotion-btn",children:"다음 감정 보기"})]});const y=e[s]||"알 수 없음",b=a[y]||[],v=async M=>{var E;c(A=>{const T={...A};if(!T[y])return A;T[y]=T[y].filter(N=>N.id!==M);const P=JSON.parse(localStorage.getItem("cachedMoviesByPage")||"{}");for(const N of Object.keys(P))P[N]=P[N].filter(_=>_.id!==M);return localStorage.setItem("cachedMoviesByPage",JSON.stringify(P)),T});const k=(E=a[y])==null?void 0:E.filter(A=>A.id!==M);if(k&&k.length<6){f(!0);try{await m().catch(console.error)}catch(A){console.error(A)}finally{f(!1)}}},w=()=>{o(M=>M<e.length-1?M+1:0)};return e.length===0?C.jsxs("div",{children:[d&&C.jsx(VP,{}),C.jsx("button",{className:"next-emotion-btn",children:"다음 감정 보기"})]}):C.jsxs("div",{className:"movie-page",children:[d&&C.jsx(VP,{}),C.jsx(_me,{emotion:y}),C.jsx(Ome,{movies:b,emotion:y,onDisLike:v}),C.jsx("button",{className:"next-emotion-btn",onClick:w,children:"다음 감정 보기"})]})}function Nme(){return C.jsx("div",{children:C.jsx(Rme,{})})}const Pme="/api/charts";async function Lme(n){return Qe.post(Pme,n)}Pi.register(...Jee);Pi.register(Rc,sl,Es,xB,Yp,$p);function HP({dates:n,rawData:e,chartTitle:t,chartStyle:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(y=>Number.isNaN(y)?null:y):[],c=300/o.length,d=y=>y.index===0?y.chart.scales.y.getPixelForValue(o[0]):y.chart.getDatasetMeta(y.datasetIndex).data[y.index-1].getProps(["y"],!0).y,f=D.useMemo(()=>({x:{type:"number",easing:"easeInOutQuart",duration:c,from:NaN,delay(y){return y.type!=="data"||y.xStarted?0:(y.xStarted=!0,y.index*c)}},y:{type:"number",easing:"easeInOutQuart",duration:c,from:d,delay(y){return y.type!=="data"||y.yStarted?0:(y.yStarted=!0,y.index*c)}}}),[c,o]),p=D.useMemo(()=>({labels:n,datasets:[{label:t,data:o,...r}]}),[n,o,t]),m=D.useMemo(()=>({responsive:!0,spanGaps:!0,animation:f,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(y){return`감정점수 : ${y.parsed.y}`}}}},scales:{x:{ticks:{autoSkip:!1,font:{size:i}},grid:{...s}},y:{min:-100,max:100,grid:{display:!1}}}}),[t]);return C.jsx(rte,{data:p,options:m})}Pi.register(Rc,sl,Xu,Yp,$p);function Ime({dates:n,rawData:e,chartTitle:t,chartStyle:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(k=>Number.isNaN(k)?null:k):[],a=1440;function c(k,E){return k>=a/2&&E<k?E+=a:k<a/2&&E<k?(k+=a,E+=a*2):k<=a/2&&E>=k&&(k+=a,E+=a),[k,E]}const d=o.map(k=>c(k[0],k[1])),f=d.map(([k])=>k),p=d.map(([k,E])=>E),m=180,y=f.length>0?Math.max(0,Math.min(...f)-m):0,b=p.length>0?Math.min(a*3,Math.max(...p)+m):0,v={labels:n,datasets:[{label:t,data:d,...r}]},w={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label(k){const E=k.raw;return Array.isArray(E)?`수면: ${M(E[0])} ~ ${M(E[1])}`:""}}}},scales:{x:{ticks:{font:{size:i}},grid:{display:!1}},y:{min:y,max:b,beginAtZero:!1,ticks:{stepSize:60,maxTicksLimit:24,callback:k=>M(k)},grid:{...s}}}};function M(k){const E=Math.floor(k%a/60),A=k%60;return`${E.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`}return C.jsx(kB,{data:v,options:w})}Pi.register(Rc,sl,Xu,Yp,$p);function jme({dates:n,rawData:e,chartTitle:t,chartStyle:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(d=>Number.isNaN(d)?null:d):[],a={labels:n,datasets:[{label:t,data:o,...r}]},c={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label(d){const f=d.raw;return`운동: ${UP(f)}`}}}},scales:{x:{ticks:{font:{size:i}},grid:{...s}},y:{beginAtZero:!0,ticks:{stepSize:30,callback:d=>UP(d)},grid:{display:!1}}}};return C.jsx(kB,{data:a,options:c})}function UP(n){if(n==null||isNaN(n))return"";const e=Math.round(n/30)*.5;return Number.isInteger(e)?`${e}h`:`${e.toFixed(1)}h`}Pi.register(ju,Rh,Es,bB,Yp,$p);function Bme({previousData:n,rawData:e,chartStyleThis:t,chartStylePrevious:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(b=>Number.isNaN(b)?null:b):[],a=["우울","불안","스트레스"],c=[27,21,40];function d(b,v){return b.map((w,M)=>w/v[M]*100)}const f=d(n,c),p=d(o,c),m={labels:a,datasets:[{label:"이번 달",data:p,...t},{label:"지난 달",data:f,...r}]},y={responsive:!0,plugins:{legend:{display:!0,reverse:!0,labels:{usePointStyle:!0,pointStyle:"line",pointStyleWidth:20}},tooltip:{callbacks:{label:function(b){const v=b.dataIndex;b.datasetIndex===0?o[v]:n[v];const M=b.formattedValue;return`${b.dataset.label}: ${Math.round(M)}점`}}}},scales:{r:{min:0,max:100,grid:{circular:!0},ticks:{stepSize:20,callback:b=>`${b}`},pointLabels:{font:{size:i}}}}};return C.jsx("div",{style:{maxWidth:480,margin:"0 auto"},children:C.jsx(ite,{data:m,options:y})})}function Fme({isWeekly:n,onChangeWeekly:e,onChangeMonthly:t,onChangeWeeklyForFetch:r,onChangeMonthlyForFetch:i,onChangeTwoMonthsForFetch:s}){const[o,a]=D.useState(new Date),c=D.useCallback((y,b)=>{const v=[];for(let w=y==="weekly"?7:30;w>0;w--){const M=Ln(b,-w+1);v.push(cr(M,"M/d"))}return v},[]),d=D.useCallback(y=>{const b=c(n,y),v=hr(y,-1),w=hr(y,0),M=Ln(y,0),k=Ln(y,-6);if(n==="weekly")e(b),t([]),r([cr(k,"yyyy-MM-dd"),cr(M,"yyyy-MM-dd")]),i([]);else{const E=Ln(y,-29);e(b.slice(-7)),t(b),r([cr(k,"yyyy-MM-dd"),cr(M,"yyyy-MM-dd")]),i([cr(E,"yyyy-MM-dd"),cr(M,"yyyy-MM-dd")])}s([cr(v,"yyyy-MM"),cr(w,"yyyy-MM")])},[n,e,t,r,i,s]);D.useEffect(()=>{d(o)},[o,d,n]);const f=()=>{const y=n==="weekly"?Ln(o,-7):hr(o,-1);a(y)},p=()=>{const y=n==="weekly"?Ln(o,7):hr(o,1);a(y)},m=()=>{const y=jo(new Date(o)),b=jo(new Date);return tl(y,b)||DI(y,b)};return C.jsxs("div",{children:[C.jsx(jc,{onClick:f,children:"<"}),C.jsx(jc,{onClick:p,disabled:!m(),children:">"})]})}Pi.register(sl,Rc);function zme(){const{user:n}=Un(),e=Kr(),[t,r]=D.useState([]),[i,s]=D.useState([]),[o,a]=D.useState([]),[c,d]=D.useState([]),[f,p]=D.useState([]),[m,y]=D.useState("weekly"),b=m==="weekly",v=()=>y(b?"monthly":"weekly"),[w,M]=D.useState([]),[k,E]=D.useState([]),[A,T]=D.useState([]),[P,N]=D.useState([]),[_,L]=D.useState([]),I=async()=>{if(!e())return;if(o.length!==7||!b&&c.length!==30||f.length!==2){console.warn("날짜 정보가 올바르지 않아 데이터 요청이 금지되었습니다.",{weekly:o.length,monthly:c.length,twoMonths:f.length});return}try{const q=await Lme({userId:n==null?void 0:n.id,mode:b?"weekly":"monthly",weeklyDates:o,monthlyDates:b?void 0:c,twoMonths:f})}catch(q){console.error("차트 데이터 로딩 실패:",q)}};return D.useEffect(()=>{(async()=>await I())()},[b,o,c,f]),Pi.defaults.font.family=$P.fontFamily,Pi.defaults.font.weight=$P.fontWeight,C.jsxs("div",{className:"charts-page",children:[C.jsxs("div",{className:"temporary",children:[" ",C.jsx(Fme,{isWeekly:m,onChangeWeekly:r,onChangeMonthly:s,onChangeWeeklyForFetch:a,onChangeMonthlyForFetch:d,onChangeTwoMonthsForFetch:p}),C.jsxs("div",{className:"weekly-monthly-chart",children:[C.jsx("h3",{children:"주간/월간 감정 트래킹 차트"}),C.jsx("div",{className:"w-m-button",children:C.jsx(jc,{onClick:v,children:b?"주간":"월간"})}),b?C.jsx(HP,{dates:t,rawData:w,chartTitle:"주간 기분 변화",chartStyle:Vme,chartFontSize:oh.weeklyLineStyle,gridColor:sh}):C.jsx(HP,{dates:i,rawData:w,chartTitle:"월간 기분 변화",chartStyle:Hme,chartFontSize:oh.monthlyLineStyle,gridColor:sh})]}),C.jsxs("div",{className:"sleep-exercise-chart",children:[C.jsxs("div",{className:"sleep-chart",children:[C.jsx("h3",{children:"수면 차트"}),C.jsx(Ime,{dates:t,rawData:k,chartTitle:b?"주간 수면 시간":"월간 수면 시간",chartStyle:Ume,chartFontSize:oh.sleepBarStyle,gridColor:sh})]}),C.jsxs("div",{className:"exercise-chart",children:[C.jsx("h3",{children:"운동 차트"}),C.jsx(jme,{dates:t,rawData:A,chartTitle:b?"주간 운동 시간":"월간 운동 시간",chartStyle:$me,chartFontSize:oh.exerciseBarStyle,gridColor:sh})]})]})]}),C.jsxs("div",{className:"diagnosis-chart",children:[C.jsx("h3",{children:"자가진단 차트"}),C.jsx(Bme,{previousData:P,rawData:_,chartStyleThis:Yme,chartStylePrevious:Wme,chartFontSize:oh.diagnosisRadarStyle,gridColor:sh})]})]})}const $P={fontFamily:"SeoYoon",fontWeight:"normal"},sh={color:"rgba(0, 0, 0, 0.06)"},Vme={borderColor:"rgba(75,192,192,1)",backgroundColor:"rgba(75,192,192,0.1)",fill:"start",tension:.4,pointRadius:3},Hme={borderColor:"rgba(75,192,192,1)",backgroundColor:"rgba(75,192,192,0.1)",fill:"start",tension:.4,pointRadius:3},Ume={backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,borderSkipped:!1,borderRadius:7},$me={backgroundColor:"rgba(255, 206, 86, 0.5)",borderColor:"rgba(255, 206, 86, 1)",borderWidth:2,borderRadius:10},Yme={backgroundColor:"rgba(255,99,132,0.15)",borderColor:"rgba(255,99,132,1)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"rgba(255,99,132,1)",pointRadius:2,borderWidth:2},Wme={backgroundColor:"rgba(54,162,235,0.2)",borderColor:"rgba(54,162,235,1)",pointBackgroundColor:"rgba(54,162,235,1)",pointBorderColor:"rgba(54,162,235,1)",pointRadius:2,borderWidth:2,borderDash:[3,3]},oh={weeklyLineStyle:12,monthlyLineStyle:9,sleepBarStyle:12,exerciseBarStyle:12,diagnosisRadarStyle:16},qme=()=>{const n=zo(),e=ts();$.useEffect(()=>{window.haeIlHistory&&(window.haeIlHistory.navigate=e)},[e]);const t=n.pathname.split("/")[1]||"root";return C.jsx(Mz,{mode:"wait",children:C.jsx(qV,{location:n,children:C.jsxs(bn,{path:"/",element:C.jsx(JH,{}),children:[C.jsxs(bn,{element:C.jsx(epe,{}),children:[C.jsx(bn,{path:"",element:C.jsx(yle,{}),children:C.jsx(bn,{index:!0,element:C.jsx(qle,{})})}),C.jsxs(bn,{path:"diary",element:C.jsx(IR,{}),children:[C.jsx(bn,{index:!0,element:C.jsx(DP,{})}),C.jsx(bn,{path:"date/:date",element:C.jsx(mle,{})}),C.jsx(bn,{path:":diaryId",element:C.jsx(gle,{})}),C.jsx(bn,{path:"sleep/date/:date",element:C.jsx(ej,{})}),C.jsx(bn,{path:"exercise/date/:date",element:C.jsx(ZI,{})}),C.jsx(bn,{path:"meal/date/:date",element:C.jsx(tj,{})})]}),C.jsx(bn,{path:"journal",element:C.jsx(Jhe,{})}),C.jsx(bn,{path:"gallery",element:C.jsx(IR,{}),children:C.jsx(bn,{index:!0,element:C.jsxs(C.Fragment,{children:[C.jsx(DP,{}),C.jsx(Zhe,{})]})})}),C.jsx(bn,{path:"monthly",element:C.jsx(tpe,{}),children:C.jsx(bn,{index:!0,element:C.jsx(Dme,{})})}),C.jsx(bn,{path:"movie",element:C.jsx(Nme,{})})]}),C.jsx(bn,{path:"calendar",element:C.jsx(P5,{})}),C.jsx(bn,{path:"charts",element:C.jsx(zme,{})})]})},t)})};function Kme(){return C.jsx(fle,{children:C.jsx(qme,{})})}const fo={theme1:{gradient:"var(--theme1-gradient)",main:"var(--theme1-main-color)",rgb:"57, 62, 117",background:"var(--theme1-background)",sub:"#FFF"},theme2:{gradient:"var(--theme2-gradient)",main:"var(--theme2-main-color)",rgb:"57, 62, 117",background:"var(--theme2-background)",sub:"#FFF"},theme3:{gradient:"var(--theme3-gradient)",main:"var(--theme3-main-color)",rgb:"13, 101, 121",background:"var(--theme3-background)",sub:"#16929C"},shadow:"var(--shadow-main)"},SM={theme1:{colors:fo.theme1,borderRadius:"30px",shadow:fo.shadow,sideText:fo.theme1.sub},theme2:{colors:fo.theme2,borderRadius:"30px",shadow:fo.shadow,sideText:fo.theme2.sub},theme3:{colors:fo.theme3,borderRadius:"30px",shadow:fo.shadow,sideText:fo.theme3.sub}},Qme=D.createContext(SM.theme1);function Gme({children:n,initialTheme:e="theme1"}){const[t,r]=D.useState(e),i=SM[t]||SM.theme1;return D.useEffect(()=>{const s=document.documentElement,o=i.colors;s.className=t,s.style.setProperty("--primary-color",o.main),s.style.setProperty("--primary-color-rgb",o.rgb),s.style.setProperty("--sidebar-text",i.sideText),s.style.setProperty("--main-bg",o.background),s.style.setProperty("--border-radius-main",i.borderRadius),s.style.setProperty("--shadow-main",i.shadow),s.style.setProperty("--border-gradient",o.gradient),s.style.backgroundImage=o.gradient},[i]),C.jsx(Qme.Provider,{value:{theme:i,themeKey:t,setThemeKey:r},children:n})}const Xme=tV.createRoot(document.getElementById("react-root")),Jme=new H8;Xme.render(C.jsx($.StrictMode,{children:C.jsx(q8,{client:Jme,children:C.jsx(y8,{children:C.jsx(Gme,{children:C.jsx(A9,{children:C.jsx(oH,{children:C.jsx(Kme,{})})})})})})}));
========
`;function Fz({width:n="900px",height:e="auto",cellHeight:t="100px"}){const{user:r,loading:i}=Wr(),s=qr(),[o,a]=D.useState(new Date),c=o.getFullYear(),d=o.getMonth()+1,[f,p]=D.useState(null),{data:m,isLoading:y,isError:b}=ppe(c,d,!!r);if(console.log("calendarEntries",m),i)return C.jsx("div",{children:"로딩 중..."});if(b)return C.jsx("div",{children:"데이터를 불러오는 중 오류가 발생했습니다."});const v=()=>a(Ya(o,1)),w=()=>a(dr(o,1)),M=()=>a(new Date),k=UM(o),E=HM(k),_=Is(k,{weekStartsOn:1}),T=wI(E,{weekStartsOn:1}),P=[];let N=[],A=_;for(;A<=T;){for(let I=0;I<7;I++)N.push(A),A=Pn(A,1);P.push(N),N=[]}const L=I=>{s()&&p(I)};return C.jsxs(Rme,{width:n,height:e,children:[C.jsx(xme,{onPrev:v,onToday:M,onNext:w,currentDate:o}),C.jsx(Ame,{rows:P,currentDate:o,selectedDate:f,onSelectDate:L,calendarEntries:m||[],isLoggedIn:!!r,width:"800px",cellHeight:t})]})}function Nme({test:n,onClose:e}){const[t,r]=D.useState(0),[i,s]=D.useState(Array(n.questions.length).fill(null)),o=n.optionMap?n.optionMap[t]:0,a=Array.isArray(n.options[0])?n.options[o]:n.options,c=(m,y)=>{const b=[...i];b[m]=y,s(b),m<n.questions.length-1&&r(m+1)},d=i.every(m=>m!==null),f=()=>{d&&(p(),e())},p=()=>{let m=0;return i.forEach((y,b)=>{y!==null&&(n.reverseScoreIdx&&n.reverseScoreIdx.includes(b)?m+=a.length-1-y:m+=y)}),m};return C.jsx("div",{className:"modal-background",children:C.jsxs("div",{className:"modal-box",children:[C.jsx("button",{className:"close-btn",onClick:e,children:" x "}),C.jsx("h2",{children:n.label}),C.jsxs("div",{className:"question-box",children:[C.jsxs("p",{children:[" ",t+1,". ",n.questions[t]," "]}),C.jsx("div",{className:"options",children:a.map((m,y)=>C.jsxs("label",{className:"option-label",children:[C.jsx("input",{type:"radio",name:`q${t}`,checked:i[t]===y,onChange:()=>c(t,y)}),C.jsx("span",{children:m})]},y))})]}),C.jsxs("div",{className:"modal-nav",children:[C.jsx("button",{onClick:()=>r(m=>Math.max(m-1,0)),disabled:t===0,children:" 이전 "}),C.jsx("button",{onClick:()=>r(m=>Math.min(m+1,n.questions.length-1)),disabled:t===n.questions.length-1,children:" 다음 "})]}),t===n.questions.length-1&&C.jsx("button",{className:"submit-btn",disabled:!d,onClick:f,children:" 제출하기 "})]})})}const HP=[{type:"depression",label:"우울 자가진단 테스트",questions:["일에 대한 흥미나 즐거움이 거의 없다.","기분이 처지거나, 우울하거나 희망이 없다고 느낀다.","잠들기 어렵거나 잠을 너무 많이 잔다.","피로하거나 기운이 거의 없다.","식욕이 없거나 과식을 한다.","스스로에 대해 부정적인 감정이 든다. 자신을 실패자라고 여기거나 자신, 또는 가족을 실망시켰다고 생각한다.","신문을 읽거나 TV를 보는 등 집중해야 하는 일에서 어려움을 겪는다.","다른 사람들이 알아챌 정도로 말이나 행동이 매우 느리다. 혹은 반대로 평소보다 안절부절 못하거나 과하게 움직인다.","차라리 자신을 해치거나 죽는 것이 낫다고 생각한다.","만약 당신이 앞의 질문에 체크를 했다면, 업무를 하거나, 다른 사람들을 만나거나, 집안일을 하는 등 일상적인 일을 할 때 얼마나 어려움을 겪었나요?"],options:[["전혀 없음","며칠 정도","일주일 이상","거의 매일"],["전혀 어렵지 않음","다소 어려움","어려움","매우 어려움"]],optionMap:[0,0,0,0,0,0,0,0,0,1]},{type:"anxiety",label:"불안 자가진단 테스트",questions:["불안하거나, 초조하거나, 신경이 곤두서는 느낌이 든다.","걱정을 멈추거나 조절하기 어렵다.","여러 가지 일을 지나치게 많이 걱정한다.","편안히 있는 것이 힘들다.","너무 안절부절 못해 가만히 앉아있기가 힘들다.","사소한 일에도 쉽게 짜증이 나거나 예민해진다.","안 좋은 일이 일어날 것 같아 두려움을 느낀다.","만약 당신이 앞의 질문에 체크를 했다면, 업무를 하거나, 다른 사람들을 만나거나, 집안일을 하는 등 일상적인 일을 할 때 얼마나 어려움을 겪었나요?"],options:[["전혀 없음","며칠 정도","일주일 이상","거의 매일"],["전혀 어렵지 않음","다소 어려움","어려움","매우 어려움"]],optionMap:[0,0,0,0,0,0,0,1]},{type:"stress",label:"스트레스 자가진단 테스트",questions:["지난 한 달 동안, 예상치 못한 일 때문에 속상했던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 인생에서 중요한 일들을 통제할 수 없다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 긴장되고 스트레스를 받는다고 느낀 적이 얼마나 자주 있었나요?","지난 한 달 동안, 개인적인 문제를 처리할 때 자신의 능력에 대해 자신감을 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 일이 잘 풀리고 있다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 해야 할 일이 너무 많아 감당할 수 없다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 스트레스에 유연하게 대처할 수 있다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 모든 일이 잘 되고 있다고 느꼈던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 당신의 통제를 벗어나는 일 때문에 화가 났던 적이 얼마나 자주 있었나요?","지난 한 달 동안, 어려운 일들이 쌓여 극복할 수 없다고 느꼈던 적이 얼마나 자주 있었나요?"],options:["전혀 없음","며칠 정도","가끔","일주일 이상","거의 매일"],reverseScoreIdx:[3,4,6,7]}];function Pme(){const[n,e]=D.useState(null),t=i=>{e(i)},r=()=>e(null);return C.jsxs("div",{children:[HP.map(i=>C.jsx("button",{onClick:()=>t(i.type),children:i.label},i.type)),n&&C.jsx(Nme,{test:HP.find(i=>i.type===n),onClose:r})]})}function Lme(){return C.jsxs("div",{children:[C.jsx(Fz,{}),C.jsx(Pme,{})]})}const Ime=async()=>(await Je.get("/api/recommend/movies",{withCredentials:!0})).data,jme=async()=>(await Je.get("/api/recommend/movies/refresh",{withCredentials:!0})).data;function Bme({movies:n,onDisLike:e}){const[t,r]=D.useState(!1),[i,s]=D.useState(""),[o,a]=D.useState(null),[c,d]=D.useState(null),[f,p]=D.useState({}),m=()=>{r(!1),s("")},y=async(v,w)=>{v.stopPropagation();const M=!f[w];try{await e(w),p(k=>({...k,[w]:M})),console.log(`Movie ${w} disliked for month: ${M}`)}catch(k){console.error("비추천 처리 실패:",k)}},b=v=>{const w=Math.round(v/2),M=[];for(let k=1;k<=5;k++)k<=w?M.push(C.jsx(Cce,{size:10,color:"var(--primary-color)",className:"starIcon"},k)):M.push(C.jsx(gce,{size:10,color:"var(--primary-color)",className:"starIcon"},k));return M};return C.jsxs("div",{className:"movieList",children:[n.slice(0,6).map(v=>C.jsxs("div",{className:"movieCard",onClick:()=>{a(v),v.trailerUrl?s(v.trailerUrl):s(""),r(!0)},children:[C.jsx("img",{src:v.poster_path?`https://image.tmdb.org/t/p/w500${v.poster_path}`:"/no-image.png",alt:v.title,className:"moviePoster"}),C.jsxs("div",{className:"movieInfo",children:[C.jsx("p",{className:"movieTitle",children:v.title}),C.jsx("p",{className:"movieVote",children:b(v.vote_average)}),C.jsx("p",{className:"movieOverview",children:v.overview||"줄거리 정보 없음"}),C.jsxs("div",{className:"dislikeForMonthContainer",onClick:w=>y(w,v.id),children:[f[v.id]?C.jsx(wce,{size:8,color:"var(--primary-color)",className:"dislikeIcon"}):C.jsx(Mce,{size:8,color:"var(--theme1-main-color)",className:"dislikeIcon"}),C.jsx("span",{className:"dislikeText",children:"한 달 동안 추천하지 않기"})]})]})]},v.id)),t&&o&&C.jsx("div",{className:"modal-backdrop",onClick:m,children:C.jsx("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:i?C.jsx("iframe",{width:"100%",height:"400",src:i,title:"Movie Trailer",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):C.jsxs("div",{className:"overview-fallback",children:[C.jsx("h2",{className:"modal-title",children:o.title}),C.jsxs("h3",{className:"modal-director",children:["감독 : ",o.directorName]}),C.jsxs("h3",{className:"modal-cast",children:["출연진 : ",o.castNames.join(", ")]}),C.jsx("p",{className:"modal-overview",children:o.overview||"줄거리 정보가 없습니다."})]})})})]})}function Fme({emotion:n}){const e=[{emotion:"슬픔/우울",text:"마음이 무거울 때 위로가 되어줄 영화입니다."},{emotion:"슬픔/우울",text:"지친 하루 끝, 조용히 감정을 어루만질 작품이에요."},{emotion:"슬픔/우울",text:"가슴속 응어리를 풀어줄 영화가 여기 있어요."},{emotion:"슬픔/우울",text:"감정을 꾹꾹 눌러 담은 진심 어린 이야기입니다."},{emotion:"슬픔/우울",text:"당신의 우울을 이해해줄 영화 한 편."},{emotion:"슬픔/우울",text:"혼자 있기 싫은 날, 함께해줄 영화예요."},{emotion:"기쁨/행복",text:"좋은 기분을 더 높여줄 유쾌한 영화입니다!"},{emotion:"기쁨/행복",text:"행복한 당신에게 딱 맞는 에너지 넘치는 영화예요."},{emotion:"기쁨/행복",text:"기분 좋은 날엔 더 신나는 이야기가 필요하죠!"},{emotion:"기쁨/행복",text:"웃음이 멈추지 않는, 즐거움을 더해줄 영화입니다."},{emotion:"기쁨/행복",text:"이 기분 그대로! 활력을 더해줄 작품이에요."},{emotion:"기쁨/행복",text:"행복한 순간을 더욱 특별하게 만들어줄 영화예요."},{emotion:"평온/만족",text:"마음이 편안해지는 잔잔한 이야기를 담았어요."},{emotion:"평온/만족",text:"평온한 기분을 유지해줄 따뜻한 영화입니다."},{emotion:"평온/만족",text:"조용한 하루에 잘 어울리는 감성적인 작품이에요."},{emotion:"평온/만족",text:"잔잔한 위로와 소소한 행복이 담긴 영화예요."},{emotion:"평온/만족",text:"마음을 안정시켜주는 고요한 이야기입니다."},{emotion:"평온/만족",text:"편안함 속에서 삶을 되돌아보게 해주는 영화예요."},{emotion:"불안/걱정",text:"혼란스러운 마음을 잠시 잊게 해줄 영화입니다."},{emotion:"불안/걱정",text:"걱정이 많을 땐 몰입할 수 있는 이야기가 도움이 돼요."},{emotion:"불안/걱정",text:"불안한 생각을 잠재워줄 몰입도 높은 영화예요."},{emotion:"불안/걱정",text:"불안감을 덜어줄 따뜻한 시선의 영화입니다."},{emotion:"불안/걱정",text:"불확실한 마음에 작은 쉼표를 줄 영화예요."},{emotion:"불안/걱정",text:"지친 머리를 잠시 쉬게 해주는 스토리입니다."},{emotion:"분노/짜증",text:"화가 나는 날엔 속 시원한 영화가 필요하죠!"},{emotion:"분노/짜증",text:"짜증나는 기분, 통쾌한 이야기로 날려보세요."},{emotion:"분노/짜증",text:"울분을 시원하게 풀어주는 영화입니다."},{emotion:"분노/짜증",text:"답답한 하루, 확 뚫어줄 이야기예요."},{emotion:"분노/짜증",text:"기분 전환엔 강렬한 전개가 제격이죠!"},{emotion:"분노/짜증",text:"감정을 해소해줄 사이다 같은 영화입니다."},{emotion:"지루/심심",text:"심심할 땐 시간 순삭 영화가 최고예요!"},{emotion:"지루/심심",text:"따분한 하루에 재미를 더해줄 영화입니다."},{emotion:"지루/심심",text:"지루함을 날려줄 흥미진진한 이야기가 있어요."},{emotion:"지루/심심",text:"할 일 없을 땐 이 영화 한 편 어떠세요?"},{emotion:"지루/심심",text:"무료한 시간을 달래줄 몰입감 있는 작품이에요."},{emotion:"지루/심심",text:"심심함을 확 날려줄 영화, 준비했어요!"},{emotion:"중립/기타",text:"마음 한 켠에 잔잔히 스며드는 그런 영화입니다."},{emotion:"중립/기타",text:"특별하지 않아도 충분히 재미있는 영화입니다."},{emotion:"중립/기타",text:"평범한 일상 속 작은 쉼표 같은 영화입니다."},{emotion:"중립/기타",text:"부담 없이 편안하게 마음을 열 수 있는 작품입니다."},{emotion:"중립/기타",text:"크게 웃거나 울진 않아도, 마음이 따뜻해지는 순간들을 위한 영화입니다."},{emotion:"중립/기타",text:"가만히 있어도 좋고, 조용히 생각에 잠기게 하는 영화입니다."},{emotion:"종합추천",text:"어떤 기분이든 잘 어울리는, 모두를 위한 영화입니다."},{emotion:"종합추천",text:"웃음과 감동을 한 번에 느낄 수 있는 영화예요."},{emotion:"종합추천",text:"지친 하루를 다독여주는 종합 선물 같은 영화입니다."},{emotion:"종합추천",text:"가볍게 보기에도, 깊이 빠져들기에도 좋은 영화예요."},{emotion:"종합추천",text:"보고 나면 마음에 잔잔한 여운이 남는 영화입니다."},{emotion:"종합추천",text:"생각할 거리와 따뜻함을 동시에 안겨주는 영화예요."},{emotion:"",text:"일기를 작성해 보세요."}],t=r=>{const i=e.filter(o=>o.emotion===r);if(console.log("현재감정 : ",r),!i.length)return"추천할 수 있는 영화가 없습니다.";const s=Math.floor(Math.random()*i.length);return i[s].text};return C.jsxs("div",{className:"movie-text-box",children:[C.jsx("p",{className:"today-movie",children:"오늘의 추천 영화"}),C.jsxs("p",{className:"recommend-text",children:['"',t(n),'"']})]})}const zme=()=>({preloadRecommendations:async(e=!1)=>{try{const t=e?await jme():await Ime(),r=(t.moods||[]).map(a=>a.moodType).filter(Boolean),i=["종합추천",...r],s={종합추천:t.combinedResults},o=t.resultsByEmotion||{};return r.forEach(a=>{s[a]=Array.isArray(o[a])?o[a]:[]}),localStorage.setItem("lastEmotionResult",JSON.stringify(i)),localStorage.setItem("cachedMoviesByPage",JSON.stringify(s)),localStorage.setItem("cacheTimestamp",Date.now().toString()),console.log("moviesByPageData : ",s),console.log("newEmotionResult : ",i),console.log("✅ 추천 캐시 저장 완료"),console.log("📦 백엔드 응답 전체: ",t),console.log("📦 감정별 추천: ",t.resultsByEmotion),{newEmotionResult:i,moviesByPageData:s}}catch(t){return console.error("❌ 추천 캐시 실패:",t),null}}});function UP(){return C.jsx("div",{className:"loading-modal-overlay",children:C.jsxs("div",{className:"loading-modal-content",children:[C.jsx("p",{children:"🔍 분석 결과 컨텐츠 추천 중입니다. 기다려 주세요..."}),C.jsx("div",{className:"spinner"})]})})}function Vme(){const[n,e]=D.useState(0),t=D.useCallback(r=>{e(r)},[]);return C.jsxs("div",{className:"recommendTab",children:[C.jsx("button",{className:"tabButton",onClick:r=>{r.preventDefault(),t(0)},children:C.jsx(P3,{color:"#FB79A2"})}),C.jsx("button",{children:C.jsx(N3,{color:"#FFF"})}),C.jsx("button",{children:C.jsx(R3,{color:"#FFF"})}),C.jsx("button",{children:C.jsx(L3,{color:"#FFF"})})]})}function Hme(){const{user:n}=Wr(),[e,t]=D.useState([]),[r,i]=D.useState({}),[s,o]=D.useState(0),[a,c]=D.useState({}),[d,f]=D.useState(!1),{preloadRecommendations:p}=zme();D.useEffect(()=>{(async()=>{f(!0);try{const k=await p(!1);if(k)t(k.newEmotionResult),i(k.moviesByPageData);else{const E=localStorage.getItem("lastEmotionResult"),_=localStorage.getItem("cachedMoviesByPage");E&&_&&(t(JSON.parse(E)),i(JSON.parse(_)))}}catch(k){console.error("초기 추천 데이터 불러오기 실패",k)}finally{f(!1)}})()},[]),D.useEffect(()=>{console.log("preLoading changed:",d)},[d]);const m=async()=>{try{const M=await p(!0);t(M.newEmotionResult),i(M.moviesByPageData),console.log("🔄 API 호출 후 캐시 갱신")}catch(M){console.error("추천 영화 불러오기 실패:",M)}};D.useEffect(()=>{if(Object.keys(r).length===0)return;const M={};for(const[k,E]of Object.entries(r)){if(!Array.isArray(E)){console.warn(`Warning: moviesByPage[${k}] is not an array`,E);continue}const _=[...E];for(let T=_.length-1;T>0;T--){const P=Math.floor(Math.random()*(T+1));[_[T],_[P]]=[_[P],_[T]]}M[k]=_}c(M)},[r]);const y=e[s]||"알 수 없음",b=a[y]||[],v=async M=>{var E;c(_=>{const T={..._};if(!T[y])return _;T[y]=T[y].filter(N=>N.id!==M);const P=JSON.parse(localStorage.getItem("cachedMoviesByPage")||"{}");for(const N of Object.keys(P))P[N]=P[N].filter(A=>A.id!==M);return localStorage.setItem("cachedMoviesByPage",JSON.stringify(P)),T});const k=(E=a[y])==null?void 0:E.filter(_=>_.id!==M);if(k&&k.length<6){f(!0);try{await m().catch(console.error)}catch(_){console.error(_)}finally{f(!1)}}},w=()=>{o(M=>M<e.length-1?M+1:0)};return n?e.length===0?C.jsx("div",{children:d&&C.jsx(UP,{})}):C.jsxs("div",{className:"movieParent",children:[d&&C.jsx(UP,{}),C.jsx(Vme,{}),C.jsxs("div",{className:"moviePage",children:[C.jsx(Fme,{emotion:y}),C.jsx(Bme,{movies:b,emotion:y,onDisLike:v}),C.jsx("button",{className:"nextEmotionBtn",onClick:w,children:"다음 추천 보기"})]})]}):C.jsx("div",{className:"movieLogout",children:"로그인이 필요합니다."})}function Ume(){return C.jsx(Hme,{})}const $me="/api/charts";async function Yme(n){return Je.post($me,n)}Ni.register(...Jee);Ni.register(Rc,il,Es,wB,$p,Up);function $P({dates:n,rawData:e,chartTitle:t,chartStyle:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(y=>Number.isNaN(y)?null:y):[],c=300/o.length,d=y=>y.index===0?y.chart.scales.y.getPixelForValue(o[0]):y.chart.getDatasetMeta(y.datasetIndex).data[y.index-1].getProps(["y"],!0).y,f=D.useMemo(()=>({x:{type:"number",easing:"easeInOutQuart",duration:c,from:NaN,delay(y){return y.type!=="data"||y.xStarted?0:(y.xStarted=!0,y.index*c)}},y:{type:"number",easing:"easeInOutQuart",duration:c,from:d,delay(y){return y.type!=="data"||y.yStarted?0:(y.yStarted=!0,y.index*c)}}}),[c,o]),p=D.useMemo(()=>({labels:n,datasets:[{label:t,data:o,...r}]}),[n,o,t]),m=D.useMemo(()=>({responsive:!0,spanGaps:!0,animation:f,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(y){return`감정점수 : ${y.parsed.y}`}}}},scales:{x:{ticks:{autoSkip:!1,font:{size:i}},grid:{...s}},y:{min:-100,max:100,grid:{display:!1}}}}),[t]);return C.jsx(rte,{data:p,options:m})}Ni.register(Rc,il,Gu,$p,Up);function Wme({dates:n,rawData:e,chartTitle:t,chartStyle:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(k=>Number.isNaN(k)?null:k):[],a=1440;function c(k,E){return k>=a/2&&E<k?E+=a:k<a/2&&E<k?(k+=a,E+=a*2):k<=a/2&&E>=k&&(k+=a,E+=a),[k,E]}const d=o.map(k=>c(k[0],k[1])),f=d.map(([k])=>k),p=d.map(([k,E])=>E),m=180,y=f.length>0?Math.max(0,Math.min(...f)-m):0,b=p.length>0?Math.min(a*3,Math.max(...p)+m):0,v={labels:n,datasets:[{label:t,data:d,...r}]},w={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label(k){const E=k.raw;return Array.isArray(E)?`수면: ${M(E[0])} ~ ${M(E[1])}`:""}}}},scales:{x:{ticks:{font:{size:i}},grid:{display:!1}},y:{min:y,max:b,beginAtZero:!1,ticks:{stepSize:60,maxTicksLimit:24,callback:k=>M(k)},grid:{...s}}}};function M(k){const E=Math.floor(k%a/60),_=k%60;return`${E.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`}return C.jsx(EB,{data:v,options:w})}Ni.register(Rc,il,Gu,$p,Up);function qme({dates:n,rawData:e,chartTitle:t,chartStyle:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(d=>Number.isNaN(d)?null:d):[],a={labels:n,datasets:[{label:t,data:o,...r}]},c={responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label(d){const f=d.raw;return`운동: ${YP(f)}`}}}},scales:{x:{ticks:{font:{size:i}},grid:{...s}},y:{beginAtZero:!0,ticks:{stepSize:30,callback:d=>YP(d)},grid:{display:!1}}}};return C.jsx(EB,{data:a,options:c})}function YP(n){if(n==null||isNaN(n))return"";const e=Math.round(n/30)*.5;return Number.isInteger(e)?`${e}h`:`${e.toFixed(1)}h`}Ni.register(Iu,Ah,Es,vB,$p,Up);function Kme({previousData:n,rawData:e,chartStyleThis:t,chartStylePrevious:r,chartFontSize:i,gridColor:s}){const o=Array.isArray(e)?e.map(b=>Number.isNaN(b)?null:b):[],a=["우울","불안","스트레스"],c=[27,21,40];function d(b,v){return b.map((w,M)=>w/v[M]*100)}const f=d(n,c),p=d(o,c),m={labels:a,datasets:[{label:"이번 달",data:p,...t},{label:"지난 달",data:f,...r}]},y={responsive:!0,plugins:{legend:{display:!0,reverse:!0,labels:{usePointStyle:!0,pointStyle:"line",pointStyleWidth:20}},tooltip:{callbacks:{label:function(b){const v=b.dataIndex;b.datasetIndex===0?o[v]:n[v];const M=b.formattedValue;return`${b.dataset.label}: ${Math.round(M)}점`}}}},scales:{r:{min:0,max:100,grid:{circular:!0},ticks:{stepSize:20,callback:b=>`${b}`},pointLabels:{font:{size:i}}}}};return C.jsx("div",{style:{maxWidth:480,margin:"0 auto"},children:C.jsx(ite,{data:m,options:y})})}const SM=({children:n,active:e,...t})=>{const r=`btn ${e?"active":""}`;return C.jsx("button",{className:r.trim(),...t,children:n})};function Qme({isWeekly:n,onChangeWeekly:e,onChangeMonthly:t,onChangeWeeklyForFetch:r,onChangeMonthlyForFetch:i,onChangeTwoMonthsForFetch:s}){const[o,a]=D.useState(new Date),c=D.useCallback((y,b)=>{const v=[];for(let w=y==="weekly"?7:30;w>0;w--){const M=Pn(b,-w+1);v.push(ar(M,"M/d"))}return v},[]),d=D.useCallback(y=>{const b=c(n,y),v=dr(y,-1),w=dr(y,0),M=Pn(y,0),k=Pn(y,-6);if(n==="weekly")e(b),t([]),r([ar(k,"yyyy-MM-dd"),ar(M,"yyyy-MM-dd")]),i([]);else{const E=Pn(y,-29);e(b.slice(-7)),t(b),r([ar(k,"yyyy-MM-dd"),ar(M,"yyyy-MM-dd")]),i([ar(E,"yyyy-MM-dd"),ar(M,"yyyy-MM-dd")])}s([ar(v,"yyyy-MM"),ar(w,"yyyy-MM")])},[n,e,t,r,i,s]);D.useEffect(()=>{d(o)},[o,d,n]);const f=()=>{const y=n==="weekly"?Pn(o,-7):dr(o,-1);a(y)},p=()=>{const y=n==="weekly"?Pn(o,7):dr(o,1);a(y)},m=()=>{const y=Io(new Date(o)),b=Io(new Date);return el(y,b)||kI(y,b)};return C.jsxs("div",{children:[C.jsx(SM,{onClick:f,children:"<"}),C.jsx(SM,{onClick:p,disabled:!m(),children:">"})]})}Ni.register(il,Rc);function Gme(){const{user:n}=Wr(),e=qr(),[t,r]=D.useState([]),[i,s]=D.useState([]),[o,a]=D.useState([]),[c,d]=D.useState([]),[f,p]=D.useState([]),[m,y]=D.useState("weekly"),b=m==="weekly",v=()=>y(b?"monthly":"weekly"),[w,M]=D.useState([]),[k,E]=D.useState([]),[_,T]=D.useState([]),[P,N]=D.useState([]),[A,L]=D.useState([]),I=async()=>{if(!e())return;if(o.length!==7||!b&&c.length!==30||f.length!==2){console.warn("날짜 정보가 올바르지 않아 데이터 요청이 금지되었습니다.",{weekly:o.length,monthly:c.length,twoMonths:f.length});return}try{const q=await Yme({userId:n==null?void 0:n.id,mode:b?"weekly":"monthly",weeklyDates:o,monthlyDates:b?void 0:c,twoMonths:f})}catch(q){console.error("차트 데이터 로딩 실패:",q)}};return D.useEffect(()=>{(async()=>await I())()},[b,o,c,f]),Ni.defaults.font.family=WP.fontFamily,Ni.defaults.font.weight=WP.fontWeight,C.jsxs("div",{className:"charts-page",children:[C.jsxs("div",{className:"temporary",children:[" ",C.jsx(Qme,{isWeekly:m,onChangeWeekly:r,onChangeMonthly:s,onChangeWeeklyForFetch:a,onChangeMonthlyForFetch:d,onChangeTwoMonthsForFetch:p}),C.jsxs("div",{className:"weekly-monthly-chart",children:[C.jsx("h3",{children:"주간/월간 감정 트래킹 차트"}),C.jsx("div",{className:"w-m-button",children:C.jsx(SM,{onClick:v,children:b?"주간":"월간"})}),b?C.jsx($P,{dates:t,rawData:w,chartTitle:"주간 기분 변화",chartStyle:Xme,chartFontSize:sh.weeklyLineStyle,gridColor:ih}):C.jsx($P,{dates:i,rawData:w,chartTitle:"월간 기분 변화",chartStyle:Jme,chartFontSize:sh.monthlyLineStyle,gridColor:ih})]}),C.jsxs("div",{className:"sleep-exercise-chart",children:[C.jsxs("div",{className:"sleep-chart",children:[C.jsx("h3",{children:"수면 차트"}),C.jsx(Wme,{dates:t,rawData:k,chartTitle:b?"주간 수면 시간":"월간 수면 시간",chartStyle:Zme,chartFontSize:sh.sleepBarStyle,gridColor:ih})]}),C.jsxs("div",{className:"exercise-chart",children:[C.jsx("h3",{children:"운동 차트"}),C.jsx(qme,{dates:t,rawData:_,chartTitle:b?"주간 운동 시간":"월간 운동 시간",chartStyle:ege,chartFontSize:sh.exerciseBarStyle,gridColor:ih})]})]})]}),C.jsxs("div",{className:"diagnosis-chart",children:[C.jsx("h3",{children:"자가진단 차트"}),C.jsx(Kme,{previousData:P,rawData:A,chartStyleThis:tge,chartStylePrevious:nge,chartFontSize:sh.diagnosisRadarStyle,gridColor:ih})]})]})}const WP={fontFamily:"SeoYoon",fontWeight:"normal"},ih={color:"rgba(0, 0, 0, 0.06)"},Xme={borderColor:"rgba(75,192,192,1)",backgroundColor:"rgba(75,192,192,0.1)",fill:"start",tension:.4,pointRadius:3},Jme={borderColor:"rgba(75,192,192,1)",backgroundColor:"rgba(75,192,192,0.1)",fill:"start",tension:.4,pointRadius:3},Zme={backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,borderSkipped:!1,borderRadius:7},ege={backgroundColor:"rgba(255, 206, 86, 0.5)",borderColor:"rgba(255, 206, 86, 1)",borderWidth:2,borderRadius:10},tge={backgroundColor:"rgba(255,99,132,0.15)",borderColor:"rgba(255,99,132,1)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"rgba(255,99,132,1)",pointRadius:2,borderWidth:2},nge={backgroundColor:"rgba(54,162,235,0.2)",borderColor:"rgba(54,162,235,1)",pointBackgroundColor:"rgba(54,162,235,1)",pointBorderColor:"rgba(54,162,235,1)",pointRadius:2,borderWidth:2,borderDash:[3,3]},sh={weeklyLineStyle:12,monthlyLineStyle:9,sleepBarStyle:12,exerciseBarStyle:12,diagnosisRadarStyle:16},rge=()=>{const n=Fo(),e=es();$.useEffect(()=>{window.haeIlHistory&&(window.haeIlHistory.navigate=e)},[e]);const t=n.pathname.split("/")[1]||"root";return C.jsx(T5,{mode:"wait",children:C.jsx(JV,{location:n,children:C.jsxs(bn,{path:"/",element:C.jsx(r9,{}),children:[C.jsxs(bn,{element:C.jsx(dpe,{}),children:[C.jsx(bn,{path:"",element:C.jsx(yle,{}),children:C.jsx(bn,{index:!0,element:C.jsx(qle,{})})}),C.jsxs(bn,{path:"diary",element:C.jsx(IR,{}),children:[C.jsx(bn,{index:!0,element:C.jsx(kP,{})}),C.jsx(bn,{path:"date/:date",element:C.jsx(mle,{})}),C.jsx(bn,{path:":diaryId",element:C.jsx(gle,{})}),C.jsx(bn,{path:"sleep/date/:date",element:C.jsx(tj,{})}),C.jsx(bn,{path:"exercise/date/:date",element:C.jsx(ej,{})}),C.jsx(bn,{path:"meal/date/:date",element:C.jsx(nj,{})})]}),C.jsx(bn,{path:"journal",element:C.jsx(cpe,{})}),C.jsx(bn,{path:"gallery",element:C.jsx(IR,{}),children:C.jsx(bn,{index:!0,element:C.jsxs(C.Fragment,{children:[C.jsx(kP,{}),C.jsx(upe,{})]})})}),C.jsx(bn,{path:"monthly",element:C.jsx(fpe,{}),children:C.jsx(bn,{index:!0,element:C.jsx(Lme,{})})}),C.jsx(bn,{path:"movie",element:C.jsx(Ume,{})})]}),C.jsx(bn,{path:"calendar",element:C.jsx(Fz,{})}),C.jsx(bn,{path:"charts",element:C.jsx(Gme,{})})]})},t)})};function ige(){return C.jsx(fle,{children:C.jsx(rge,{})})}const fo={theme1:{gradient:"var(--theme1-gradient)",main:"var(--theme1-main-color)",rgb:"57, 62, 117",background:"var(--theme1-background)",sub:"#FFF"},theme2:{gradient:"var(--theme2-gradient)",main:"var(--theme2-main-color)",rgb:"57, 62, 117",background:"var(--theme2-background)",sub:"#FFF"},theme3:{gradient:"var(--theme3-gradient)",main:"var(--theme3-main-color)",rgb:"13, 101, 121",background:"var(--theme3-background)",sub:"#16929C"},shadow:"var(--shadow-main)"},MM={theme1:{colors:fo.theme1,borderRadius:"30px",shadow:fo.shadow,sideText:fo.theme1.sub},theme2:{colors:fo.theme2,borderRadius:"30px",shadow:fo.shadow,sideText:fo.theme2.sub},theme3:{colors:fo.theme3,borderRadius:"30px",shadow:fo.shadow,sideText:fo.theme3.sub}},sge=D.createContext(MM.theme1);function oge({children:n,initialTheme:e="theme1"}){const[t,r]=D.useState(e),i=MM[t]||MM.theme1;return D.useEffect(()=>{const s=document.documentElement,o=i.colors;s.className=t,s.style.setProperty("--primary-color",o.main),s.style.setProperty("--primary-color-rgb",o.rgb),s.style.setProperty("--sidebar-text",i.sideText),s.style.setProperty("--main-bg",o.background),s.style.setProperty("--border-radius-main",i.borderRadius),s.style.setProperty("--shadow-main",i.shadow),s.style.setProperty("--border-gradient",o.gradient),s.style.backgroundImage=o.gradient},[i]),C.jsx(sge.Provider,{value:{theme:i,themeKey:t,setThemeKey:r},children:n})}const age=oV.createRoot(document.getElementById("react-root")),lge=new q8;age.render(C.jsx($.StrictMode,{children:C.jsx(J8,{client:lge,children:C.jsx(S8,{children:C.jsx(oge,{children:C.jsx(IU,{children:C.jsx(dH,{children:C.jsx(ige,{})})})})})})}));
>>>>>>>> 61273f115f93be21ff2d194010dd6df6727b439a:Spring/src/main/resources/static/js/index-Cf6ClMhg.js
